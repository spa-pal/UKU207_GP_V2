; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus_tcp.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus_tcp.d --feedback=.\EXE\UKU2071x_GALV_IBv2_WG12232L3.fed --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 -DWG12232L3 --omf_browse=.\EXE\modbus_tcp.crf MODBUS_TCP.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  tcp_callback PROC
;;;28     
;;;29     U16 tcp_callback (U8 soc, U8 evt, U8 *ptr, U16 par) 
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;30     {
000004  b0b3              SUB      sp,sp,#0xcc
000006  4614              MOV      r4,r2
;;;31     /* This function is called by the TCP module on TCP event */
;;;32     /* Check the 'Net_Config.h' for possible events.          */
;;;33     par = par;
;;;34     
;;;35     if (soc != socket_tcp) {
000008  4aff              LDR      r2,|L1.1032|
00000a  7812              LDRB     r2,[r2,#0]  ; socket_tcp
00000c  4290              CMP      r0,r2
                  |L1.14|
00000e  d17e              BNE      |L1.270|
;;;36     	return (0);
;;;37     }
;;;38     
;;;39     switch (evt) 
000010  2900              CMP      r1,#0
                  |L1.18|
000012  d07d              BEQ      |L1.272|
000014  2901              CMP      r1,#1
000016  d0fc              BEQ      |L1.18|
000018  2905              CMP      r1,#5
00001a  d1f8              BNE      |L1.14|
;;;40     	{
;;;41         case TCP_EVT_DATA:
;;;42         /* TCP data frame has arrived, data is located at *par1, */
;;;43         /* data length is par2. Allocate buffer to send reply.   */
;;;44         //procrec(ptr);
;;;45     	
;;;46     	plazma_modbus_tcp[1]=ptr[0];
00001c  48fb              LDR      r0,|L1.1036|
00001e  7821              LDRB     r1,[r4,#0]
;;;47     	plazma_modbus_tcp[2]=ptr[1];
;;;48     	plazma_modbus_tcp[3]=ptr[2];
;;;49     	plazma_modbus_tcp[4]=ptr[3];
;;;50     	plazma_modbus_tcp[5]=ptr[4];
;;;51     	plazma_modbus_tcp[6]=ptr[5];
;;;52     	plazma_modbus_tcp[7]=ptr[6];
;;;53     	plazma_modbus_tcp[8]=ptr[7];
;;;54     	plazma_modbus_tcp[9]=ptr[8];
;;;55     	plazma_modbus_tcp[10]=ptr[9];
;;;56     	plazma_modbus_tcp[11]=ptr[10];
;;;57     	plazma_modbus_tcp[12]=ptr[11];
;;;58     	  //plazma_modbus_tcp[4]=ptr[3];
;;;59     	  //plazma_modbus_tcp[5]=par;
;;;60     	  //plazma_modbus_tcp[6]=ptr[5];
;;;61     
;;;62        	
;;;63     	modbus_tcp_func=ptr[7];
000020  4dfb              LDR      r5,|L1.1040|
000022  7041              STRB     r1,[r0,#1]            ;46
000024  7861              LDRB     r1,[r4,#1]            ;47
000026  7081              STRB     r1,[r0,#2]            ;47
000028  78a1              LDRB     r1,[r4,#2]            ;48
00002a  70c1              STRB     r1,[r0,#3]            ;48
00002c  78e1              LDRB     r1,[r4,#3]            ;49
00002e  7101              STRB     r1,[r0,#4]            ;49
000030  7921              LDRB     r1,[r4,#4]            ;50
000032  7141              STRB     r1,[r0,#5]            ;50
000034  7961              LDRB     r1,[r4,#5]            ;51
000036  7181              STRB     r1,[r0,#6]            ;51
000038  79a1              LDRB     r1,[r4,#6]            ;52
00003a  71c1              STRB     r1,[r0,#7]            ;52
00003c  79e1              LDRB     r1,[r4,#7]            ;53
00003e  7201              STRB     r1,[r0,#8]            ;53
000040  7a21              LDRB     r1,[r4,#8]            ;54
000042  7241              STRB     r1,[r0,#9]            ;54
000044  7a61              LDRB     r1,[r4,#9]            ;55
000046  7281              STRB     r1,[r0,#0xa]          ;55
000048  7aa1              LDRB     r1,[r4,#0xa]          ;56
00004a  72c1              STRB     r1,[r0,#0xb]          ;56
00004c  7ae1              LDRB     r1,[r4,#0xb]          ;57
00004e  7301              STRB     r1,[r0,#0xc]          ;57
000050  79e1              LDRB     r1,[r4,#7]
000052  7029              STRB     r1,[r5,#0]
;;;64     	modbus_tcp_unit=ptr[6];
000054  79a7              LDRB     r7,[r4,#6]
000056  706f              STRB     r7,[r5,#1]
;;;65     
;;;66     	modbus_tcp_rx_arg0=(((unsigned short)ptr[8])*((unsigned short)256))+((unsigned short)ptr[9]);
000058  7a60              LDRB     r0,[r4,#9]
00005a  7a22              LDRB     r2,[r4,#8]
00005c  eb002002          ADD      r0,r0,r2,LSL #8
000060  b202              SXTH     r2,r0
000062  806a              STRH     r2,[r5,#2]
;;;67     	modbus_tcp_rx_arg1=(((unsigned short)ptr[10])*((unsigned short)256))+((unsigned short)ptr[11]);
000064  7ae0              LDRB     r0,[r4,#0xb]
000066  7aa3              LDRB     r3,[r4,#0xa]
000068  eb002003          ADD      r0,r0,r3,LSL #8
00006c  b203              SXTH     r3,r0
;;;68     
;;;69     			modbus_tcp_plazma[0]++;
00006e  48e7              LDR      r0,|L1.1036|
000070  80ab              STRH     r3,[r5,#4]            ;67
000072  3014              ADDS     r0,r0,#0x14
000074  8806              LDRH     r6,[r0,#0]  ; modbus_tcp_plazma
000076  1c76              ADDS     r6,r6,#1
000078  8006              STRH     r6,[r0,#0]
;;;70     			modbus_tcp_plazma[1]=modbus_tcp_func;
00007a  8041              STRH     r1,[r0,#2]
;;;71     			modbus_tcp_plazma[2]=modbus_tcp_rx_arg0;
00007c  8082              STRH     r2,[r0,#4]
;;;72     			modbus_tcp_plazma[3]=modbus_tcp_rx_arg1;
00007e  80c3              STRH     r3,[r0,#6]
;;;73     
;;;74     	if(modbus_tcp_unit==MODBUS_ADRESS)
000080  48e4              LDR      r0,|L1.1044|
000082  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
000086  4287              CMP      r7,r0
000088  d1c1              BNE      |L1.14|
;;;75     		{
;;;76     		//char modbus_tcp_tx_buff[200];
;;;77     		ramModbusCnt=300;
00008a  4fe3              LDR      r7,|L1.1048|
00008c  f44f7696          MOV      r6,#0x12c
000090  f04f0a03          MOV      r10,#3                ;63
000094  803e              STRH     r6,[r7,#0]
;;;78     
;;;79     		if(modbus_tcp_func==3)		//чтение произвольного кол-ва регистров хранения
;;;80     			{
;;;81     			U8 *sendbuf;
;;;82     			
;;;83     
;;;84     			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;85     
;;;86     			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
000096  f04f0809          MOV      r8,#9
00009a  f04f0901          MOV      r9,#1                 ;30
00009e  2903              CMP      r1,#3                 ;79
0000a0  d134              BNE      |L1.268|
0000a2  b29b              UXTH     r3,r3                 ;84
0000a4  b292              UXTH     r2,r2                 ;84
0000a6  b2c0              UXTB     r0,r0                 ;84
0000a8  f8cd9000          STR      r9,[sp,#0]            ;84
0000ac  f7fffffe          BL       modbus_hold_registers_transmit
0000b0  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000b2  eb080041          ADD      r0,r8,r1,LSL #1
0000b6  b280              UXTH     r0,r0
0000b8  f7fffffe          BL       tcp_get_buf
0000bc  4606              MOV      r6,r0
;;;87     			sendbuf[0]=ptr[0];
0000be  7820              LDRB     r0,[r4,#0]
0000c0  7030              STRB     r0,[r6,#0]
;;;88     			sendbuf[1]=ptr[1];
0000c2  7860              LDRB     r0,[r4,#1]
0000c4  7070              STRB     r0,[r6,#1]
;;;89     			sendbuf[2]=ptr[2];
0000c6  78a0              LDRB     r0,[r4,#2]
0000c8  70b0              STRB     r0,[r6,#2]
;;;90     			sendbuf[3]=ptr[3];
0000ca  78e0              LDRB     r0,[r4,#3]
0000cc  70f0              STRB     r0,[r6,#3]
;;;91     			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
0000ce  f9b52004          LDRSH    r2,[r5,#4]  ; modbus_tcp_rx_arg1
0000d2  eb0a0142          ADD      r1,r10,r2,LSL #1
0000d6  17c8              ASRS     r0,r1,#31
0000d8  eb016310          ADD      r3,r1,r0,LSR #24
0000dc  121f              ASRS     r7,r3,#8
0000de  7137              STRB     r7,[r6,#4]
;;;92     			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
0000e0  4608              MOV      r0,r1
0000e2  7170              STRB     r0,[r6,#5]
;;;93     			sendbuf[6]=modbus_tcp_unit;
0000e4  7868              LDRB     r0,[r5,#1]  ; modbus_tcp_unit
0000e6  71b0              STRB     r0,[r6,#6]
;;;94     			sendbuf[7]=modbus_tcp_func;
0000e8  7828              LDRB     r0,[r5,#0]  ; modbus_tcp_func
0000ea  71f0              STRB     r0,[r6,#7]
;;;95     			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
0000ec  0052              LSLS     r2,r2,#1
0000ee  7232              STRB     r2,[r6,#8]
;;;96     			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
0000f0  f1060009          ADD      r0,r6,#9
0000f4  68a9              LDR      r1,[r5,#8]  ; modbus_tcp_out_ptr
0000f6  f7fffffe          BL       mem_copy
;;;97     			//sendbuf[9]=3;
;;;98     			//sendbuf[10]=4;
;;;99               	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
0000fa  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000fc  eb080041          ADD      r0,r8,r1,LSL #1
000100  b282              UXTH     r2,r0
000102  48c1              LDR      r0,|L1.1032|
000104  4631              MOV      r1,r6
000106  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000108  f7fffffe          BL       tcp_send
                  |L1.268|
;;;100    			//
;;;101    			
;;;102    			//modbus_tcp_tx_buff[4]=0;
;;;103    			//modbus_tcp_tx_buff[5]=5;
;;;104    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;105    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;106    			//modbus_tcp_tx_buff[8]=2;
;;;107    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;108    			//modbus_tcp_tx_buff[9]=2;
;;;109    			//modbus_tcp_tx_buff[10]=3;
;;;110    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;111    
;;;112    			//modbus_tcp_plazma[0]++;
;;;113    			//modbus_tcp_plazma[1]=3;
;;;114    			}
;;;115    
;;;116    		if(modbus_tcp_func==4)		//чтение произвольного кол-ва регистров	входов
00010c  e001              B        |L1.274|
                  |L1.270|
00010e  e3fe              B        |L1.2318|
                  |L1.272|
000110  e3fe              B        |L1.2320|
                  |L1.274|
000112  7829              LDRB     r1,[r5,#0]  ; modbus_tcp_func
000114  2904              CMP      r1,#4
000116  d00a              BEQ      |L1.302|
;;;117    			{
;;;118    			U8 *sendbuf;
;;;119    
;;;120    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;121    
;;;122    			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
;;;123    			sendbuf[0]=ptr[0];
;;;124    			sendbuf[1]=ptr[1];
;;;125    			sendbuf[2]=ptr[2];
;;;126    			sendbuf[3]=ptr[3];
;;;127    			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
;;;128    			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
;;;129    			sendbuf[6]=modbus_tcp_unit;
;;;130    			sendbuf[7]=modbus_tcp_func;
;;;131    			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
;;;132    			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
;;;133    			//sendbuf[9]=3;
;;;134    			//sendbuf[10]=4;
;;;135              	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
;;;136    			//
;;;137    			
;;;138    			//modbus_tcp_tx_buff[4]=0;
;;;139    			//modbus_tcp_tx_buff[5]=5;
;;;140    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;141    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;142    			//modbus_tcp_tx_buff[8]=2;
;;;143    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;144    			//modbus_tcp_tx_buff[9]=2;
;;;145    			//modbus_tcp_tx_buff[10]=3;
;;;146    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;147    			//modbus_tcp_plazma[0]++;
;;;148    			//modbus_tcp_plazma[1]=4;
;;;149    			}
;;;150    
;;;151    		else if(modbus_tcp_func==6) 	//запись регистров хранения
;;;152    			{
;;;153    			U8 *sendbuf;
;;;154    
;;;155    			
;;;156    			if(modbus_tcp_rx_arg0==50)		//ток стабилизации для режима стабилизации тока
;;;157    				{
;;;158    				I_ug=modbus_tcp_rx_arg1;
;;;159    				lc640_write_int(EE_I_UG,I_ug);
;;;160    				}
;;;161    			if(modbus_tcp_rx_arg0==51)		//напряжение стабилизации для режима стабилизации напряжения
;;;162    				{
;;;163    				U_up=modbus_tcp_rx_arg1;
;;;164    				lc640_write_int(EE_U_UP,U_up);
;;;165    				}
;;;166    			if(modbus_tcp_rx_arg0==52)		//максимапльное напряжение для режима стабилизации тока
;;;167    				{
;;;168    				U_maxg=modbus_tcp_rx_arg1;
;;;169    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;170    				}
;;;171    			if(modbus_tcp_rx_arg0==53)		//максимальный ток для режима стабилизации напряжения
;;;172    				{
;;;173    				I_maxp=modbus_tcp_rx_arg1;
;;;174    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;175    				}								
;;;176    			if(modbus_tcp_rx_arg0==54)		//Установка времени для ист.тока.секунды
;;;177    				{
;;;178    				signed long sec,min,hour;
;;;179    				sec=(signed long)modbus_tcp_rx_arg1;
;;;180    				min=(T_PROC_GS/60L)%60L;
;;;181    				hour=T_PROC_GS/3600L;
;;;182    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;183    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;184    				}
;;;185    			if(modbus_tcp_rx_arg0==55)		//Установка времени для ист.тока.минуты
;;;186    				{
;;;187    				signed long sec,min,hour;
;;;188    				sec=T_PROC_GS%60L;
;;;189    				min=(signed long)modbus_tcp_rx_arg1;
;;;190    				hour=T_PROC_GS/3600L;
;;;191    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;192    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;193    				}
;;;194    			if(modbus_tcp_rx_arg0==56)		//Установка времени для ист.тока.часы
;;;195    				{
;;;196    				signed long sec,min,hour;
;;;197    				sec=T_PROC_GS%60L;
;;;198    				min=(T_PROC_GS/60L)%60L;
;;;199    				hour=(signed long)modbus_tcp_rx_arg1;
;;;200    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;201    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;202    				}
;;;203    			if(modbus_tcp_rx_arg0==57)		//Установка времени для ист.напр.секунды
;;;204    				{
;;;205    				signed long sec,min,hour;
;;;206    				sec=(signed long)modbus_tcp_rx_arg1;
;;;207    				min=(T_PROC_PS/60L)%60L;
;;;208    				hour=T_PROC_PS/3600L;
;;;209    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;210    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;211    				}
;;;212    
;;;213    			if(modbus_tcp_rx_arg0==58)		//Установка времени для ист.напр.минуты
;;;214    				{
;;;215    				signed long sec,min,hour;
;;;216    				sec=T_PROC_PS%60L;
;;;217    				min=(signed long)modbus_tcp_rx_arg1;
;;;218    				hour=T_PROC_PS/3600L;
;;;219    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;220    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;221    				}
;;;222    
;;;223    			if(modbus_tcp_rx_arg0==59)		//Установка времени для ист.напр.часы
;;;224    				{
;;;225    				signed long sec,min,hour;
;;;226    				sec=T_PROC_PS%60L;
;;;227    				min=(T_PROC_PS/60L)%60L;
;;;228    				hour=(signed long)modbus_tcp_rx_arg1;
;;;229    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;230    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;231    				}
;;;232    
;;;233    			if(modbus_tcp_rx_arg0==60)		//вкл/выкл источника напр.
;;;234    				{
;;;235    				if(modbus_tcp_rx_arg1==1)
;;;236    					{
;;;237    					if(work_stat!=wsPS)
000118  4ec0              LDR      r6,|L1.1052|
00011a  f8dfa304          LDR      r10,|L1.1056|
00011e  f8dfb304          LDR      r11,|L1.1060|
000122  2700              MOVS     r7,#0                 ;36
000124  2906              CMP      r1,#6                 ;151
000126  d03d              BEQ      |L1.420|
;;;238    						{
;;;239    						work_stat=wsPS;
;;;240    						time_proc=0;
;;;241    						time_proc_remain=T_PROC_PS;
;;;242    						restart_on_PS();
;;;243    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;244    						}
;;;245    					}
;;;246    				if(modbus_tcp_rx_arg1==0)
;;;247    					{
;;;248    					if(work_stat==wsPS)
;;;249    						{
;;;250    						work_stat=wsOFF;
;;;251    						restart_off();
;;;252    						}
;;;253    					}
;;;254    				}
;;;255    			if(modbus_tcp_rx_arg0==61)		//вкл/выкл источника тока
;;;256    				{
;;;257    				if(modbus_tcp_rx_arg1==1)
;;;258    					{
;;;259    					if(work_stat!=wsGS)
;;;260    						{
;;;261    						work_stat=wsGS;
;;;262    						time_proc=0;
;;;263    						time_proc_remain=T_PROC_GS;
;;;264    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;265    						}
;;;266    					}
;;;267    				if(modbus_tcp_rx_arg1==0)
;;;268    					{
;;;269    					if(work_stat==wsGS)
;;;270    						{
;;;271    						work_stat=wsOFF;
;;;272    						restart_off();
;;;273    						}
;;;274    					}
;;;275    				}
;;;276    
;;;277    			if(modbus_tcp_rx_arg0==62)		//переключение реле реверса
;;;278    				{
;;;279    					{
;;;280    					if(work_stat==wsOFF)
;;;281    						{
;;;282    						if(modbus_tcp_rx_arg1==0)REV_STAT=rsFF;
;;;283    						if(modbus_tcp_rx_arg1==1)REV_STAT=rsREW;
;;;284    						}
;;;285    					}
;;;286    				}
;;;287    			if(modbus_tcp_rx_arg0==63)		//включение-выключение автореверса
;;;288    				{
;;;289    					{
;;;290    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;291    						{
;;;292    						if(modbus_tcp_rx_arg1==1)AVT_REV_IS_ON=1;
;;;293    						if(modbus_tcp_rx_arg1==0)AVT_REV_IS_ON=0;
;;;294    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;295    						}
;;;296    					}
;;;297    				}
;;;298    			if(modbus_tcp_rx_arg0==64)		//Автореверс, время работы прямое, сек
;;;299    				{
;;;300    				if(work_stat==wsOFF)
;;;301    					{
;;;302    					AVT_REV_TIME_FF=modbus_tcp_rx_arg1;
;;;303    					gran_u/*long*/(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;304    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;305    					}
;;;306    				}
;;;307    			if(modbus_tcp_rx_arg0==65)		//Автореверс, время работы обратное, сек
;;;308    				{
;;;309    				if(work_stat==wsOFF)
;;;310    					{
;;;311    					AVT_REV_TIME_REW=modbus_tcp_rx_arg1;
;;;312    					gran_u/*long*/(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;313    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;314    					}
;;;315    				}
;;;316    			if(modbus_tcp_rx_arg0==66)		//Автореверс, время паузы при переключении, сек
;;;317    				{
;;;318    				if(work_stat==wsOFF)
;;;319    					{
;;;320    					AVT_REV_TIME_PAUSE=modbus_tcp_rx_arg1;
;;;321    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;322    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;323    					}
;;;324    				}
;;;325    
;;;326    			if(modbus_tcp_rx_arg0==67)		//Автореверс, ток стабилизации прямой, 0.1А
;;;327    				{
;;;328    				if(work_stat==wsOFF)
;;;329    					{
;;;330    					AVT_REV_I_NOM_FF=modbus_tcp_rx_arg1;
;;;331    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;332    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;333    					}
;;;334    				}
;;;335    
;;;336    			if(modbus_tcp_rx_arg0==68)		//Автореверс, ток стабилизации обратный, 0.1А
;;;337    				{
;;;338    				if(work_stat==wsOFF)
;;;339    					{
;;;340    					AVT_REV_I_NOM_REW=modbus_tcp_rx_arg1;
;;;341    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;342    					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;343    					}
;;;344    				}
;;;345    			if(modbus_tcp_rx_arg0==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
;;;346    				{
;;;347    				if(work_stat==wsOFF)
;;;348    					{
;;;349    					AVT_REV_U_NOM_FF=modbus_tcp_rx_arg1;
;;;350    		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;351    					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;352    					}
;;;353    				}
;;;354    
;;;355    			if(modbus_tcp_rx_arg0==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
;;;356    				{
;;;357    				if(work_stat==wsOFF)
;;;358    					{
;;;359    					AVT_REV_U_NOM_REW=modbus_tcp_rx_arg1;
;;;360    		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;361    					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;362    					}
;;;363    				}
;;;364    
;;;365    			if(modbus_tcp_rx_arg0==71)		//Время заряда испытательного цикла, 0.1С 
;;;366    				{
;;;367    				if(work_stat==wsOFF)
;;;368    					{
;;;369    					CAP_ZAR_TIME=modbus_tcp_rx_arg1;
;;;370    		    			gran(&CAP_ZAR_TIME,10,9999);
;;;371    					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;372    					}
;;;373    				}
;;;374    			if(modbus_tcp_rx_arg0==72)		//Время паузы1 испытательного цикла, 0.1С 
;;;375    				{
;;;376    				if(work_stat==wsOFF)
;;;377    					{
;;;378    					CAP_PAUSE1_TIME=modbus_tcp_rx_arg1;
;;;379    		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;380    					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;381    					}
;;;382    				}
;;;383    			if(modbus_tcp_rx_arg0==73)		//Время разряда испытательного цикла, 0.1С 
;;;384    				{
;;;385    				if(work_stat==wsOFF)
;;;386    					{
;;;387    					CAP_RAZR_TIME=modbus_tcp_rx_arg1;
;;;388    		    			gran(&CAP_RAZR_TIME,10,9999);
;;;389    					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;390    					}
;;;391    				}
;;;392    			if(modbus_tcp_rx_arg0==74)		//Время паузы2 испытательного цикла, 0.1С 
;;;393    				{
;;;394    				if(work_stat==wsOFF)
;;;395    					{
;;;396    					CAP_PAUSE2_TIME=modbus_tcp_rx_arg1;
;;;397    		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;398    					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;399    					}
;;;400    				}
;;;401    
;;;402    			if(modbus_tcp_rx_arg0==75)		//Максимальное напряжение испытательного цикла, 1В  
;;;403    				{
;;;404    				if(work_stat==wsOFF)
;;;405    					{
;;;406    					CAP_MAX_VOLT=modbus_tcp_rx_arg1;
;;;407    		    			gran(&CAP_MAX_VOLT,1,100);
;;;408    					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;409    					}
;;;410    				}
;;;411    			if(modbus_tcp_rx_arg0==76)		//Рабочий ток испытательного цикла, 1А 
;;;412    				{
;;;413    				if(work_stat==wsOFF)
;;;414    					{
;;;415    					CAP_WRK_CURR=modbus_tcp_rx_arg1;
;;;416    		    			gran(&CAP_WRK_CURR,1,150);
;;;417    					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;418    					}
;;;419    				}
;;;420    
;;;421    			if(modbus_tcp_rx_arg0==77)		//Регистр для записи команд 
;;;422    				{
;;;423    				modbus_tcp_plazma_pavlik[0]++;
;;;424    				modbus_tcp_plazma_pavlik[1]=modbus_tcp_rx_arg1;
;;;425    				if(modbus_tcp_rx_arg1==0x11)
;;;426    					{
;;;427    					start_CAP();
;;;428    					}
;;;429    				if(modbus_tcp_rx_arg1==0x12)
;;;430    					{
;;;431    					pause_CAP();
;;;432    					}
;;;433    				if(modbus_tcp_rx_arg1==0x13)
;;;434    					{
;;;435    					stop_CAP();
;;;436    					}
;;;437    				if(modbus_tcp_rx_arg1==0x14)
;;;438    					{
;;;439    					reset_CAP();
;;;440    					}
;;;441    
;;;442    				if(modbus_tcp_rx_arg1==0x21)
;;;443    					{
;;;444    					if(work_stat==wsOFF)
;;;445    						{
;;;446    						CAP_ZAR_TIME++;
;;;447    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;448    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;449    						}
;;;450    					}
;;;451    				if(modbus_tcp_rx_arg1==0x22)
;;;452    					{
;;;453    					modbus_tcp_plazma_pavlik[2]++;
;;;454    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;455    					if(work_stat==wsOFF)
;;;456    						{
;;;457    						CAP_ZAR_TIME--;
;;;458    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;459    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;460    						}
;;;461    					}
;;;462    
;;;463    				if(modbus_tcp_rx_arg1==0x31)
;;;464    					{
;;;465    					if(work_stat==wsOFF)
;;;466    						{
;;;467    						CAP_PAUSE1_TIME++;
;;;468    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;469    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;470    						}
;;;471    					}
;;;472    				if(modbus_tcp_rx_arg1==0x32)
;;;473    					{
;;;474    					if(work_stat==wsOFF)
;;;475    						{
;;;476    						CAP_PAUSE1_TIME--;
;;;477    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;478    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;479    						}
;;;480    					}
;;;481    
;;;482    				if(modbus_tcp_rx_arg1==0x41)
;;;483    					{
;;;484    					if(work_stat==wsOFF)
;;;485    						{
;;;486    						CAP_RAZR_TIME++;
;;;487    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;488    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;489    						}
;;;490    					}
;;;491    				if(modbus_tcp_rx_arg1==0x42)
;;;492    					{
;;;493    					if(work_stat==wsOFF)
;;;494    						{
;;;495    						CAP_RAZR_TIME--;
;;;496    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;497    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;498    						}
;;;499    					}
;;;500    
;;;501    				if(modbus_tcp_rx_arg1==0x51)
;;;502    					{
;;;503    					if(work_stat==wsOFF)
;;;504    						{
;;;505    						CAP_PAUSE2_TIME++;
;;;506    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;507    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;508    						}
;;;509    					}
;;;510    				if(modbus_tcp_rx_arg1==0x52)
;;;511    					{
;;;512    					if(work_stat==wsOFF)
;;;513    						{
;;;514    						CAP_PAUSE2_TIME--;
;;;515    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;516    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;517    						}
;;;518    					}
;;;519    
;;;520    				if(modbus_tcp_rx_arg1==0x61)
;;;521    					{
;;;522    					if(work_stat==wsOFF)
;;;523    						{
;;;524    						CAP_MAX_VOLT++;
;;;525    		    				gran(&CAP_MAX_VOLT,1,100);
;;;526    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;527    						}
;;;528    					}
;;;529    				if(modbus_tcp_rx_arg1==0x62)
;;;530    					{
;;;531    					if(work_stat==wsOFF)
;;;532    						{
;;;533    						CAP_MAX_VOLT--;
;;;534    		    				gran(&CAP_MAX_VOLT,1,100);
;;;535    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;536    						}
;;;537    					}
;;;538    
;;;539    				if(modbus_tcp_rx_arg1==0x71)
;;;540    					{
;;;541    					if(work_stat==wsOFF)
;;;542    						{
;;;543    						CAP_WRK_CURR++;
;;;544    		    				gran(&CAP_WRK_CURR,1,150);
;;;545    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;546    						}
;;;547    					}
;;;548    				if(modbus_tcp_rx_arg1==0x72)
;;;549    					{
;;;550    					if(work_stat==wsOFF)
;;;551    						{
;;;552    						CAP_WRK_CURR--;
;;;553    		    				gran(&CAP_WRK_CURR,1,150);
;;;554    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;555    						}
;;;556    					}
;;;557    				if(modbus_tcp_rx_arg1==0x80)
;;;558    					{
;;;559    					
;;;560    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;561    					if(RELE_FUNC[0]==6)
;;;562    						{modbus_tcp_plazma_pavlik[2]++;
;;;563    						rele_ext_cntrl[0]=0;					
;;;564    						}
;;;565    					}
;;;566    				if(modbus_tcp_rx_arg1==0x81)
;;;567    					{
;;;568    					
;;;569    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;570    					if(RELE_FUNC[0]==6)
;;;571    						{modbus_tcp_plazma_pavlik[2]++;
;;;572    						rele_ext_cntrl[0]=1;					
;;;573    						}
;;;574    					}
;;;575    				if(modbus_tcp_rx_arg1==0x82)
;;;576    					{
;;;577    					
;;;578    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;579    					if(RELE_FUNC[1]==6)
;;;580    						{modbus_tcp_plazma_pavlik[2]++;
;;;581    						rele_ext_cntrl[1]=0;					
;;;582    						}
;;;583    					}
;;;584    				if(modbus_tcp_rx_arg1==0x83)
;;;585    					{
;;;586    					
;;;587    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;588    					if(RELE_FUNC[1]==6)
;;;589    						{modbus_tcp_plazma_pavlik[2]++;
;;;590    						rele_ext_cntrl[1]=1;					
;;;591    						}
;;;592    					}
;;;593    				}
;;;594    
;;;595    			else if(modbus_tcp_rx_arg0==80)		//Шим напряжения в режиме непосредственного управления 
;;;596    				{
;;;597    				pwm_u_reg = modbus_tcp_rx_arg1;
;;;598    				}
;;;599    
;;;600    			else if(modbus_tcp_rx_arg0==81)		//Шим тока в режиме непосредственного управления 
;;;601    				{
;;;602    				pwm_i_reg = modbus_tcp_rx_arg1;
;;;603    				}
;;;604    
;;;605    			else if(modbus_tcp_rx_arg0==82)		//Регистр времени в режиме непосредственного управления 
;;;606    				{
;;;607    				pwm_t_reg = modbus_tcp_rx_arg1*10;
;;;608    				}
;;;609    
;;;610    
;;;611    			else if(modbus_tcp_rx_arg0==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
;;;612    				{
;;;613    				I_ug_ram=modbus_tcp_rx_arg1;
;;;614    				eepromRamSwitch=1;
;;;615    				}
;;;616    
;;;617    			else if(modbus_tcp_rx_arg0==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
;;;618    				{
;;;619    				U_up_ram=modbus_tcp_rx_arg1;
;;;620    				eepromRamSwitch=1;
;;;621    				}
;;;622    
;;;623    			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
;;;624    				{
;;;625    				if(modbus_tcp_rx_arg1==1)
;;;626    					{
;;;627    					if(work_stat!=wsPS)
;;;628    						{
;;;629    						work_stat=wsPS;
;;;630    						time_proc=0;
;;;631    						time_proc_remain=T_PROC_PS;
;;;632    						restart_on_PS();
;;;633    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;634    						}
;;;635    					}
;;;636    				if(modbus_tcp_rx_arg1==0)
;;;637    					{
;;;638    					if(work_stat==wsPS)
;;;639    						{
;;;640    						work_stat=wsOFF;
;;;641    						restart_off();
;;;642    						}
;;;643    					}
;;;644    				}
;;;645    			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
;;;646    				{
;;;647    				if(modbus_tcp_rx_arg1==1)
;;;648    					{
;;;649    					if(work_stat!=wsGS)
;;;650    						{
;;;651    						work_stat=wsGS;
;;;652    						time_proc=0;
;;;653    						time_proc_remain=T_PROC_GS;
;;;654    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;655    						}
;;;656    					}
;;;657    				if(modbus_tcp_rx_arg1==0)
;;;658    					{
;;;659    					if(work_stat==wsGS)
;;;660    						{
;;;661    						work_stat=wsOFF;
;;;662    						restart_off();
;;;663    						}
;;;664    					}
;;;665    				}
;;;666    
;;;667    			
;;;668    			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;669    				{
;;;670    				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;671    				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;672    				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;673    				T_PROC_GS_MODE=1;	
;;;674    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;675    				}
;;;676    			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;677    				{
;;;678    				T_PROC_GS_MODE=0;	
;;;679    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;680    				}
;;;681    			
;;;682    			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;683    				{
;;;684    				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;685    				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;686    				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;687    				T_PROC_PS_MODE=1;	
;;;688    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;689    				}
;;;690    			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;691    				{
;;;692    				T_PROC_PS_MODE=0;	
;;;693    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;694    				}
;;;695    
;;;696    			
;;;697    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,1,MODBUS_TCP_PROT);
;;;698    	
;;;699    			sendbuf = tcp_get_buf(11);
;;;700    			sendbuf[0]=ptr[0];
;;;701    			sendbuf[1]=ptr[1];
;;;702    			sendbuf[2]=ptr[2];
;;;703    			sendbuf[3]=ptr[3];
;;;704    			sendbuf[4]=0;
;;;705    			sendbuf[5]=6;
;;;706    			sendbuf[6]=modbus_tcp_unit;
;;;707    			sendbuf[7]=modbus_tcp_func;
;;;708    			sendbuf[8]=modbus_tcp_rx_arg0/256;
;;;709    			sendbuf[9]=modbus_tcp_rx_arg0%256;
;;;710    			mem_copy((char*)&sendbuf[10],modbus_tcp_out_ptr,2);
;;;711    				//sendbuf[9]=3;
;;;712    				//sendbuf[10]=4;
;;;713    	        tcp_send (socket_tcp, sendbuf, 12);
;;;714    				//
;;;715    				
;;;716    				//modbus_tcp_tx_buff[4]=0;
;;;717    				//modbus_tcp_tx_buff[5]=5;
;;;718    				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;719    				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;720    				//modbus_tcp_tx_buff[8]=2;
;;;721    				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;722    				//modbus_tcp_tx_buff[9]=2;
;;;723    				//modbus_tcp_tx_buff[10]=3;
;;;724    				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;725    
;;;726    
;;;727    
;;;728    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
;;;729    
;;;730    
;;;731    			}
;;;732    
;;;733    
;;;734    		else if(modbus_tcp_func==16) 	//групповая запись регистров хранения
000128  2910              CMP      r1,#0x10
00012a  d07e              BEQ      |L1.554|
                  |L1.300|
00012c  e3ef              B        |L1.2318|
                  |L1.302|
00012e  f8cd9000          STR      r9,[sp,#0]            ;120
000132  88a8              LDRH     r0,[r5,#4]            ;120  ; modbus_tcp_rx_arg1
000134  b283              UXTH     r3,r0                 ;120
000136  8868              LDRH     r0,[r5,#2]            ;120  ; modbus_tcp_rx_arg0
000138  b282              UXTH     r2,r0                 ;120
00013a  48b6              LDR      r0,|L1.1044|
00013c  8800              LDRH     r0,[r0,#0]            ;120  ; MODBUS_ADRESS
00013e  b2c0              UXTB     r0,r0                 ;120
000140  f7fffffe          BL       modbus_input_registers_transmit
000144  88a8              LDRH     r0,[r5,#4]            ;122  ; modbus_tcp_rx_arg1
000146  4647              MOV      r7,r8                 ;122
000148  eb080040          ADD      r0,r8,r0,LSL #1       ;122
00014c  b280              UXTH     r0,r0                 ;122
00014e  f7fffffe          BL       tcp_get_buf
000152  4606              MOV      r6,r0                 ;122
000154  7820              LDRB     r0,[r4,#0]            ;123
000156  7030              STRB     r0,[r6,#0]            ;123
000158  7860              LDRB     r0,[r4,#1]            ;124
00015a  7070              STRB     r0,[r6,#1]            ;124
00015c  78a0              LDRB     r0,[r4,#2]            ;125
00015e  70b0              STRB     r0,[r6,#2]            ;125
000160  78e0              LDRB     r0,[r4,#3]            ;126
000162  70f0              STRB     r0,[r6,#3]            ;126
000164  f9b52004          LDRSH    r2,[r5,#4]            ;127  ; modbus_tcp_rx_arg1
000168  eb0a0142          ADD      r1,r10,r2,LSL #1      ;127
00016c  17c8              ASRS     r0,r1,#31             ;127
00016e  eb016310          ADD      r3,r1,r0,LSR #24      ;127
000172  1218              ASRS     r0,r3,#8              ;127
000174  7130              STRB     r0,[r6,#4]            ;127
000176  4608              MOV      r0,r1                 ;128
000178  7170              STRB     r0,[r6,#5]            ;128
00017a  7868              LDRB     r0,[r5,#1]            ;129  ; modbus_tcp_unit
00017c  71b0              STRB     r0,[r6,#6]            ;129
00017e  7828              LDRB     r0,[r5,#0]            ;130  ; modbus_tcp_func
000180  71f0              STRB     r0,[r6,#7]            ;130
000182  0052              LSLS     r2,r2,#1              ;131
000184  7232              STRB     r2,[r6,#8]            ;131
000186  f1060009          ADD      r0,r6,#9              ;132
00018a  68a9              LDR      r1,[r5,#8]            ;132  ; modbus_tcp_out_ptr
00018c  f7fffffe          BL       mem_copy
000190  88a8              LDRH     r0,[r5,#4]            ;135  ; modbus_tcp_rx_arg1
000192  4631              MOV      r1,r6                 ;135
000194  eb070040          ADD      r0,r7,r0,LSL #1       ;135
000198  b282              UXTH     r2,r0                 ;135
00019a  489b              LDR      r0,|L1.1032|
00019c  7800              LDRB     r0,[r0,#0]            ;135  ; socket_tcp
00019e  f7fffffe          BL       tcp_send
0001a2  e7c3              B        |L1.300|
                  |L1.420|
0001a4  8868              LDRH     r0,[r5,#2]            ;156  ; modbus_tcp_rx_arg0
0001a6  2832              CMP      r0,#0x32              ;156
0001a8  d106              BNE      |L1.440|
0001aa  489f              LDR      r0,|L1.1064|
0001ac  f9b51004          LDRSH    r1,[r5,#4]            ;158  ; modbus_tcp_rx_arg1
0001b0  8001              STRH     r1,[r0,#0]            ;158
0001b2  2020              MOVS     r0,#0x20              ;159
0001b4  f7fffffe          BL       lc640_write_int
                  |L1.440|
0001b8  8868              LDRH     r0,[r5,#2]            ;161  ; modbus_tcp_rx_arg0
0001ba  2833              CMP      r0,#0x33              ;161
0001bc  d106              BNE      |L1.460|
0001be  489b              LDR      r0,|L1.1068|
0001c0  f9b51004          LDRSH    r1,[r5,#4]            ;163  ; modbus_tcp_rx_arg1
0001c4  8001              STRH     r1,[r0,#0]            ;163
0001c6  2022              MOVS     r0,#0x22              ;164
0001c8  f7fffffe          BL       lc640_write_int
                  |L1.460|
0001cc  8868              LDRH     r0,[r5,#2]            ;166  ; modbus_tcp_rx_arg0
0001ce  2834              CMP      r0,#0x34              ;166
0001d0  d106              BNE      |L1.480|
0001d2  4897              LDR      r0,|L1.1072|
0001d4  f9b51004          LDRSH    r1,[r5,#4]            ;168  ; modbus_tcp_rx_arg1
0001d8  8001              STRH     r1,[r0,#0]            ;168
0001da  2076              MOVS     r0,#0x76              ;169
0001dc  f7fffffe          BL       lc640_write_int
                  |L1.480|
0001e0  8868              LDRH     r0,[r5,#2]            ;171  ; modbus_tcp_rx_arg0
0001e2  2835              CMP      r0,#0x35              ;171
0001e4  d106              BNE      |L1.500|
0001e6  4893              LDR      r0,|L1.1076|
0001e8  f9b51004          LDRSH    r1,[r5,#4]            ;173  ; modbus_tcp_rx_arg1
0001ec  8001              STRH     r1,[r0,#0]            ;173
0001ee  2078              MOVS     r0,#0x78              ;174
0001f0  f7fffffe          BL       lc640_write_int
                  |L1.500|
0001f4  8868              LDRH     r0,[r5,#2]            ;176  ; modbus_tcp_rx_arg0
0001f6  46a8              MOV      r8,r5                 ;176
0001f8  2836              CMP      r0,#0x36              ;176
0001fa  d11d              BNE      |L1.568|
0001fc  f8da2000          LDR      r2,[r10,#0]           ;180  ; T_PROC_GS
000200  203c              MOVS     r0,#0x3c              ;180
000202  fb92f3f0          SDIV     r3,r2,r0              ;180
000206  fb93f5f0          SDIV     r5,r3,r0              ;180
00020a  fb003315          MLS      r3,r0,r5,r3           ;180
00020e  f44f6061          MOV      r0,#0xe10             ;181
000212  fb92f0f0          SDIV     r0,r2,r0              ;181
000216  f44f6261          MOV      r2,#0xe10             ;182
00021a  4350              MULS     r0,r2,r0              ;182
00021c  ebc31203          RSB      r2,r3,r3,LSL #4       ;182
000220  f9b81004          LDRSH    r1,[r8,#4]            ;179  ; modbus_tcp_rx_arg1
000224  eb000082          ADD      r0,r0,r2,LSL #2       ;182
000228  e000              B        |L1.556|
                  |L1.554|
00022a  e3fd              B        |L1.2600|
                  |L1.556|
00022c  4401              ADD      r1,r1,r0              ;182
00022e  20d8              MOVS     r0,#0xd8              ;183
000230  f8ca1000          STR      r1,[r10,#0]           ;183  ; T_PROC_GS
000234  f7fffffe          BL       lc640_write_long
                  |L1.568|
000238  f8b80002          LDRH     r0,[r8,#2]            ;185  ; modbus_tcp_rx_arg0
00023c  2837              CMP      r0,#0x37              ;185
00023e  d118              BNE      |L1.626|
000240  f8da0000          LDR      r0,[r10,#0]           ;188  ; T_PROC_GS
000244  223c              MOVS     r2,#0x3c              ;188
000246  fb90f3f2          SDIV     r3,r0,r2              ;188
00024a  fb020313          MLS      r3,r2,r3,r0           ;188
00024e  f44f6561          MOV      r5,#0xe10             ;190
000252  fb90f0f5          SDIV     r0,r0,r5              ;190
000256  f9b82004          LDRSH    r2,[r8,#4]            ;189  ; modbus_tcp_rx_arg1
00025a  4368              MULS     r0,r5,r0              ;191
00025c  ebc21202          RSB      r2,r2,r2,LSL #4       ;191
000260  eb000082          ADD      r0,r0,r2,LSL #2       ;191
000264  4418              ADD      r0,r0,r3              ;191
000266  4601              MOV      r1,r0                 ;191
000268  f8ca0000          STR      r0,[r10,#0]           ;192  ; T_PROC_GS
00026c  20d8              MOVS     r0,#0xd8              ;192
00026e  f7fffffe          BL       lc640_write_long
                  |L1.626|
000272  f8b80002          LDRH     r0,[r8,#2]            ;194  ; modbus_tcp_rx_arg0
000276  2838              CMP      r0,#0x38              ;194
000278  d119              BNE      |L1.686|
00027a  f8da2000          LDR      r2,[r10,#0]           ;197  ; T_PROC_GS
00027e  213c              MOVS     r1,#0x3c              ;197
000280  fb92f3f1          SDIV     r3,r2,r1              ;197
000284  fb93f5f1          SDIV     r5,r3,r1              ;198
000288  fb012213          MLS      r2,r1,r3,r2           ;197
00028c  fb013315          MLS      r3,r1,r5,r3           ;198
000290  f9b81004          LDRSH    r1,[r8,#4]            ;199  ; modbus_tcp_rx_arg1
000294  f44f6561          MOV      r5,#0xe10             ;200
000298  4369              MULS     r1,r5,r1              ;200
00029a  ebc31303          RSB      r3,r3,r3,LSL #4       ;200
00029e  eb010183          ADD      r1,r1,r3,LSL #2       ;200
0002a2  4411              ADD      r1,r1,r2              ;200
0002a4  20d8              MOVS     r0,#0xd8              ;201
0002a6  f8ca1000          STR      r1,[r10,#0]           ;201  ; T_PROC_GS
0002aa  f7fffffe          BL       lc640_write_long
                  |L1.686|
0002ae  f8b80002          LDRH     r0,[r8,#2]            ;203  ; modbus_tcp_rx_arg0
0002b2  2839              CMP      r0,#0x39              ;203
0002b4  d11b              BNE      |L1.750|
0002b6  f8db2000          LDR      r2,[r11,#0]           ;207  ; T_PROC_PS
0002ba  203c              MOVS     r0,#0x3c              ;207
0002bc  fb92f3f0          SDIV     r3,r2,r0              ;207
0002c0  fb93f5f0          SDIV     r5,r3,r0              ;207
0002c4  fb003315          MLS      r3,r0,r5,r3           ;207
0002c8  f44f6061          MOV      r0,#0xe10             ;208
0002cc  fb92f0f0          SDIV     r0,r2,r0              ;208
0002d0  f44f6261          MOV      r2,#0xe10             ;209
0002d4  4350              MULS     r0,r2,r0              ;209
0002d6  f9b81004          LDRSH    r1,[r8,#4]            ;206  ; modbus_tcp_rx_arg1
0002da  ebc31203          RSB      r2,r3,r3,LSL #4       ;209
0002de  eb000082          ADD      r0,r0,r2,LSL #2       ;209
0002e2  4401              ADD      r1,r1,r0              ;209
0002e4  20dc              MOVS     r0,#0xdc              ;210
0002e6  f8cb1000          STR      r1,[r11,#0]           ;210  ; T_PROC_PS
0002ea  f7fffffe          BL       lc640_write_long
                  |L1.750|
0002ee  f8b80002          LDRH     r0,[r8,#2]            ;213  ; modbus_tcp_rx_arg0
0002f2  283a              CMP      r0,#0x3a              ;213
0002f4  d118              BNE      |L1.808|
0002f6  f8db0000          LDR      r0,[r11,#0]           ;216  ; T_PROC_PS
0002fa  223c              MOVS     r2,#0x3c              ;216
0002fc  fb90f3f2          SDIV     r3,r0,r2              ;216
000300  fb020213          MLS      r2,r2,r3,r0           ;216
000304  f44f6561          MOV      r5,#0xe10             ;218
000308  fb90f0f5          SDIV     r0,r0,r5              ;218
00030c  f9b83004          LDRSH    r3,[r8,#4]            ;217  ; modbus_tcp_rx_arg1
000310  4368              MULS     r0,r5,r0              ;219
000312  ebc31303          RSB      r3,r3,r3,LSL #4       ;219
000316  eb000083          ADD      r0,r0,r3,LSL #2       ;219
00031a  4410              ADD      r0,r0,r2              ;219
00031c  4601              MOV      r1,r0                 ;219
00031e  f8cb0000          STR      r0,[r11,#0]           ;220  ; T_PROC_PS
000322  20dc              MOVS     r0,#0xdc              ;220
000324  f7fffffe          BL       lc640_write_long
                  |L1.808|
000328  f8b80002          LDRH     r0,[r8,#2]            ;223  ; modbus_tcp_rx_arg0
00032c  283b              CMP      r0,#0x3b              ;223
00032e  d11a              BNE      |L1.870|
000330  f8db2000          LDR      r2,[r11,#0]           ;226  ; T_PROC_PS
000334  203c              MOVS     r0,#0x3c              ;226
000336  fb92f3f0          SDIV     r3,r2,r0              ;226
00033a  fb93f5f0          SDIV     r5,r3,r0              ;227
00033e  fb002213          MLS      r2,r0,r3,r2           ;226
000342  fb003315          MLS      r3,r0,r5,r3           ;227
000346  f9b80004          LDRSH    r0,[r8,#4]            ;228  ; modbus_tcp_rx_arg1
00034a  f44f6561          MOV      r5,#0xe10             ;229
00034e  4368              MULS     r0,r5,r0              ;229
000350  ebc31303          RSB      r3,r3,r3,LSL #4       ;229
000354  eb000083          ADD      r0,r0,r3,LSL #2       ;229
000358  4410              ADD      r0,r0,r2              ;229
00035a  4601              MOV      r1,r0                 ;229
00035c  f8cb0000          STR      r0,[r11,#0]           ;230  ; T_PROC_PS
000360  20dc              MOVS     r0,#0xdc              ;230
000362  f7fffffe          BL       lc640_write_long
                  |L1.870|
000366  f8b80002          LDRH     r0,[r8,#2]            ;233  ; modbus_tcp_rx_arg0
00036a  4645              MOV      r5,r8                 ;233
00036c  283c              CMP      r0,#0x3c              ;233
00036e  d11b              BNE      |L1.936|
000370  88a8              LDRH     r0,[r5,#4]            ;235  ; modbus_tcp_rx_arg1
000372  2801              CMP      r0,#1                 ;235
000374  d110              BNE      |L1.920|
000376  7830              LDRB     r0,[r6,#0]            ;237  ; work_stat
000378  2802              CMP      r0,#2                 ;237
00037a  d00d              BEQ      |L1.920|
00037c  2002              MOVS     r0,#2                 ;239
00037e  7030              STRB     r0,[r6,#0]            ;239
000380  482d              LDR      r0,|L1.1080|
000382  6007              STR      r7,[r0,#0]            ;241  ; time_proc
000384  482d              LDR      r0,|L1.1084|
000386  f8db1000          LDR      r1,[r11,#0]           ;241  ; T_PROC_PS
00038a  6001              STR      r1,[r0,#0]            ;242  ; time_proc_remain
00038c  f7fffffe          BL       restart_on_PS
000390  2101              MOVS     r1,#1                 ;243
000392  20ea              MOVS     r0,#0xea              ;243
000394  f7fffffe          BL       lc640_write_int
                  |L1.920|
000398  88a8              LDRH     r0,[r5,#4]            ;246  ; modbus_tcp_rx_arg1
00039a  b928              CBNZ     r0,|L1.936|
00039c  7830              LDRB     r0,[r6,#0]            ;248  ; work_stat
00039e  2802              CMP      r0,#2                 ;248
0003a0  d102              BNE      |L1.936|
0003a2  7037              STRB     r7,[r6,#0]            ;250
0003a4  f7fffffe          BL       restart_off
                  |L1.936|
0003a8  8868              LDRH     r0,[r5,#2]            ;255  ; modbus_tcp_rx_arg0
0003aa  283d              CMP      r0,#0x3d              ;255
0003ac  d119              BNE      |L1.994|
0003ae  88a8              LDRH     r0,[r5,#4]            ;257  ; modbus_tcp_rx_arg1
0003b0  2801              CMP      r0,#1                 ;257
0003b2  d10e              BNE      |L1.978|
0003b4  7830              LDRB     r0,[r6,#0]            ;259  ; work_stat
0003b6  2801              CMP      r0,#1                 ;259
0003b8  d00b              BEQ      |L1.978|
0003ba  481f              LDR      r0,|L1.1080|
0003bc  f8869000          STRB     r9,[r6,#0]            ;261
0003c0  6007              STR      r7,[r0,#0]            ;263  ; time_proc
0003c2  481e              LDR      r0,|L1.1084|
0003c4  f8da1000          LDR      r1,[r10,#0]           ;263  ; T_PROC_GS
0003c8  6001              STR      r1,[r0,#0]            ;264  ; time_proc_remain
0003ca  2100              MOVS     r1,#0                 ;264
0003cc  20ea              MOVS     r0,#0xea              ;264
0003ce  f7fffffe          BL       lc640_write_int
                  |L1.978|
0003d2  88a8              LDRH     r0,[r5,#4]            ;267  ; modbus_tcp_rx_arg1
0003d4  b928              CBNZ     r0,|L1.994|
0003d6  7830              LDRB     r0,[r6,#0]            ;269  ; work_stat
0003d8  2801              CMP      r0,#1                 ;269
0003da  d102              BNE      |L1.994|
0003dc  7037              STRB     r7,[r6,#0]            ;271
0003de  f7fffffe          BL       restart_off
                  |L1.994|
0003e2  f9b50002          LDRSH    r0,[r5,#2]            ;277  ; modbus_tcp_rx_arg0
0003e6  283e              CMP      r0,#0x3e              ;277
0003e8  d10b              BNE      |L1.1026|
0003ea  7831              LDRB     r1,[r6,#0]            ;280  ; work_stat
0003ec  b949              CBNZ     r1,|L1.1026|
0003ee  f9b51004          LDRSH    r1,[r5,#4]            ;282  ; modbus_tcp_rx_arg1
0003f2  b911              CBNZ     r1,|L1.1018|
0003f4  4b12              LDR      r3,|L1.1088|
0003f6  f8839000          STRB     r9,[r3,#0]            ;282
                  |L1.1018|
0003fa  2901              CMP      r1,#1                 ;283
0003fc  d101              BNE      |L1.1026|
0003fe  4910              LDR      r1,|L1.1088|
000400  700f              STRB     r7,[r1,#0]            ;283
                  |L1.1026|
000402  283f              CMP      r0,#0x3f              ;287
000404  d134              BNE      |L1.1136|
000406  e01d              B        |L1.1092|
                  |L1.1032|
                          DCD      socket_tcp
                  |L1.1036|
                          DCD      ||.bss||
                  |L1.1040|
                          DCD      ||.data||
                  |L1.1044|
                          DCD      MODBUS_ADRESS
                  |L1.1048|
                          DCD      ramModbusCnt
                  |L1.1052|
                          DCD      work_stat
                  |L1.1056|
                          DCD      T_PROC_GS
                  |L1.1060|
                          DCD      T_PROC_PS
                  |L1.1064|
                          DCD      I_ug
                  |L1.1068|
                          DCD      U_up
                  |L1.1072|
                          DCD      U_maxg
                  |L1.1076|
                          DCD      I_maxp
                  |L1.1080|
                          DCD      time_proc
                  |L1.1084|
                          DCD      time_proc_remain
                  |L1.1088|
                          DCD      REV_STAT
                  |L1.1092|
000444  7830              LDRB     r0,[r6,#0]            ;290  ; work_stat
000446  b998              CBNZ     r0,|L1.1136|
000448  48ff              LDR      r0,|L1.2120|
00044a  8800              LDRH     r0,[r0,#0]            ;290  ; REV_IS_ON
00044c  b180              CBZ      r0,|L1.1136|
00044e  f9b50004          LDRSH    r0,[r5,#4]            ;292  ; modbus_tcp_rx_arg1
000452  2801              CMP      r0,#1                 ;292
000454  d102              BNE      |L1.1116|
000456  4afd              LDR      r2,|L1.2124|
000458  f8a29000          STRH     r9,[r2,#0]            ;292
                  |L1.1116|
00045c  b908              CBNZ     r0,|L1.1122|
00045e  48fb              LDR      r0,|L1.2124|
000460  8007              STRH     r7,[r0,#0]            ;293
                  |L1.1122|
000462  48fa              LDR      r0,|L1.2124|
000464  f9b01000          LDRSH    r1,[r0,#0]            ;294  ; AVT_REV_IS_ON
000468  f44f7084          MOV      r0,#0x108             ;294
00046c  f7fffffe          BL       lc640_write_int
                  |L1.1136|
000470  8868              LDRH     r0,[r5,#2]            ;298  ; modbus_tcp_rx_arg0
000472  46a8              MOV      r8,r5                 ;298
000474  2840              CMP      r0,#0x40              ;298
000476  d111              BNE      |L1.1180|
000478  7830              LDRB     r0,[r6,#0]            ;300  ; work_stat
00047a  b978              CBNZ     r0,|L1.1180|
00047c  4df4              LDR      r5,|L1.2128|
00047e  f8b80004          LDRH     r0,[r8,#4]            ;302  ; modbus_tcp_rx_arg1
000482  211e              MOVS     r1,#0x1e              ;303
000484  8028              STRH     r0,[r5,#0]            ;302
000486  48f3              LDR      r0,|L1.2132|
000488  8802              LDRH     r2,[r0,#0]            ;303  ; T_PROC_MAX
00048a  4628              MOV      r0,r5                 ;303
00048c  f7fffffe          BL       gran_u
000490  8828              LDRH     r0,[r5,#0]            ;304  ; AVT_REV_TIME_FF
000492  b201              SXTH     r1,r0                 ;304
000494  f44f7085          MOV      r0,#0x10a             ;304
000498  f7fffffe          BL       lc640_write_int
                  |L1.1180|
00049c  f8b80002          LDRH     r0,[r8,#2]            ;307  ; modbus_tcp_rx_arg0
0004a0  2841              CMP      r0,#0x41              ;307
0004a2  d111              BNE      |L1.1224|
0004a4  7830              LDRB     r0,[r6,#0]            ;309  ; work_stat
0004a6  b978              CBNZ     r0,|L1.1224|
0004a8  4deb              LDR      r5,|L1.2136|
0004aa  f8b80004          LDRH     r0,[r8,#4]            ;311  ; modbus_tcp_rx_arg1
0004ae  211e              MOVS     r1,#0x1e              ;312
0004b0  8028              STRH     r0,[r5,#0]            ;311
0004b2  48e8              LDR      r0,|L1.2132|
0004b4  8802              LDRH     r2,[r0,#0]            ;312  ; T_PROC_MAX
0004b6  4628              MOV      r0,r5                 ;312
0004b8  f7fffffe          BL       gran_u
0004bc  8828              LDRH     r0,[r5,#0]            ;313  ; AVT_REV_TIME_REW
0004be  b201              SXTH     r1,r0                 ;313
0004c0  f44f709f          MOV      r0,#0x13e             ;313
0004c4  f7fffffe          BL       lc640_write_int
                  |L1.1224|
0004c8  f8b80002          LDRH     r0,[r8,#2]            ;316  ; modbus_tcp_rx_arg0
0004cc  2842              CMP      r0,#0x42              ;316
0004ce  d111              BNE      |L1.1268|
0004d0  7830              LDRB     r0,[r6,#0]            ;318  ; work_stat
0004d2  b978              CBNZ     r0,|L1.1268|
0004d4  4de1              LDR      r5,|L1.2140|
0004d6  f8b80004          LDRH     r0,[r8,#4]            ;320  ; modbus_tcp_rx_arg1
0004da  f44f7216          MOV      r2,#0x258             ;321
0004de  8028              STRH     r0,[r5,#0]            ;320
0004e0  2102              MOVS     r1,#2                 ;321
0004e2  4628              MOV      r0,r5                 ;321
0004e4  f7fffffe          BL       gran
0004e8  f9b51000          LDRSH    r1,[r5,#0]            ;322  ; AVT_REV_TIME_PAUSE
0004ec  f44f7087          MOV      r0,#0x10e             ;322
0004f0  f7fffffe          BL       lc640_write_int
                  |L1.1268|
0004f4  f8b80002          LDRH     r0,[r8,#2]            ;326  ; modbus_tcp_rx_arg0
0004f8  2843              CMP      r0,#0x43              ;326
0004fa  d114              BNE      |L1.1318|
0004fc  7830              LDRB     r0,[r6,#0]            ;328  ; work_stat
0004fe  b990              CBNZ     r0,|L1.1318|
000500  4dd7              LDR      r5,|L1.2144|
000502  f8b80004          LDRH     r0,[r8,#4]            ;330  ; modbus_tcp_rx_arg1
000506  8028              STRH     r0,[r5,#0]            ;330
000508  48d6              LDR      r0,|L1.2148|
00050a  f9b02000          LDRSH    r2,[r0,#0]            ;331  ; I_MAX_IPS
00050e  48d6              LDR      r0,|L1.2152|
000510  f9b01000          LDRSH    r1,[r0,#0]            ;331  ; I_MIN_IPS
000514  4628              MOV      r0,r5                 ;331
000516  f7fffffe          BL       gran
00051a  f9b51000          LDRSH    r1,[r5,#0]            ;332  ; AVT_REV_I_NOM_FF
00051e  f44f7088          MOV      r0,#0x110             ;332
000522  f7fffffe          BL       lc640_write_int
                  |L1.1318|
000526  f8b80002          LDRH     r0,[r8,#2]            ;336  ; modbus_tcp_rx_arg0
00052a  2844              CMP      r0,#0x44              ;336
00052c  d114              BNE      |L1.1368|
00052e  7830              LDRB     r0,[r6,#0]            ;338  ; work_stat
000530  b990              CBNZ     r0,|L1.1368|
000532  4dce              LDR      r5,|L1.2156|
000534  f8b80004          LDRH     r0,[r8,#4]            ;340  ; modbus_tcp_rx_arg1
000538  8028              STRH     r0,[r5,#0]            ;340
00053a  48ca              LDR      r0,|L1.2148|
00053c  f9b02000          LDRSH    r2,[r0,#0]            ;341  ; I_MAX_IPS
000540  48c9              LDR      r0,|L1.2152|
000542  f9b01000          LDRSH    r1,[r0,#0]            ;341  ; I_MIN_IPS
000546  4628              MOV      r0,r5                 ;341
000548  f7fffffe          BL       gran
00054c  f9b51000          LDRSH    r1,[r5,#0]            ;342  ; AVT_REV_I_NOM_REW
000550  f44f7089          MOV      r0,#0x112             ;342
000554  f7fffffe          BL       lc640_write_int
                  |L1.1368|
000558  f8b80002          LDRH     r0,[r8,#2]            ;345  ; modbus_tcp_rx_arg0
00055c  2845              CMP      r0,#0x45              ;345
00055e  d114              BNE      |L1.1418|
000560  7830              LDRB     r0,[r6,#0]            ;347  ; work_stat
000562  b990              CBNZ     r0,|L1.1418|
000564  4dc2              LDR      r5,|L1.2160|
000566  f8b80004          LDRH     r0,[r8,#4]            ;349  ; modbus_tcp_rx_arg1
00056a  8028              STRH     r0,[r5,#0]            ;349
00056c  48c1              LDR      r0,|L1.2164|
00056e  f9b02000          LDRSH    r2,[r0,#0]            ;350  ; U_MAX
000572  48c1              LDR      r0,|L1.2168|
000574  f9b01000          LDRSH    r1,[r0,#0]            ;350  ; U_MIN
000578  4628              MOV      r0,r5                 ;350
00057a  f7fffffe          BL       gran
00057e  f9b51000          LDRSH    r1,[r5,#0]            ;351  ; AVT_REV_U_NOM_FF
000582  f44f708a          MOV      r0,#0x114             ;351
000586  f7fffffe          BL       lc640_write_int
                  |L1.1418|
00058a  f8b80002          LDRH     r0,[r8,#2]            ;355  ; modbus_tcp_rx_arg0
00058e  2846              CMP      r0,#0x46              ;355
000590  d114              BNE      |L1.1468|
000592  7830              LDRB     r0,[r6,#0]            ;357  ; work_stat
000594  b990              CBNZ     r0,|L1.1468|
000596  4db9              LDR      r5,|L1.2172|
000598  f8b80004          LDRH     r0,[r8,#4]            ;359  ; modbus_tcp_rx_arg1
00059c  8028              STRH     r0,[r5,#0]            ;359
00059e  48b5              LDR      r0,|L1.2164|
0005a0  f9b02000          LDRSH    r2,[r0,#0]            ;360  ; U_MAX
0005a4  48b4              LDR      r0,|L1.2168|
0005a6  f9b01000          LDRSH    r1,[r0,#0]            ;360  ; U_MIN
0005aa  4628              MOV      r0,r5                 ;360
0005ac  f7fffffe          BL       gran
0005b0  f9b51000          LDRSH    r1,[r5,#0]            ;361  ; AVT_REV_U_NOM_REW
0005b4  f44f708b          MOV      r0,#0x116             ;361
0005b8  f7fffffe          BL       lc640_write_int
                  |L1.1468|
0005bc  f8b80002          LDRH     r0,[r8,#2]            ;365  ; modbus_tcp_rx_arg0
0005c0  2847              CMP      r0,#0x47              ;365
0005c2  d111              BNE      |L1.1512|
0005c4  7830              LDRB     r0,[r6,#0]            ;367  ; work_stat
0005c6  b978              CBNZ     r0,|L1.1512|
0005c8  4dad              LDR      r5,|L1.2176|
0005ca  f8b80004          LDRH     r0,[r8,#4]            ;369  ; modbus_tcp_rx_arg1
0005ce  f242720f          MOV      r2,#0x270f            ;370
0005d2  8028              STRH     r0,[r5,#0]            ;369
0005d4  210a              MOVS     r1,#0xa               ;370
0005d6  4628              MOV      r0,r5                 ;370
0005d8  f7fffffe          BL       gran
0005dc  f9b51000          LDRSH    r1,[r5,#0]            ;371  ; CAP_ZAR_TIME
0005e0  f44f70e9          MOV      r0,#0x1d2             ;371
0005e4  f7fffffe          BL       lc640_write_int
                  |L1.1512|
0005e8  f8b80002          LDRH     r0,[r8,#2]            ;374  ; modbus_tcp_rx_arg0
0005ec  2848              CMP      r0,#0x48              ;374
0005ee  d111              BNE      |L1.1556|
0005f0  7830              LDRB     r0,[r6,#0]            ;376  ; work_stat
0005f2  b978              CBNZ     r0,|L1.1556|
0005f4  4da3              LDR      r5,|L1.2180|
0005f6  f8b80004          LDRH     r0,[r8,#4]            ;378  ; modbus_tcp_rx_arg1
0005fa  f242720f          MOV      r2,#0x270f            ;379
0005fe  8028              STRH     r0,[r5,#0]            ;378
000600  210a              MOVS     r1,#0xa               ;379
000602  4628              MOV      r0,r5                 ;379
000604  f7fffffe          BL       gran
000608  f9b51000          LDRSH    r1,[r5,#0]            ;380  ; CAP_PAUSE1_TIME
00060c  f44f70ea          MOV      r0,#0x1d4             ;380
000610  f7fffffe          BL       lc640_write_int
                  |L1.1556|
000614  f8b80002          LDRH     r0,[r8,#2]            ;383  ; modbus_tcp_rx_arg0
000618  2849              CMP      r0,#0x49              ;383
00061a  d111              BNE      |L1.1600|
00061c  7830              LDRB     r0,[r6,#0]            ;385  ; work_stat
00061e  b978              CBNZ     r0,|L1.1600|
000620  4d99              LDR      r5,|L1.2184|
000622  f8b80004          LDRH     r0,[r8,#4]            ;387  ; modbus_tcp_rx_arg1
000626  f242720f          MOV      r2,#0x270f            ;388
00062a  8028              STRH     r0,[r5,#0]            ;387
00062c  210a              MOVS     r1,#0xa               ;388
00062e  4628              MOV      r0,r5                 ;388
000630  f7fffffe          BL       gran
000634  f9b51000          LDRSH    r1,[r5,#0]            ;389  ; CAP_RAZR_TIME
000638  f44f70eb          MOV      r0,#0x1d6             ;389
00063c  f7fffffe          BL       lc640_write_int
                  |L1.1600|
000640  f8b80002          LDRH     r0,[r8,#2]            ;392  ; modbus_tcp_rx_arg0
000644  284a              CMP      r0,#0x4a              ;392
000646  d111              BNE      |L1.1644|
000648  7830              LDRB     r0,[r6,#0]            ;394  ; work_stat
00064a  b978              CBNZ     r0,|L1.1644|
00064c  4d8f              LDR      r5,|L1.2188|
00064e  f8b80004          LDRH     r0,[r8,#4]            ;396  ; modbus_tcp_rx_arg1
000652  f242720f          MOV      r2,#0x270f            ;397
000656  8028              STRH     r0,[r5,#0]            ;396
000658  210a              MOVS     r1,#0xa               ;397
00065a  4628              MOV      r0,r5                 ;397
00065c  f7fffffe          BL       gran
000660  f9b51000          LDRSH    r1,[r5,#0]            ;398  ; CAP_PAUSE2_TIME
000664  f44f70ec          MOV      r0,#0x1d8             ;398
000668  f7fffffe          BL       lc640_write_int
                  |L1.1644|
00066c  f8b80002          LDRH     r0,[r8,#2]            ;402  ; modbus_tcp_rx_arg0
000670  284b              CMP      r0,#0x4b              ;402
000672  d110              BNE      |L1.1686|
000674  7830              LDRB     r0,[r6,#0]            ;404  ; work_stat
000676  b970              CBNZ     r0,|L1.1686|
000678  4d85              LDR      r5,|L1.2192|
00067a  f8b80004          LDRH     r0,[r8,#4]            ;406  ; modbus_tcp_rx_arg1
00067e  2264              MOVS     r2,#0x64              ;407
000680  8028              STRH     r0,[r5,#0]            ;406
000682  2101              MOVS     r1,#1                 ;407
000684  4628              MOV      r0,r5                 ;407
000686  f7fffffe          BL       gran
00068a  f9b51000          LDRSH    r1,[r5,#0]            ;408  ; CAP_MAX_VOLT
00068e  f44f70ed          MOV      r0,#0x1da             ;408
000692  f7fffffe          BL       lc640_write_int
                  |L1.1686|
000696  f8b80002          LDRH     r0,[r8,#2]            ;411  ; modbus_tcp_rx_arg0
00069a  284c              CMP      r0,#0x4c              ;411
00069c  d110              BNE      |L1.1728|
00069e  7830              LDRB     r0,[r6,#0]            ;413  ; work_stat
0006a0  b970              CBNZ     r0,|L1.1728|
0006a2  4d7c              LDR      r5,|L1.2196|
0006a4  f8b80004          LDRH     r0,[r8,#4]            ;415  ; modbus_tcp_rx_arg1
0006a8  2296              MOVS     r2,#0x96              ;416
0006aa  8028              STRH     r0,[r5,#0]            ;415
0006ac  2101              MOVS     r1,#1                 ;416
0006ae  4628              MOV      r0,r5                 ;416
0006b0  f7fffffe          BL       gran
0006b4  f9b51000          LDRSH    r1,[r5,#0]            ;417  ; CAP_WRK_CURR
0006b8  f44f70ee          MOV      r0,#0x1dc             ;417
0006bc  f7fffffe          BL       lc640_write_int
                  |L1.1728|
0006c0  4875              LDR      r0,|L1.2200|
0006c2  f9b00002          LDRSH    r0,[r0,#2]            ;421  ; modbus_tcp_rx_arg0
0006c6  284d              CMP      r0,#0x4d              ;421
0006c8  d00f              BEQ      |L1.1770|
0006ca  4d73              LDR      r5,|L1.2200|
0006cc  2850              CMP      r0,#0x50              ;595
0006ce  d07e              BEQ      |L1.1998|
0006d0  2851              CMP      r0,#0x51              ;600
0006d2  d07d              BEQ      |L1.2000|
0006d4  2852              CMP      r0,#0x52              ;605
0006d6  d07c              BEQ      |L1.2002|
0006d8  285a              CMP      r0,#0x5a              ;611
0006da  d07b              BEQ      |L1.2004|
0006dc  285b              CMP      r0,#0x5b              ;617
0006de  d07a              BEQ      |L1.2006|
0006e0  285c              CMP      r0,#0x5c              ;623
0006e2  d079              BEQ      |L1.2008|
0006e4  285d              CMP      r0,#0x5d              ;645
0006e6  d078              BEQ      |L1.2010|
0006e8  e1ea              B        |L1.2752|
                  |L1.1770|
0006ea  f8df81b0          LDR      r8,|L1.2204|
0006ee  4d6a              LDR      r5,|L1.2200|
0006f0  f8b81000          LDRH     r1,[r8,#0]            ;423  ; modbus_tcp_plazma_pavlik
0006f4  1c49              ADDS     r1,r1,#1              ;423
0006f6  f8a81000          STRH     r1,[r8,#0]            ;423
0006fa  f9b51004          LDRSH    r1,[r5,#4]            ;424  ; modbus_tcp_rx_arg1
0006fe  f8a81002          STRH     r1,[r8,#2]            ;424
000702  2911              CMP      r1,#0x11              ;425
000704  d101              BNE      |L1.1802|
000706  f7fffffe          BL       start_CAP
                  |L1.1802|
00070a  88a8              LDRH     r0,[r5,#4]            ;429  ; modbus_tcp_rx_arg1
00070c  2812              CMP      r0,#0x12              ;429
00070e  d101              BNE      |L1.1812|
000710  f7fffffe          BL       pause_CAP
                  |L1.1812|
000714  88a8              LDRH     r0,[r5,#4]            ;433  ; modbus_tcp_rx_arg1
000716  2813              CMP      r0,#0x13              ;433
000718  d101              BNE      |L1.1822|
00071a  f7fffffe          BL       stop_CAP
                  |L1.1822|
00071e  88a8              LDRH     r0,[r5,#4]            ;437  ; modbus_tcp_rx_arg1
000720  2814              CMP      r0,#0x14              ;437
000722  d101              BNE      |L1.1832|
000724  f7fffffe          BL       reset_CAP
                  |L1.1832|
000728  485b              LDR      r0,|L1.2200|
00072a  8880              LDRH     r0,[r0,#4]            ;442  ; modbus_tcp_rx_arg1
00072c  2821              CMP      r0,#0x21              ;442
00072e  d111              BNE      |L1.1876|
000730  7830              LDRB     r0,[r6,#0]            ;444  ; work_stat
000732  b978              CBNZ     r0,|L1.1876|
000734  4d52              LDR      r5,|L1.2176|
000736  f242720f          MOV      r2,#0x270f            ;447
00073a  210a              MOVS     r1,#0xa               ;447
00073c  8828              LDRH     r0,[r5,#0]            ;446  ; CAP_ZAR_TIME
00073e  1c40              ADDS     r0,r0,#1              ;446
000740  8028              STRH     r0,[r5,#0]            ;446
000742  4628              MOV      r0,r5                 ;447
000744  f7fffffe          BL       gran
000748  f9b51000          LDRSH    r1,[r5,#0]            ;448  ; CAP_ZAR_TIME
00074c  f44f70e9          MOV      r0,#0x1d2             ;448
000750  f7fffffe          BL       lc640_write_int
                  |L1.1876|
000754  4850              LDR      r0,|L1.2200|
000756  f9b01004          LDRSH    r1,[r0,#4]            ;451  ; modbus_tcp_rx_arg1
00075a  2922              CMP      r1,#0x22              ;451
00075c  d118              BNE      |L1.1936|
00075e  f8b82004          LDRH     r2,[r8,#4]            ;453  ; modbus_tcp_plazma_pavlik
000762  1c52              ADDS     r2,r2,#1              ;453
000764  f8a82004          STRH     r2,[r8,#4]            ;453
000768  f8a81006          STRH     r1,[r8,#6]            ;454
00076c  7830              LDRB     r0,[r6,#0]            ;455  ; work_stat
00076e  b978              CBNZ     r0,|L1.1936|
000770  4d43              LDR      r5,|L1.2176|
000772  f242720f          MOV      r2,#0x270f            ;458
000776  210a              MOVS     r1,#0xa               ;458
000778  8828              LDRH     r0,[r5,#0]            ;457  ; CAP_ZAR_TIME
00077a  1e40              SUBS     r0,r0,#1              ;457
00077c  8028              STRH     r0,[r5,#0]            ;457
00077e  4628              MOV      r0,r5                 ;458
000780  f7fffffe          BL       gran
000784  f9b51000          LDRSH    r1,[r5,#0]            ;459  ; CAP_ZAR_TIME
000788  f44f70e9          MOV      r0,#0x1d2             ;459
00078c  f7fffffe          BL       lc640_write_int
                  |L1.1936|
000790  4841              LDR      r0,|L1.2200|
000792  8880              LDRH     r0,[r0,#4]            ;463  ; modbus_tcp_rx_arg1
000794  2831              CMP      r0,#0x31              ;463
000796  d111              BNE      |L1.1980|
000798  7830              LDRB     r0,[r6,#0]            ;465  ; work_stat
00079a  b978              CBNZ     r0,|L1.1980|
00079c  4d39              LDR      r5,|L1.2180|
00079e  f242720f          MOV      r2,#0x270f            ;468
0007a2  210a              MOVS     r1,#0xa               ;468
0007a4  8828              LDRH     r0,[r5,#0]            ;467  ; CAP_PAUSE1_TIME
0007a6  1c40              ADDS     r0,r0,#1              ;467
0007a8  8028              STRH     r0,[r5,#0]            ;467
0007aa  4628              MOV      r0,r5                 ;468
0007ac  f7fffffe          BL       gran
0007b0  f9b51000          LDRSH    r1,[r5,#0]            ;469  ; CAP_PAUSE1_TIME
0007b4  f44f70ea          MOV      r0,#0x1d4             ;469
0007b8  f7fffffe          BL       lc640_write_int
                  |L1.1980|
0007bc  4836              LDR      r0,|L1.2200|
0007be  8880              LDRH     r0,[r0,#4]            ;472  ; modbus_tcp_rx_arg1
0007c0  2832              CMP      r0,#0x32              ;472
0007c2  d119              BNE      |L1.2040|
0007c4  7830              LDRB     r0,[r6,#0]            ;474  ; work_stat
0007c6  b9b8              CBNZ     r0,|L1.2040|
0007c8  4d2e              LDR      r5,|L1.2180|
0007ca  8828              LDRH     r0,[r5,#0]            ;476  ; CAP_PAUSE1_TIME
0007cc  e006              B        |L1.2012|
                  |L1.1998|
0007ce  e12c              B        |L1.2602|
                  |L1.2000|
0007d0  e12e              B        |L1.2608|
                  |L1.2002|
0007d2  e130              B        |L1.2614|
                  |L1.2004|
0007d4  e136              B        |L1.2628|
                  |L1.2006|
0007d6  e138              B        |L1.2634|
                  |L1.2008|
0007d8  e13e              B        |L1.2648|
                  |L1.2010|
0007da  e157              B        |L1.2700|
                  |L1.2012|
0007dc  1e40              SUBS     r0,r0,#1              ;476
0007de  8028              STRH     r0,[r5,#0]            ;476
0007e0  f242720f          MOV      r2,#0x270f            ;477
0007e4  210a              MOVS     r1,#0xa               ;477
0007e6  4628              MOV      r0,r5                 ;477
0007e8  f7fffffe          BL       gran
0007ec  f9b51000          LDRSH    r1,[r5,#0]            ;478  ; CAP_PAUSE1_TIME
0007f0  f44f70ea          MOV      r0,#0x1d4             ;478
0007f4  f7fffffe          BL       lc640_write_int
                  |L1.2040|
0007f8  4827              LDR      r0,|L1.2200|
0007fa  8880              LDRH     r0,[r0,#4]            ;482  ; modbus_tcp_rx_arg1
0007fc  2841              CMP      r0,#0x41              ;482
0007fe  d111              BNE      |L1.2084|
000800  7830              LDRB     r0,[r6,#0]            ;484  ; work_stat
000802  b978              CBNZ     r0,|L1.2084|
000804  4d20              LDR      r5,|L1.2184|
000806  f242720f          MOV      r2,#0x270f            ;487
00080a  210a              MOVS     r1,#0xa               ;487
00080c  8828              LDRH     r0,[r5,#0]            ;486  ; CAP_RAZR_TIME
00080e  1c40              ADDS     r0,r0,#1              ;486
000810  8028              STRH     r0,[r5,#0]            ;486
000812  4628              MOV      r0,r5                 ;487
000814  f7fffffe          BL       gran
000818  f9b51000          LDRSH    r1,[r5,#0]            ;488  ; CAP_RAZR_TIME
00081c  f44f70eb          MOV      r0,#0x1d6             ;488
000820  f7fffffe          BL       lc640_write_int
                  |L1.2084|
000824  481c              LDR      r0,|L1.2200|
000826  8880              LDRH     r0,[r0,#4]            ;491  ; modbus_tcp_rx_arg1
000828  2842              CMP      r0,#0x42              ;491
00082a  d13f              BNE      |L1.2220|
00082c  7830              LDRB     r0,[r6,#0]            ;493  ; work_stat
00082e  b950              CBNZ     r0,|L1.2118|
000830  4d15              LDR      r5,|L1.2184|
000832  f242720f          MOV      r2,#0x270f            ;496
000836  210a              MOVS     r1,#0xa               ;496
000838  8828              LDRH     r0,[r5,#0]            ;495  ; CAP_RAZR_TIME
00083a  1e40              SUBS     r0,r0,#1              ;495
00083c  8028              STRH     r0,[r5,#0]            ;495
00083e  4628              MOV      r0,r5                 ;496
000840  f7fffffe          BL       gran
000844  e02c              B        |L1.2208|
                  |L1.2118|
000846  e031              B        |L1.2220|
                  |L1.2120|
                          DCD      REV_IS_ON
                  |L1.2124|
                          DCD      AVT_REV_IS_ON
                  |L1.2128|
                          DCD      AVT_REV_TIME_FF
                  |L1.2132|
                          DCD      T_PROC_MAX
                  |L1.2136|
                          DCD      AVT_REV_TIME_REW
                  |L1.2140|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2144|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2148|
                          DCD      I_MAX_IPS
                  |L1.2152|
                          DCD      I_MIN_IPS
                  |L1.2156|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.2160|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.2164|
                          DCD      U_MAX
                  |L1.2168|
                          DCD      U_MIN
                  |L1.2172|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.2176|
                          DCD      CAP_ZAR_TIME
                  |L1.2180|
                          DCD      CAP_PAUSE1_TIME
                  |L1.2184|
                          DCD      CAP_RAZR_TIME
                  |L1.2188|
                          DCD      CAP_PAUSE2_TIME
                  |L1.2192|
                          DCD      CAP_MAX_VOLT
                  |L1.2196|
                          DCD      CAP_WRK_CURR
                  |L1.2200|
                          DCD      ||.data||
                  |L1.2204|
                          DCD      modbus_tcp_plazma_pavlik
                  |L1.2208|
0008a0  f9b51000          LDRSH    r1,[r5,#0]            ;497  ; CAP_RAZR_TIME
0008a4  f44f70eb          MOV      r0,#0x1d6             ;497
0008a8  f7fffffe          BL       lc640_write_int
                  |L1.2220|
0008ac  48fa              LDR      r0,|L1.3224|
0008ae  8880              LDRH     r0,[r0,#4]            ;501  ; modbus_tcp_rx_arg1
0008b0  2851              CMP      r0,#0x51              ;501
0008b2  d111              BNE      |L1.2264|
0008b4  7830              LDRB     r0,[r6,#0]            ;503  ; work_stat
0008b6  b978              CBNZ     r0,|L1.2264|
0008b8  4df8              LDR      r5,|L1.3228|
0008ba  f242720f          MOV      r2,#0x270f            ;506
0008be  210a              MOVS     r1,#0xa               ;506
0008c0  8828              LDRH     r0,[r5,#0]            ;505  ; CAP_PAUSE2_TIME
0008c2  1c40              ADDS     r0,r0,#1              ;505
0008c4  8028              STRH     r0,[r5,#0]            ;505
0008c6  4628              MOV      r0,r5                 ;506
0008c8  f7fffffe          BL       gran
0008cc  f9b51000          LDRSH    r1,[r5,#0]            ;507  ; CAP_PAUSE2_TIME
0008d0  f44f70ec          MOV      r0,#0x1d8             ;507
0008d4  f7fffffe          BL       lc640_write_int
                  |L1.2264|
0008d8  48ef              LDR      r0,|L1.3224|
0008da  8880              LDRH     r0,[r0,#4]            ;510  ; modbus_tcp_rx_arg1
0008dc  2852              CMP      r0,#0x52              ;510
0008de  d111              BNE      |L1.2308|
0008e0  7830              LDRB     r0,[r6,#0]            ;512  ; work_stat
0008e2  b978              CBNZ     r0,|L1.2308|
0008e4  4ded              LDR      r5,|L1.3228|
0008e6  f242720f          MOV      r2,#0x270f            ;515
0008ea  210a              MOVS     r1,#0xa               ;515
0008ec  8828              LDRH     r0,[r5,#0]            ;514  ; CAP_PAUSE2_TIME
0008ee  1e40              SUBS     r0,r0,#1              ;514
0008f0  8028              STRH     r0,[r5,#0]            ;514
0008f2  4628              MOV      r0,r5                 ;515
0008f4  f7fffffe          BL       gran
0008f8  f9b51000          LDRSH    r1,[r5,#0]            ;516  ; CAP_PAUSE2_TIME
0008fc  f44f70ec          MOV      r0,#0x1d8             ;516
000900  f7fffffe          BL       lc640_write_int
                  |L1.2308|
000904  48e4              LDR      r0,|L1.3224|
000906  8880              LDRH     r0,[r0,#4]            ;520  ; modbus_tcp_rx_arg1
000908  2861              CMP      r0,#0x61              ;520
00090a  d113              BNE      |L1.2356|
00090c  e001              B        |L1.2322|
                  |L1.2318|
00090e  e3f6              B        |L1.4350|
                  |L1.2320|
000910  e3f6              B        |L1.4352|
                  |L1.2322|
000912  7830              LDRB     r0,[r6,#0]            ;522  ; work_stat
000914  b970              CBNZ     r0,|L1.2356|
000916  4de2              LDR      r5,|L1.3232|
000918  2264              MOVS     r2,#0x64              ;525
00091a  2101              MOVS     r1,#1                 ;525
00091c  8828              LDRH     r0,[r5,#0]            ;524  ; CAP_MAX_VOLT
00091e  1c40              ADDS     r0,r0,#1              ;524
000920  8028              STRH     r0,[r5,#0]            ;524
000922  4628              MOV      r0,r5                 ;525
000924  f7fffffe          BL       gran
000928  f9b51000          LDRSH    r1,[r5,#0]            ;526  ; CAP_MAX_VOLT
00092c  f44f70ed          MOV      r0,#0x1da             ;526
000930  f7fffffe          BL       lc640_write_int
                  |L1.2356|
000934  48d8              LDR      r0,|L1.3224|
000936  8880              LDRH     r0,[r0,#4]            ;529  ; modbus_tcp_rx_arg1
000938  2862              CMP      r0,#0x62              ;529
00093a  d110              BNE      |L1.2398|
00093c  7830              LDRB     r0,[r6,#0]            ;531  ; work_stat
00093e  b970              CBNZ     r0,|L1.2398|
000940  4dd7              LDR      r5,|L1.3232|
000942  2264              MOVS     r2,#0x64              ;534
000944  2101              MOVS     r1,#1                 ;534
000946  8828              LDRH     r0,[r5,#0]            ;533  ; CAP_MAX_VOLT
000948  1e40              SUBS     r0,r0,#1              ;533
00094a  8028              STRH     r0,[r5,#0]            ;533
00094c  4628              MOV      r0,r5                 ;534
00094e  f7fffffe          BL       gran
000952  f9b51000          LDRSH    r1,[r5,#0]            ;535  ; CAP_MAX_VOLT
000956  f44f70ed          MOV      r0,#0x1da             ;535
00095a  f7fffffe          BL       lc640_write_int
                  |L1.2398|
00095e  48ce              LDR      r0,|L1.3224|
000960  8880              LDRH     r0,[r0,#4]            ;539  ; modbus_tcp_rx_arg1
000962  2871              CMP      r0,#0x71              ;539
000964  d110              BNE      |L1.2440|
000966  7830              LDRB     r0,[r6,#0]            ;541  ; work_stat
000968  b970              CBNZ     r0,|L1.2440|
00096a  4dce              LDR      r5,|L1.3236|
00096c  2296              MOVS     r2,#0x96              ;544
00096e  2101              MOVS     r1,#1                 ;544
000970  8828              LDRH     r0,[r5,#0]            ;543  ; CAP_WRK_CURR
000972  1c40              ADDS     r0,r0,#1              ;543
000974  8028              STRH     r0,[r5,#0]            ;543
000976  4628              MOV      r0,r5                 ;544
000978  f7fffffe          BL       gran
00097c  f9b51000          LDRSH    r1,[r5,#0]            ;545  ; CAP_WRK_CURR
000980  f44f70ee          MOV      r0,#0x1dc             ;545
000984  f7fffffe          BL       lc640_write_int
                  |L1.2440|
000988  4dc3              LDR      r5,|L1.3224|
00098a  88a8              LDRH     r0,[r5,#4]            ;548  ; modbus_tcp_rx_arg1
00098c  2872              CMP      r0,#0x72              ;548
00098e  d110              BNE      |L1.2482|
000990  7830              LDRB     r0,[r6,#0]            ;550  ; work_stat
000992  b970              CBNZ     r0,|L1.2482|
000994  4ec3              LDR      r6,|L1.3236|
000996  2296              MOVS     r2,#0x96              ;553
000998  2101              MOVS     r1,#1                 ;553
00099a  8830              LDRH     r0,[r6,#0]            ;552  ; CAP_WRK_CURR
00099c  1e40              SUBS     r0,r0,#1              ;552
00099e  8030              STRH     r0,[r6,#0]            ;552
0009a0  4630              MOV      r0,r6                 ;553
0009a2  f7fffffe          BL       gran
0009a6  f9b61000          LDRSH    r1,[r6,#0]            ;554  ; CAP_WRK_CURR
0009aa  f44f70ee          MOV      r0,#0x1dc             ;554
0009ae  f7fffffe          BL       lc640_write_int
                  |L1.2482|
0009b2  f9b50004          LDRSH    r0,[r5,#4]            ;557  ; modbus_tcp_rx_arg1
0009b6  4abc              LDR      r2,|L1.3240|
0009b8  4bbc              LDR      r3,|L1.3244|
0009ba  2880              CMP      r0,#0x80              ;557
0009bc  d10a              BNE      |L1.2516|
0009be  f8a80006          STRH     r0,[r8,#6]            ;560
0009c2  8815              LDRH     r5,[r2,#0]            ;561  ; RELE_FUNC
0009c4  4641              MOV      r1,r8                 ;560
0009c6  2d06              CMP      r5,#6                 ;561
0009c8  d104              BNE      |L1.2516|
0009ca  888d              LDRH     r5,[r1,#4]            ;562  ; modbus_tcp_plazma_pavlik
0009cc  1c6d              ADDS     r5,r5,#1              ;562
0009ce  f8a85004          STRH     r5,[r8,#4]            ;562
0009d2  701f              STRB     r7,[r3,#0]            ;563
                  |L1.2516|
0009d4  2881              CMP      r0,#0x81              ;566
0009d6  d10b              BNE      |L1.2544|
0009d8  f8a80006          STRH     r0,[r8,#6]            ;569
0009dc  8815              LDRH     r5,[r2,#0]            ;570  ; RELE_FUNC
0009de  4641              MOV      r1,r8                 ;569
0009e0  2d06              CMP      r5,#6                 ;570
0009e2  d105              BNE      |L1.2544|
0009e4  888d              LDRH     r5,[r1,#4]            ;571  ; modbus_tcp_plazma_pavlik
0009e6  1c6d              ADDS     r5,r5,#1              ;571
0009e8  f8a85004          STRH     r5,[r8,#4]            ;571
0009ec  f8839000          STRB     r9,[r3,#0]            ;572
                  |L1.2544|
0009f0  2882              CMP      r0,#0x82              ;575
0009f2  d10a              BNE      |L1.2570|
0009f4  f8a80006          STRH     r0,[r8,#6]            ;578
0009f8  8855              LDRH     r5,[r2,#2]            ;579  ; RELE_FUNC
0009fa  4641              MOV      r1,r8                 ;578
0009fc  2d06              CMP      r5,#6                 ;579
0009fe  d104              BNE      |L1.2570|
000a00  888d              LDRH     r5,[r1,#4]            ;580  ; modbus_tcp_plazma_pavlik
000a02  1c6d              ADDS     r5,r5,#1              ;580
000a04  f8a85004          STRH     r5,[r8,#4]            ;580
000a08  705f              STRB     r7,[r3,#1]            ;581
                  |L1.2570|
000a0a  2883              CMP      r0,#0x83              ;584
000a0c  d158              BNE      |L1.2752|
000a0e  f8a80006          STRH     r0,[r8,#6]            ;587
000a12  8850              LDRH     r0,[r2,#2]            ;588  ; RELE_FUNC
000a14  4641              MOV      r1,r8                 ;587
000a16  2806              CMP      r0,#6                 ;588
000a18  d152              BNE      |L1.2752|
000a1a  8888              LDRH     r0,[r1,#4]            ;589  ; modbus_tcp_plazma_pavlik
000a1c  1c40              ADDS     r0,r0,#1              ;589
000a1e  f8a80004          STRH     r0,[r8,#4]            ;589
000a22  f8839001          STRB     r9,[r3,#1]            ;590
000a26  e04b              B        |L1.2752|
                  |L1.2600|
000a28  e0d4              B        |L1.3028|
                  |L1.2602|
000a2a  88a8              LDRH     r0,[r5,#4]            ;597  ; modbus_tcp_rx_arg1
000a2c  49a0              LDR      r1,|L1.3248|
000a2e  e007              B        |L1.2624|
                  |L1.2608|
000a30  88a8              LDRH     r0,[r5,#4]            ;602  ; modbus_tcp_rx_arg1
000a32  49a0              LDR      r1,|L1.3252|
000a34  e004              B        |L1.2624|
                  |L1.2614|
000a36  88a8              LDRH     r0,[r5,#4]            ;607  ; modbus_tcp_rx_arg1
000a38  499f              LDR      r1,|L1.3256|
000a3a  eb000080          ADD      r0,r0,r0,LSL #2       ;607
000a3e  0040              LSLS     r0,r0,#1              ;607
                  |L1.2624|
000a40  8008              STRH     r0,[r1,#0]            ;607
000a42  e03d              B        |L1.2752|
                  |L1.2628|
000a44  88a8              LDRH     r0,[r5,#4]            ;613  ; modbus_tcp_rx_arg1
000a46  499d              LDR      r1,|L1.3260|
000a48  e001              B        |L1.2638|
                  |L1.2634|
000a4a  88a8              LDRH     r0,[r5,#4]            ;619  ; modbus_tcp_rx_arg1
000a4c  499c              LDR      r1,|L1.3264|
                  |L1.2638|
000a4e  8008              STRH     r0,[r1,#0]            ;619
000a50  499c              LDR      r1,|L1.3268|
000a52  f8819000          STRB     r9,[r1,#0]            ;620
000a56  e033              B        |L1.2752|
                  |L1.2648|
000a58  88a8              LDRH     r0,[r5,#4]            ;625  ; modbus_tcp_rx_arg1
000a5a  2801              CMP      r0,#1                 ;625
000a5c  d110              BNE      |L1.2688|
000a5e  7830              LDRB     r0,[r6,#0]            ;627  ; work_stat
000a60  2802              CMP      r0,#2                 ;627
000a62  d00d              BEQ      |L1.2688|
000a64  2002              MOVS     r0,#2                 ;629
000a66  7030              STRB     r0,[r6,#0]            ;629
000a68  4897              LDR      r0,|L1.3272|
000a6a  6007              STR      r7,[r0,#0]            ;631  ; time_proc
000a6c  4897              LDR      r0,|L1.3276|
000a6e  f8db1000          LDR      r1,[r11,#0]           ;631  ; T_PROC_PS
000a72  6001              STR      r1,[r0,#0]            ;632  ; time_proc_remain
000a74  f7fffffe          BL       restart_on_PS
000a78  2101              MOVS     r1,#1                 ;633
000a7a  20ea              MOVS     r0,#0xea              ;633
000a7c  f7fffffe          BL       lc640_write_int
                  |L1.2688|
000a80  88a8              LDRH     r0,[r5,#4]            ;636  ; modbus_tcp_rx_arg1
000a82  b9e8              CBNZ     r0,|L1.2752|
000a84  7830              LDRB     r0,[r6,#0]            ;638  ; work_stat
000a86  2802              CMP      r0,#2                 ;638
000a88  d017              BEQ      |L1.2746|
000a8a  e019              B        |L1.2752|
                  |L1.2700|
000a8c  88a8              LDRH     r0,[r5,#4]            ;647  ; modbus_tcp_rx_arg1
000a8e  2801              CMP      r0,#1                 ;647
000a90  d10e              BNE      |L1.2736|
000a92  7830              LDRB     r0,[r6,#0]            ;649  ; work_stat
000a94  2801              CMP      r0,#1                 ;649
000a96  d00b              BEQ      |L1.2736|
000a98  488b              LDR      r0,|L1.3272|
000a9a  f8869000          STRB     r9,[r6,#0]            ;651
000a9e  6007              STR      r7,[r0,#0]            ;653  ; time_proc
000aa0  488a              LDR      r0,|L1.3276|
000aa2  f8da1000          LDR      r1,[r10,#0]           ;653  ; T_PROC_GS
000aa6  6001              STR      r1,[r0,#0]            ;654  ; time_proc_remain
000aa8  2100              MOVS     r1,#0                 ;654
000aaa  20ea              MOVS     r0,#0xea              ;654
000aac  f7fffffe          BL       lc640_write_int
                  |L1.2736|
000ab0  88a8              LDRH     r0,[r5,#4]            ;657  ; modbus_tcp_rx_arg1
000ab2  b928              CBNZ     r0,|L1.2752|
000ab4  7830              LDRB     r0,[r6,#0]            ;659  ; work_stat
000ab6  2801              CMP      r0,#1                 ;659
000ab8  d102              BNE      |L1.2752|
                  |L1.2746|
000aba  7037              STRB     r7,[r6,#0]            ;661
000abc  f7fffffe          BL       restart_off
                  |L1.2752|
000ac0  4e83              LDR      r6,|L1.3280|
000ac2  f8da0000          LDR      r0,[r10,#0]           ;668  ; T_PROC_GS
000ac6  4655              MOV      r5,r10                ;668
000ac8  8831              LDRH     r1,[r6,#0]            ;668  ; T_PROC_MAX
000aca  4288              CMP      r0,r1                 ;668
000acc  dc01              BGT      |L1.2770|
000ace  281e              CMP      r0,#0x1e              ;668
000ad0  da14              BGE      |L1.2812|
                  |L1.2770|
000ad2  4288              CMP      r0,r1                 ;670
000ad4  dd02              BLE      |L1.2780|
000ad6  1c49              ADDS     r1,r1,#1              ;670
000ad8  6029              STR      r1,[r5,#0]            ;670  ; T_PROC_GS
000ada  e003              B        |L1.2788|
                  |L1.2780|
000adc  281e              CMP      r0,#0x1e              ;671
000ade  da01              BGE      |L1.2788|
000ae0  201d              MOVS     r0,#0x1d              ;671
000ae2  6028              STR      r0,[r5,#0]            ;671  ; T_PROC_GS
                  |L1.2788|
000ae4  6828              LDR      r0,[r5,#0]            ;672  ; T_PROC_GS
000ae6  b201              SXTH     r1,r0                 ;672
000ae8  20d8              MOVS     r0,#0xd8              ;672
000aea  f7fffffe          BL       lc640_write_int
000aee  4879              LDR      r0,|L1.3284|
000af0  4649              MOV      r1,r9                 ;673
000af2  f8a09000          STRH     r9,[r0,#0]            ;673
000af6  20ee              MOVS     r0,#0xee              ;674
000af8  f7fffffe          BL       lc640_write_int
                  |L1.2812|
000afc  8831              LDRH     r1,[r6,#0]            ;676  ; T_PROC_MAX
000afe  6828              LDR      r0,[r5,#0]            ;676  ; T_PROC_GS
000b00  4288              CMP      r0,r1                 ;676
000b02  dc07              BGT      |L1.2836|
000b04  281e              CMP      r0,#0x1e              ;676
000b06  db05              BLT      |L1.2836|
000b08  4872              LDR      r0,|L1.3284|
000b0a  4639              MOV      r1,r7                 ;678
000b0c  8007              STRH     r7,[r0,#0]            ;678
000b0e  20ee              MOVS     r0,#0xee              ;679
000b10  f7fffffe          BL       lc640_write_int
                  |L1.2836|
000b14  8831              LDRH     r1,[r6,#0]            ;682  ; T_PROC_MAX
000b16  f8db0000          LDR      r0,[r11,#0]           ;682  ; T_PROC_PS
000b1a  465d              MOV      r5,r11                ;682
000b1c  4288              CMP      r0,r1                 ;682
000b1e  dc01              BGT      |L1.2852|
000b20  281e              CMP      r0,#0x1e              ;682
000b22  da14              BGE      |L1.2894|
                  |L1.2852|
000b24  4288              CMP      r0,r1                 ;684
000b26  dd02              BLE      |L1.2862|
000b28  1c49              ADDS     r1,r1,#1              ;684
000b2a  6029              STR      r1,[r5,#0]            ;684  ; T_PROC_PS
000b2c  e003              B        |L1.2870|
                  |L1.2862|
000b2e  281e              CMP      r0,#0x1e              ;685
000b30  da01              BGE      |L1.2870|
000b32  201d              MOVS     r0,#0x1d              ;685
000b34  6028              STR      r0,[r5,#0]            ;685  ; T_PROC_PS
                  |L1.2870|
000b36  6828              LDR      r0,[r5,#0]            ;686  ; T_PROC_PS
000b38  b201              SXTH     r1,r0                 ;686
000b3a  20dc              MOVS     r0,#0xdc              ;686
000b3c  f7fffffe          BL       lc640_write_int
000b40  4865              LDR      r0,|L1.3288|
000b42  4649              MOV      r1,r9                 ;687
000b44  f8a09000          STRH     r9,[r0,#0]            ;687
000b48  20f0              MOVS     r0,#0xf0              ;688
000b4a  f7fffffe          BL       lc640_write_int
                  |L1.2894|
000b4e  8831              LDRH     r1,[r6,#0]            ;690  ; T_PROC_MAX
000b50  6828              LDR      r0,[r5,#0]            ;690  ; T_PROC_PS
000b52  4288              CMP      r0,r1                 ;690
000b54  dc07              BGT      |L1.2918|
000b56  281e              CMP      r0,#0x1e              ;690
000b58  db05              BLT      |L1.2918|
000b5a  485f              LDR      r0,|L1.3288|
000b5c  4639              MOV      r1,r7                 ;692
000b5e  8007              STRH     r7,[r0,#0]            ;692
000b60  20f0              MOVS     r0,#0xf0              ;693
000b62  f7fffffe          BL       lc640_write_int
                  |L1.2918|
000b66  4e4c              LDR      r6,|L1.3224|
000b68  f8cd9000          STR      r9,[sp,#0]            ;697
000b6c  2301              MOVS     r3,#1                 ;697
000b6e  8870              LDRH     r0,[r6,#2]            ;697  ; modbus_tcp_rx_arg0
000b70  7831              LDRB     r1,[r6,#0]            ;697  ; modbus_tcp_func
000b72  b282              UXTH     r2,r0                 ;697
000b74  4859              LDR      r0,|L1.3292|
000b76  8800              LDRH     r0,[r0,#0]            ;697  ; MODBUS_ADRESS
000b78  b2c0              UXTB     r0,r0                 ;697
000b7a  f7fffffe          BL       modbus_hold_registers_transmit
000b7e  200b              MOVS     r0,#0xb               ;699
000b80  f7fffffe          BL       tcp_get_buf
000b84  4605              MOV      r5,r0                 ;699
000b86  7820              LDRB     r0,[r4,#0]            ;700
000b88  7028              STRB     r0,[r5,#0]            ;700
000b8a  7860              LDRB     r0,[r4,#1]            ;701
000b8c  7068              STRB     r0,[r5,#1]            ;701
000b8e  78a0              LDRB     r0,[r4,#2]            ;702
000b90  70a8              STRB     r0,[r5,#2]            ;702
000b92  78e0              LDRB     r0,[r4,#3]            ;703
000b94  70e8              STRB     r0,[r5,#3]            ;703
000b96  712f              STRB     r7,[r5,#4]            ;704
000b98  2006              MOVS     r0,#6                 ;705
000b9a  7168              STRB     r0,[r5,#5]            ;705
000b9c  7870              LDRB     r0,[r6,#1]            ;706  ; modbus_tcp_unit
000b9e  71a8              STRB     r0,[r5,#6]            ;706
000ba0  7830              LDRB     r0,[r6,#0]            ;707  ; modbus_tcp_func
000ba2  71e8              STRB     r0,[r5,#7]            ;707
000ba4  f9b61002          LDRSH    r1,[r6,#2]            ;708  ; modbus_tcp_rx_arg0
000ba8  17c8              ASRS     r0,r1,#31             ;708
000baa  eb016210          ADD      r2,r1,r0,LSR #24      ;708
000bae  1210              ASRS     r0,r2,#8              ;708
000bb0  7228              STRB     r0,[r5,#8]            ;708
000bb2  4608              MOV      r0,r1                 ;709
000bb4  7268              STRB     r0,[r5,#9]            ;709
000bb6  2202              MOVS     r2,#2                 ;710
000bb8  f105000a          ADD      r0,r5,#0xa            ;710
000bbc  68b1              LDR      r1,[r6,#8]            ;710  ; modbus_tcp_out_ptr
000bbe  f7fffffe          BL       mem_copy
000bc2  4847              LDR      r0,|L1.3296|
000bc4  220c              MOVS     r2,#0xc               ;713
000bc6  4629              MOV      r1,r5                 ;713
000bc8  7800              LDRB     r0,[r0,#0]            ;713  ; socket_tcp
000bca  f7fffffe          BL       tcp_send
000bce  f9b60002          LDRSH    r0,[r6,#2]            ;728  ; modbus_tcp_rx_arg0
000bd2  e3fd              B        |L1.5072|
                  |L1.3028|
;;;735    			{
;;;736    			U8 *sendbuf;
;;;737    			unsigned short modbus_tcp_write_args[100];
;;;738    			char i;
;;;739    
;;;740    			//pvlk=0;
;;;741    
;;;742    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000bd4  2000              MOVS     r0,#0
000bd6  f9b51004          LDRSH    r1,[r5,#4]
000bda  e009              B        |L1.3056|
                  |L1.3036|
;;;743    				{
;;;744    				modbus_tcp_write_args[i]=(((unsigned short)ptr[13+(i*2)])*((unsigned short)256))+((unsigned short)ptr[14+(i*2)]);
000bdc  eb040240          ADD      r2,r4,r0,LSL #1
000be0  7b93              LDRB     r3,[r2,#0xe]
000be2  7b52              LDRB     r2,[r2,#0xd]
000be4  eb032202          ADD      r2,r3,r2,LSL #8
000be8  f82d2010          STRH     r2,[sp,r0,LSL #1]
000bec  1c40              ADDS     r0,r0,#1              ;742
000bee  b2c0              UXTB     r0,r0                 ;742
                  |L1.3056|
000bf0  4288              CMP      r0,r1                 ;742
000bf2  dbf3              BLT      |L1.3036|
;;;745    				//pvlk++;
;;;746    				}
;;;747    			
;;;748    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000bf4  f04f0800          MOV      r8,#0
000bf8  e3eb              B        |L1.5074|
                  |L1.3066|
;;;749    				{
;;;750    
;;;751    				if((modbus_tcp_rx_arg0+i)==50)		//ток стабилизации для режима стабилизации тока
000bfa  4827              LDR      r0,|L1.3224|
000bfc  f9b00002          LDRSH    r0,[r0,#2]  ; modbus_tcp_rx_arg0
000c00  4440              ADD      r0,r0,r8
000c02  2832              CMP      r0,#0x32
000c04  d036              BEQ      |L1.3188|
;;;752    					{
;;;753    					I_ug=modbus_tcp_write_args[i];
;;;754    					lc640_write_int(EE_I_UG,I_ug);
;;;755    					}
;;;756    				else if((modbus_tcp_rx_arg0+i)==51)	//напряжение стабилизации для режима стабилизации напряжения
000c06  2833              CMP      r0,#0x33
000c08  d03a              BEQ      |L1.3200|
;;;757    					{
;;;758    					U_up=modbus_tcp_write_args[i];
;;;759    					lc640_write_int(EE_U_UP,U_up);
;;;760    					}
;;;761    				else if((modbus_tcp_rx_arg0+i)==52)		//максимапльное напряжение для режима стабилизации тока
000c0a  2834              CMP      r0,#0x34
000c0c  d03e              BEQ      |L1.3212|
;;;762    					{
;;;763    					U_maxg=modbus_tcp_write_args[i];
;;;764    					lc640_write_int(EE_U_MAX_G,U_maxg);
;;;765    					}
;;;766    				else if((modbus_tcp_rx_arg0+i)==53)		//максимальный ток для режима стабилизации напряжения
000c0e  2835              CMP      r0,#0x35
000c10  d076              BEQ      |L1.3328|
;;;767    					{
;;;768    					I_maxp=modbus_tcp_write_args[i];
;;;769    					lc640_write_int(EE_I_MAX_P,I_maxp);
;;;770    					}								
;;;771    				else if((modbus_tcp_rx_arg0+i)==54)		//Установка времени для ист.тока.секунды
000c12  2836              CMP      r0,#0x36
000c14  d07a              BEQ      |L1.3340|
;;;772    					{
;;;773    					signed long sec,min,hour;
;;;774    					sec=(signed long)modbus_tcp_write_args[i];
;;;775    					min=(T_PROC_GS/60L)%60L;
;;;776    					hour=T_PROC_GS/3600L;
;;;777    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;778    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;779    					}
;;;780    				else if((modbus_tcp_rx_arg0+i)==55)		//Установка времени для ист.тока.минуты
000c16  2837              CMP      r0,#0x37
000c18  d06c              BEQ      |L1.3316|
;;;781    					{
;;;782    					signed long sec,min,hour;
;;;783    					sec=T_PROC_GS%60L;
;;;784    					min=(signed long)modbus_tcp_write_args[i];
;;;785    					hour=T_PROC_GS/3600L;
;;;786    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;787    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;788    					}
;;;789    				else if((modbus_tcp_rx_arg0+i)==56)		//Установка времени для ист.тока.часы
000c1a  2838              CMP      r0,#0x38
000c1c  d06b              BEQ      |L1.3318|
;;;790    					{
;;;791    					signed long sec,min,hour;
;;;792    					sec=T_PROC_GS%60L;
;;;793    					min=(T_PROC_GS/60L)%60L;
;;;794    					hour=(signed long)modbus_tcp_write_args[i];
;;;795    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;796    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;797    					}
;;;798    				else if((modbus_tcp_rx_arg0+i)==57)		//Установка времени для ист.напр.секунды
000c1e  2839              CMP      r0,#0x39
000c20  d06a              BEQ      |L1.3320|
;;;799    					{
;;;800    					signed long sec,min,hour;
;;;801    					sec=(signed long)modbus_tcp_write_args[i];
;;;802    					min=(T_PROC_PS/60L)%60L;
;;;803    					hour=T_PROC_PS/3600L;
;;;804    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;805    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;806    					}
;;;807    				else if((modbus_tcp_rx_arg0+i)==58)		//Установка времени для ист.напр.минуты
000c22  283a              CMP      r0,#0x3a
000c24  d069              BEQ      |L1.3322|
;;;808    					{
;;;809    					signed long sec,min,hour;
;;;810    					sec=T_PROC_PS%60L;
;;;811    					min=(signed long)modbus_tcp_write_args[i];
;;;812    					hour=T_PROC_PS/3600L;
;;;813    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;814    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;815    					}
;;;816    	
;;;817    				else if((modbus_tcp_rx_arg0+i)==59)		//Установка времени для ист.напр.часы
000c26  283b              CMP      r0,#0x3b
000c28  d068              BEQ      |L1.3324|
;;;818    					{
;;;819    					signed long sec,min,hour;
;;;820    					sec=T_PROC_PS%60L;
;;;821    					min=(T_PROC_PS/60L)%60L;
;;;822    					hour=(signed long)modbus_tcp_write_args[i];
;;;823    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;824    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;825    					}
;;;826    
;;;827    	 			else if((modbus_tcp_rx_arg0+i)==60)		//вкл/выкл источника напр.
000c2a  283c              CMP      r0,#0x3c
000c2c  d067              BEQ      |L1.3326|
;;;828    					{
;;;829    					if(modbus_tcp_write_args[i]==1)
;;;830    						{
;;;831    						if(work_stat!=wsPS)
;;;832    							{
;;;833    							work_stat=wsPS;
;;;834    							time_proc=0;
;;;835    							time_proc_remain=T_PROC_PS;
;;;836    							restart_on_PS();
;;;837    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;838    							}
;;;839    						}
;;;840    					if(modbus_tcp_write_args[i]==0)
;;;841    						{
;;;842    						if(work_stat==wsPS)
;;;843    							{
;;;844    							work_stat=wsOFF;
;;;845    							restart_off();
;;;846    							}
;;;847    						}
;;;848    					}
;;;849    				else if((modbus_tcp_rx_arg0+i)==61)		//вкл/выкл источника тока
000c2e  283d              CMP      r0,#0x3d
000c30  d07e              BEQ      |L1.3376|
;;;850    					{
;;;851    					if(modbus_tcp_write_args[i]==1)
;;;852    						{
;;;853    						if(work_stat!=wsGS)
;;;854    							{
;;;855    							work_stat=wsGS;
;;;856    							time_proc=0;
;;;857    							time_proc_remain=T_PROC_GS;
;;;858    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;859    							}
;;;860    						}
;;;861    					if(modbus_tcp_write_args[i]==0)
;;;862    						{
;;;863    						if(work_stat==wsGS)
;;;864    							{
;;;865    							work_stat=wsOFF;
;;;866    							restart_off();
;;;867    							}
;;;868    						}
;;;869    					}
;;;870    				else if((modbus_tcp_rx_arg0+i)==62)		//переключение реле реверса
000c32  283e              CMP      r0,#0x3e
000c34  d07d              BEQ      |L1.3378|
;;;871    					{
;;;872    						{
;;;873    						if(work_stat==wsOFF)
;;;874    							{
;;;875    							if(modbus_tcp_write_args[i]==0)REV_STAT=rsFF;
;;;876    							if(modbus_tcp_write_args[i]==1)REV_STAT=rsREW;
;;;877    							}
;;;878    						}
;;;879    					}
;;;880    				else if((modbus_tcp_rx_arg0+i)==63)		//включение-выключение автореверса
000c36  283f              CMP      r0,#0x3f
000c38  d07c              BEQ      |L1.3380|
;;;881    					{
;;;882    						{
;;;883    						if((work_stat==wsOFF)&&(REV_IS_ON))
;;;884    							{
;;;885    							if(modbus_tcp_write_args[i]==1)AVT_REV_IS_ON=1;
;;;886    							if(modbus_tcp_write_args[i]==0)AVT_REV_IS_ON=0;
;;;887    							lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;888    							}
;;;889    						}
;;;890    					}
;;;891    				else if((modbus_tcp_rx_arg0+i)==64)		//Автореверс, время работы прямое, сек
000c3a  2840              CMP      r0,#0x40
000c3c  d07b              BEQ      |L1.3382|
;;;892    					{
;;;893    					if(work_stat==wsOFF)
;;;894    						{
;;;895    						AVT_REV_TIME_FF=modbus_tcp_write_args[i];
;;;896    						gran_u/*long*/(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;897    						lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;898    						}
;;;899    					}
;;;900    				else if((modbus_tcp_rx_arg0+i)==65)		//Автореверс, время работы обратное, сек
000c3e  2841              CMP      r0,#0x41
000c40  d07a              BEQ      |L1.3384|
;;;901    					{
;;;902    					if(work_stat==wsOFF)
;;;903    						{
;;;904    						AVT_REV_TIME_REW=modbus_tcp_write_args[i];
;;;905    						gran_u/*long*/(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;906    						lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;907    						}
;;;908    					}
;;;909    				else if((modbus_tcp_rx_arg0+i)==66)		//Автореверс, время паузы при переключении, сек
000c42  2842              CMP      r0,#0x42
000c44  d079              BEQ      |L1.3386|
;;;910    					{
;;;911    					if(work_stat==wsOFF)
;;;912    						{
;;;913    						AVT_REV_TIME_PAUSE=modbus_tcp_write_args[i];
;;;914    						gran(&AVT_REV_TIME_PAUSE,2,600);
;;;915    						lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;916    						}
;;;917    					}
;;;918    	
;;;919    				else if((modbus_tcp_rx_arg0+i)==67)		//Автореверс, ток стабилизации прямой, 0.1А
000c46  2843              CMP      r0,#0x43
000c48  d078              BEQ      |L1.3388|
;;;920    					{
;;;921    					if(work_stat==wsOFF)
;;;922    						{
;;;923    						AVT_REV_I_NOM_FF=modbus_tcp_write_args[i];
;;;924    			    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;925    						lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;926    						}
;;;927    					}
;;;928    	
;;;929    				else if((modbus_tcp_rx_arg0+i)==68)		//Автореверс, ток стабилизации обратный, 0.1А
000c4a  2844              CMP      r0,#0x44
000c4c  d077              BEQ      |L1.3390|
;;;930    					{
;;;931    					if(work_stat==wsOFF)
;;;932    						{
;;;933    						AVT_REV_I_NOM_REW=modbus_tcp_write_args[i];
;;;934    			    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;935    						lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;936    						}
;;;937    					}
;;;938    				else if((modbus_tcp_rx_arg0+i)==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
000c4e  2845              CMP      r0,#0x45
000c50  d076              BEQ      |L1.3392|
;;;939    					{
;;;940    					if(work_stat==wsOFF)
;;;941    						{
;;;942    						AVT_REV_U_NOM_FF=modbus_tcp_write_args[i];
;;;943    			    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;944    						lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;945    						}
;;;946    					}
;;;947    	
;;;948    				else if((modbus_tcp_rx_arg0+i)==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
000c52  2846              CMP      r0,#0x46
000c54  d075              BEQ      |L1.3394|
;;;949    					{
;;;950    					if(work_stat==wsOFF)
;;;951    						{
;;;952    						AVT_REV_U_NOM_REW=modbus_tcp_write_args[i];
;;;953    			    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;954    						lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;955    						}
;;;956    					}
;;;957    				else if((modbus_tcp_rx_arg0+i)==71)		//Время заряда испытательного цикла, 0.1С 
000c56  2847              CMP      r0,#0x47
000c58  d074              BEQ      |L1.3396|
;;;958    					{
;;;959    					if(work_stat==wsOFF)
;;;960    						{
;;;961    						CAP_ZAR_TIME=modbus_tcp_write_args[i];
;;;962    			    			gran(&CAP_ZAR_TIME,10,9999);
;;;963    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;964    						}
;;;965    					}
;;;966    				else if((modbus_tcp_rx_arg0+i)==72)		//Время паузы1 испытательного цикла, 0.1С 
000c5a  2848              CMP      r0,#0x48
000c5c  d073              BEQ      |L1.3398|
;;;967    					{
;;;968    					if(work_stat==wsOFF)
;;;969    						{
;;;970    						CAP_PAUSE1_TIME=modbus_tcp_write_args[i];
;;;971    			    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;972    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;973    						}
;;;974    					}
;;;975    				else if((modbus_tcp_rx_arg0+i)==73)		//Время разряда испытательного цикла, 0.1С 
000c5e  2849              CMP      r0,#0x49
000c60  d072              BEQ      |L1.3400|
;;;976    					{
;;;977    					if(work_stat==wsOFF)
;;;978    						{
;;;979    						CAP_RAZR_TIME=modbus_tcp_write_args[i];
;;;980    			    			gran(&CAP_RAZR_TIME,10,9999);
;;;981    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;982    						}
;;;983    					}
;;;984    				else if((modbus_tcp_rx_arg0+i)==74)		//Время паузы2 испытательного цикла, 0.1С 
000c62  284a              CMP      r0,#0x4a
000c64  d071              BEQ      |L1.3402|
;;;985    					{
;;;986    					if(work_stat==wsOFF)
;;;987    						{
;;;988    						CAP_PAUSE2_TIME=modbus_tcp_write_args[i];
;;;989    			    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;990    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;991    						}
;;;992    					}
;;;993    	
;;;994    				else if((modbus_tcp_rx_arg0+i)==75)		//Максимальное напряжение испытательного цикла, 1В  
000c66  284b              CMP      r0,#0x4b
000c68  d070              BEQ      |L1.3404|
;;;995    					{
;;;996    					if(work_stat==wsOFF)
;;;997    						{
;;;998    						CAP_MAX_VOLT=modbus_tcp_write_args[i];
;;;999    			    			gran(&CAP_MAX_VOLT,1,100);
;;;1000   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1001   						}
;;;1002   					}
;;;1003   				else if((modbus_tcp_rx_arg0+i)==76)		//Рабочий ток испытательного цикла, 1А 
000c6a  284c              CMP      r0,#0x4c
000c6c  d06f              BEQ      |L1.3406|
;;;1004   					{
;;;1005   					if(work_stat==wsOFF)
;;;1006   						{
;;;1007   						CAP_WRK_CURR=modbus_tcp_write_args[i];
;;;1008   			    			gran(&CAP_WRK_CURR,1,150);
;;;1009   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1010   						}
;;;1011   					}
;;;1012   	
;;;1013   				else if((modbus_tcp_rx_arg0+i)==77)		//Регистр для записи команд 
000c6e  284d              CMP      r0,#0x4d
000c70  d06e              BEQ      |L1.3408|
000c72  e383              B        |L1.4988|
                  |L1.3188|
000c74  481b              LDR      r0,|L1.3300|
000c76  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;753
000c7a  8001              STRH     r1,[r0,#0]            ;753
000c7c  2020              MOVS     r0,#0x20              ;754
000c7e  e37b              B        |L1.4984|
                  |L1.3200|
000c80  4819              LDR      r0,|L1.3304|
000c82  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;758
000c86  8001              STRH     r1,[r0,#0]            ;758
000c88  2022              MOVS     r0,#0x22              ;759
000c8a  e375              B        |L1.4984|
                  |L1.3212|
000c8c  4817              LDR      r0,|L1.3308|
000c8e  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;763
000c92  8001              STRH     r1,[r0,#0]            ;763
000c94  2076              MOVS     r0,#0x76              ;764
000c96  e36f              B        |L1.4984|
                  |L1.3224|
                          DCD      ||.data||
                  |L1.3228|
                          DCD      CAP_PAUSE2_TIME
                  |L1.3232|
                          DCD      CAP_MAX_VOLT
                  |L1.3236|
                          DCD      CAP_WRK_CURR
                  |L1.3240|
                          DCD      RELE_FUNC
                  |L1.3244|
                          DCD      rele_ext_cntrl
                  |L1.3248|
                          DCD      pwm_u_reg
                  |L1.3252|
                          DCD      pwm_i_reg
                  |L1.3256|
                          DCD      pwm_t_reg
                  |L1.3260|
                          DCD      I_ug_ram
                  |L1.3264|
                          DCD      U_up_ram
                  |L1.3268|
                          DCD      eepromRamSwitch
                  |L1.3272|
                          DCD      time_proc
                  |L1.3276|
                          DCD      time_proc_remain
                  |L1.3280|
                          DCD      T_PROC_MAX
                  |L1.3284|
                          DCD      T_PROC_GS_MODE
                  |L1.3288|
                          DCD      T_PROC_PS_MODE
                  |L1.3292|
                          DCD      MODBUS_ADRESS
                  |L1.3296|
                          DCD      socket_tcp
                  |L1.3300|
                          DCD      I_ug
                  |L1.3304|
                          DCD      U_up
                  |L1.3308|
                          DCD      U_maxg
000cf0  e006              B        |L1.3328|
000cf2  e00b              B        |L1.3340|
                  |L1.3316|
000cf4  e034              B        |L1.3424|
                  |L1.3318|
000cf6  e045              B        |L1.3460|
                  |L1.3320|
000cf8  e05a              B        |L1.3504|
                  |L1.3322|
000cfa  e071              B        |L1.3552|
                  |L1.3324|
000cfc  e07e              B        |L1.3580|
                  |L1.3326|
000cfe  e098              B        |L1.3634|
                  |L1.3328|
000d00  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;768
000d04  48ff              LDR      r0,|L1.4356|
000d06  8001              STRH     r1,[r0,#0]            ;768
000d08  2078              MOVS     r0,#0x78              ;769
000d0a  e335              B        |L1.4984|
                  |L1.3340|
000d0c  f8da1000          LDR      r1,[r10,#0]           ;775  ; T_PROC_GS
000d10  203c              MOVS     r0,#0x3c              ;775
000d12  fb91f2f0          SDIV     r2,r1,r0              ;775
000d16  fb92f3f0          SDIV     r3,r2,r0              ;775
000d1a  fb002213          MLS      r2,r0,r3,r2           ;775
000d1e  f44f6061          MOV      r0,#0xe10             ;776
000d22  fb91f0f0          SDIV     r0,r1,r0              ;776
000d26  f83d5018          LDRH     r5,[sp,r8,LSL #1]     ;774
000d2a  f44f6161          MOV      r1,#0xe10             ;777
000d2e  e010              B        |L1.3410|
                  |L1.3376|
000d30  e09d              B        |L1.3694|
                  |L1.3378|
000d32  e0bb              B        |L1.3756|
                  |L1.3380|
000d34  e0ca              B        |L1.3788|
                  |L1.3382|
000d36  e0e2              B        |L1.3838|
                  |L1.3384|
000d38  e0f3              B        |L1.3874|
                  |L1.3386|
000d3a  e104              B        |L1.3910|
                  |L1.3388|
000d3c  e115              B        |L1.3946|
                  |L1.3390|
000d3e  e129              B        |L1.3988|
                  |L1.3392|
000d40  e13d              B        |L1.4030|
                  |L1.3394|
000d42  e151              B        |L1.4072|
                  |L1.3396|
000d44  e165              B        |L1.4114|
                  |L1.3398|
000d46  e176              B        |L1.4150|
                  |L1.3400|
000d48  e187              B        |L1.4186|
                  |L1.3402|
000d4a  e197              B        |L1.4220|
                  |L1.3404|
000d4c  e1a7              B        |L1.4254|
                  |L1.3406|
000d4e  e1b7              B        |L1.4288|
                  |L1.3408|
000d50  e1bd              B        |L1.4302|
                  |L1.3410|
000d52  4348              MULS     r0,r1,r0              ;777
000d54  ebc21102          RSB      r1,r2,r2,LSL #4       ;777
000d58  eb000081          ADD      r0,r0,r1,LSL #2       ;777
000d5c  1941              ADDS     r1,r0,r5              ;777
000d5e  e00d              B        |L1.3452|
                  |L1.3424|
000d60  f8da0000          LDR      r0,[r10,#0]           ;783  ; T_PROC_GS
000d64  213c              MOVS     r1,#0x3c              ;783
000d66  fb90f2f1          SDIV     r2,r0,r1              ;783
000d6a  fb010112          MLS      r1,r1,r2,r0           ;783
000d6e  f44f6361          MOV      r3,#0xe10             ;785
000d72  fb90f0f3          SDIV     r0,r0,r3              ;785
000d76  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;784
000d7a  e010              B        |L1.3486|
                  |L1.3452|
000d7c  20d8              MOVS     r0,#0xd8              ;778
000d7e  f8ca1000          STR      r1,[r10,#0]           ;778  ; T_PROC_GS
000d82  e053              B        |L1.3628|
                  |L1.3460|
000d84  f8da1000          LDR      r1,[r10,#0]           ;792  ; T_PROC_GS
000d88  223c              MOVS     r2,#0x3c              ;792
000d8a  fb91f0f2          SDIV     r0,r1,r2              ;792
000d8e  fb90f3f2          SDIV     r3,r0,r2              ;793
000d92  fb021110          MLS      r1,r2,r0,r1           ;792
000d96  fb020213          MLS      r2,r2,r3,r0           ;793
000d9a  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;794
                  |L1.3486|
000d9e  f44f6361          MOV      r3,#0xe10             ;795
000da2  4358              MULS     r0,r3,r0              ;795
000da4  ebc21202          RSB      r2,r2,r2,LSL #4       ;795
000da8  eb000082          ADD      r0,r0,r2,LSL #2       ;795
000dac  4401              ADD      r1,r1,r0              ;795
000dae  e7e5              B        |L1.3452|
                  |L1.3504|
000db0  f8db5000          LDR      r5,[r11,#0]           ;802  ; T_PROC_PS
000db4  213c              MOVS     r1,#0x3c              ;802
000db6  fb95f2f1          SDIV     r2,r5,r1              ;802
000dba  fb92f3f1          SDIV     r3,r2,r1              ;802
000dbe  fb012213          MLS      r2,r1,r3,r2           ;802
000dc2  f44f6161          MOV      r1,#0xe10             ;803
000dc6  fb95f1f1          SDIV     r1,r5,r1              ;803
000dca  f44f6361          MOV      r3,#0xe10             ;804
000dce  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;801
000dd2  4359              MULS     r1,r3,r1              ;804
000dd4  ebc21202          RSB      r2,r2,r2,LSL #4       ;804
000dd8  eb010182          ADD      r1,r1,r2,LSL #2       ;804
000ddc  4401              ADD      r1,r1,r0              ;804
000dde  e022              B        |L1.3622|
                  |L1.3552|
000de0  f8db0000          LDR      r0,[r11,#0]           ;810  ; T_PROC_PS
000de4  213c              MOVS     r1,#0x3c              ;810
000de6  fb90f2f1          SDIV     r2,r0,r1              ;810
000dea  fb010112          MLS      r1,r1,r2,r0           ;810
000dee  f44f6361          MOV      r3,#0xe10             ;812
000df2  fb90f0f3          SDIV     r0,r0,r3              ;812
000df6  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;811
000dfa  e00c              B        |L1.3606|
                  |L1.3580|
000dfc  f8db1000          LDR      r1,[r11,#0]           ;820  ; T_PROC_PS
000e00  223c              MOVS     r2,#0x3c              ;820
000e02  fb91f0f2          SDIV     r0,r1,r2              ;820
000e06  fb90f3f2          SDIV     r3,r0,r2              ;821
000e0a  fb021110          MLS      r1,r2,r0,r1           ;820
000e0e  fb020213          MLS      r2,r2,r3,r0           ;821
000e12  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;822
                  |L1.3606|
000e16  f44f6361          MOV      r3,#0xe10             ;823
000e1a  4358              MULS     r0,r3,r0              ;823
000e1c  ebc21202          RSB      r2,r2,r2,LSL #4       ;823
000e20  eb000082          ADD      r0,r0,r2,LSL #2       ;823
000e24  4401              ADD      r1,r1,r0              ;823
                  |L1.3622|
000e26  20dc              MOVS     r0,#0xdc              ;824
000e28  f8cb1000          STR      r1,[r11,#0]           ;824  ; T_PROC_PS
                  |L1.3628|
000e2c  f7fffffe          BL       lc640_write_long
                  |L1.3632|
000e30  e2a4              B        |L1.4988|
                  |L1.3634|
000e32  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;829
000e36  466d              MOV      r5,sp                 ;829
000e38  2801              CMP      r0,#1                 ;829
000e3a  d110              BNE      |L1.3678|
000e3c  7830              LDRB     r0,[r6,#0]            ;831  ; work_stat
000e3e  2802              CMP      r0,#2                 ;831
000e40  d0f6              BEQ      |L1.3632|
000e42  2002              MOVS     r0,#2                 ;833
000e44  7030              STRB     r0,[r6,#0]            ;833
000e46  48b0              LDR      r0,|L1.4360|
000e48  6007              STR      r7,[r0,#0]            ;835  ; time_proc
000e4a  48b0              LDR      r0,|L1.4364|
000e4c  f8db1000          LDR      r1,[r11,#0]           ;835  ; T_PROC_PS
000e50  6001              STR      r1,[r0,#0]            ;836  ; time_proc_remain
000e52  f7fffffe          BL       restart_on_PS
000e56  2101              MOVS     r1,#1                 ;837
000e58  20ea              MOVS     r0,#0xea              ;837
000e5a  f7fffffe          BL       lc640_write_int
                  |L1.3678|
000e5e  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;840
000e62  2800              CMP      r0,#0                 ;840
000e64  d1e4              BNE      |L1.3632|
000e66  7830              LDRB     r0,[r6,#0]            ;842  ; work_stat
000e68  2802              CMP      r0,#2                 ;842
000e6a  d01b              BEQ      |L1.3748|
                  |L1.3692|
000e6c  e286              B        |L1.4988|
                  |L1.3694|
000e6e  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;851
000e72  466d              MOV      r5,sp                 ;851
000e74  2801              CMP      r0,#1                 ;851
000e76  d10e              BNE      |L1.3734|
000e78  7830              LDRB     r0,[r6,#0]            ;853  ; work_stat
000e7a  2801              CMP      r0,#1                 ;853
000e7c  d0d8              BEQ      |L1.3632|
000e7e  48a2              LDR      r0,|L1.4360|
000e80  f8869000          STRB     r9,[r6,#0]            ;855
000e84  6007              STR      r7,[r0,#0]            ;857  ; time_proc
000e86  48a1              LDR      r0,|L1.4364|
000e88  f8da1000          LDR      r1,[r10,#0]           ;857  ; T_PROC_GS
000e8c  6001              STR      r1,[r0,#0]            ;858  ; time_proc_remain
000e8e  2100              MOVS     r1,#0                 ;858
000e90  20ea              MOVS     r0,#0xea              ;858
000e92  f7fffffe          BL       lc640_write_int
                  |L1.3734|
000e96  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;861
000e9a  2800              CMP      r0,#0                 ;861
000e9c  d1c8              BNE      |L1.3632|
000e9e  7830              LDRB     r0,[r6,#0]            ;863  ; work_stat
000ea0  2801              CMP      r0,#1                 ;863
000ea2  d1c5              BNE      |L1.3632|
                  |L1.3748|
000ea4  7037              STRB     r7,[r6,#0]            ;865
000ea6  f7fffffe          BL       restart_off
                  |L1.3754|
000eaa  e267              B        |L1.4988|
                  |L1.3756|
000eac  7830              LDRB     r0,[r6,#0]            ;873  ; work_stat
000eae  2800              CMP      r0,#0                 ;873
000eb0  d1be              BNE      |L1.3632|
000eb2  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;875
000eb6  b110              CBZ      r0,|L1.3774|
000eb8  2801              CMP      r0,#1                 ;876
000eba  d004              BEQ      |L1.3782|
000ebc  e25e              B        |L1.4988|
                  |L1.3774|
000ebe  4994              LDR      r1,|L1.4368|
000ec0  f8819000          STRB     r9,[r1,#0]            ;875
000ec4  e25a              B        |L1.4988|
                  |L1.3782|
000ec6  4892              LDR      r0,|L1.4368|
000ec8  7007              STRB     r7,[r0,#0]            ;876
000eca  e257              B        |L1.4988|
                  |L1.3788|
000ecc  7830              LDRB     r0,[r6,#0]            ;883  ; work_stat
000ece  2800              CMP      r0,#0                 ;883
000ed0  d1ae              BNE      |L1.3632|
000ed2  4890              LDR      r0,|L1.4372|
000ed4  8800              LDRH     r0,[r0,#0]            ;883  ; REV_IS_ON
000ed6  2800              CMP      r0,#0                 ;883
000ed8  d0aa              BEQ      |L1.3632|
000eda  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;885
000ede  2801              CMP      r0,#1                 ;885
000ee0  d001              BEQ      |L1.3814|
000ee2  b120              CBZ      r0,|L1.3822|
000ee4  e005              B        |L1.3826|
                  |L1.3814|
000ee6  498c              LDR      r1,|L1.4376|
000ee8  f8a19000          STRH     r9,[r1,#0]            ;885
000eec  e001              B        |L1.3826|
                  |L1.3822|
000eee  488a              LDR      r0,|L1.4376|
000ef0  8007              STRH     r7,[r0,#0]            ;886
                  |L1.3826|
000ef2  4889              LDR      r0,|L1.4376|
000ef4  f9b01000          LDRSH    r1,[r0,#0]            ;887  ; AVT_REV_IS_ON
000ef8  f44f7084          MOV      r0,#0x108             ;887
000efc  e23c              B        |L1.4984|
                  |L1.3838|
000efe  7830              LDRB     r0,[r6,#0]            ;893  ; work_stat
000f00  2800              CMP      r0,#0                 ;893
000f02  d195              BNE      |L1.3632|
000f04  4d85              LDR      r5,|L1.4380|
000f06  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;895
000f0a  4885              LDR      r0,|L1.4384|
000f0c  8029              STRH     r1,[r5,#0]            ;895
000f0e  211e              MOVS     r1,#0x1e              ;896
000f10  8802              LDRH     r2,[r0,#0]            ;896  ; T_PROC_MAX
000f12  4628              MOV      r0,r5                 ;896
000f14  f7fffffe          BL       gran_u
000f18  8828              LDRH     r0,[r5,#0]            ;897  ; AVT_REV_TIME_FF
000f1a  b201              SXTH     r1,r0                 ;897
000f1c  f44f7085          MOV      r0,#0x10a             ;897
000f20  e22a              B        |L1.4984|
                  |L1.3874|
000f22  7830              LDRB     r0,[r6,#0]            ;902  ; work_stat
000f24  2800              CMP      r0,#0                 ;902
000f26  d1a1              BNE      |L1.3692|
000f28  4d7e              LDR      r5,|L1.4388|
000f2a  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;904
000f2e  487c              LDR      r0,|L1.4384|
000f30  8029              STRH     r1,[r5,#0]            ;904
000f32  211e              MOVS     r1,#0x1e              ;905
000f34  8802              LDRH     r2,[r0,#0]            ;905  ; T_PROC_MAX
000f36  4628              MOV      r0,r5                 ;905
000f38  f7fffffe          BL       gran_u
000f3c  8828              LDRH     r0,[r5,#0]            ;906  ; AVT_REV_TIME_REW
000f3e  b201              SXTH     r1,r0                 ;906
000f40  f44f709f          MOV      r0,#0x13e             ;906
000f44  e218              B        |L1.4984|
                  |L1.3910|
000f46  7830              LDRB     r0,[r6,#0]            ;911  ; work_stat
000f48  2800              CMP      r0,#0                 ;911
000f4a  d18f              BNE      |L1.3692|
000f4c  4d76              LDR      r5,|L1.4392|
000f4e  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;913
000f52  f44f7216          MOV      r2,#0x258             ;914
000f56  8029              STRH     r1,[r5,#0]            ;913
000f58  2102              MOVS     r1,#2                 ;914
000f5a  4628              MOV      r0,r5                 ;914
000f5c  f7fffffe          BL       gran
000f60  f9b51000          LDRSH    r1,[r5,#0]            ;915  ; AVT_REV_TIME_PAUSE
000f64  f44f7087          MOV      r0,#0x10e             ;915
000f68  e206              B        |L1.4984|
                  |L1.3946|
000f6a  7830              LDRB     r0,[r6,#0]            ;921  ; work_stat
000f6c  2800              CMP      r0,#0                 ;921
000f6e  d19c              BNE      |L1.3754|
000f70  4d6e              LDR      r5,|L1.4396|
000f72  486f              LDR      r0,|L1.4400|
000f74  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;923
000f78  8029              STRH     r1,[r5,#0]            ;923
000f7a  f9b02000          LDRSH    r2,[r0,#0]            ;924  ; I_MAX_IPS
000f7e  486d              LDR      r0,|L1.4404|
000f80  f9b01000          LDRSH    r1,[r0,#0]            ;924  ; I_MIN_IPS
000f84  4628              MOV      r0,r5                 ;924
000f86  f7fffffe          BL       gran
000f8a  f9b51000          LDRSH    r1,[r5,#0]            ;925  ; AVT_REV_I_NOM_FF
000f8e  f44f7088          MOV      r0,#0x110             ;925
000f92  e1f1              B        |L1.4984|
                  |L1.3988|
000f94  7830              LDRB     r0,[r6,#0]            ;931  ; work_stat
000f96  2800              CMP      r0,#0                 ;931
000f98  d187              BNE      |L1.3754|
000f9a  4d67              LDR      r5,|L1.4408|
000f9c  4864              LDR      r0,|L1.4400|
000f9e  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;933
000fa2  8029              STRH     r1,[r5,#0]            ;933
000fa4  f9b02000          LDRSH    r2,[r0,#0]            ;934  ; I_MAX_IPS
000fa8  4862              LDR      r0,|L1.4404|
000faa  f9b01000          LDRSH    r1,[r0,#0]            ;934  ; I_MIN_IPS
000fae  4628              MOV      r0,r5                 ;934
000fb0  f7fffffe          BL       gran
000fb4  f9b51000          LDRSH    r1,[r5,#0]            ;935  ; AVT_REV_I_NOM_REW
000fb8  f44f7089          MOV      r0,#0x112             ;935
000fbc  e1dc              B        |L1.4984|
                  |L1.4030|
000fbe  7830              LDRB     r0,[r6,#0]            ;940  ; work_stat
000fc0  2800              CMP      r0,#0                 ;940
000fc2  d17c              BNE      |L1.4286|
000fc4  4d5d              LDR      r5,|L1.4412|
000fc6  485e              LDR      r0,|L1.4416|
000fc8  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;942
000fcc  8029              STRH     r1,[r5,#0]            ;942
000fce  f9b02000          LDRSH    r2,[r0,#0]            ;943  ; U_MAX
000fd2  485c              LDR      r0,|L1.4420|
000fd4  f9b01000          LDRSH    r1,[r0,#0]            ;943  ; U_MIN
000fd8  4628              MOV      r0,r5                 ;943
000fda  f7fffffe          BL       gran
000fde  f9b51000          LDRSH    r1,[r5,#0]            ;944  ; AVT_REV_U_NOM_FF
000fe2  f44f708a          MOV      r0,#0x114             ;944
000fe6  e1c7              B        |L1.4984|
                  |L1.4072|
000fe8  7830              LDRB     r0,[r6,#0]            ;950  ; work_stat
000fea  2800              CMP      r0,#0                 ;950
000fec  d167              BNE      |L1.4286|
000fee  4d56              LDR      r5,|L1.4424|
000ff0  4853              LDR      r0,|L1.4416|
000ff2  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;952
000ff6  8029              STRH     r1,[r5,#0]            ;952
000ff8  f9b02000          LDRSH    r2,[r0,#0]            ;953  ; U_MAX
000ffc  4851              LDR      r0,|L1.4420|
000ffe  f9b01000          LDRSH    r1,[r0,#0]            ;953  ; U_MIN
001002  4628              MOV      r0,r5                 ;953
001004  f7fffffe          BL       gran
001008  f9b51000          LDRSH    r1,[r5,#0]            ;954  ; AVT_REV_U_NOM_REW
00100c  f44f708b          MOV      r0,#0x116             ;954
001010  e1b2              B        |L1.4984|
                  |L1.4114|
001012  7830              LDRB     r0,[r6,#0]            ;959  ; work_stat
001014  2800              CMP      r0,#0                 ;959
001016  d152              BNE      |L1.4286|
001018  4d4c              LDR      r5,|L1.4428|
00101a  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;961
00101e  f242720f          MOV      r2,#0x270f            ;962
001022  8029              STRH     r1,[r5,#0]            ;961
001024  210a              MOVS     r1,#0xa               ;962
001026  4628              MOV      r0,r5                 ;962
001028  f7fffffe          BL       gran
00102c  f9b51000          LDRSH    r1,[r5,#0]            ;963  ; CAP_ZAR_TIME
001030  f44f70e9          MOV      r0,#0x1d2             ;963
001034  e1a0              B        |L1.4984|
                  |L1.4150|
001036  7830              LDRB     r0,[r6,#0]            ;968  ; work_stat
001038  2800              CMP      r0,#0                 ;968
00103a  d140              BNE      |L1.4286|
00103c  4d44              LDR      r5,|L1.4432|
00103e  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;970
001042  f242720f          MOV      r2,#0x270f            ;971
001046  8029              STRH     r1,[r5,#0]            ;970
001048  210a              MOVS     r1,#0xa               ;971
00104a  4628              MOV      r0,r5                 ;971
00104c  f7fffffe          BL       gran
001050  f9b51000          LDRSH    r1,[r5,#0]            ;972  ; CAP_PAUSE1_TIME
001054  f44f70ea          MOV      r0,#0x1d4             ;972
001058  e18e              B        |L1.4984|
                  |L1.4186|
00105a  7830              LDRB     r0,[r6,#0]            ;977  ; work_stat
00105c  bb78              CBNZ     r0,|L1.4286|
00105e  4d3d              LDR      r5,|L1.4436|
001060  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;979
001064  f242720f          MOV      r2,#0x270f            ;980
001068  8029              STRH     r1,[r5,#0]            ;979
00106a  210a              MOVS     r1,#0xa               ;980
00106c  4628              MOV      r0,r5                 ;980
00106e  f7fffffe          BL       gran
001072  f9b51000          LDRSH    r1,[r5,#0]            ;981  ; CAP_RAZR_TIME
001076  f44f70eb          MOV      r0,#0x1d6             ;981
00107a  e17d              B        |L1.4984|
                  |L1.4220|
00107c  7830              LDRB     r0,[r6,#0]            ;986  ; work_stat
00107e  b9f0              CBNZ     r0,|L1.4286|
001080  4d35              LDR      r5,|L1.4440|
001082  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;988
001086  f242720f          MOV      r2,#0x270f            ;989
00108a  8029              STRH     r1,[r5,#0]            ;988
00108c  210a              MOVS     r1,#0xa               ;989
00108e  4628              MOV      r0,r5                 ;989
001090  f7fffffe          BL       gran
001094  f9b51000          LDRSH    r1,[r5,#0]            ;990  ; CAP_PAUSE2_TIME
001098  f44f70ec          MOV      r0,#0x1d8             ;990
00109c  e16c              B        |L1.4984|
                  |L1.4254|
00109e  7830              LDRB     r0,[r6,#0]            ;996  ; work_stat
0010a0  b968              CBNZ     r0,|L1.4286|
0010a2  4d2e              LDR      r5,|L1.4444|
0010a4  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;998
0010a8  2264              MOVS     r2,#0x64              ;999
0010aa  8029              STRH     r1,[r5,#0]            ;998
0010ac  2101              MOVS     r1,#1                 ;999
0010ae  4628              MOV      r0,r5                 ;999
0010b0  f7fffffe          BL       gran
0010b4  f9b51000          LDRSH    r1,[r5,#0]            ;1000  ; CAP_MAX_VOLT
0010b8  f44f70ed          MOV      r0,#0x1da             ;1000
0010bc  e15c              B        |L1.4984|
                  |L1.4286|
0010be  e020              B        |L1.4354|
                  |L1.4288|
0010c0  7830              LDRB     r0,[r6,#0]            ;1005  ; work_stat
0010c2  b9f0              CBNZ     r0,|L1.4354|
0010c4  4d26              LDR      r5,|L1.4448|
0010c6  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;1007
0010ca  8029              STRH     r1,[r5,#0]            ;1007
0010cc  e14b              B        |L1.4966|
                  |L1.4302|
;;;1014   					{
;;;1015   					if(modbus_tcp_write_args[i]==0x11)
0010ce  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0010d2  466d              MOV      r5,sp
0010d4  2811              CMP      r0,#0x11
0010d6  d101              BNE      |L1.4316|
;;;1016   						{
;;;1017   						start_CAP();
0010d8  f7fffffe          BL       start_CAP
                  |L1.4316|
;;;1018   						}
;;;1019   					if(modbus_tcp_write_args[i]==0x12)
0010dc  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010e0  2812              CMP      r0,#0x12
0010e2  d101              BNE      |L1.4328|
;;;1020   						{
;;;1021   						pause_CAP();
0010e4  f7fffffe          BL       pause_CAP
                  |L1.4328|
;;;1022   						}
;;;1023   					if(modbus_tcp_write_args[i]==0x13)
0010e8  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010ec  2813              CMP      r0,#0x13
0010ee  d101              BNE      |L1.4340|
;;;1024   						{
;;;1025   						stop_CAP();
0010f0  f7fffffe          BL       stop_CAP
                  |L1.4340|
;;;1026   						}
;;;1027   					if(modbus_tcp_write_args[i]==0x14)
0010f4  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010f8  2814              CMP      r0,#0x14
0010fa  d135              BNE      |L1.4456|
;;;1028   						{
;;;1029   						reset_CAP();
0010fc  e032              B        |L1.4452|
                  |L1.4350|
0010fe  e22d              B        |L1.5468|
                  |L1.4352|
001100  e252              B        |L1.5544|
                  |L1.4354|
001102  e076              B        |L1.4594|
                  |L1.4356|
                          DCD      I_maxp
                  |L1.4360|
                          DCD      time_proc
                  |L1.4364|
                          DCD      time_proc_remain
                  |L1.4368|
                          DCD      REV_STAT
                  |L1.4372|
                          DCD      REV_IS_ON
                  |L1.4376|
                          DCD      AVT_REV_IS_ON
                  |L1.4380|
                          DCD      AVT_REV_TIME_FF
                  |L1.4384|
                          DCD      T_PROC_MAX
                  |L1.4388|
                          DCD      AVT_REV_TIME_REW
                  |L1.4392|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.4396|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.4400|
                          DCD      I_MAX_IPS
                  |L1.4404|
                          DCD      I_MIN_IPS
                  |L1.4408|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.4412|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.4416|
                          DCD      U_MAX
                  |L1.4420|
                          DCD      U_MIN
                  |L1.4424|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.4428|
                          DCD      CAP_ZAR_TIME
                  |L1.4432|
                          DCD      CAP_PAUSE1_TIME
                  |L1.4436|
                          DCD      CAP_RAZR_TIME
                  |L1.4440|
                          DCD      CAP_PAUSE2_TIME
                  |L1.4444|
                          DCD      CAP_MAX_VOLT
                  |L1.4448|
                          DCD      CAP_WRK_CURR
                  |L1.4452|
001164  f7fffffe          BL       reset_CAP
                  |L1.4456|
;;;1030   						}
;;;1031   	
;;;1032   					if(modbus_tcp_write_args[i]==0x21)
001168  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00116c  2821              CMP      r0,#0x21
00116e  d111              BNE      |L1.4500|
;;;1033   						{
;;;1034   						if(work_stat==wsOFF)
001170  7830              LDRB     r0,[r6,#0]  ; work_stat
001172  bbf0              CBNZ     r0,|L1.4594|
;;;1035   							{
;;;1036   							CAP_ZAR_TIME++;
001174  4dfb              LDR      r5,|L1.5476|
;;;1037   			    				gran(&CAP_ZAR_TIME,10,9999);
001176  f242720f          MOV      r2,#0x270f
00117a  210a              MOVS     r1,#0xa
00117c  8828              LDRH     r0,[r5,#0]            ;1036  ; CAP_ZAR_TIME
00117e  1c40              ADDS     r0,r0,#1              ;1036
001180  8028              STRH     r0,[r5,#0]            ;1036
001182  4628              MOV      r0,r5
001184  f7fffffe          BL       gran
;;;1038   							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
001188  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_ZAR_TIME
00118c  f44f70e9          MOV      r0,#0x1d2
001190  f7fffffe          BL       lc640_write_int
                  |L1.4500|
;;;1039   							}
;;;1040   						}
;;;1041   					if(modbus_tcp_write_args[i]==0x22)
001194  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001198  2822              CMP      r0,#0x22
00119a  d111              BNE      |L1.4544|
;;;1042   						{
;;;1043   						if(work_stat==wsOFF)
00119c  7830              LDRB     r0,[r6,#0]  ; work_stat
00119e  bb40              CBNZ     r0,|L1.4594|
;;;1044   							{
;;;1045   							CAP_ZAR_TIME--;
0011a0  4df0              LDR      r5,|L1.5476|
;;;1046   			    				gran(&CAP_ZAR_TIME,10,9999);
0011a2  f242720f          MOV      r2,#0x270f
0011a6  210a              MOVS     r1,#0xa
0011a8  8828              LDRH     r0,[r5,#0]            ;1045  ; CAP_ZAR_TIME
0011aa  1e40              SUBS     r0,r0,#1              ;1045
0011ac  8028              STRH     r0,[r5,#0]            ;1045
0011ae  4628              MOV      r0,r5
0011b0  f7fffffe          BL       gran
;;;1047   							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
0011b4  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_ZAR_TIME
0011b8  f44f70e9          MOV      r0,#0x1d2
0011bc  f7fffffe          BL       lc640_write_int
                  |L1.4544|
;;;1048   							}
;;;1049   						}
;;;1050   	
;;;1051   					if(modbus_tcp_write_args[i]==0x31)
0011c0  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011c4  2831              CMP      r0,#0x31
0011c6  d111              BNE      |L1.4588|
;;;1052   						{
;;;1053   						if(work_stat==wsOFF)
0011c8  7830              LDRB     r0,[r6,#0]  ; work_stat
0011ca  b990              CBNZ     r0,|L1.4594|
;;;1054   							{
;;;1055   							CAP_PAUSE1_TIME++;
0011cc  4de6              LDR      r5,|L1.5480|
;;;1056   			    				gran(&CAP_PAUSE1_TIME,10,9999);
0011ce  f242720f          MOV      r2,#0x270f
0011d2  210a              MOVS     r1,#0xa
0011d4  8828              LDRH     r0,[r5,#0]            ;1055  ; CAP_PAUSE1_TIME
0011d6  1c40              ADDS     r0,r0,#1              ;1055
0011d8  8028              STRH     r0,[r5,#0]            ;1055
0011da  4628              MOV      r0,r5
0011dc  f7fffffe          BL       gran
;;;1057   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
0011e0  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
0011e4  f44f70ea          MOV      r0,#0x1d4
0011e8  f7fffffe          BL       lc640_write_int
                  |L1.4588|
;;;1058   							}
;;;1059   						}
;;;1060   					if(modbus_tcp_write_args[i]==0x32)
0011ec  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011f0  e000              B        |L1.4596|
                  |L1.4594|
0011f2  e042              B        |L1.4730|
                  |L1.4596|
0011f4  2832              CMP      r0,#0x32
0011f6  d111              BNE      |L1.4636|
;;;1061   						{
;;;1062   						if(work_stat==wsOFF)
0011f8  7830              LDRB     r0,[r6,#0]  ; work_stat
0011fa  bbf0              CBNZ     r0,|L1.4730|
;;;1063   							{
;;;1064   							CAP_PAUSE1_TIME--;
0011fc  4dda              LDR      r5,|L1.5480|
;;;1065   			    				gran(&CAP_PAUSE1_TIME,10,9999);
0011fe  f242720f          MOV      r2,#0x270f
001202  210a              MOVS     r1,#0xa
001204  8828              LDRH     r0,[r5,#0]            ;1064  ; CAP_PAUSE1_TIME
001206  1e40              SUBS     r0,r0,#1              ;1064
001208  8028              STRH     r0,[r5,#0]            ;1064
00120a  4628              MOV      r0,r5
00120c  f7fffffe          BL       gran
;;;1066   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
001210  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
001214  f44f70ea          MOV      r0,#0x1d4
001218  f7fffffe          BL       lc640_write_int
                  |L1.4636|
;;;1067   							}
;;;1068   						}
;;;1069   	
;;;1070   					if(modbus_tcp_write_args[i]==0x41)
00121c  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001220  2841              CMP      r0,#0x41
001222  d111              BNE      |L1.4680|
;;;1071   						{
;;;1072   						if(work_stat==wsOFF)
001224  7830              LDRB     r0,[r6,#0]  ; work_stat
001226  bb40              CBNZ     r0,|L1.4730|
;;;1073   							{
;;;1074   							CAP_RAZR_TIME++;
001228  4dd0              LDR      r5,|L1.5484|
;;;1075   			    				gran(&CAP_RAZR_TIME,10,9999);
00122a  f242720f          MOV      r2,#0x270f
00122e  210a              MOVS     r1,#0xa
001230  8828              LDRH     r0,[r5,#0]            ;1074  ; CAP_RAZR_TIME
001232  1c40              ADDS     r0,r0,#1              ;1074
001234  8028              STRH     r0,[r5,#0]            ;1074
001236  4628              MOV      r0,r5
001238  f7fffffe          BL       gran
;;;1076   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
00123c  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
001240  f44f70eb          MOV      r0,#0x1d6
001244  f7fffffe          BL       lc640_write_int
                  |L1.4680|
;;;1077   							}
;;;1078   						}
;;;1079   					if(modbus_tcp_write_args[i]==0x42)
001248  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00124c  2842              CMP      r0,#0x42
00124e  d111              BNE      |L1.4724|
;;;1080   						{
;;;1081   						if(work_stat==wsOFF)
001250  7830              LDRB     r0,[r6,#0]  ; work_stat
001252  b990              CBNZ     r0,|L1.4730|
;;;1082   							{
;;;1083   							CAP_RAZR_TIME--;
001254  4dc5              LDR      r5,|L1.5484|
;;;1084   			    				gran(&CAP_RAZR_TIME,10,9999);
001256  f242720f          MOV      r2,#0x270f
00125a  210a              MOVS     r1,#0xa
00125c  8828              LDRH     r0,[r5,#0]            ;1083  ; CAP_RAZR_TIME
00125e  1e40              SUBS     r0,r0,#1              ;1083
001260  8028              STRH     r0,[r5,#0]            ;1083
001262  4628              MOV      r0,r5
001264  f7fffffe          BL       gran
;;;1085   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
001268  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
00126c  f44f70eb          MOV      r0,#0x1d6
001270  f7fffffe          BL       lc640_write_int
                  |L1.4724|
;;;1086   							}
;;;1087   						}
;;;1088   	
;;;1089   					if(modbus_tcp_write_args[i]==0x51)
001274  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001278  e000              B        |L1.4732|
                  |L1.4730|
00127a  e042              B        |L1.4866|
                  |L1.4732|
00127c  2851              CMP      r0,#0x51
00127e  d111              BNE      |L1.4772|
;;;1090   						{
;;;1091   						if(work_stat==wsOFF)
001280  7830              LDRB     r0,[r6,#0]  ; work_stat
001282  bbf0              CBNZ     r0,|L1.4866|
;;;1092   							{
;;;1093   							CAP_PAUSE2_TIME++;
001284  4dba              LDR      r5,|L1.5488|
;;;1094   			    				gran(&CAP_PAUSE2_TIME,10,9999);
001286  f242720f          MOV      r2,#0x270f
00128a  210a              MOVS     r1,#0xa
00128c  8828              LDRH     r0,[r5,#0]            ;1093  ; CAP_PAUSE2_TIME
00128e  1c40              ADDS     r0,r0,#1              ;1093
001290  8028              STRH     r0,[r5,#0]            ;1093
001292  4628              MOV      r0,r5
001294  f7fffffe          BL       gran
;;;1095   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
001298  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
00129c  f44f70ec          MOV      r0,#0x1d8
0012a0  f7fffffe          BL       lc640_write_int
                  |L1.4772|
;;;1096   							}
;;;1097   						}
;;;1098   					if(modbus_tcp_write_args[i]==0x52)
0012a4  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0012a8  2852              CMP      r0,#0x52
0012aa  d111              BNE      |L1.4816|
;;;1099   						{
;;;1100   						if(work_stat==wsOFF)
0012ac  7830              LDRB     r0,[r6,#0]  ; work_stat
0012ae  bb40              CBNZ     r0,|L1.4866|
;;;1101   							{
;;;1102   							CAP_PAUSE2_TIME--;
0012b0  4daf              LDR      r5,|L1.5488|
;;;1103   			    				gran(&CAP_PAUSE2_TIME,10,9999);
0012b2  f242720f          MOV      r2,#0x270f
0012b6  210a              MOVS     r1,#0xa
0012b8  8828              LDRH     r0,[r5,#0]            ;1102  ; CAP_PAUSE2_TIME
0012ba  1e40              SUBS     r0,r0,#1              ;1102
0012bc  8028              STRH     r0,[r5,#0]            ;1102
0012be  4628              MOV      r0,r5
0012c0  f7fffffe          BL       gran
;;;1104   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
0012c4  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
0012c8  f44f70ec          MOV      r0,#0x1d8
0012cc  f7fffffe          BL       lc640_write_int
                  |L1.4816|
;;;1105   							}
;;;1106   						}
;;;1107   	
;;;1108   					if(modbus_tcp_write_args[i]==0x61)
0012d0  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0012d4  2861              CMP      r0,#0x61
0012d6  d110              BNE      |L1.4858|
;;;1109   						{
;;;1110   						if(work_stat==wsOFF)
0012d8  7830              LDRB     r0,[r6,#0]  ; work_stat
0012da  b990              CBNZ     r0,|L1.4866|
;;;1111   							{
;;;1112   							CAP_MAX_VOLT++;
0012dc  4da5              LDR      r5,|L1.5492|
;;;1113   			    				gran(&CAP_MAX_VOLT,1,100);
0012de  2264              MOVS     r2,#0x64
0012e0  2101              MOVS     r1,#1
0012e2  8828              LDRH     r0,[r5,#0]            ;1112  ; CAP_MAX_VOLT
0012e4  1c40              ADDS     r0,r0,#1              ;1112
0012e6  8028              STRH     r0,[r5,#0]            ;1112
0012e8  4628              MOV      r0,r5
0012ea  f7fffffe          BL       gran
;;;1114   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
0012ee  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
0012f2  f44f70ed          MOV      r0,#0x1da
0012f6  f7fffffe          BL       lc640_write_int
                  |L1.4858|
;;;1115   							}
;;;1116   						}
;;;1117   					if(modbus_tcp_write_args[i]==0x62)
0012fa  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0012fe  2862              CMP      r0,#0x62
001300  e000              B        |L1.4868|
                  |L1.4866|
001302  e03b              B        |L1.4988|
                  |L1.4868|
001304  d110              BNE      |L1.4904|
;;;1118   						{
;;;1119   						if(work_stat==wsOFF)
001306  7830              LDRB     r0,[r6,#0]  ; work_stat
001308  bbc0              CBNZ     r0,|L1.4988|
;;;1120   							{
;;;1121   							CAP_MAX_VOLT--;
00130a  4d9a              LDR      r5,|L1.5492|
;;;1122   			    				gran(&CAP_MAX_VOLT,1,100);
00130c  2264              MOVS     r2,#0x64
00130e  2101              MOVS     r1,#1
001310  8828              LDRH     r0,[r5,#0]            ;1121  ; CAP_MAX_VOLT
001312  1e40              SUBS     r0,r0,#1              ;1121
001314  8028              STRH     r0,[r5,#0]            ;1121
001316  4628              MOV      r0,r5
001318  f7fffffe          BL       gran
;;;1123   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
00131c  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
001320  f44f70ed          MOV      r0,#0x1da
001324  f7fffffe          BL       lc640_write_int
                  |L1.4904|
;;;1124   							}
;;;1125   						}
;;;1126   	
;;;1127   					if(modbus_tcp_write_args[i]==0x71)
001328  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00132c  2871              CMP      r0,#0x71
00132e  d110              BNE      |L1.4946|
;;;1128   						{
;;;1129   						if(work_stat==wsOFF)
001330  7830              LDRB     r0,[r6,#0]  ; work_stat
001332  bb18              CBNZ     r0,|L1.4988|
;;;1130   							{
;;;1131   							CAP_WRK_CURR++;
001334  4d90              LDR      r5,|L1.5496|
;;;1132   			    				gran(&CAP_WRK_CURR,1,150);
001336  2296              MOVS     r2,#0x96
001338  2101              MOVS     r1,#1
00133a  8828              LDRH     r0,[r5,#0]            ;1131  ; CAP_WRK_CURR
00133c  1c40              ADDS     r0,r0,#1              ;1131
00133e  8028              STRH     r0,[r5,#0]            ;1131
001340  4628              MOV      r0,r5
001342  f7fffffe          BL       gran
;;;1133   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001346  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
00134a  f44f70ee          MOV      r0,#0x1dc
00134e  f7fffffe          BL       lc640_write_int
                  |L1.4946|
;;;1134   							}
;;;1135   						}
;;;1136   					if(modbus_tcp_write_args[i]==0x72)
001352  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001356  2872              CMP      r0,#0x72
001358  d110              BNE      |L1.4988|
;;;1137   						{
;;;1138   						if(work_stat==wsOFF)
00135a  7830              LDRB     r0,[r6,#0]  ; work_stat
00135c  b970              CBNZ     r0,|L1.4988|
;;;1139   							{
;;;1140   							CAP_WRK_CURR--;
00135e  4d86              LDR      r5,|L1.5496|
001360  8828              LDRH     r0,[r5,#0]  ; CAP_WRK_CURR
001362  1e40              SUBS     r0,r0,#1
001364  8028              STRH     r0,[r5,#0]
                  |L1.4966|
;;;1141   			    				gran(&CAP_WRK_CURR,1,150);
001366  2296              MOVS     r2,#0x96
001368  2101              MOVS     r1,#1
00136a  4883              LDR      r0,|L1.5496|
00136c  f7fffffe          BL       gran
;;;1142   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001370  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
001374  f44f70ee          MOV      r0,#0x1dc
                  |L1.4984|
001378  f7fffffe          BL       lc640_write_int
                  |L1.4988|
;;;1143   							}
;;;1144   						}
;;;1145   	
;;;1146   					}
;;;1147   
;;;1148   				if((modbus_tcp_rx_arg0+i)==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
00137c  487f              LDR      r0,|L1.5500|
00137e  f9b01002          LDRSH    r1,[r0,#2]  ; modbus_tcp_rx_arg0
001382  eb010208          ADD      r2,r1,r8
001386  2a5a              CMP      r2,#0x5a
001388  d006              BEQ      |L1.5016|
;;;1149   					{
;;;1150   					I_ug_ram=modbus_tcp_write_args[i];
;;;1151   					eepromRamSwitch=1;
;;;1152   					}
;;;1153   
;;;1154   				else if((modbus_tcp_rx_arg0+i)==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
00138a  2a5b              CMP      r2,#0x5b
00138c  d008              BEQ      |L1.5024|
;;;1155   					{
;;;1156   					U_up_ram=modbus_tcp_write_args[i];
;;;1157   					eepromRamSwitch=1;
;;;1158   					}
;;;1159   
;;;1160   			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
00138e  295c              CMP      r1,#0x5c
001390  d00e              BEQ      |L1.5040|
;;;1161   				{
;;;1162   				if(modbus_tcp_rx_arg1==1)
;;;1163   					{
;;;1164   					if(work_stat!=wsPS)
;;;1165   						{
;;;1166   						work_stat=wsPS;
;;;1167   						time_proc=0;
;;;1168   						time_proc_remain=T_PROC_PS;
;;;1169   						restart_on_PS();
;;;1170   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;1171   						}
;;;1172   					}
;;;1173   				if(modbus_tcp_rx_arg1==0)
;;;1174   					{
;;;1175   					if(work_stat==wsPS)
;;;1176   						{
;;;1177   						work_stat=wsOFF;
;;;1178   						restart_off();
;;;1179   						}
;;;1180   					}
;;;1181   				}
;;;1182   			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
001392  295d              CMP      r1,#0x5d
001394  d02a              BEQ      |L1.5100|
001396  e044              B        |L1.5154|
                  |L1.5016|
001398  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1150
00139c  4978              LDR      r1,|L1.5504|
00139e  e002              B        |L1.5030|
                  |L1.5024|
0013a0  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1156
0013a4  4977              LDR      r1,|L1.5508|
                  |L1.5030|
0013a6  8008              STRH     r0,[r1,#0]            ;1156
0013a8  4977              LDR      r1,|L1.5512|
0013aa  f8819000          STRB     r9,[r1,#0]            ;1157
0013ae  e038              B        |L1.5154|
                  |L1.5040|
0013b0  4605              MOV      r5,r0                 ;1162
0013b2  8880              LDRH     r0,[r0,#4]            ;1162  ; modbus_tcp_rx_arg1
0013b4  2801              CMP      r0,#1                 ;1162
0013b6  d113              BNE      |L1.5088|
0013b8  7830              LDRB     r0,[r6,#0]            ;1164  ; work_stat
0013ba  2802              CMP      r0,#2                 ;1164
0013bc  d010              BEQ      |L1.5088|
0013be  2002              MOVS     r0,#2                 ;1166
0013c0  7030              STRB     r0,[r6,#0]            ;1166
0013c2  4872              LDR      r0,|L1.5516|
0013c4  6007              STR      r7,[r0,#0]            ;1168  ; time_proc
0013c6  4872              LDR      r0,|L1.5520|
0013c8  f8db1000          LDR      r1,[r11,#0]           ;1168  ; T_PROC_PS
0013cc  6001              STR      r1,[r0,#0]            ;1169  ; time_proc_remain
0013ce  e001              B        |L1.5076|
                  |L1.5072|
0013d0  e0b5              B        |L1.5438|
                  |L1.5074|
0013d2  e081              B        |L1.5336|
                  |L1.5076|
0013d4  f7fffffe          BL       restart_on_PS
0013d8  2101              MOVS     r1,#1                 ;1170
0013da  20ea              MOVS     r0,#0xea              ;1170
0013dc  f7fffffe          BL       lc640_write_int
                  |L1.5088|
0013e0  88a8              LDRH     r0,[r5,#4]            ;1173  ; modbus_tcp_rx_arg1
0013e2  b9f0              CBNZ     r0,|L1.5154|
0013e4  7830              LDRB     r0,[r6,#0]            ;1175  ; work_stat
0013e6  2802              CMP      r0,#2                 ;1175
0013e8  d018              BEQ      |L1.5148|
0013ea  e01a              B        |L1.5154|
                  |L1.5100|
;;;1183   				{
;;;1184   				if(modbus_tcp_rx_arg1==1)
0013ec  4605              MOV      r5,r0
0013ee  8880              LDRH     r0,[r0,#4]  ; modbus_tcp_rx_arg1
0013f0  2801              CMP      r0,#1
0013f2  d10e              BNE      |L1.5138|
;;;1185   					{
;;;1186   					if(work_stat!=wsGS)
0013f4  7830              LDRB     r0,[r6,#0]  ; work_stat
0013f6  2801              CMP      r0,#1
0013f8  d00b              BEQ      |L1.5138|
;;;1187   						{
;;;1188   						work_stat=wsGS;
;;;1189   						time_proc=0;
0013fa  4864              LDR      r0,|L1.5516|
0013fc  f8869000          STRB     r9,[r6,#0]            ;1188
;;;1190   						time_proc_remain=T_PROC_GS;
001400  6007              STR      r7,[r0,#0]  ; time_proc
001402  4863              LDR      r0,|L1.5520|
001404  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_GS
;;;1191   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
001408  6001              STR      r1,[r0,#0]  ; time_proc_remain
00140a  2100              MOVS     r1,#0
00140c  20ea              MOVS     r0,#0xea
00140e  f7fffffe          BL       lc640_write_int
                  |L1.5138|
;;;1192   						}
;;;1193   					}
;;;1194   				if(modbus_tcp_rx_arg1==0)
001412  88a8              LDRH     r0,[r5,#4]  ; modbus_tcp_rx_arg1
001414  b928              CBNZ     r0,|L1.5154|
;;;1195   					{
;;;1196   					if(work_stat==wsGS)
001416  7830              LDRB     r0,[r6,#0]  ; work_stat
001418  2801              CMP      r0,#1
00141a  d102              BNE      |L1.5154|
                  |L1.5148|
;;;1197   						{
;;;1198   						work_stat=wsOFF;
00141c  7037              STRB     r7,[r6,#0]
;;;1199   						restart_off();
00141e  f7fffffe          BL       restart_off
                  |L1.5154|
;;;1200   						}
;;;1201   					}
;;;1202   				}
;;;1203   									
;;;1204   				if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
001422  4d5c              LDR      r5,|L1.5524|
001424  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_GS
001428  882a              LDRH     r2,[r5,#0]  ; T_PROC_MAX
00142a  4291              CMP      r1,r2
00142c  dc01              BGT      |L1.5170|
00142e  291e              CMP      r1,#0x1e
001430  da16              BGE      |L1.5216|
                  |L1.5170|
;;;1205   					{
;;;1206   					if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
001432  4650              MOV      r0,r10
001434  4291              CMP      r1,r2
001436  dd02              BLE      |L1.5182|
001438  1c52              ADDS     r2,r2,#1
00143a  6002              STR      r2,[r0,#0]  ; T_PROC_GS
00143c  e003              B        |L1.5190|
                  |L1.5182|
;;;1207   					else if(T_PROC_GS<30)T_PROC_GS=29;
00143e  291e              CMP      r1,#0x1e
001440  da01              BGE      |L1.5190|
001442  211d              MOVS     r1,#0x1d
001444  6001              STR      r1,[r0,#0]  ; T_PROC_GS
                  |L1.5190|
;;;1208   					lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
001446  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
00144a  b201              SXTH     r1,r0
00144c  20d8              MOVS     r0,#0xd8
00144e  f7fffffe          BL       lc640_write_int
;;;1209   					T_PROC_GS_MODE=1;	
001452  4851              LDR      r0,|L1.5528|
001454  4649              MOV      r1,r9
001456  f8a09000          STRH     r9,[r0,#0]
;;;1210   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
00145a  20ee              MOVS     r0,#0xee
00145c  f7fffffe          BL       lc640_write_int
                  |L1.5216|
;;;1211   					}
;;;1212   				if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
001460  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
001462  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
001466  4288              CMP      r0,r1
001468  dc07              BGT      |L1.5242|
00146a  281e              CMP      r0,#0x1e
00146c  db05              BLT      |L1.5242|
;;;1213   					{
;;;1214   					T_PROC_GS_MODE=0;	
00146e  484a              LDR      r0,|L1.5528|
001470  4639              MOV      r1,r7
001472  8007              STRH     r7,[r0,#0]
;;;1215   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
001474  20ee              MOVS     r0,#0xee
001476  f7fffffe          BL       lc640_write_int
                  |L1.5242|
;;;1216   					}
;;;1217   				
;;;1218   				if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
00147a  882a              LDRH     r2,[r5,#0]  ; T_PROC_MAX
00147c  f8db1000          LDR      r1,[r11,#0]  ; T_PROC_PS
001480  4291              CMP      r1,r2
001482  dc01              BGT      |L1.5256|
001484  291e              CMP      r1,#0x1e
001486  da16              BGE      |L1.5302|
                  |L1.5256|
;;;1219   					{
;;;1220   					if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
001488  4658              MOV      r0,r11
00148a  4291              CMP      r1,r2
00148c  dd02              BLE      |L1.5268|
00148e  1c52              ADDS     r2,r2,#1
001490  6002              STR      r2,[r0,#0]  ; T_PROC_PS
001492  e003              B        |L1.5276|
                  |L1.5268|
;;;1221   					else if(T_PROC_PS<30)T_PROC_PS=29;
001494  291e              CMP      r1,#0x1e
001496  da01              BGE      |L1.5276|
001498  211d              MOVS     r1,#0x1d
00149a  6001              STR      r1,[r0,#0]  ; T_PROC_PS
                  |L1.5276|
;;;1222   					lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
00149c  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
0014a0  b201              SXTH     r1,r0
0014a2  20dc              MOVS     r0,#0xdc
0014a4  f7fffffe          BL       lc640_write_int
;;;1223   					T_PROC_PS_MODE=1;	
0014a8  483c              LDR      r0,|L1.5532|
0014aa  4649              MOV      r1,r9
0014ac  f8a09000          STRH     r9,[r0,#0]
;;;1224   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
0014b0  20f0              MOVS     r0,#0xf0
0014b2  f7fffffe          BL       lc640_write_int
                  |L1.5302|
;;;1225   					}
;;;1226   				if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
0014b6  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
0014b8  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
0014bc  4288              CMP      r0,r1
0014be  dc07              BGT      |L1.5328|
0014c0  281e              CMP      r0,#0x1e
0014c2  db05              BLT      |L1.5328|
;;;1227   					{
;;;1228   					T_PROC_PS_MODE=0;	
0014c4  4835              LDR      r0,|L1.5532|
0014c6  4639              MOV      r1,r7
0014c8  8007              STRH     r7,[r0,#0]
;;;1229   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
0014ca  20f0              MOVS     r0,#0xf0
0014cc  f7fffffe          BL       lc640_write_int
                  |L1.5328|
0014d0  f1080801          ADD      r8,r8,#1              ;748
0014d4  f00808ff          AND      r8,r8,#0xff           ;748
                  |L1.5336|
0014d8  4828              LDR      r0,|L1.5500|
0014da  f9b01004          LDRSH    r1,[r0,#4]            ;748  ; modbus_tcp_rx_arg1
0014de  4588              CMP      r8,r1                 ;748
0014e0  f6ffab8b          BLT      |L1.3066|
;;;1230   					}				
;;;1231   				}
;;;1232   
;;;1233   
;;;1234   			
;;;1235   			//modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;1236   	
;;;1237   			sendbuf = tcp_get_buf(11);
0014e4  200b              MOVS     r0,#0xb
0014e6  f7fffffe          BL       tcp_get_buf
0014ea  4601              MOV      r1,r0
;;;1238   			sendbuf[0]=ptr[0];
0014ec  7820              LDRB     r0,[r4,#0]
0014ee  7008              STRB     r0,[r1,#0]
;;;1239   			sendbuf[1]=ptr[1];
0014f0  7860              LDRB     r0,[r4,#1]
0014f2  7048              STRB     r0,[r1,#1]
;;;1240   			sendbuf[2]=ptr[2];
0014f4  78a0              LDRB     r0,[r4,#2]
0014f6  7088              STRB     r0,[r1,#2]
;;;1241   			sendbuf[3]=ptr[3];
0014f8  78e0              LDRB     r0,[r4,#3]
0014fa  70c8              STRB     r0,[r1,#3]
;;;1242   			sendbuf[4]=0;
;;;1243   			sendbuf[5]=6;
;;;1244   			sendbuf[6]=modbus_tcp_unit;
0014fc  4c1f              LDR      r4,|L1.5500|
0014fe  710f              STRB     r7,[r1,#4]            ;1242
001500  2006              MOVS     r0,#6                 ;1243
001502  7148              STRB     r0,[r1,#5]            ;1243
001504  7860              LDRB     r0,[r4,#1]  ; modbus_tcp_unit
001506  7188              STRB     r0,[r1,#6]
;;;1245   			sendbuf[7]=modbus_tcp_func;
001508  7820              LDRB     r0,[r4,#0]  ; modbus_tcp_func
00150a  71c8              STRB     r0,[r1,#7]
;;;1246   			sendbuf[8]=modbus_tcp_rx_arg0/256;
00150c  f9b42002          LDRSH    r2,[r4,#2]  ; modbus_tcp_rx_arg0
001510  17d0              ASRS     r0,r2,#31
001512  eb026310          ADD      r3,r2,r0,LSR #24
001516  1218              ASRS     r0,r3,#8
001518  7208              STRB     r0,[r1,#8]
;;;1247   			sendbuf[9]=modbus_tcp_rx_arg0%256;
00151a  4610              MOV      r0,r2
00151c  7248              STRB     r0,[r1,#9]
;;;1248   			sendbuf[10]=modbus_tcp_rx_arg1/256;
00151e  f9b42004          LDRSH    r2,[r4,#4]  ; modbus_tcp_rx_arg1
001522  17d0              ASRS     r0,r2,#31
001524  eb026310          ADD      r3,r2,r0,LSR #24
001528  1218              ASRS     r0,r3,#8
00152a  7288              STRB     r0,[r1,#0xa]
;;;1249   			sendbuf[11]=modbus_tcp_rx_arg1%256;
00152c  4610              MOV      r0,r2
00152e  72c8              STRB     r0,[r1,#0xb]
;;;1250   	        tcp_send (socket_tcp, sendbuf, 12);
001530  481b              LDR      r0,|L1.5536|
001532  220c              MOVS     r2,#0xc
001534  7800              LDRB     r0,[r0,#0]  ; socket_tcp
001536  f7fffffe          BL       tcp_send
;;;1251   				//
;;;1252   				
;;;1253   				//modbus_tcp_tx_buff[4]=0;
;;;1254   				//modbus_tcp_tx_buff[5]=5;
;;;1255   				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;1256   				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;1257   				//modbus_tcp_tx_buff[8]=2;
;;;1258   				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;1259   				//modbus_tcp_tx_buff[9]=2;
;;;1260   				//modbus_tcp_tx_buff[10]=3;
;;;1261   				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;1262   
;;;1263    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
00153a  f9b40002          LDRSH    r0,[r4,#2]  ; modbus_tcp_rx_arg0
                  |L1.5438|
00153e  285a              CMP      r0,#0x5a
001540  d00c              BEQ      |L1.5468|
001542  285b              CMP      r0,#0x5b
001544  d00a              BEQ      |L1.5468|
001546  285c              CMP      r0,#0x5c
001548  d008              BEQ      |L1.5468|
00154a  285d              CMP      r0,#0x5d
00154c  d006              BEQ      |L1.5468|
00154e  4815              LDR      r0,|L1.5540|
001550  8800              LDRH     r0,[r0,#0]  ; EE_WRITE_CNT
001552  1c40              ADDS     r0,r0,#1
001554  b201              SXTH     r1,r0
001556  204c              MOVS     r0,#0x4c
001558  f7fffffe          BL       lc640_write_int
                  |L1.5468|
;;;1264   
;;;1265   
;;;1266   
;;;1267   
;;;1268   
;;;1269   			}
;;;1270   
;;;1271   			
;;;1272   		} 
;;;1273   	break;
;;;1274   
;;;1275     	case TCP_EVT_CONREQ:
;;;1276         		/* Remote peer requested connect, accept it */
;;;1277       return (1);
;;;1278   
;;;1279       case TCP_EVT_CONNECT:
;;;1280         		/* The TCP socket is connected */
;;;1281         	return (1);
;;;1282     	}
;;;1283   return (0);
00155c  2000              MOVS     r0,#0
                  |L1.5470|
;;;1284   }
00155e  b033              ADD      sp,sp,#0xcc
001560  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.5476|
                          DCD      CAP_ZAR_TIME
                  |L1.5480|
                          DCD      CAP_PAUSE1_TIME
                  |L1.5484|
                          DCD      CAP_RAZR_TIME
                  |L1.5488|
                          DCD      CAP_PAUSE2_TIME
                  |L1.5492|
                          DCD      CAP_MAX_VOLT
                  |L1.5496|
                          DCD      CAP_WRK_CURR
                  |L1.5500|
                          DCD      ||.data||
                  |L1.5504|
                          DCD      I_ug_ram
                  |L1.5508|
                          DCD      U_up_ram
                  |L1.5512|
                          DCD      eepromRamSwitch
                  |L1.5516|
                          DCD      time_proc
                  |L1.5520|
                          DCD      time_proc_remain
                  |L1.5524|
                          DCD      T_PROC_MAX
                  |L1.5528|
                          DCD      T_PROC_GS_MODE
                  |L1.5532|
                          DCD      T_PROC_PS_MODE
                  |L1.5536|
                          DCD      socket_tcp
                  |L1.5540|
                          DCD      EE_WRITE_CNT
                  |L1.5544|
0015a8  2001              MOVS     r0,#1                 ;1281
0015aa  e7d8              B        |L1.5470|
;;;1285   
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  plazma_modbus_tcp
                          %        20
                  modbus_tcp_plazma
                          %        20

                          AREA ||.data||, DATA, ALIGN=2

                  modbus_tcp_func
000000  00                DCB      0x00
                  modbus_tcp_unit
000001  00                DCB      0x00
                  modbus_tcp_rx_arg0
000002  0000              DCB      0x00,0x00
                  modbus_tcp_rx_arg1
000004  00000000          DCB      0x00,0x00,0x00,0x00
                  modbus_tcp_out_ptr
                          DCD      0x00000000

                          AREA ||area_number.6||, DATA, ALIGN=1

                          EXPORTAS ||area_number.6||, ||.data||
                  modbus_tcp_rx_arg2
000000  0000              DCB      0x00,0x00

;*** Start embedded assembler ***

#line 1 "MODBUS_TCP.c"
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___12_MODBUS_TCP_c_d2d62cad____REV16|
#line 112 "C:\\Keil\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___12_MODBUS_TCP_c_d2d62cad____REV16| PROC
#line 113

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___12_MODBUS_TCP_c_d2d62cad____REVSH|
#line 130
|__asm___12_MODBUS_TCP_c_d2d62cad____REVSH| PROC
#line 131

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
