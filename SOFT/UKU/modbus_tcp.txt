; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus_tcp.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus_tcp.d --feedback=.\EXE\UKU2071x_GALV_IBv2.fed --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 --omf_browse=.\EXE\modbus_tcp.crf MODBUS_TCP.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  tcp_callback PROC
;;;28     
;;;29     U16 tcp_callback (U8 soc, U8 evt, U8 *ptr, U16 par) 
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;30     {
000004  b0b3              SUB      sp,sp,#0xcc
000006  4614              MOV      r4,r2
;;;31     /* This function is called by the TCP module on TCP event */
;;;32     /* Check the 'Net_Config.h' for possible events.          */
;;;33     par = par;
;;;34     
;;;35     if (soc != socket_tcp) {
000008  4aff              LDR      r2,|L1.1032|
00000a  7812              LDRB     r2,[r2,#0]  ; socket_tcp
00000c  4290              CMP      r0,r2
                  |L1.14|
00000e  d17e              BNE      |L1.270|
;;;36     	return (0);
;;;37     }
;;;38     
;;;39     switch (evt) 
000010  2900              CMP      r1,#0
                  |L1.18|
000012  d07d              BEQ      |L1.272|
000014  2901              CMP      r1,#1
000016  d0fc              BEQ      |L1.18|
000018  2905              CMP      r1,#5
00001a  d1f8              BNE      |L1.14|
;;;40     	{
;;;41         case TCP_EVT_DATA:
;;;42         /* TCP data frame has arrived, data is located at *par1, */
;;;43         /* data length is par2. Allocate buffer to send reply.   */
;;;44         //procrec(ptr);
;;;45     	
;;;46     	plazma_modbus_tcp[1]=ptr[0];
00001c  48fb              LDR      r0,|L1.1036|
00001e  7821              LDRB     r1,[r4,#0]
;;;47     	plazma_modbus_tcp[2]=ptr[1];
;;;48     	plazma_modbus_tcp[3]=ptr[2];
;;;49     	plazma_modbus_tcp[4]=ptr[3];
;;;50     	plazma_modbus_tcp[5]=ptr[4];
;;;51     	plazma_modbus_tcp[6]=ptr[5];
;;;52     	plazma_modbus_tcp[7]=ptr[6];
;;;53     	plazma_modbus_tcp[8]=ptr[7];
;;;54     	plazma_modbus_tcp[9]=ptr[8];
;;;55     	plazma_modbus_tcp[10]=ptr[9];
;;;56     	plazma_modbus_tcp[11]=ptr[10];
;;;57     	plazma_modbus_tcp[12]=ptr[11];
;;;58     	  //plazma_modbus_tcp[4]=ptr[3];
;;;59     	  //plazma_modbus_tcp[5]=par;
;;;60     	  //plazma_modbus_tcp[6]=ptr[5];
;;;61     
;;;62        	
;;;63     	modbus_tcp_func=ptr[7];
000020  4dfb              LDR      r5,|L1.1040|
000022  7041              STRB     r1,[r0,#1]            ;46
000024  7861              LDRB     r1,[r4,#1]            ;47
000026  7081              STRB     r1,[r0,#2]            ;47
000028  78a1              LDRB     r1,[r4,#2]            ;48
00002a  70c1              STRB     r1,[r0,#3]            ;48
00002c  78e1              LDRB     r1,[r4,#3]            ;49
00002e  7101              STRB     r1,[r0,#4]            ;49
000030  7921              LDRB     r1,[r4,#4]            ;50
000032  7141              STRB     r1,[r0,#5]            ;50
000034  7961              LDRB     r1,[r4,#5]            ;51
000036  7181              STRB     r1,[r0,#6]            ;51
000038  79a1              LDRB     r1,[r4,#6]            ;52
00003a  71c1              STRB     r1,[r0,#7]            ;52
00003c  79e1              LDRB     r1,[r4,#7]            ;53
00003e  7201              STRB     r1,[r0,#8]            ;53
000040  7a21              LDRB     r1,[r4,#8]            ;54
000042  7241              STRB     r1,[r0,#9]            ;54
000044  7a61              LDRB     r1,[r4,#9]            ;55
000046  7281              STRB     r1,[r0,#0xa]          ;55
000048  7aa1              LDRB     r1,[r4,#0xa]          ;56
00004a  72c1              STRB     r1,[r0,#0xb]          ;56
00004c  7ae1              LDRB     r1,[r4,#0xb]          ;57
00004e  7301              STRB     r1,[r0,#0xc]          ;57
000050  79e1              LDRB     r1,[r4,#7]
000052  7029              STRB     r1,[r5,#0]
;;;64     	modbus_tcp_unit=ptr[6];
000054  79a7              LDRB     r7,[r4,#6]
000056  706f              STRB     r7,[r5,#1]
;;;65     
;;;66     	modbus_tcp_rx_arg0=(((unsigned short)ptr[8])*((unsigned short)256))+((unsigned short)ptr[9]);
000058  7a62              LDRB     r2,[r4,#9]
00005a  7a20              LDRB     r0,[r4,#8]
00005c  eb022000          ADD      r0,r2,r0,LSL #8
000060  b202              SXTH     r2,r0
000062  806a              STRH     r2,[r5,#2]
;;;67     	modbus_tcp_rx_arg1=(((unsigned short)ptr[10])*((unsigned short)256))+((unsigned short)ptr[11]);
000064  7ae0              LDRB     r0,[r4,#0xb]
000066  7aa3              LDRB     r3,[r4,#0xa]
000068  eb002003          ADD      r0,r0,r3,LSL #8
00006c  b203              SXTH     r3,r0
;;;68     
;;;69     			modbus_tcp_plazma[0]++;
00006e  48e7              LDR      r0,|L1.1036|
000070  80ab              STRH     r3,[r5,#4]            ;67
000072  3014              ADDS     r0,r0,#0x14
000074  8806              LDRH     r6,[r0,#0]  ; modbus_tcp_plazma
000076  1c76              ADDS     r6,r6,#1
000078  8006              STRH     r6,[r0,#0]
;;;70     			modbus_tcp_plazma[1]=modbus_tcp_func;
00007a  8041              STRH     r1,[r0,#2]
;;;71     			modbus_tcp_plazma[2]=modbus_tcp_rx_arg0;
00007c  8082              STRH     r2,[r0,#4]
;;;72     			modbus_tcp_plazma[3]=modbus_tcp_rx_arg1;
00007e  80c3              STRH     r3,[r0,#6]
;;;73     
;;;74     	if(modbus_tcp_unit==MODBUS_ADRESS)
000080  48e4              LDR      r0,|L1.1044|
000082  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
000086  4287              CMP      r7,r0
000088  d1c1              BNE      |L1.14|
;;;75     		{
;;;76     		//char modbus_tcp_tx_buff[200];
;;;77     		ramModbusCnt=300;
00008a  4fe3              LDR      r7,|L1.1048|
00008c  f44f7696          MOV      r6,#0x12c
000090  f04f0a03          MOV      r10,#3                ;63
000094  803e              STRH     r6,[r7,#0]
;;;78     
;;;79     		if(modbus_tcp_func==3)		//чтение произвольного кол-ва регистров хранения
;;;80     			{
;;;81     			U8 *sendbuf;
;;;82     			
;;;83     
;;;84     			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;85     
;;;86     			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
000096  f04f0809          MOV      r8,#9
00009a  f04f0901          MOV      r9,#1                 ;30
00009e  2903              CMP      r1,#3                 ;79
0000a0  d133              BNE      |L1.266|
0000a2  b29b              UXTH     r3,r3                 ;84
0000a4  b292              UXTH     r2,r2                 ;84
0000a6  b2c0              UXTB     r0,r0                 ;84
0000a8  f8cd9000          STR      r9,[sp,#0]            ;84
0000ac  f7fffffe          BL       modbus_hold_registers_transmit
0000b0  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000b2  eb080041          ADD      r0,r8,r1,LSL #1
0000b6  b280              UXTH     r0,r0
0000b8  f7fffffe          BL       tcp_get_buf
0000bc  4606              MOV      r6,r0
;;;87     			sendbuf[0]=ptr[0];
0000be  7820              LDRB     r0,[r4,#0]
0000c0  7030              STRB     r0,[r6,#0]
;;;88     			sendbuf[1]=ptr[1];
0000c2  7860              LDRB     r0,[r4,#1]
0000c4  7070              STRB     r0,[r6,#1]
;;;89     			sendbuf[2]=ptr[2];
0000c6  78a0              LDRB     r0,[r4,#2]
0000c8  70b0              STRB     r0,[r6,#2]
;;;90     			sendbuf[3]=ptr[3];
0000ca  78e0              LDRB     r0,[r4,#3]
0000cc  70f0              STRB     r0,[r6,#3]
;;;91     			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
0000ce  f9b52004          LDRSH    r2,[r5,#4]  ; modbus_tcp_rx_arg1
0000d2  eb0a0142          ADD      r1,r10,r2,LSL #1
0000d6  17c8              ASRS     r0,r1,#31
0000d8  eb016310          ADD      r3,r1,r0,LSR #24
0000dc  121f              ASRS     r7,r3,#8
0000de  7137              STRB     r7,[r6,#4]
;;;92     			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
0000e0  7171              STRB     r1,[r6,#5]
;;;93     			sendbuf[6]=modbus_tcp_unit;
0000e2  7868              LDRB     r0,[r5,#1]  ; modbus_tcp_unit
0000e4  71b0              STRB     r0,[r6,#6]
;;;94     			sendbuf[7]=modbus_tcp_func;
0000e6  7828              LDRB     r0,[r5,#0]  ; modbus_tcp_func
0000e8  71f0              STRB     r0,[r6,#7]
;;;95     			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
0000ea  0052              LSLS     r2,r2,#1
0000ec  7232              STRB     r2,[r6,#8]
;;;96     			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
0000ee  f1060009          ADD      r0,r6,#9
0000f2  68a9              LDR      r1,[r5,#8]  ; modbus_tcp_out_ptr
0000f4  f7fffffe          BL       mem_copy
;;;97     			//sendbuf[9]=3;
;;;98     			//sendbuf[10]=4;
;;;99               	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
0000f8  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000fa  eb080041          ADD      r0,r8,r1,LSL #1
0000fe  b282              UXTH     r2,r0
000100  48c1              LDR      r0,|L1.1032|
000102  4631              MOV      r1,r6
000104  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000106  f7fffffe          BL       tcp_send
                  |L1.266|
;;;100    			//
;;;101    			
;;;102    			//modbus_tcp_tx_buff[4]=0;
;;;103    			//modbus_tcp_tx_buff[5]=5;
;;;104    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;105    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;106    			//modbus_tcp_tx_buff[8]=2;
;;;107    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;108    			//modbus_tcp_tx_buff[9]=2;
;;;109    			//modbus_tcp_tx_buff[10]=3;
;;;110    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;111    
;;;112    			//modbus_tcp_plazma[0]++;
;;;113    			//modbus_tcp_plazma[1]=3;
;;;114    			}
;;;115    
;;;116    		if(modbus_tcp_func==4)		//чтение произвольного кол-ва регистров	входов
00010a  7829              LDRB     r1,[r5,#0]  ; modbus_tcp_func
00010c  e001              B        |L1.274|
                  |L1.270|
00010e  e3fe              B        |L1.2318|
                  |L1.272|
000110  e3fe              B        |L1.2320|
                  |L1.274|
000112  2904              CMP      r1,#4
000114  d00a              BEQ      |L1.300|
;;;117    			{
;;;118    			U8 *sendbuf;
;;;119    
;;;120    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;121    
;;;122    			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
;;;123    			sendbuf[0]=ptr[0];
;;;124    			sendbuf[1]=ptr[1];
;;;125    			sendbuf[2]=ptr[2];
;;;126    			sendbuf[3]=ptr[3];
;;;127    			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
;;;128    			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
;;;129    			sendbuf[6]=modbus_tcp_unit;
;;;130    			sendbuf[7]=modbus_tcp_func;
;;;131    			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
;;;132    			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
;;;133    			//sendbuf[9]=3;
;;;134    			//sendbuf[10]=4;
;;;135              	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
;;;136    			//
;;;137    			
;;;138    			//modbus_tcp_tx_buff[4]=0;
;;;139    			//modbus_tcp_tx_buff[5]=5;
;;;140    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;141    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;142    			//modbus_tcp_tx_buff[8]=2;
;;;143    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;144    			//modbus_tcp_tx_buff[9]=2;
;;;145    			//modbus_tcp_tx_buff[10]=3;
;;;146    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;147    			//modbus_tcp_plazma[0]++;
;;;148    			//modbus_tcp_plazma[1]=4;
;;;149    			}
;;;150    
;;;151    		else if(modbus_tcp_func==6) 	//запись регистров хранения
;;;152    			{
;;;153    			U8 *sendbuf;
;;;154    
;;;155    			
;;;156    			if(modbus_tcp_rx_arg0==50)		//ток стабилизации для режима стабилизации тока
;;;157    				{
;;;158    				I_ug=modbus_tcp_rx_arg1;
;;;159    				lc640_write_int(EE_I_UG,I_ug);
;;;160    				}
;;;161    			if(modbus_tcp_rx_arg0==51)		//напряжение стабилизации для режима стабилизации напряжения
;;;162    				{
;;;163    				U_up=modbus_tcp_rx_arg1;
;;;164    				lc640_write_int(EE_U_UP,U_up);
;;;165    				}
;;;166    			if(modbus_tcp_rx_arg0==52)		//максимапльное напряжение для режима стабилизации тока
;;;167    				{
;;;168    				U_maxg=modbus_tcp_rx_arg1;
;;;169    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;170    				}
;;;171    			if(modbus_tcp_rx_arg0==53)		//максимальный ток для режима стабилизации напряжения
;;;172    				{
;;;173    				I_maxp=modbus_tcp_rx_arg1;
;;;174    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;175    				}								
;;;176    			if(modbus_tcp_rx_arg0==54)		//Установка времени для ист.тока.секунды
;;;177    				{
;;;178    				signed long sec,min,hour;
;;;179    				sec=(signed long)modbus_tcp_rx_arg1;
;;;180    				min=(T_PROC_GS/60L)%60L;
;;;181    				hour=T_PROC_GS/3600L;
;;;182    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;183    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;184    				}
;;;185    			if(modbus_tcp_rx_arg0==55)		//Установка времени для ист.тока.минуты
;;;186    				{
;;;187    				signed long sec,min,hour;
;;;188    				sec=T_PROC_GS%60L;
;;;189    				min=(signed long)modbus_tcp_rx_arg1;
;;;190    				hour=T_PROC_GS/3600L;
;;;191    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;192    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;193    				}
;;;194    			if(modbus_tcp_rx_arg0==56)		//Установка времени для ист.тока.часы
;;;195    				{
;;;196    				signed long sec,min,hour;
;;;197    				sec=T_PROC_GS%60L;
;;;198    				min=(T_PROC_GS/60L)%60L;
;;;199    				hour=(signed long)modbus_tcp_rx_arg1;
;;;200    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;201    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;202    				}
;;;203    			if(modbus_tcp_rx_arg0==57)		//Установка времени для ист.напр.секунды
;;;204    				{
;;;205    				signed long sec,min,hour;
;;;206    				sec=(signed long)modbus_tcp_rx_arg1;
;;;207    				min=(T_PROC_PS/60L)%60L;
;;;208    				hour=T_PROC_PS/3600L;
;;;209    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;210    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;211    				}
;;;212    
;;;213    			if(modbus_tcp_rx_arg0==58)		//Установка времени для ист.напр.минуты
;;;214    				{
;;;215    				signed long sec,min,hour;
;;;216    				sec=T_PROC_PS%60L;
;;;217    				min=(signed long)modbus_tcp_rx_arg1;
;;;218    				hour=T_PROC_PS/3600L;
;;;219    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;220    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;221    				}
;;;222    
;;;223    			if(modbus_tcp_rx_arg0==59)		//Установка времени для ист.напр.часы
;;;224    				{
;;;225    				signed long sec,min,hour;
;;;226    				sec=T_PROC_PS%60L;
;;;227    				min=(T_PROC_PS/60L)%60L;
;;;228    				hour=(signed long)modbus_tcp_rx_arg1;
;;;229    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;230    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;231    				}
;;;232    
;;;233    			if(modbus_tcp_rx_arg0==60)		//вкл/выкл источника напр.
;;;234    				{
;;;235    				if(modbus_tcp_rx_arg1==1)
;;;236    					{
;;;237    					if(work_stat!=wsPS)
000116  4ec1              LDR      r6,|L1.1052|
000118  f8dfa304          LDR      r10,|L1.1056|
00011c  f8dfb304          LDR      r11,|L1.1060|
000120  2700              MOVS     r7,#0                 ;36
000122  2906              CMP      r1,#6                 ;151
000124  d03d              BEQ      |L1.418|
;;;238    						{
;;;239    						work_stat=wsPS;
;;;240    						time_proc=0;
;;;241    						time_proc_remain=T_PROC_PS;
;;;242    						restart_on_PS();
;;;243    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;244    						}
;;;245    					}
;;;246    				if(modbus_tcp_rx_arg1==0)
;;;247    					{
;;;248    					if(work_stat==wsPS)
;;;249    						{
;;;250    						work_stat=wsOFF;
;;;251    						restart_off();
;;;252    						}
;;;253    					}
;;;254    				}
;;;255    			if(modbus_tcp_rx_arg0==61)		//вкл/выкл источника тока
;;;256    				{
;;;257    				if(modbus_tcp_rx_arg1==1)
;;;258    					{
;;;259    					if(work_stat!=wsGS)
;;;260    						{
;;;261    						work_stat=wsGS;
;;;262    						time_proc=0;
;;;263    						time_proc_remain=T_PROC_GS;
;;;264    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;265    						}
;;;266    					}
;;;267    				if(modbus_tcp_rx_arg1==0)
;;;268    					{
;;;269    					if(work_stat==wsGS)
;;;270    						{
;;;271    						work_stat=wsOFF;
;;;272    						restart_off();
;;;273    						}
;;;274    					}
;;;275    				}
;;;276    
;;;277    			if(modbus_tcp_rx_arg0==62)		//переключение реле реверса
;;;278    				{
;;;279    					{
;;;280    					if(work_stat==wsOFF)
;;;281    						{
;;;282    						if(modbus_tcp_rx_arg1==0)REV_STAT=rsFF;
;;;283    						if(modbus_tcp_rx_arg1==1)REV_STAT=rsREW;
;;;284    						}
;;;285    					}
;;;286    				}
;;;287    			if(modbus_tcp_rx_arg0==63)		//включение-выключение автореверса
;;;288    				{
;;;289    					{
;;;290    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;291    						{
;;;292    						if(modbus_tcp_rx_arg1==1)AVT_REV_IS_ON=1;
;;;293    						if(modbus_tcp_rx_arg1==0)AVT_REV_IS_ON=0;
;;;294    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;295    						}
;;;296    					}
;;;297    				}
;;;298    			if(modbus_tcp_rx_arg0==64)		//Автореверс, время работы прямое, сек
;;;299    				{
;;;300    				if(work_stat==wsOFF)
;;;301    					{
;;;302    					AVT_REV_TIME_FF=modbus_tcp_rx_arg1;
;;;303    					gran(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;304    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;305    					}
;;;306    				}
;;;307    			if(modbus_tcp_rx_arg0==65)		//Автореверс, время работы обратное, сек
;;;308    				{
;;;309    				if(work_stat==wsOFF)
;;;310    					{
;;;311    					AVT_REV_TIME_REW=modbus_tcp_rx_arg1;
;;;312    					gran(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;313    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;314    					}
;;;315    				}
;;;316    			if(modbus_tcp_rx_arg0==66)		//Автореверс, время паузы при переключении, сек
;;;317    				{
;;;318    				if(work_stat==wsOFF)
;;;319    					{
;;;320    					AVT_REV_TIME_PAUSE=modbus_tcp_rx_arg1;
;;;321    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;322    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;323    					}
;;;324    				}
;;;325    
;;;326    			if(modbus_tcp_rx_arg0==67)		//Автореверс, ток стабилизации прямой, 0.1А
;;;327    				{
;;;328    				if(work_stat==wsOFF)
;;;329    					{
;;;330    					AVT_REV_I_NOM_FF=modbus_tcp_rx_arg1;
;;;331    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;332    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;333    					}
;;;334    				}
;;;335    
;;;336    			if(modbus_tcp_rx_arg0==68)		//Автореверс, ток стабилизации обратный, 0.1А
;;;337    				{
;;;338    				if(work_stat==wsOFF)
;;;339    					{
;;;340    					AVT_REV_I_NOM_REW=modbus_tcp_rx_arg1;
;;;341    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;342    					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;343    					}
;;;344    				}
;;;345    			if(modbus_tcp_rx_arg0==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
;;;346    				{
;;;347    				if(work_stat==wsOFF)
;;;348    					{
;;;349    					AVT_REV_U_NOM_FF=modbus_tcp_rx_arg1;
;;;350    		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;351    					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;352    					}
;;;353    				}
;;;354    
;;;355    			if(modbus_tcp_rx_arg0==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
;;;356    				{
;;;357    				if(work_stat==wsOFF)
;;;358    					{
;;;359    					AVT_REV_U_NOM_REW=modbus_tcp_rx_arg1;
;;;360    		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;361    					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;362    					}
;;;363    				}
;;;364    
;;;365    			if(modbus_tcp_rx_arg0==71)		//Время заряда испытательного цикла, 0.1С 
;;;366    				{
;;;367    				if(work_stat==wsOFF)
;;;368    					{
;;;369    					CAP_ZAR_TIME=modbus_tcp_rx_arg1;
;;;370    		    			gran(&CAP_ZAR_TIME,10,9999);
;;;371    					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;372    					}
;;;373    				}
;;;374    			if(modbus_tcp_rx_arg0==72)		//Время паузы1 испытательного цикла, 0.1С 
;;;375    				{
;;;376    				if(work_stat==wsOFF)
;;;377    					{
;;;378    					CAP_PAUSE1_TIME=modbus_tcp_rx_arg1;
;;;379    		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;380    					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;381    					}
;;;382    				}
;;;383    			if(modbus_tcp_rx_arg0==73)		//Время разряда испытательного цикла, 0.1С 
;;;384    				{
;;;385    				if(work_stat==wsOFF)
;;;386    					{
;;;387    					CAP_RAZR_TIME=modbus_tcp_rx_arg1;
;;;388    		    			gran(&CAP_RAZR_TIME,10,9999);
;;;389    					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;390    					}
;;;391    				}
;;;392    			if(modbus_tcp_rx_arg0==74)		//Время паузы2 испытательного цикла, 0.1С 
;;;393    				{
;;;394    				if(work_stat==wsOFF)
;;;395    					{
;;;396    					CAP_PAUSE2_TIME=modbus_tcp_rx_arg1;
;;;397    		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;398    					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;399    					}
;;;400    				}
;;;401    
;;;402    			if(modbus_tcp_rx_arg0==75)		//Максимальное напряжение испытательного цикла, 1В  
;;;403    				{
;;;404    				if(work_stat==wsOFF)
;;;405    					{
;;;406    					CAP_MAX_VOLT=modbus_tcp_rx_arg1;
;;;407    		    			gran(&CAP_MAX_VOLT,1,100);
;;;408    					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;409    					}
;;;410    				}
;;;411    			if(modbus_tcp_rx_arg0==76)		//Рабочий ток испытательного цикла, 1А 
;;;412    				{
;;;413    				if(work_stat==wsOFF)
;;;414    					{
;;;415    					CAP_WRK_CURR=modbus_tcp_rx_arg1;
;;;416    		    			gran(&CAP_WRK_CURR,1,150);
;;;417    					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;418    					}
;;;419    				}
;;;420    
;;;421    			if(modbus_tcp_rx_arg0==77)		//Регистр для записи команд 
;;;422    				{
;;;423    				if(modbus_tcp_rx_arg1==0x11)
;;;424    					{
;;;425    					start_CAP();
;;;426    					}
;;;427    				if(modbus_tcp_rx_arg1==0x12)
;;;428    					{
;;;429    					pause_CAP();
;;;430    					}
;;;431    				if(modbus_tcp_rx_arg1==0x13)
;;;432    					{
;;;433    					stop_CAP();
;;;434    					}
;;;435    				if(modbus_tcp_rx_arg1==0x14)
;;;436    					{
;;;437    					reset_CAP();
;;;438    					}
;;;439    
;;;440    				if(modbus_tcp_rx_arg1==0x21)
;;;441    					{
;;;442    					if(work_stat==wsOFF)
;;;443    						{
;;;444    						CAP_ZAR_TIME++;
;;;445    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;446    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;447    						}
;;;448    					}
;;;449    				if(modbus_tcp_rx_arg1==0x22)
;;;450    					{
;;;451    					if(work_stat==wsOFF)
;;;452    						{
;;;453    						CAP_ZAR_TIME--;
;;;454    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;455    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;456    						}
;;;457    					}
;;;458    
;;;459    				if(modbus_tcp_rx_arg1==0x31)
;;;460    					{
;;;461    					if(work_stat==wsOFF)
;;;462    						{
;;;463    						CAP_PAUSE1_TIME++;
;;;464    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;465    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;466    						}
;;;467    					}
;;;468    				if(modbus_tcp_rx_arg1==0x32)
;;;469    					{
;;;470    					if(work_stat==wsOFF)
;;;471    						{
;;;472    						CAP_PAUSE1_TIME--;
;;;473    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;474    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;475    						}
;;;476    					}
;;;477    
;;;478    				if(modbus_tcp_rx_arg1==0x41)
;;;479    					{
;;;480    					if(work_stat==wsOFF)
;;;481    						{
;;;482    						CAP_RAZR_TIME++;
;;;483    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;484    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;485    						}
;;;486    					}
;;;487    				if(modbus_tcp_rx_arg1==0x42)
;;;488    					{
;;;489    					if(work_stat==wsOFF)
;;;490    						{
;;;491    						CAP_RAZR_TIME--;
;;;492    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;493    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;494    						}
;;;495    					}
;;;496    
;;;497    				if(modbus_tcp_rx_arg1==0x51)
;;;498    					{
;;;499    					if(work_stat==wsOFF)
;;;500    						{
;;;501    						CAP_PAUSE2_TIME++;
;;;502    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;503    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;504    						}
;;;505    					}
;;;506    				if(modbus_tcp_rx_arg1==0x52)
;;;507    					{
;;;508    					if(work_stat==wsOFF)
;;;509    						{
;;;510    						CAP_PAUSE2_TIME--;
;;;511    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;512    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;513    						}
;;;514    					}
;;;515    
;;;516    				if(modbus_tcp_rx_arg1==0x61)
;;;517    					{
;;;518    					if(work_stat==wsOFF)
;;;519    						{
;;;520    						CAP_MAX_VOLT++;
;;;521    		    				gran(&CAP_MAX_VOLT,1,100);
;;;522    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;523    						}
;;;524    					}
;;;525    				if(modbus_tcp_rx_arg1==0x62)
;;;526    					{
;;;527    					if(work_stat==wsOFF)
;;;528    						{
;;;529    						CAP_MAX_VOLT--;
;;;530    		    				gran(&CAP_MAX_VOLT,1,100);
;;;531    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;532    						}
;;;533    					}
;;;534    
;;;535    				if(modbus_tcp_rx_arg1==0x71)
;;;536    					{
;;;537    					if(work_stat==wsOFF)
;;;538    						{
;;;539    						CAP_WRK_CURR++;
;;;540    		    				gran(&CAP_WRK_CURR,1,150);
;;;541    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;542    						}
;;;543    					}
;;;544    				if(modbus_tcp_rx_arg1==0x72)
;;;545    					{
;;;546    					if(work_stat==wsOFF)
;;;547    						{
;;;548    						CAP_WRK_CURR--;
;;;549    		    				gran(&CAP_WRK_CURR,1,150);
;;;550    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;551    						}
;;;552    					}
;;;553    
;;;554    				}
;;;555    
;;;556    			else if(modbus_tcp_rx_arg0==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
;;;557    				{
;;;558    				I_ug_ram=modbus_tcp_rx_arg1;
;;;559    				eepromRamSwitch=1;
;;;560    				}
;;;561    
;;;562    			else if(modbus_tcp_rx_arg0==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
;;;563    				{
;;;564    				U_up_ram=modbus_tcp_rx_arg1;
;;;565    				eepromRamSwitch=1;
;;;566    				}
;;;567    
;;;568    			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
;;;569    				{
;;;570    				if(modbus_tcp_rx_arg1==1)
;;;571    					{
;;;572    					if(work_stat!=wsPS)
;;;573    						{
;;;574    						work_stat=wsPS;
;;;575    						time_proc=0;
;;;576    						time_proc_remain=T_PROC_PS;
;;;577    						restart_on_PS();
;;;578    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;579    						}
;;;580    					}
;;;581    				if(modbus_tcp_rx_arg1==0)
;;;582    					{
;;;583    					if(work_stat==wsPS)
;;;584    						{
;;;585    						work_stat=wsOFF;
;;;586    						restart_off();
;;;587    						}
;;;588    					}
;;;589    				}
;;;590    			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
;;;591    				{
;;;592    				if(modbus_tcp_rx_arg1==1)
;;;593    					{
;;;594    					if(work_stat!=wsGS)
;;;595    						{
;;;596    						work_stat=wsGS;
;;;597    						time_proc=0;
;;;598    						time_proc_remain=T_PROC_GS;
;;;599    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;600    						}
;;;601    					}
;;;602    				if(modbus_tcp_rx_arg1==0)
;;;603    					{
;;;604    					if(work_stat==wsGS)
;;;605    						{
;;;606    						work_stat=wsOFF;
;;;607    						restart_off();
;;;608    						}
;;;609    					}
;;;610    				}
;;;611    
;;;612    			
;;;613    			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;614    				{
;;;615    				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;616    				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;617    				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;618    				T_PROC_GS_MODE=1;	
;;;619    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;620    				}
;;;621    			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;622    				{
;;;623    				T_PROC_GS_MODE=0;	
;;;624    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;625    				}
;;;626    			
;;;627    			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;628    				{
;;;629    				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;630    				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;631    				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;632    				T_PROC_PS_MODE=1;	
;;;633    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;634    				}
;;;635    			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;636    				{
;;;637    				T_PROC_PS_MODE=0;	
;;;638    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;639    				}
;;;640    
;;;641    			
;;;642    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,1,MODBUS_TCP_PROT);
;;;643    	
;;;644    			sendbuf = tcp_get_buf(11);
;;;645    			sendbuf[0]=ptr[0];
;;;646    			sendbuf[1]=ptr[1];
;;;647    			sendbuf[2]=ptr[2];
;;;648    			sendbuf[3]=ptr[3];
;;;649    			sendbuf[4]=0;
;;;650    			sendbuf[5]=6;
;;;651    			sendbuf[6]=modbus_tcp_unit;
;;;652    			sendbuf[7]=modbus_tcp_func;
;;;653    			sendbuf[8]=modbus_tcp_rx_arg0/256;
;;;654    			sendbuf[9]=modbus_tcp_rx_arg0%256;
;;;655    			mem_copy((char*)&sendbuf[10],modbus_tcp_out_ptr,2);
;;;656    				//sendbuf[9]=3;
;;;657    				//sendbuf[10]=4;
;;;658    	        tcp_send (socket_tcp, sendbuf, 12);
;;;659    				//
;;;660    				
;;;661    				//modbus_tcp_tx_buff[4]=0;
;;;662    				//modbus_tcp_tx_buff[5]=5;
;;;663    				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;664    				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;665    				//modbus_tcp_tx_buff[8]=2;
;;;666    				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;667    				//modbus_tcp_tx_buff[9]=2;
;;;668    				//modbus_tcp_tx_buff[10]=3;
;;;669    				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;670    
;;;671    
;;;672    
;;;673    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
;;;674    
;;;675    
;;;676    			}
;;;677    
;;;678    
;;;679    		else if(modbus_tcp_func==16) 	//групповая запись регистров хранения
000126  2910              CMP      r1,#0x10
000128  d07e              BEQ      |L1.552|
                  |L1.298|
00012a  e3f0              B        |L1.2318|
                  |L1.300|
00012c  f8cd9000          STR      r9,[sp,#0]            ;120
000130  88a8              LDRH     r0,[r5,#4]            ;120  ; modbus_tcp_rx_arg1
000132  b283              UXTH     r3,r0                 ;120
000134  8868              LDRH     r0,[r5,#2]            ;120  ; modbus_tcp_rx_arg0
000136  b282              UXTH     r2,r0                 ;120
000138  48b6              LDR      r0,|L1.1044|
00013a  8800              LDRH     r0,[r0,#0]            ;120  ; MODBUS_ADRESS
00013c  b2c0              UXTB     r0,r0                 ;120
00013e  f7fffffe          BL       modbus_input_registers_transmit
000142  88a8              LDRH     r0,[r5,#4]            ;122  ; modbus_tcp_rx_arg1
000144  4647              MOV      r7,r8                 ;122
000146  eb080040          ADD      r0,r8,r0,LSL #1       ;122
00014a  b280              UXTH     r0,r0                 ;122
00014c  f7fffffe          BL       tcp_get_buf
000150  4606              MOV      r6,r0                 ;122
000152  7820              LDRB     r0,[r4,#0]            ;123
000154  7030              STRB     r0,[r6,#0]            ;123
000156  7860              LDRB     r0,[r4,#1]            ;124
000158  7070              STRB     r0,[r6,#1]            ;124
00015a  78a0              LDRB     r0,[r4,#2]            ;125
00015c  70b0              STRB     r0,[r6,#2]            ;125
00015e  78e0              LDRB     r0,[r4,#3]            ;126
000160  70f0              STRB     r0,[r6,#3]            ;126
000162  f9b52004          LDRSH    r2,[r5,#4]            ;127  ; modbus_tcp_rx_arg1
000166  eb0a0142          ADD      r1,r10,r2,LSL #1      ;127
00016a  17c8              ASRS     r0,r1,#31             ;127
00016c  eb016310          ADD      r3,r1,r0,LSR #24      ;127
000170  1218              ASRS     r0,r3,#8              ;127
000172  7130              STRB     r0,[r6,#4]            ;127
000174  4608              MOV      r0,r1                 ;128
000176  7170              STRB     r0,[r6,#5]            ;128
000178  7868              LDRB     r0,[r5,#1]            ;129  ; modbus_tcp_unit
00017a  71b0              STRB     r0,[r6,#6]            ;129
00017c  7828              LDRB     r0,[r5,#0]            ;130  ; modbus_tcp_func
00017e  71f0              STRB     r0,[r6,#7]            ;130
000180  0052              LSLS     r2,r2,#1              ;131
000182  7232              STRB     r2,[r6,#8]            ;131
000184  f1060009          ADD      r0,r6,#9              ;132
000188  68a9              LDR      r1,[r5,#8]            ;132  ; modbus_tcp_out_ptr
00018a  f7fffffe          BL       mem_copy
00018e  88a8              LDRH     r0,[r5,#4]            ;135  ; modbus_tcp_rx_arg1
000190  4631              MOV      r1,r6                 ;135
000192  eb070040          ADD      r0,r7,r0,LSL #1       ;135
000196  b282              UXTH     r2,r0                 ;135
000198  489b              LDR      r0,|L1.1032|
00019a  7800              LDRB     r0,[r0,#0]            ;135  ; socket_tcp
00019c  f7fffffe          BL       tcp_send
0001a0  e7c3              B        |L1.298|
                  |L1.418|
0001a2  8868              LDRH     r0,[r5,#2]            ;156  ; modbus_tcp_rx_arg0
0001a4  2832              CMP      r0,#0x32              ;156
0001a6  d106              BNE      |L1.438|
0001a8  489f              LDR      r0,|L1.1064|
0001aa  f9b51004          LDRSH    r1,[r5,#4]            ;158  ; modbus_tcp_rx_arg1
0001ae  8001              STRH     r1,[r0,#0]            ;158
0001b0  2020              MOVS     r0,#0x20              ;159
0001b2  f7fffffe          BL       lc640_write_int
                  |L1.438|
0001b6  8868              LDRH     r0,[r5,#2]            ;161  ; modbus_tcp_rx_arg0
0001b8  2833              CMP      r0,#0x33              ;161
0001ba  d106              BNE      |L1.458|
0001bc  489b              LDR      r0,|L1.1068|
0001be  f9b51004          LDRSH    r1,[r5,#4]            ;163  ; modbus_tcp_rx_arg1
0001c2  8001              STRH     r1,[r0,#0]            ;163
0001c4  2022              MOVS     r0,#0x22              ;164
0001c6  f7fffffe          BL       lc640_write_int
                  |L1.458|
0001ca  8868              LDRH     r0,[r5,#2]            ;166  ; modbus_tcp_rx_arg0
0001cc  2834              CMP      r0,#0x34              ;166
0001ce  d106              BNE      |L1.478|
0001d0  4897              LDR      r0,|L1.1072|
0001d2  f9b51004          LDRSH    r1,[r5,#4]            ;168  ; modbus_tcp_rx_arg1
0001d6  8001              STRH     r1,[r0,#0]            ;168
0001d8  2076              MOVS     r0,#0x76              ;169
0001da  f7fffffe          BL       lc640_write_int
                  |L1.478|
0001de  8868              LDRH     r0,[r5,#2]            ;171  ; modbus_tcp_rx_arg0
0001e0  2835              CMP      r0,#0x35              ;171
0001e2  d106              BNE      |L1.498|
0001e4  4893              LDR      r0,|L1.1076|
0001e6  f9b51004          LDRSH    r1,[r5,#4]            ;173  ; modbus_tcp_rx_arg1
0001ea  8001              STRH     r1,[r0,#0]            ;173
0001ec  2078              MOVS     r0,#0x78              ;174
0001ee  f7fffffe          BL       lc640_write_int
                  |L1.498|
0001f2  8868              LDRH     r0,[r5,#2]            ;176  ; modbus_tcp_rx_arg0
0001f4  46a8              MOV      r8,r5                 ;176
0001f6  2836              CMP      r0,#0x36              ;176
0001f8  d11d              BNE      |L1.566|
0001fa  f8da2000          LDR      r2,[r10,#0]           ;180  ; T_PROC_GS
0001fe  203c              MOVS     r0,#0x3c              ;180
000200  fb92f3f0          SDIV     r3,r2,r0              ;180
000204  fb93f5f0          SDIV     r5,r3,r0              ;180
000208  fb003315          MLS      r3,r0,r5,r3           ;180
00020c  f44f6061          MOV      r0,#0xe10             ;181
000210  fb92f0f0          SDIV     r0,r2,r0              ;181
000214  f44f6261          MOV      r2,#0xe10             ;182
000218  4350              MULS     r0,r2,r0              ;182
00021a  ebc31203          RSB      r2,r3,r3,LSL #4       ;182
00021e  f9b81004          LDRSH    r1,[r8,#4]            ;179  ; modbus_tcp_rx_arg1
000222  eb000082          ADD      r0,r0,r2,LSL #2       ;182
000226  e000              B        |L1.554|
                  |L1.552|
000228  e3fd              B        |L1.2598|
                  |L1.554|
00022a  4401              ADD      r1,r1,r0              ;182
00022c  20d8              MOVS     r0,#0xd8              ;183
00022e  f8ca1000          STR      r1,[r10,#0]           ;183  ; T_PROC_GS
000232  f7fffffe          BL       lc640_write_long
                  |L1.566|
000236  f8b80002          LDRH     r0,[r8,#2]            ;185  ; modbus_tcp_rx_arg0
00023a  2837              CMP      r0,#0x37              ;185
00023c  d117              BNE      |L1.622|
00023e  f8da1000          LDR      r1,[r10,#0]           ;188  ; T_PROC_GS
000242  223c              MOVS     r2,#0x3c              ;188
000244  fb91f3f2          SDIV     r3,r1,r2              ;188
000248  fb021213          MLS      r2,r2,r3,r1           ;188
00024c  f44f6561          MOV      r5,#0xe10             ;190
000250  fb91f1f5          SDIV     r1,r1,r5              ;190
000254  f9b83004          LDRSH    r3,[r8,#4]            ;189  ; modbus_tcp_rx_arg1
000258  4369              MULS     r1,r5,r1              ;191
00025a  ebc31303          RSB      r3,r3,r3,LSL #4       ;191
00025e  eb010183          ADD      r1,r1,r3,LSL #2       ;191
000262  4411              ADD      r1,r1,r2              ;191
000264  20d8              MOVS     r0,#0xd8              ;192
000266  f8ca1000          STR      r1,[r10,#0]           ;192  ; T_PROC_GS
00026a  f7fffffe          BL       lc640_write_long
                  |L1.622|
00026e  f8b80002          LDRH     r0,[r8,#2]            ;194  ; modbus_tcp_rx_arg0
000272  2838              CMP      r0,#0x38              ;194
000274  d119              BNE      |L1.682|
000276  f8da2000          LDR      r2,[r10,#0]           ;197  ; T_PROC_GS
00027a  233c              MOVS     r3,#0x3c              ;197
00027c  fb92f1f3          SDIV     r1,r2,r3              ;197
000280  fb91f5f3          SDIV     r5,r1,r3              ;198
000284  fb032211          MLS      r2,r3,r1,r2           ;197
000288  fb031315          MLS      r3,r3,r5,r1           ;198
00028c  f9b81004          LDRSH    r1,[r8,#4]            ;199  ; modbus_tcp_rx_arg1
000290  f44f6561          MOV      r5,#0xe10             ;200
000294  4369              MULS     r1,r5,r1              ;200
000296  ebc31303          RSB      r3,r3,r3,LSL #4       ;200
00029a  eb010183          ADD      r1,r1,r3,LSL #2       ;200
00029e  4411              ADD      r1,r1,r2              ;200
0002a0  20d8              MOVS     r0,#0xd8              ;201
0002a2  f8ca1000          STR      r1,[r10,#0]           ;201  ; T_PROC_GS
0002a6  f7fffffe          BL       lc640_write_long
                  |L1.682|
0002aa  f8b80002          LDRH     r0,[r8,#2]            ;203  ; modbus_tcp_rx_arg0
0002ae  2839              CMP      r0,#0x39              ;203
0002b0  d11b              BNE      |L1.746|
0002b2  f8db2000          LDR      r2,[r11,#0]           ;207  ; T_PROC_PS
0002b6  203c              MOVS     r0,#0x3c              ;207
0002b8  fb92f3f0          SDIV     r3,r2,r0              ;207
0002bc  fb93f5f0          SDIV     r5,r3,r0              ;207
0002c0  fb003315          MLS      r3,r0,r5,r3           ;207
0002c4  f44f6061          MOV      r0,#0xe10             ;208
0002c8  fb92f0f0          SDIV     r0,r2,r0              ;208
0002cc  f44f6261          MOV      r2,#0xe10             ;209
0002d0  4350              MULS     r0,r2,r0              ;209
0002d2  f9b81004          LDRSH    r1,[r8,#4]            ;206  ; modbus_tcp_rx_arg1
0002d6  ebc31203          RSB      r2,r3,r3,LSL #4       ;209
0002da  eb000082          ADD      r0,r0,r2,LSL #2       ;209
0002de  4401              ADD      r1,r1,r0              ;209
0002e0  20dc              MOVS     r0,#0xdc              ;210
0002e2  f8cb1000          STR      r1,[r11,#0]           ;210  ; T_PROC_PS
0002e6  f7fffffe          BL       lc640_write_long
                  |L1.746|
0002ea  f8b80002          LDRH     r0,[r8,#2]            ;213  ; modbus_tcp_rx_arg0
0002ee  283a              CMP      r0,#0x3a              ;213
0002f0  d117              BNE      |L1.802|
0002f2  f8db1000          LDR      r1,[r11,#0]           ;216  ; T_PROC_PS
0002f6  223c              MOVS     r2,#0x3c              ;216
0002f8  fb91f3f2          SDIV     r3,r1,r2              ;216
0002fc  fb021213          MLS      r2,r2,r3,r1           ;216
000300  f44f6561          MOV      r5,#0xe10             ;218
000304  fb91f1f5          SDIV     r1,r1,r5              ;218
000308  f9b83004          LDRSH    r3,[r8,#4]            ;217  ; modbus_tcp_rx_arg1
00030c  4369              MULS     r1,r5,r1              ;219
00030e  ebc31303          RSB      r3,r3,r3,LSL #4       ;219
000312  eb010183          ADD      r1,r1,r3,LSL #2       ;219
000316  4411              ADD      r1,r1,r2              ;219
000318  20dc              MOVS     r0,#0xdc              ;220
00031a  f8cb1000          STR      r1,[r11,#0]           ;220  ; T_PROC_PS
00031e  f7fffffe          BL       lc640_write_long
                  |L1.802|
000322  f8b80002          LDRH     r0,[r8,#2]            ;223  ; modbus_tcp_rx_arg0
000326  4645              MOV      r5,r8                 ;223
000328  283b              CMP      r0,#0x3b              ;223
00032a  d119              BNE      |L1.864|
00032c  f8db1000          LDR      r1,[r11,#0]           ;226  ; T_PROC_PS
000330  223c              MOVS     r2,#0x3c              ;226
000332  fb91f0f2          SDIV     r0,r1,r2              ;226
000336  fb90f3f2          SDIV     r3,r0,r2              ;227
00033a  fb021110          MLS      r1,r2,r0,r1           ;226
00033e  fb020213          MLS      r2,r2,r3,r0           ;227
000342  f9b50004          LDRSH    r0,[r5,#4]            ;228  ; modbus_tcp_rx_arg1
000346  f44f6361          MOV      r3,#0xe10             ;229
00034a  4358              MULS     r0,r3,r0              ;229
00034c  ebc21202          RSB      r2,r2,r2,LSL #4       ;229
000350  eb000082          ADD      r0,r0,r2,LSL #2       ;229
000354  4401              ADD      r1,r1,r0              ;229
000356  20dc              MOVS     r0,#0xdc              ;230
000358  f8cb1000          STR      r1,[r11,#0]           ;230  ; T_PROC_PS
00035c  f7fffffe          BL       lc640_write_long
                  |L1.864|
000360  8868              LDRH     r0,[r5,#2]            ;233  ; modbus_tcp_rx_arg0
000362  283c              CMP      r0,#0x3c              ;233
000364  d11b              BNE      |L1.926|
000366  88a8              LDRH     r0,[r5,#4]            ;235  ; modbus_tcp_rx_arg1
000368  2801              CMP      r0,#1                 ;235
00036a  d110              BNE      |L1.910|
00036c  7830              LDRB     r0,[r6,#0]            ;237  ; work_stat
00036e  2802              CMP      r0,#2                 ;237
000370  d00d              BEQ      |L1.910|
000372  2002              MOVS     r0,#2                 ;239
000374  7030              STRB     r0,[r6,#0]            ;239
000376  4830              LDR      r0,|L1.1080|
000378  6007              STR      r7,[r0,#0]            ;241  ; time_proc
00037a  4830              LDR      r0,|L1.1084|
00037c  f8db1000          LDR      r1,[r11,#0]           ;241  ; T_PROC_PS
000380  6001              STR      r1,[r0,#0]            ;242  ; time_proc_remain
000382  f7fffffe          BL       restart_on_PS
000386  2101              MOVS     r1,#1                 ;243
000388  20ea              MOVS     r0,#0xea              ;243
00038a  f7fffffe          BL       lc640_write_int
                  |L1.910|
00038e  88a8              LDRH     r0,[r5,#4]            ;246  ; modbus_tcp_rx_arg1
000390  b928              CBNZ     r0,|L1.926|
000392  7830              LDRB     r0,[r6,#0]            ;248  ; work_stat
000394  2802              CMP      r0,#2                 ;248
000396  d102              BNE      |L1.926|
000398  7037              STRB     r7,[r6,#0]            ;250
00039a  f7fffffe          BL       restart_off
                  |L1.926|
00039e  8868              LDRH     r0,[r5,#2]            ;255  ; modbus_tcp_rx_arg0
0003a0  283d              CMP      r0,#0x3d              ;255
0003a2  d119              BNE      |L1.984|
0003a4  88a8              LDRH     r0,[r5,#4]            ;257  ; modbus_tcp_rx_arg1
0003a6  2801              CMP      r0,#1                 ;257
0003a8  d10e              BNE      |L1.968|
0003aa  7830              LDRB     r0,[r6,#0]            ;259  ; work_stat
0003ac  2801              CMP      r0,#1                 ;259
0003ae  d00b              BEQ      |L1.968|
0003b0  4821              LDR      r0,|L1.1080|
0003b2  f8869000          STRB     r9,[r6,#0]            ;261
0003b6  6007              STR      r7,[r0,#0]            ;263  ; time_proc
0003b8  4820              LDR      r0,|L1.1084|
0003ba  f8da1000          LDR      r1,[r10,#0]           ;263  ; T_PROC_GS
0003be  6001              STR      r1,[r0,#0]            ;264  ; time_proc_remain
0003c0  2100              MOVS     r1,#0                 ;264
0003c2  20ea              MOVS     r0,#0xea              ;264
0003c4  f7fffffe          BL       lc640_write_int
                  |L1.968|
0003c8  88a8              LDRH     r0,[r5,#4]            ;267  ; modbus_tcp_rx_arg1
0003ca  b928              CBNZ     r0,|L1.984|
0003cc  7830              LDRB     r0,[r6,#0]            ;269  ; work_stat
0003ce  2801              CMP      r0,#1                 ;269
0003d0  d102              BNE      |L1.984|
0003d2  7037              STRB     r7,[r6,#0]            ;271
0003d4  f7fffffe          BL       restart_off
                  |L1.984|
0003d8  f9b50002          LDRSH    r0,[r5,#2]            ;277  ; modbus_tcp_rx_arg0
0003dc  283e              CMP      r0,#0x3e              ;277
0003de  d10b              BNE      |L1.1016|
0003e0  7831              LDRB     r1,[r6,#0]            ;280  ; work_stat
0003e2  b949              CBNZ     r1,|L1.1016|
0003e4  f9b51004          LDRSH    r1,[r5,#4]            ;282  ; modbus_tcp_rx_arg1
0003e8  b911              CBNZ     r1,|L1.1008|
0003ea  4b15              LDR      r3,|L1.1088|
0003ec  f8839000          STRB     r9,[r3,#0]            ;282
                  |L1.1008|
0003f0  2901              CMP      r1,#1                 ;283
0003f2  d101              BNE      |L1.1016|
0003f4  4912              LDR      r1,|L1.1088|
0003f6  700f              STRB     r7,[r1,#0]            ;283
                  |L1.1016|
0003f8  283f              CMP      r0,#0x3f              ;287
0003fa  d136              BNE      |L1.1130|
0003fc  7830              LDRB     r0,[r6,#0]            ;290  ; work_stat
0003fe  bba0              CBNZ     r0,|L1.1130|
000400  4810              LDR      r0,|L1.1092|
000402  8800              LDRH     r0,[r0,#0]            ;290  ; REV_IS_ON
000404  b388              CBZ      r0,|L1.1130|
000406  e01f              B        |L1.1096|
                  |L1.1032|
                          DCD      socket_tcp
                  |L1.1036|
                          DCD      ||.bss||
                  |L1.1040|
                          DCD      ||.data||
                  |L1.1044|
                          DCD      MODBUS_ADRESS
                  |L1.1048|
                          DCD      ramModbusCnt
                  |L1.1052|
                          DCD      work_stat
                  |L1.1056|
                          DCD      T_PROC_GS
                  |L1.1060|
                          DCD      T_PROC_PS
                  |L1.1064|
                          DCD      I_ug
                  |L1.1068|
                          DCD      U_up
                  |L1.1072|
                          DCD      U_maxg
                  |L1.1076|
                          DCD      I_maxp
                  |L1.1080|
                          DCD      time_proc
                  |L1.1084|
                          DCD      time_proc_remain
                  |L1.1088|
                          DCD      REV_STAT
                  |L1.1092|
                          DCD      REV_IS_ON
                  |L1.1096|
000448  f9b50004          LDRSH    r0,[r5,#4]            ;292  ; modbus_tcp_rx_arg1
00044c  2801              CMP      r0,#1                 ;292
00044e  d102              BNE      |L1.1110|
000450  4aff              LDR      r2,|L1.2128|
000452  f8a29000          STRH     r9,[r2,#0]            ;292
                  |L1.1110|
000456  b908              CBNZ     r0,|L1.1116|
000458  48fd              LDR      r0,|L1.2128|
00045a  8007              STRH     r7,[r0,#0]            ;293
                  |L1.1116|
00045c  48fc              LDR      r0,|L1.2128|
00045e  f9b01000          LDRSH    r1,[r0,#0]            ;294  ; AVT_REV_IS_ON
000462  f44f7084          MOV      r0,#0x108             ;294
000466  f7fffffe          BL       lc640_write_int
                  |L1.1130|
00046a  8868              LDRH     r0,[r5,#2]            ;298  ; modbus_tcp_rx_arg0
00046c  46a8              MOV      r8,r5                 ;298
00046e  2840              CMP      r0,#0x40              ;298
000470  d112              BNE      |L1.1176|
000472  7830              LDRB     r0,[r6,#0]            ;300  ; work_stat
000474  b980              CBNZ     r0,|L1.1176|
000476  4df7              LDR      r5,|L1.2132|
000478  f8b80004          LDRH     r0,[r8,#4]            ;302  ; modbus_tcp_rx_arg1
00047c  211e              MOVS     r1,#0x1e              ;303
00047e  8028              STRH     r0,[r5,#0]            ;302
000480  48f5              LDR      r0,|L1.2136|
000482  6800              LDR      r0,[r0,#0]            ;303  ; T_PROC_MAX
000484  b202              SXTH     r2,r0                 ;303
000486  4628              MOV      r0,r5                 ;303
000488  f7fffffe          BL       gran
00048c  f9b51000          LDRSH    r1,[r5,#0]            ;304  ; AVT_REV_TIME_FF
000490  f44f7085          MOV      r0,#0x10a             ;304
000494  f7fffffe          BL       lc640_write_int
                  |L1.1176|
000498  f8b80002          LDRH     r0,[r8,#2]            ;307  ; modbus_tcp_rx_arg0
00049c  2841              CMP      r0,#0x41              ;307
00049e  d112              BNE      |L1.1222|
0004a0  7830              LDRB     r0,[r6,#0]            ;309  ; work_stat
0004a2  b980              CBNZ     r0,|L1.1222|
0004a4  4ded              LDR      r5,|L1.2140|
0004a6  f8b80004          LDRH     r0,[r8,#4]            ;311  ; modbus_tcp_rx_arg1
0004aa  211e              MOVS     r1,#0x1e              ;312
0004ac  8028              STRH     r0,[r5,#0]            ;311
0004ae  48ea              LDR      r0,|L1.2136|
0004b0  6800              LDR      r0,[r0,#0]            ;312  ; T_PROC_MAX
0004b2  b202              SXTH     r2,r0                 ;312
0004b4  4628              MOV      r0,r5                 ;312
0004b6  f7fffffe          BL       gran
0004ba  f9b51000          LDRSH    r1,[r5,#0]            ;313  ; AVT_REV_TIME_REW
0004be  f44f7086          MOV      r0,#0x10c             ;313
0004c2  f7fffffe          BL       lc640_write_int
                  |L1.1222|
0004c6  f8b80002          LDRH     r0,[r8,#2]            ;316  ; modbus_tcp_rx_arg0
0004ca  2842              CMP      r0,#0x42              ;316
0004cc  d111              BNE      |L1.1266|
0004ce  7830              LDRB     r0,[r6,#0]            ;318  ; work_stat
0004d0  b978              CBNZ     r0,|L1.1266|
0004d2  4de3              LDR      r5,|L1.2144|
0004d4  f8b80004          LDRH     r0,[r8,#4]            ;320  ; modbus_tcp_rx_arg1
0004d8  f44f7216          MOV      r2,#0x258             ;321
0004dc  8028              STRH     r0,[r5,#0]            ;320
0004de  2102              MOVS     r1,#2                 ;321
0004e0  4628              MOV      r0,r5                 ;321
0004e2  f7fffffe          BL       gran
0004e6  f9b51000          LDRSH    r1,[r5,#0]            ;322  ; AVT_REV_TIME_PAUSE
0004ea  f44f7087          MOV      r0,#0x10e             ;322
0004ee  f7fffffe          BL       lc640_write_int
                  |L1.1266|
0004f2  f8b80002          LDRH     r0,[r8,#2]            ;326  ; modbus_tcp_rx_arg0
0004f6  2843              CMP      r0,#0x43              ;326
0004f8  d114              BNE      |L1.1316|
0004fa  7830              LDRB     r0,[r6,#0]            ;328  ; work_stat
0004fc  b990              CBNZ     r0,|L1.1316|
0004fe  4dd9              LDR      r5,|L1.2148|
000500  f8b80004          LDRH     r0,[r8,#4]            ;330  ; modbus_tcp_rx_arg1
000504  8028              STRH     r0,[r5,#0]            ;330
000506  48d8              LDR      r0,|L1.2152|
000508  f9b02000          LDRSH    r2,[r0,#0]            ;331  ; I_MAX_IPS
00050c  48d7              LDR      r0,|L1.2156|
00050e  f9b01000          LDRSH    r1,[r0,#0]            ;331  ; I_MIN_IPS
000512  4628              MOV      r0,r5                 ;331
000514  f7fffffe          BL       gran
000518  f9b51000          LDRSH    r1,[r5,#0]            ;332  ; AVT_REV_I_NOM_FF
00051c  f44f7088          MOV      r0,#0x110             ;332
000520  f7fffffe          BL       lc640_write_int
                  |L1.1316|
000524  f8b80002          LDRH     r0,[r8,#2]            ;336  ; modbus_tcp_rx_arg0
000528  2844              CMP      r0,#0x44              ;336
00052a  d114              BNE      |L1.1366|
00052c  7830              LDRB     r0,[r6,#0]            ;338  ; work_stat
00052e  b990              CBNZ     r0,|L1.1366|
000530  4dcf              LDR      r5,|L1.2160|
000532  f8b80004          LDRH     r0,[r8,#4]            ;340  ; modbus_tcp_rx_arg1
000536  8028              STRH     r0,[r5,#0]            ;340
000538  48cb              LDR      r0,|L1.2152|
00053a  f9b02000          LDRSH    r2,[r0,#0]            ;341  ; I_MAX_IPS
00053e  48cb              LDR      r0,|L1.2156|
000540  f9b01000          LDRSH    r1,[r0,#0]            ;341  ; I_MIN_IPS
000544  4628              MOV      r0,r5                 ;341
000546  f7fffffe          BL       gran
00054a  f9b51000          LDRSH    r1,[r5,#0]            ;342  ; AVT_REV_I_NOM_REW
00054e  f44f7089          MOV      r0,#0x112             ;342
000552  f7fffffe          BL       lc640_write_int
                  |L1.1366|
000556  f8b80002          LDRH     r0,[r8,#2]            ;345  ; modbus_tcp_rx_arg0
00055a  2845              CMP      r0,#0x45              ;345
00055c  d114              BNE      |L1.1416|
00055e  7830              LDRB     r0,[r6,#0]            ;347  ; work_stat
000560  b990              CBNZ     r0,|L1.1416|
000562  4dc4              LDR      r5,|L1.2164|
000564  f8b80004          LDRH     r0,[r8,#4]            ;349  ; modbus_tcp_rx_arg1
000568  8028              STRH     r0,[r5,#0]            ;349
00056a  48c3              LDR      r0,|L1.2168|
00056c  f9b02000          LDRSH    r2,[r0,#0]            ;350  ; U_MAX
000570  48c2              LDR      r0,|L1.2172|
000572  f9b01000          LDRSH    r1,[r0,#0]            ;350  ; U_MIN
000576  4628              MOV      r0,r5                 ;350
000578  f7fffffe          BL       gran
00057c  f9b51000          LDRSH    r1,[r5,#0]            ;351  ; AVT_REV_U_NOM_FF
000580  f44f708a          MOV      r0,#0x114             ;351
000584  f7fffffe          BL       lc640_write_int
                  |L1.1416|
000588  f8b80002          LDRH     r0,[r8,#2]            ;355  ; modbus_tcp_rx_arg0
00058c  2846              CMP      r0,#0x46              ;355
00058e  d114              BNE      |L1.1466|
000590  7830              LDRB     r0,[r6,#0]            ;357  ; work_stat
000592  b990              CBNZ     r0,|L1.1466|
000594  4dba              LDR      r5,|L1.2176|
000596  f8b80004          LDRH     r0,[r8,#4]            ;359  ; modbus_tcp_rx_arg1
00059a  8028              STRH     r0,[r5,#0]            ;359
00059c  48b6              LDR      r0,|L1.2168|
00059e  f9b02000          LDRSH    r2,[r0,#0]            ;360  ; U_MAX
0005a2  48b6              LDR      r0,|L1.2172|
0005a4  f9b01000          LDRSH    r1,[r0,#0]            ;360  ; U_MIN
0005a8  4628              MOV      r0,r5                 ;360
0005aa  f7fffffe          BL       gran
0005ae  f9b51000          LDRSH    r1,[r5,#0]            ;361  ; AVT_REV_U_NOM_REW
0005b2  f44f708b          MOV      r0,#0x116             ;361
0005b6  f7fffffe          BL       lc640_write_int
                  |L1.1466|
0005ba  f8b80002          LDRH     r0,[r8,#2]            ;365  ; modbus_tcp_rx_arg0
0005be  2847              CMP      r0,#0x47              ;365
0005c0  d111              BNE      |L1.1510|
0005c2  7830              LDRB     r0,[r6,#0]            ;367  ; work_stat
0005c4  b978              CBNZ     r0,|L1.1510|
0005c6  4daf              LDR      r5,|L1.2180|
0005c8  f8b80004          LDRH     r0,[r8,#4]            ;369  ; modbus_tcp_rx_arg1
0005cc  f242720f          MOV      r2,#0x270f            ;370
0005d0  8028              STRH     r0,[r5,#0]            ;369
0005d2  210a              MOVS     r1,#0xa               ;370
0005d4  4628              MOV      r0,r5                 ;370
0005d6  f7fffffe          BL       gran
0005da  f9b51000          LDRSH    r1,[r5,#0]            ;371  ; CAP_ZAR_TIME
0005de  f44f70e9          MOV      r0,#0x1d2             ;371
0005e2  f7fffffe          BL       lc640_write_int
                  |L1.1510|
0005e6  f8b80002          LDRH     r0,[r8,#2]            ;374  ; modbus_tcp_rx_arg0
0005ea  2848              CMP      r0,#0x48              ;374
0005ec  d111              BNE      |L1.1554|
0005ee  7830              LDRB     r0,[r6,#0]            ;376  ; work_stat
0005f0  b978              CBNZ     r0,|L1.1554|
0005f2  4da5              LDR      r5,|L1.2184|
0005f4  f8b80004          LDRH     r0,[r8,#4]            ;378  ; modbus_tcp_rx_arg1
0005f8  f242720f          MOV      r2,#0x270f            ;379
0005fc  8028              STRH     r0,[r5,#0]            ;378
0005fe  210a              MOVS     r1,#0xa               ;379
000600  4628              MOV      r0,r5                 ;379
000602  f7fffffe          BL       gran
000606  f9b51000          LDRSH    r1,[r5,#0]            ;380  ; CAP_PAUSE1_TIME
00060a  f44f70ea          MOV      r0,#0x1d4             ;380
00060e  f7fffffe          BL       lc640_write_int
                  |L1.1554|
000612  f8b80002          LDRH     r0,[r8,#2]            ;383  ; modbus_tcp_rx_arg0
000616  2849              CMP      r0,#0x49              ;383
000618  d111              BNE      |L1.1598|
00061a  7830              LDRB     r0,[r6,#0]            ;385  ; work_stat
00061c  b978              CBNZ     r0,|L1.1598|
00061e  4d9b              LDR      r5,|L1.2188|
000620  f8b80004          LDRH     r0,[r8,#4]            ;387  ; modbus_tcp_rx_arg1
000624  f242720f          MOV      r2,#0x270f            ;388
000628  8028              STRH     r0,[r5,#0]            ;387
00062a  210a              MOVS     r1,#0xa               ;388
00062c  4628              MOV      r0,r5                 ;388
00062e  f7fffffe          BL       gran
000632  f9b51000          LDRSH    r1,[r5,#0]            ;389  ; CAP_RAZR_TIME
000636  f44f70eb          MOV      r0,#0x1d6             ;389
00063a  f7fffffe          BL       lc640_write_int
                  |L1.1598|
00063e  f8b80002          LDRH     r0,[r8,#2]            ;392  ; modbus_tcp_rx_arg0
000642  284a              CMP      r0,#0x4a              ;392
000644  d111              BNE      |L1.1642|
000646  7830              LDRB     r0,[r6,#0]            ;394  ; work_stat
000648  b978              CBNZ     r0,|L1.1642|
00064a  4d91              LDR      r5,|L1.2192|
00064c  f8b80004          LDRH     r0,[r8,#4]            ;396  ; modbus_tcp_rx_arg1
000650  f242720f          MOV      r2,#0x270f            ;397
000654  8028              STRH     r0,[r5,#0]            ;396
000656  210a              MOVS     r1,#0xa               ;397
000658  4628              MOV      r0,r5                 ;397
00065a  f7fffffe          BL       gran
00065e  f9b51000          LDRSH    r1,[r5,#0]            ;398  ; CAP_PAUSE2_TIME
000662  f44f70ec          MOV      r0,#0x1d8             ;398
000666  f7fffffe          BL       lc640_write_int
                  |L1.1642|
00066a  f8b80002          LDRH     r0,[r8,#2]            ;402  ; modbus_tcp_rx_arg0
00066e  284b              CMP      r0,#0x4b              ;402
000670  d110              BNE      |L1.1684|
000672  7830              LDRB     r0,[r6,#0]            ;404  ; work_stat
000674  b970              CBNZ     r0,|L1.1684|
000676  4d87              LDR      r5,|L1.2196|
000678  f8b80004          LDRH     r0,[r8,#4]            ;406  ; modbus_tcp_rx_arg1
00067c  2264              MOVS     r2,#0x64              ;407
00067e  8028              STRH     r0,[r5,#0]            ;406
000680  2101              MOVS     r1,#1                 ;407
000682  4628              MOV      r0,r5                 ;407
000684  f7fffffe          BL       gran
000688  f9b51000          LDRSH    r1,[r5,#0]            ;408  ; CAP_MAX_VOLT
00068c  f44f70ed          MOV      r0,#0x1da             ;408
000690  f7fffffe          BL       lc640_write_int
                  |L1.1684|
000694  f8b80002          LDRH     r0,[r8,#2]            ;411  ; modbus_tcp_rx_arg0
000698  284c              CMP      r0,#0x4c              ;411
00069a  d110              BNE      |L1.1726|
00069c  7830              LDRB     r0,[r6,#0]            ;413  ; work_stat
00069e  b970              CBNZ     r0,|L1.1726|
0006a0  4d7d              LDR      r5,|L1.2200|
0006a2  f8b80004          LDRH     r0,[r8,#4]            ;415  ; modbus_tcp_rx_arg1
0006a6  2296              MOVS     r2,#0x96              ;416
0006a8  8028              STRH     r0,[r5,#0]            ;415
0006aa  2101              MOVS     r1,#1                 ;416
0006ac  4628              MOV      r0,r5                 ;416
0006ae  f7fffffe          BL       gran
0006b2  f9b51000          LDRSH    r1,[r5,#0]            ;417  ; CAP_WRK_CURR
0006b6  f44f70ee          MOV      r0,#0x1dc             ;417
0006ba  f7fffffe          BL       lc640_write_int
                  |L1.1726|
0006be  f9b80002          LDRSH    r0,[r8,#2]            ;421  ; modbus_tcp_rx_arg0
0006c2  4645              MOV      r5,r8                 ;556
0006c4  284d              CMP      r0,#0x4d              ;421
0006c6  d008              BEQ      |L1.1754|
0006c8  285a              CMP      r0,#0x5a              ;556
0006ca  d07d              BEQ      |L1.1992|
0006cc  285b              CMP      r0,#0x5b              ;562
0006ce  d07c              BEQ      |L1.1994|
0006d0  285c              CMP      r0,#0x5c              ;568
0006d2  d07b              BEQ      |L1.1996|
0006d4  285d              CMP      r0,#0x5d              ;590
0006d6  d07a              BEQ      |L1.1998|
0006d8  e188              B        |L1.2540|
                  |L1.1754|
0006da  88a8              LDRH     r0,[r5,#4]            ;423  ; modbus_tcp_rx_arg1
0006dc  2811              CMP      r0,#0x11              ;423
0006de  d101              BNE      |L1.1764|
0006e0  f7fffffe          BL       start_CAP
                  |L1.1764|
0006e4  88a8              LDRH     r0,[r5,#4]            ;427  ; modbus_tcp_rx_arg1
0006e6  2812              CMP      r0,#0x12              ;427
0006e8  d101              BNE      |L1.1774|
0006ea  f7fffffe          BL       pause_CAP
                  |L1.1774|
0006ee  88a8              LDRH     r0,[r5,#4]            ;431  ; modbus_tcp_rx_arg1
0006f0  2813              CMP      r0,#0x13              ;431
0006f2  d101              BNE      |L1.1784|
0006f4  f7fffffe          BL       stop_CAP
                  |L1.1784|
0006f8  88a8              LDRH     r0,[r5,#4]            ;435  ; modbus_tcp_rx_arg1
0006fa  2814              CMP      r0,#0x14              ;435
0006fc  d101              BNE      |L1.1794|
0006fe  f7fffffe          BL       reset_CAP
                  |L1.1794|
000702  88a8              LDRH     r0,[r5,#4]            ;440  ; modbus_tcp_rx_arg1
000704  46a8              MOV      r8,r5                 ;440
000706  2821              CMP      r0,#0x21              ;440
000708  d111              BNE      |L1.1838|
00070a  7830              LDRB     r0,[r6,#0]            ;442  ; work_stat
00070c  b978              CBNZ     r0,|L1.1838|
00070e  4d5d              LDR      r5,|L1.2180|
000710  f242720f          MOV      r2,#0x270f            ;445
000714  210a              MOVS     r1,#0xa               ;445
000716  8828              LDRH     r0,[r5,#0]            ;444  ; CAP_ZAR_TIME
000718  1c40              ADDS     r0,r0,#1              ;444
00071a  8028              STRH     r0,[r5,#0]            ;444
00071c  4628              MOV      r0,r5                 ;445
00071e  f7fffffe          BL       gran
000722  f9b51000          LDRSH    r1,[r5,#0]            ;446  ; CAP_ZAR_TIME
000726  f44f70e9          MOV      r0,#0x1d2             ;446
00072a  f7fffffe          BL       lc640_write_int
                  |L1.1838|
00072e  f8b80004          LDRH     r0,[r8,#4]            ;449  ; modbus_tcp_rx_arg1
000732  2822              CMP      r0,#0x22              ;449
000734  d111              BNE      |L1.1882|
000736  7830              LDRB     r0,[r6,#0]            ;451  ; work_stat
000738  b978              CBNZ     r0,|L1.1882|
00073a  4d52              LDR      r5,|L1.2180|
00073c  f242720f          MOV      r2,#0x270f            ;454
000740  210a              MOVS     r1,#0xa               ;454
000742  8828              LDRH     r0,[r5,#0]            ;453  ; CAP_ZAR_TIME
000744  1e40              SUBS     r0,r0,#1              ;453
000746  8028              STRH     r0,[r5,#0]            ;453
000748  4628              MOV      r0,r5                 ;454
00074a  f7fffffe          BL       gran
00074e  f9b51000          LDRSH    r1,[r5,#0]            ;455  ; CAP_ZAR_TIME
000752  f44f70e9          MOV      r0,#0x1d2             ;455
000756  f7fffffe          BL       lc640_write_int
                  |L1.1882|
00075a  f8b80004          LDRH     r0,[r8,#4]            ;459  ; modbus_tcp_rx_arg1
00075e  2831              CMP      r0,#0x31              ;459
000760  d111              BNE      |L1.1926|
000762  7830              LDRB     r0,[r6,#0]            ;461  ; work_stat
000764  b978              CBNZ     r0,|L1.1926|
000766  4d48              LDR      r5,|L1.2184|
000768  f242720f          MOV      r2,#0x270f            ;464
00076c  210a              MOVS     r1,#0xa               ;464
00076e  8828              LDRH     r0,[r5,#0]            ;463  ; CAP_PAUSE1_TIME
000770  1c40              ADDS     r0,r0,#1              ;463
000772  8028              STRH     r0,[r5,#0]            ;463
000774  4628              MOV      r0,r5                 ;464
000776  f7fffffe          BL       gran
00077a  f9b51000          LDRSH    r1,[r5,#0]            ;465  ; CAP_PAUSE1_TIME
00077e  f44f70ea          MOV      r0,#0x1d4             ;465
000782  f7fffffe          BL       lc640_write_int
                  |L1.1926|
000786  f8b80004          LDRH     r0,[r8,#4]            ;468  ; modbus_tcp_rx_arg1
00078a  2832              CMP      r0,#0x32              ;468
00078c  d111              BNE      |L1.1970|
00078e  7830              LDRB     r0,[r6,#0]            ;470  ; work_stat
000790  b978              CBNZ     r0,|L1.1970|
000792  4d3d              LDR      r5,|L1.2184|
000794  f242720f          MOV      r2,#0x270f            ;473
000798  210a              MOVS     r1,#0xa               ;473
00079a  8828              LDRH     r0,[r5,#0]            ;472  ; CAP_PAUSE1_TIME
00079c  1e40              SUBS     r0,r0,#1              ;472
00079e  8028              STRH     r0,[r5,#0]            ;472
0007a0  4628              MOV      r0,r5                 ;473
0007a2  f7fffffe          BL       gran
0007a6  f9b51000          LDRSH    r1,[r5,#0]            ;474  ; CAP_PAUSE1_TIME
0007aa  f44f70ea          MOV      r0,#0x1d4             ;474
0007ae  f7fffffe          BL       lc640_write_int
                  |L1.1970|
0007b2  f8b80004          LDRH     r0,[r8,#4]            ;478  ; modbus_tcp_rx_arg1
0007b6  2841              CMP      r0,#0x41              ;478
0007b8  d116              BNE      |L1.2024|
0007ba  7830              LDRB     r0,[r6,#0]            ;480  ; work_stat
0007bc  b9a0              CBNZ     r0,|L1.2024|
0007be  4d33              LDR      r5,|L1.2188|
0007c0  8828              LDRH     r0,[r5,#0]            ;482  ; CAP_RAZR_TIME
0007c2  1c40              ADDS     r0,r0,#1              ;482
0007c4  8028              STRH     r0,[r5,#0]            ;482
0007c6  e003              B        |L1.2000|
                  |L1.1992|
0007c8  e0d0              B        |L1.2412|
                  |L1.1994|
0007ca  e0d3              B        |L1.2420|
                  |L1.1996|
0007cc  e0da              B        |L1.2436|
                  |L1.1998|
0007ce  e0f3              B        |L1.2488|
                  |L1.2000|
0007d0  f242720f          MOV      r2,#0x270f            ;483
0007d4  210a              MOVS     r1,#0xa               ;483
0007d6  4628              MOV      r0,r5                 ;483
0007d8  f7fffffe          BL       gran
0007dc  f9b51000          LDRSH    r1,[r5,#0]            ;484  ; CAP_RAZR_TIME
0007e0  f44f70eb          MOV      r0,#0x1d6             ;484
0007e4  f7fffffe          BL       lc640_write_int
                  |L1.2024|
0007e8  f8b80004          LDRH     r0,[r8,#4]            ;487  ; modbus_tcp_rx_arg1
0007ec  2842              CMP      r0,#0x42              ;487
0007ee  d111              BNE      |L1.2068|
0007f0  7830              LDRB     r0,[r6,#0]            ;489  ; work_stat
0007f2  b978              CBNZ     r0,|L1.2068|
0007f4  4d25              LDR      r5,|L1.2188|
0007f6  f242720f          MOV      r2,#0x270f            ;492
0007fa  210a              MOVS     r1,#0xa               ;492
0007fc  8828              LDRH     r0,[r5,#0]            ;491  ; CAP_RAZR_TIME
0007fe  1e40              SUBS     r0,r0,#1              ;491
000800  8028              STRH     r0,[r5,#0]            ;491
000802  4628              MOV      r0,r5                 ;492
000804  f7fffffe          BL       gran
000808  f9b51000          LDRSH    r1,[r5,#0]            ;493  ; CAP_RAZR_TIME
00080c  f44f70eb          MOV      r0,#0x1d6             ;493
000810  f7fffffe          BL       lc640_write_int
                  |L1.2068|
000814  f8b80004          LDRH     r0,[r8,#4]            ;497  ; modbus_tcp_rx_arg1
000818  2851              CMP      r0,#0x51              ;497
00081a  d111              BNE      |L1.2112|
00081c  7830              LDRB     r0,[r6,#0]            ;499  ; work_stat
00081e  b978              CBNZ     r0,|L1.2112|
000820  4d1b              LDR      r5,|L1.2192|
000822  f242720f          MOV      r2,#0x270f            ;502
000826  210a              MOVS     r1,#0xa               ;502
000828  8828              LDRH     r0,[r5,#0]            ;501  ; CAP_PAUSE2_TIME
00082a  1c40              ADDS     r0,r0,#1              ;501
00082c  8028              STRH     r0,[r5,#0]            ;501
00082e  4628              MOV      r0,r5                 ;502
000830  f7fffffe          BL       gran
000834  f9b51000          LDRSH    r1,[r5,#0]            ;503  ; CAP_PAUSE2_TIME
000838  f44f70ec          MOV      r0,#0x1d8             ;503
00083c  f7fffffe          BL       lc640_write_int
                  |L1.2112|
000840  f8b80004          LDRH     r0,[r8,#4]            ;506  ; modbus_tcp_rx_arg1
000844  2852              CMP      r0,#0x52              ;506
000846  d139              BNE      |L1.2236|
000848  7830              LDRB     r0,[r6,#0]            ;508  ; work_stat
00084a  bb38              CBNZ     r0,|L1.2204|
00084c  4d10              LDR      r5,|L1.2192|
00084e  e026              B        |L1.2206|
                  |L1.2128|
                          DCD      AVT_REV_IS_ON
                  |L1.2132|
                          DCD      AVT_REV_TIME_FF
                  |L1.2136|
                          DCD      T_PROC_MAX
                  |L1.2140|
                          DCD      AVT_REV_TIME_REW
                  |L1.2144|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2148|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2152|
                          DCD      I_MAX_IPS
                  |L1.2156|
                          DCD      I_MIN_IPS
                  |L1.2160|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.2164|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.2168|
                          DCD      U_MAX
                  |L1.2172|
                          DCD      U_MIN
                  |L1.2176|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.2180|
                          DCD      CAP_ZAR_TIME
                  |L1.2184|
                          DCD      CAP_PAUSE1_TIME
                  |L1.2188|
                          DCD      CAP_RAZR_TIME
                  |L1.2192|
                          DCD      CAP_PAUSE2_TIME
                  |L1.2196|
                          DCD      CAP_MAX_VOLT
                  |L1.2200|
                          DCD      CAP_WRK_CURR
                  |L1.2204|
00089c  e00e              B        |L1.2236|
                  |L1.2206|
00089e  8828              LDRH     r0,[r5,#0]            ;510  ; CAP_PAUSE2_TIME
0008a0  f242720f          MOV      r2,#0x270f            ;511
0008a4  1e40              SUBS     r0,r0,#1              ;510
0008a6  8028              STRH     r0,[r5,#0]            ;510
0008a8  210a              MOVS     r1,#0xa               ;511
0008aa  4628              MOV      r0,r5                 ;511
0008ac  f7fffffe          BL       gran
0008b0  f9b51000          LDRSH    r1,[r5,#0]            ;512  ; CAP_PAUSE2_TIME
0008b4  f44f70ec          MOV      r0,#0x1d8             ;512
0008b8  f7fffffe          BL       lc640_write_int
                  |L1.2236|
0008bc  f8b80004          LDRH     r0,[r8,#4]            ;516  ; modbus_tcp_rx_arg1
0008c0  2861              CMP      r0,#0x61              ;516
0008c2  d110              BNE      |L1.2278|
0008c4  7830              LDRB     r0,[r6,#0]            ;518  ; work_stat
0008c6  b970              CBNZ     r0,|L1.2278|
0008c8  4dfa              LDR      r5,|L1.3252|
0008ca  2264              MOVS     r2,#0x64              ;521
0008cc  2101              MOVS     r1,#1                 ;521
0008ce  8828              LDRH     r0,[r5,#0]            ;520  ; CAP_MAX_VOLT
0008d0  1c40              ADDS     r0,r0,#1              ;520
0008d2  8028              STRH     r0,[r5,#0]            ;520
0008d4  4628              MOV      r0,r5                 ;521
0008d6  f7fffffe          BL       gran
0008da  f9b51000          LDRSH    r1,[r5,#0]            ;522  ; CAP_MAX_VOLT
0008de  f44f70ed          MOV      r0,#0x1da             ;522
0008e2  f7fffffe          BL       lc640_write_int
                  |L1.2278|
0008e6  f8b80004          LDRH     r0,[r8,#4]            ;525  ; modbus_tcp_rx_arg1
0008ea  2862              CMP      r0,#0x62              ;525
0008ec  d113              BNE      |L1.2326|
0008ee  7830              LDRB     r0,[r6,#0]            ;527  ; work_stat
0008f0  b988              CBNZ     r0,|L1.2326|
0008f2  4df0              LDR      r5,|L1.3252|
0008f4  2264              MOVS     r2,#0x64              ;530
0008f6  2101              MOVS     r1,#1                 ;530
0008f8  8828              LDRH     r0,[r5,#0]            ;529  ; CAP_MAX_VOLT
0008fa  1e40              SUBS     r0,r0,#1              ;529
0008fc  8028              STRH     r0,[r5,#0]            ;529
0008fe  4628              MOV      r0,r5                 ;530
000900  f7fffffe          BL       gran
000904  f9b51000          LDRSH    r1,[r5,#0]            ;531  ; CAP_MAX_VOLT
000908  f44f70ed          MOV      r0,#0x1da             ;531
00090c  e001              B        |L1.2322|
                  |L1.2318|
00090e  e3fe              B        |L1.4366|
                  |L1.2320|
000910  e3fe              B        |L1.4368|
                  |L1.2322|
000912  f7fffffe          BL       lc640_write_int
                  |L1.2326|
000916  f8b80004          LDRH     r0,[r8,#4]            ;535  ; modbus_tcp_rx_arg1
00091a  2871              CMP      r0,#0x71              ;535
00091c  d110              BNE      |L1.2368|
00091e  7830              LDRB     r0,[r6,#0]            ;537  ; work_stat
000920  b970              CBNZ     r0,|L1.2368|
000922  4de5              LDR      r5,|L1.3256|
000924  2296              MOVS     r2,#0x96              ;540
000926  2101              MOVS     r1,#1                 ;540
000928  8828              LDRH     r0,[r5,#0]            ;539  ; CAP_WRK_CURR
00092a  1c40              ADDS     r0,r0,#1              ;539
00092c  8028              STRH     r0,[r5,#0]            ;539
00092e  4628              MOV      r0,r5                 ;540
000930  f7fffffe          BL       gran
000934  f9b51000          LDRSH    r1,[r5,#0]            ;541  ; CAP_WRK_CURR
000938  f44f70ee          MOV      r0,#0x1dc             ;541
00093c  f7fffffe          BL       lc640_write_int
                  |L1.2368|
000940  f8b80004          LDRH     r0,[r8,#4]            ;544  ; modbus_tcp_rx_arg1
000944  2872              CMP      r0,#0x72              ;544
000946  d151              BNE      |L1.2540|
000948  7830              LDRB     r0,[r6,#0]            ;546  ; work_stat
00094a  bba0              CBNZ     r0,|L1.2486|
00094c  4dda              LDR      r5,|L1.3256|
00094e  2296              MOVS     r2,#0x96              ;549
000950  2101              MOVS     r1,#1                 ;549
000952  8828              LDRH     r0,[r5,#0]            ;548  ; CAP_WRK_CURR
000954  1e40              SUBS     r0,r0,#1              ;548
000956  8028              STRH     r0,[r5,#0]            ;548
000958  4628              MOV      r0,r5                 ;549
00095a  f7fffffe          BL       gran
00095e  f9b51000          LDRSH    r1,[r5,#0]            ;550  ; CAP_WRK_CURR
000962  f44f70ee          MOV      r0,#0x1dc             ;550
000966  f7fffffe          BL       lc640_write_int
00096a  e03f              B        |L1.2540|
                  |L1.2412|
00096c  f8b80004          LDRH     r0,[r8,#4]            ;558  ; modbus_tcp_rx_arg1
000970  49d2              LDR      r1,|L1.3260|
000972  e002              B        |L1.2426|
                  |L1.2420|
000974  f8b80004          LDRH     r0,[r8,#4]            ;564  ; modbus_tcp_rx_arg1
000978  49d1              LDR      r1,|L1.3264|
                  |L1.2426|
00097a  8008              STRH     r0,[r1,#0]            ;564
00097c  49d1              LDR      r1,|L1.3268|
00097e  f8819000          STRB     r9,[r1,#0]            ;565
000982  e033              B        |L1.2540|
                  |L1.2436|
000984  88a8              LDRH     r0,[r5,#4]            ;570  ; modbus_tcp_rx_arg1
000986  2801              CMP      r0,#1                 ;570
000988  d110              BNE      |L1.2476|
00098a  7830              LDRB     r0,[r6,#0]            ;572  ; work_stat
00098c  2802              CMP      r0,#2                 ;572
00098e  d00d              BEQ      |L1.2476|
000990  2002              MOVS     r0,#2                 ;574
000992  7030              STRB     r0,[r6,#0]            ;574
000994  48cc              LDR      r0,|L1.3272|
000996  6007              STR      r7,[r0,#0]            ;576  ; time_proc
000998  48cc              LDR      r0,|L1.3276|
00099a  f8db1000          LDR      r1,[r11,#0]           ;576  ; T_PROC_PS
00099e  6001              STR      r1,[r0,#0]            ;577  ; time_proc_remain
0009a0  f7fffffe          BL       restart_on_PS
0009a4  2101              MOVS     r1,#1                 ;578
0009a6  20ea              MOVS     r0,#0xea              ;578
0009a8  f7fffffe          BL       lc640_write_int
                  |L1.2476|
0009ac  88a8              LDRH     r0,[r5,#4]            ;581  ; modbus_tcp_rx_arg1
0009ae  b910              CBNZ     r0,|L1.2486|
0009b0  7830              LDRB     r0,[r6,#0]            ;583  ; work_stat
0009b2  2802              CMP      r0,#2                 ;583
0009b4  d017              BEQ      |L1.2534|
                  |L1.2486|
0009b6  e019              B        |L1.2540|
                  |L1.2488|
0009b8  88a8              LDRH     r0,[r5,#4]            ;592  ; modbus_tcp_rx_arg1
0009ba  2801              CMP      r0,#1                 ;592
0009bc  d10e              BNE      |L1.2524|
0009be  7830              LDRB     r0,[r6,#0]            ;594  ; work_stat
0009c0  2801              CMP      r0,#1                 ;594
0009c2  d00b              BEQ      |L1.2524|
0009c4  48c0              LDR      r0,|L1.3272|
0009c6  f8869000          STRB     r9,[r6,#0]            ;596
0009ca  6007              STR      r7,[r0,#0]            ;598  ; time_proc
0009cc  48bf              LDR      r0,|L1.3276|
0009ce  f8da1000          LDR      r1,[r10,#0]           ;598  ; T_PROC_GS
0009d2  6001              STR      r1,[r0,#0]            ;599  ; time_proc_remain
0009d4  2100              MOVS     r1,#0                 ;599
0009d6  20ea              MOVS     r0,#0xea              ;599
0009d8  f7fffffe          BL       lc640_write_int
                  |L1.2524|
0009dc  88a8              LDRH     r0,[r5,#4]            ;602  ; modbus_tcp_rx_arg1
0009de  b928              CBNZ     r0,|L1.2540|
0009e0  7830              LDRB     r0,[r6,#0]            ;604  ; work_stat
0009e2  2801              CMP      r0,#1                 ;604
0009e4  d102              BNE      |L1.2540|
                  |L1.2534|
0009e6  7037              STRB     r7,[r6,#0]            ;606
0009e8  f7fffffe          BL       restart_off
                  |L1.2540|
0009ec  4eb8              LDR      r6,|L1.3280|
0009ee  f8da0000          LDR      r0,[r10,#0]           ;613  ; T_PROC_GS
0009f2  4655              MOV      r5,r10                ;613
0009f4  6831              LDR      r1,[r6,#0]            ;613  ; T_PROC_MAX
0009f6  4288              CMP      r0,r1                 ;613
0009f8  dc01              BGT      |L1.2558|
0009fa  281e              CMP      r0,#0x1e              ;613
0009fc  da16              BGE      |L1.2604|
                  |L1.2558|
0009fe  4288              CMP      r0,r1                 ;615
000a00  dd02              BLE      |L1.2568|
000a02  1c49              ADDS     r1,r1,#1              ;615
000a04  6029              STR      r1,[r5,#0]            ;615  ; T_PROC_GS
000a06  e003              B        |L1.2576|
                  |L1.2568|
000a08  281e              CMP      r0,#0x1e              ;616
000a0a  da01              BGE      |L1.2576|
000a0c  201d              MOVS     r0,#0x1d              ;616
000a0e  6028              STR      r0,[r5,#0]            ;616  ; T_PROC_GS
                  |L1.2576|
000a10  6828              LDR      r0,[r5,#0]            ;617  ; T_PROC_GS
000a12  b201              SXTH     r1,r0                 ;617
000a14  20d8              MOVS     r0,#0xd8              ;617
000a16  f7fffffe          BL       lc640_write_int
000a1a  48ae              LDR      r0,|L1.3284|
000a1c  4649              MOV      r1,r9                 ;618
000a1e  f8a09000          STRH     r9,[r0,#0]            ;618
000a22  20ee              MOVS     r0,#0xee              ;619
000a24  e000              B        |L1.2600|
                  |L1.2598|
000a26  e06f              B        |L1.2824|
                  |L1.2600|
000a28  f7fffffe          BL       lc640_write_int
                  |L1.2604|
000a2c  6828              LDR      r0,[r5,#0]            ;621  ; T_PROC_GS
000a2e  6831              LDR      r1,[r6,#0]            ;621  ; T_PROC_MAX
000a30  4288              CMP      r0,r1                 ;621
000a32  dc07              BGT      |L1.2628|
000a34  281e              CMP      r0,#0x1e              ;621
000a36  db05              BLT      |L1.2628|
000a38  48a6              LDR      r0,|L1.3284|
000a3a  4639              MOV      r1,r7                 ;623
000a3c  8007              STRH     r7,[r0,#0]            ;623
000a3e  20ee              MOVS     r0,#0xee              ;624
000a40  f7fffffe          BL       lc640_write_int
                  |L1.2628|
000a44  f8db0000          LDR      r0,[r11,#0]           ;627  ; T_PROC_PS
000a48  6831              LDR      r1,[r6,#0]            ;627  ; T_PROC_MAX
000a4a  465d              MOV      r5,r11                ;627
000a4c  4288              CMP      r0,r1                 ;627
000a4e  dc01              BGT      |L1.2644|
000a50  281e              CMP      r0,#0x1e              ;627
000a52  da14              BGE      |L1.2686|
                  |L1.2644|
000a54  4288              CMP      r0,r1                 ;629
000a56  dd02              BLE      |L1.2654|
000a58  1c49              ADDS     r1,r1,#1              ;629
000a5a  6029              STR      r1,[r5,#0]            ;629  ; T_PROC_PS
000a5c  e003              B        |L1.2662|
                  |L1.2654|
000a5e  281e              CMP      r0,#0x1e              ;630
000a60  da01              BGE      |L1.2662|
000a62  201d              MOVS     r0,#0x1d              ;630
000a64  6028              STR      r0,[r5,#0]            ;630  ; T_PROC_PS
                  |L1.2662|
000a66  6828              LDR      r0,[r5,#0]            ;631  ; T_PROC_PS
000a68  b201              SXTH     r1,r0                 ;631
000a6a  20dc              MOVS     r0,#0xdc              ;631
000a6c  f7fffffe          BL       lc640_write_int
000a70  4899              LDR      r0,|L1.3288|
000a72  4649              MOV      r1,r9                 ;632
000a74  f8a09000          STRH     r9,[r0,#0]            ;632
000a78  20f0              MOVS     r0,#0xf0              ;633
000a7a  f7fffffe          BL       lc640_write_int
                  |L1.2686|
000a7e  6828              LDR      r0,[r5,#0]            ;635  ; T_PROC_PS
000a80  6831              LDR      r1,[r6,#0]            ;635  ; T_PROC_MAX
000a82  4288              CMP      r0,r1                 ;635
000a84  dc07              BGT      |L1.2710|
000a86  281e              CMP      r0,#0x1e              ;635
000a88  db05              BLT      |L1.2710|
000a8a  4893              LDR      r0,|L1.3288|
000a8c  4639              MOV      r1,r7                 ;637
000a8e  8007              STRH     r7,[r0,#0]            ;637
000a90  20f0              MOVS     r0,#0xf0              ;638
000a92  f7fffffe          BL       lc640_write_int
                  |L1.2710|
000a96  f8cd9000          STR      r9,[sp,#0]            ;642
000a9a  f8b80002          LDRH     r0,[r8,#2]            ;642  ; modbus_tcp_rx_arg0
000a9e  2301              MOVS     r3,#1                 ;642
000aa0  b282              UXTH     r2,r0                 ;642
000aa2  488e              LDR      r0,|L1.3292|
000aa4  4646              MOV      r6,r8                 ;642
000aa6  f8981000          LDRB     r1,[r8,#0]            ;642  ; modbus_tcp_func
000aaa  8800              LDRH     r0,[r0,#0]            ;642  ; MODBUS_ADRESS
000aac  b2c0              UXTB     r0,r0                 ;642
000aae  f7fffffe          BL       modbus_hold_registers_transmit
000ab2  200b              MOVS     r0,#0xb               ;644
000ab4  f7fffffe          BL       tcp_get_buf
000ab8  4605              MOV      r5,r0                 ;644
000aba  7820              LDRB     r0,[r4,#0]            ;645
000abc  7028              STRB     r0,[r5,#0]            ;645
000abe  7860              LDRB     r0,[r4,#1]            ;646
000ac0  7068              STRB     r0,[r5,#1]            ;646
000ac2  78a0              LDRB     r0,[r4,#2]            ;647
000ac4  70a8              STRB     r0,[r5,#2]            ;647
000ac6  78e0              LDRB     r0,[r4,#3]            ;648
000ac8  70e8              STRB     r0,[r5,#3]            ;648
000aca  712f              STRB     r7,[r5,#4]            ;649
000acc  2006              MOVS     r0,#6                 ;650
000ace  7168              STRB     r0,[r5,#5]            ;650
000ad0  7870              LDRB     r0,[r6,#1]            ;651  ; modbus_tcp_unit
000ad2  71a8              STRB     r0,[r5,#6]            ;651
000ad4  7830              LDRB     r0,[r6,#0]            ;652  ; modbus_tcp_func
000ad6  71e8              STRB     r0,[r5,#7]            ;652
000ad8  f9b61002          LDRSH    r1,[r6,#2]            ;653  ; modbus_tcp_rx_arg0
000adc  17c8              ASRS     r0,r1,#31             ;653
000ade  eb016210          ADD      r2,r1,r0,LSR #24      ;653
000ae2  1210              ASRS     r0,r2,#8              ;653
000ae4  7228              STRB     r0,[r5,#8]            ;653
000ae6  4608              MOV      r0,r1                 ;654
000ae8  7268              STRB     r0,[r5,#9]            ;654
000aea  2202              MOVS     r2,#2                 ;655
000aec  f105000a          ADD      r0,r5,#0xa            ;655
000af0  68b1              LDR      r1,[r6,#8]            ;655  ; modbus_tcp_out_ptr
000af2  f7fffffe          BL       mem_copy
000af6  487a              LDR      r0,|L1.3296|
000af8  220c              MOVS     r2,#0xc               ;658
000afa  4629              MOV      r1,r5                 ;658
000afc  7800              LDRB     r0,[r0,#0]            ;658  ; socket_tcp
000afe  f7fffffe          BL       tcp_send
000b02  f9b60002          LDRSH    r0,[r6,#2]            ;673  ; modbus_tcp_rx_arg0
000b06  e3fe              B        |L1.4870|
                  |L1.2824|
;;;680    			{
;;;681    			U8 *sendbuf;
;;;682    			unsigned short modbus_tcp_write_args[100];
;;;683    			char i;
;;;684    
;;;685    			//pvlk=0;
;;;686    
;;;687    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000b08  2000              MOVS     r0,#0
000b0a  f9b51004          LDRSH    r1,[r5,#4]
000b0e  e009              B        |L1.2852|
                  |L1.2832|
;;;688    				{
;;;689    				modbus_tcp_write_args[i]=(((unsigned short)ptr[13+(i*2)])*((unsigned short)256))+((unsigned short)ptr[14+(i*2)]);
000b10  eb040240          ADD      r2,r4,r0,LSL #1
000b14  7b93              LDRB     r3,[r2,#0xe]
000b16  7b52              LDRB     r2,[r2,#0xd]
000b18  eb032202          ADD      r2,r3,r2,LSL #8
000b1c  f82d2010          STRH     r2,[sp,r0,LSL #1]
000b20  1c40              ADDS     r0,r0,#1              ;687
000b22  b2c0              UXTB     r0,r0                 ;687
                  |L1.2852|
000b24  4288              CMP      r0,r1                 ;687
000b26  dbf3              BLT      |L1.2832|
;;;690    				//pvlk++;
;;;691    				}
;;;692    			
;;;693    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000b28  f04f0800          MOV      r8,#0
000b2c  e3ec              B        |L1.4872|
                  |L1.2862|
;;;694    				{
;;;695    
;;;696    				if((modbus_tcp_rx_arg0+i)==50)		//ток стабилизации для режима стабилизации тока
000b2e  486d              LDR      r0,|L1.3300|
000b30  f9b00002          LDRSH    r0,[r0,#2]  ; modbus_tcp_rx_arg0
000b34  4440              ADD      r0,r0,r8
000b36  2832              CMP      r0,#0x32
000b38  d036              BEQ      |L1.2984|
;;;697    					{
;;;698    					I_ug=modbus_tcp_write_args[i];
;;;699    					lc640_write_int(EE_I_UG,I_ug);
;;;700    					}
;;;701    				else if((modbus_tcp_rx_arg0+i)==51)	//напряжение стабилизации для режима стабилизации напряжения
000b3a  2833              CMP      r0,#0x33
000b3c  d03a              BEQ      |L1.2996|
;;;702    					{
;;;703    					U_up=modbus_tcp_write_args[i];
;;;704    					lc640_write_int(EE_U_UP,U_up);
;;;705    					}
;;;706    				else if((modbus_tcp_rx_arg0+i)==52)		//максимапльное напряжение для режима стабилизации тока
000b3e  2834              CMP      r0,#0x34
000b40  d03e              BEQ      |L1.3008|
;;;707    					{
;;;708    					U_maxg=modbus_tcp_write_args[i];
;;;709    					lc640_write_int(EE_U_MAX_G,U_maxg);
;;;710    					}
;;;711    				else if((modbus_tcp_rx_arg0+i)==53)		//максимальный ток для режима стабилизации напряжения
000b42  2835              CMP      r0,#0x35
000b44  d042              BEQ      |L1.3020|
;;;712    					{
;;;713    					I_maxp=modbus_tcp_write_args[i];
;;;714    					lc640_write_int(EE_I_MAX_P,I_maxp);
;;;715    					}								
;;;716    				else if((modbus_tcp_rx_arg0+i)==54)		//Установка времени для ист.тока.секунды
000b46  2836              CMP      r0,#0x36
000b48  d046              BEQ      |L1.3032|
;;;717    					{
;;;718    					signed long sec,min,hour;
;;;719    					sec=(signed long)modbus_tcp_write_args[i];
;;;720    					min=(T_PROC_GS/60L)%60L;
;;;721    					hour=T_PROC_GS/3600L;
;;;722    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;723    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;724    					}
;;;725    				else if((modbus_tcp_rx_arg0+i)==55)		//Установка времени для ист.тока.минуты
000b4a  2837              CMP      r0,#0x37
000b4c  d05c              BEQ      |L1.3080|
;;;726    					{
;;;727    					signed long sec,min,hour;
;;;728    					sec=T_PROC_GS%60L;
;;;729    					min=(signed long)modbus_tcp_write_args[i];
;;;730    					hour=T_PROC_GS/3600L;
;;;731    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;732    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;733    					}
;;;734    				else if((modbus_tcp_rx_arg0+i)==56)		//Установка времени для ист.тока.часы
000b4e  2838              CMP      r0,#0x38
000b50  d06c              BEQ      |L1.3116|
;;;735    					{
;;;736    					signed long sec,min,hour;
;;;737    					sec=T_PROC_GS%60L;
;;;738    					min=(T_PROC_GS/60L)%60L;
;;;739    					hour=(signed long)modbus_tcp_write_args[i];
;;;740    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;741    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;742    					}
;;;743    				else if((modbus_tcp_rx_arg0+i)==57)		//Установка времени для ист.напр.секунды
000b52  2839              CMP      r0,#0x39
000b54  d07d              BEQ      |L1.3154|
;;;744    					{
;;;745    					signed long sec,min,hour;
;;;746    					sec=(signed long)modbus_tcp_write_args[i];
;;;747    					min=(T_PROC_PS/60L)%60L;
;;;748    					hour=T_PROC_PS/3600L;
;;;749    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;750    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;751    					}
;;;752    				else if((modbus_tcp_rx_arg0+i)==58)		//Установка времени для ист.напр.минуты
000b56  283a              CMP      r0,#0x3a
000b58  d07c              BEQ      |L1.3156|
;;;753    					{
;;;754    					signed long sec,min,hour;
;;;755    					sec=T_PROC_PS%60L;
;;;756    					min=(signed long)modbus_tcp_write_args[i];
;;;757    					hour=T_PROC_PS/3600L;
;;;758    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;759    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;760    					}
;;;761    	
;;;762    				else if((modbus_tcp_rx_arg0+i)==59)		//Установка времени для ист.напр.часы
000b5a  283b              CMP      r0,#0x3b
000b5c  d07b              BEQ      |L1.3158|
;;;763    					{
;;;764    					signed long sec,min,hour;
;;;765    					sec=T_PROC_PS%60L;
;;;766    					min=(T_PROC_PS/60L)%60L;
;;;767    					hour=(signed long)modbus_tcp_write_args[i];
;;;768    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;769    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;770    					}
;;;771    
;;;772    	 			else if((modbus_tcp_rx_arg0+i)==60)		//вкл/выкл источника напр.
000b5e  283c              CMP      r0,#0x3c
000b60  d07a              BEQ      |L1.3160|
;;;773    					{
;;;774    					if(modbus_tcp_write_args[i]==1)
;;;775    						{
;;;776    						if(work_stat!=wsPS)
;;;777    							{
;;;778    							work_stat=wsPS;
;;;779    							time_proc=0;
;;;780    							time_proc_remain=T_PROC_PS;
;;;781    							restart_on_PS();
;;;782    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;783    							}
;;;784    						}
;;;785    					if(modbus_tcp_write_args[i]==0)
;;;786    						{
;;;787    						if(work_stat==wsPS)
;;;788    							{
;;;789    							work_stat=wsOFF;
;;;790    							restart_off();
;;;791    							}
;;;792    						}
;;;793    					}
;;;794    				else if((modbus_tcp_rx_arg0+i)==61)		//вкл/выкл источника тока
000b62  283d              CMP      r0,#0x3d
000b64  d079              BEQ      |L1.3162|
;;;795    					{
;;;796    					if(modbus_tcp_write_args[i]==1)
;;;797    						{
;;;798    						if(work_stat!=wsGS)
;;;799    							{
;;;800    							work_stat=wsGS;
;;;801    							time_proc=0;
;;;802    							time_proc_remain=T_PROC_GS;
;;;803    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;804    							}
;;;805    						}
;;;806    					if(modbus_tcp_write_args[i]==0)
;;;807    						{
;;;808    						if(work_stat==wsGS)
;;;809    							{
;;;810    							work_stat=wsOFF;
;;;811    							restart_off();
;;;812    							}
;;;813    						}
;;;814    					}
;;;815    				else if((modbus_tcp_rx_arg0+i)==62)		//переключение реле реверса
000b66  283e              CMP      r0,#0x3e
000b68  d078              BEQ      |L1.3164|
;;;816    					{
;;;817    						{
;;;818    						if(work_stat==wsOFF)
;;;819    							{
;;;820    							if(modbus_tcp_write_args[i]==0)REV_STAT=rsFF;
;;;821    							if(modbus_tcp_write_args[i]==1)REV_STAT=rsREW;
;;;822    							}
;;;823    						}
;;;824    					}
;;;825    				else if((modbus_tcp_rx_arg0+i)==63)		//включение-выключение автореверса
000b6a  283f              CMP      r0,#0x3f
000b6c  d077              BEQ      |L1.3166|
;;;826    					{
;;;827    						{
;;;828    						if((work_stat==wsOFF)&&(REV_IS_ON))
;;;829    							{
;;;830    							if(modbus_tcp_write_args[i]==1)AVT_REV_IS_ON=1;
;;;831    							if(modbus_tcp_write_args[i]==0)AVT_REV_IS_ON=0;
;;;832    							lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;833    							}
;;;834    						}
;;;835    					}
;;;836    				else if((modbus_tcp_rx_arg0+i)==64)		//Автореверс, время работы прямое, сек
000b6e  2840              CMP      r0,#0x40
000b70  d076              BEQ      |L1.3168|
;;;837    					{
;;;838    					if(work_stat==wsOFF)
;;;839    						{
;;;840    						AVT_REV_TIME_FF=modbus_tcp_write_args[i];
;;;841    						gran(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;842    						lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;843    						}
;;;844    					}
;;;845    				else if((modbus_tcp_rx_arg0+i)==65)		//Автореверс, время работы обратное, сек
000b72  2841              CMP      r0,#0x41
000b74  d075              BEQ      |L1.3170|
;;;846    					{
;;;847    					if(work_stat==wsOFF)
;;;848    						{
;;;849    						AVT_REV_TIME_REW=modbus_tcp_write_args[i];
;;;850    						gran(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;851    						lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;852    						}
;;;853    					}
;;;854    				else if((modbus_tcp_rx_arg0+i)==66)		//Автореверс, время паузы при переключении, сек
000b76  2842              CMP      r0,#0x42
000b78  d074              BEQ      |L1.3172|
;;;855    					{
;;;856    					if(work_stat==wsOFF)
;;;857    						{
;;;858    						AVT_REV_TIME_PAUSE=modbus_tcp_write_args[i];
;;;859    						gran(&AVT_REV_TIME_PAUSE,2,600);
;;;860    						lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;861    						}
;;;862    					}
;;;863    	
;;;864    				else if((modbus_tcp_rx_arg0+i)==67)		//Автореверс, ток стабилизации прямой, 0.1А
000b7a  2843              CMP      r0,#0x43
000b7c  d073              BEQ      |L1.3174|
;;;865    					{
;;;866    					if(work_stat==wsOFF)
;;;867    						{
;;;868    						AVT_REV_I_NOM_FF=modbus_tcp_write_args[i];
;;;869    			    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;870    						lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;871    						}
;;;872    					}
;;;873    	
;;;874    				else if((modbus_tcp_rx_arg0+i)==68)		//Автореверс, ток стабилизации обратный, 0.1А
000b7e  2844              CMP      r0,#0x44
000b80  d072              BEQ      |L1.3176|
;;;875    					{
;;;876    					if(work_stat==wsOFF)
;;;877    						{
;;;878    						AVT_REV_I_NOM_REW=modbus_tcp_write_args[i];
;;;879    			    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;880    						lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;881    						}
;;;882    					}
;;;883    				else if((modbus_tcp_rx_arg0+i)==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
000b82  2845              CMP      r0,#0x45
000b84  d071              BEQ      |L1.3178|
;;;884    					{
;;;885    					if(work_stat==wsOFF)
;;;886    						{
;;;887    						AVT_REV_U_NOM_FF=modbus_tcp_write_args[i];
;;;888    			    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;889    						lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;890    						}
;;;891    					}
;;;892    	
;;;893    				else if((modbus_tcp_rx_arg0+i)==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
000b86  2846              CMP      r0,#0x46
000b88  d070              BEQ      |L1.3180|
;;;894    					{
;;;895    					if(work_stat==wsOFF)
;;;896    						{
;;;897    						AVT_REV_U_NOM_REW=modbus_tcp_write_args[i];
;;;898    			    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;899    						lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;900    						}
;;;901    					}
;;;902    				else if((modbus_tcp_rx_arg0+i)==71)		//Время заряда испытательного цикла, 0.1С 
000b8a  2847              CMP      r0,#0x47
000b8c  d06f              BEQ      |L1.3182|
;;;903    					{
;;;904    					if(work_stat==wsOFF)
;;;905    						{
;;;906    						CAP_ZAR_TIME=modbus_tcp_write_args[i];
;;;907    			    			gran(&CAP_ZAR_TIME,10,9999);
;;;908    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;909    						}
;;;910    					}
;;;911    				else if((modbus_tcp_rx_arg0+i)==72)		//Время паузы1 испытательного цикла, 0.1С 
000b8e  2848              CMP      r0,#0x48
000b90  d06e              BEQ      |L1.3184|
;;;912    					{
;;;913    					if(work_stat==wsOFF)
;;;914    						{
;;;915    						CAP_PAUSE1_TIME=modbus_tcp_write_args[i];
;;;916    			    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;917    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;918    						}
;;;919    					}
;;;920    				else if((modbus_tcp_rx_arg0+i)==73)		//Время разряда испытательного цикла, 0.1С 
000b92  2849              CMP      r0,#0x49
000b94  d06d              BEQ      |L1.3186|
;;;921    					{
;;;922    					if(work_stat==wsOFF)
;;;923    						{
;;;924    						CAP_RAZR_TIME=modbus_tcp_write_args[i];
;;;925    			    			gran(&CAP_RAZR_TIME,10,9999);
;;;926    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;927    						}
;;;928    					}
;;;929    				else if((modbus_tcp_rx_arg0+i)==74)		//Время паузы2 испытательного цикла, 0.1С 
000b96  284a              CMP      r0,#0x4a
000b98  d06c              BEQ      |L1.3188|
;;;930    					{
;;;931    					if(work_stat==wsOFF)
;;;932    						{
;;;933    						CAP_PAUSE2_TIME=modbus_tcp_write_args[i];
;;;934    			    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;935    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;936    						}
;;;937    					}
;;;938    	
;;;939    				else if((modbus_tcp_rx_arg0+i)==75)		//Максимальное напряжение испытательного цикла, 1В  
000b9a  284b              CMP      r0,#0x4b
000b9c  d06b              BEQ      |L1.3190|
;;;940    					{
;;;941    					if(work_stat==wsOFF)
;;;942    						{
;;;943    						CAP_MAX_VOLT=modbus_tcp_write_args[i];
;;;944    			    			gran(&CAP_MAX_VOLT,1,100);
;;;945    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;946    						}
;;;947    					}
;;;948    				else if((modbus_tcp_rx_arg0+i)==76)		//Рабочий ток испытательного цикла, 1А 
000b9e  284c              CMP      r0,#0x4c
000ba0  d06a              BEQ      |L1.3192|
;;;949    					{
;;;950    					if(work_stat==wsOFF)
;;;951    						{
;;;952    						CAP_WRK_CURR=modbus_tcp_write_args[i];
;;;953    			    			gran(&CAP_WRK_CURR,1,150);
;;;954    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;955    						}
;;;956    					}
;;;957    	
;;;958    				else if((modbus_tcp_rx_arg0+i)==77)		//Регистр для записи команд 
000ba2  284d              CMP      r0,#0x4d
000ba4  d069              BEQ      |L1.3194|
000ba6  e379              B        |L1.4764|
                  |L1.2984|
000ba8  484f              LDR      r0,|L1.3304|
000baa  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;698
000bae  8001              STRH     r1,[r0,#0]            ;698
000bb0  2020              MOVS     r0,#0x20              ;699
000bb2  e371              B        |L1.4760|
                  |L1.2996|
000bb4  484d              LDR      r0,|L1.3308|
000bb6  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;703
000bba  8001              STRH     r1,[r0,#0]            ;703
000bbc  2022              MOVS     r0,#0x22              ;704
000bbe  e36b              B        |L1.4760|
                  |L1.3008|
000bc0  484b              LDR      r0,|L1.3312|
000bc2  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;708
000bc6  8001              STRH     r1,[r0,#0]            ;708
000bc8  2076              MOVS     r0,#0x76              ;709
000bca  e365              B        |L1.4760|
                  |L1.3020|
000bcc  4849              LDR      r0,|L1.3316|
000bce  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;713
000bd2  8001              STRH     r1,[r0,#0]            ;713
000bd4  2078              MOVS     r0,#0x78              ;714
000bd6  e35f              B        |L1.4760|
                  |L1.3032|
000bd8  f8da1000          LDR      r1,[r10,#0]           ;720  ; T_PROC_GS
000bdc  203c              MOVS     r0,#0x3c              ;720
000bde  fb91f2f0          SDIV     r2,r1,r0              ;720
000be2  fb92f3f0          SDIV     r3,r2,r0              ;720
000be6  fb002213          MLS      r2,r0,r3,r2           ;720
000bea  f44f6061          MOV      r0,#0xe10             ;721
000bee  fb91f0f0          SDIV     r0,r1,r0              ;721
000bf2  f44f6161          MOV      r1,#0xe10             ;722
000bf6  4348              MULS     r0,r1,r0              ;722
000bf8  f83d5018          LDRH     r5,[sp,r8,LSL #1]     ;719
000bfc  ebc21102          RSB      r1,r2,r2,LSL #4       ;722
000c00  eb000081          ADD      r0,r0,r1,LSL #2       ;722
000c04  1941              ADDS     r1,r0,r5              ;722
000c06  e00d              B        |L1.3108|
                  |L1.3080|
000c08  f8da0000          LDR      r0,[r10,#0]           ;728  ; T_PROC_GS
000c0c  213c              MOVS     r1,#0x3c              ;728
000c0e  fb90f2f1          SDIV     r2,r0,r1              ;728
000c12  fb010112          MLS      r1,r1,r2,r0           ;728
000c16  f44f6361          MOV      r3,#0xe10             ;730
000c1a  fb90f0f3          SDIV     r0,r0,r3              ;730
000c1e  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;729
000c22  e010              B        |L1.3142|
                  |L1.3108|
000c24  20d8              MOVS     r0,#0xd8              ;723
000c26  f8ca1000          STR      r1,[r10,#0]           ;723  ; T_PROC_GS
000c2a  e08b              B        |L1.3396|
                  |L1.3116|
000c2c  f8da1000          LDR      r1,[r10,#0]           ;737  ; T_PROC_GS
000c30  223c              MOVS     r2,#0x3c              ;737
000c32  fb91f0f2          SDIV     r0,r1,r2              ;737
000c36  fb90f3f2          SDIV     r3,r0,r2              ;738
000c3a  fb021110          MLS      r1,r2,r0,r1           ;737
000c3e  fb020213          MLS      r2,r2,r3,r0           ;738
000c42  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;739
                  |L1.3142|
000c46  f44f6361          MOV      r3,#0xe10             ;740
000c4a  4358              MULS     r0,r3,r0              ;740
000c4c  ebc21202          RSB      r2,r2,r2,LSL #4       ;740
000c50  e014              B        |L1.3196|
                  |L1.3154|
000c52  e017              B        |L1.3204|
                  |L1.3156|
000c54  e050              B        |L1.3320|
                  |L1.3158|
000c56  e05d              B        |L1.3348|
                  |L1.3160|
000c58  e077              B        |L1.3402|
                  |L1.3162|
000c5a  e094              B        |L1.3462|
                  |L1.3164|
000c5c  e0b2              B        |L1.3524|
                  |L1.3166|
000c5e  e0c1              B        |L1.3556|
                  |L1.3168|
000c60  e0d9              B        |L1.3606|
                  |L1.3170|
000c62  e0eb              B        |L1.3644|
                  |L1.3172|
000c64  e0fd              B        |L1.3682|
                  |L1.3174|
000c66  e10e              B        |L1.3718|
                  |L1.3176|
000c68  e122              B        |L1.3760|
                  |L1.3178|
000c6a  e136              B        |L1.3802|
                  |L1.3180|
000c6c  e14a              B        |L1.3844|
                  |L1.3182|
000c6e  e15e              B        |L1.3886|
                  |L1.3184|
000c70  e16f              B        |L1.3922|
                  |L1.3186|
000c72  e180              B        |L1.3958|
                  |L1.3188|
000c74  e191              B        |L1.3994|
                  |L1.3190|
000c76  e1a1              B        |L1.4028|
                  |L1.3192|
000c78  e1b0              B        |L1.4060|
                  |L1.3194|
000c7a  e1b7              B        |L1.4076|
                  |L1.3196|
000c7c  eb000082          ADD      r0,r0,r2,LSL #2       ;740
000c80  4401              ADD      r1,r1,r0              ;740
000c82  e7cf              B        |L1.3108|
                  |L1.3204|
000c84  f8db5000          LDR      r5,[r11,#0]           ;747  ; T_PROC_PS
000c88  213c              MOVS     r1,#0x3c              ;747
000c8a  fb95f2f1          SDIV     r2,r5,r1              ;747
000c8e  fb92f3f1          SDIV     r3,r2,r1              ;747
000c92  fb012213          MLS      r2,r1,r3,r2           ;747
000c96  f44f6161          MOV      r1,#0xe10             ;748
000c9a  fb95f1f1          SDIV     r1,r5,r1              ;748
000c9e  f44f6361          MOV      r3,#0xe10             ;749
000ca2  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;746
000ca6  4359              MULS     r1,r3,r1              ;749
000ca8  ebc21202          RSB      r2,r2,r2,LSL #4       ;749
000cac  eb010182          ADD      r1,r1,r2,LSL #2       ;749
000cb0  4401              ADD      r1,r1,r0              ;749
000cb2  e044              B        |L1.3390|
                  |L1.3252|
                          DCD      CAP_MAX_VOLT
                  |L1.3256|
                          DCD      CAP_WRK_CURR
                  |L1.3260|
                          DCD      I_ug_ram
                  |L1.3264|
                          DCD      U_up_ram
                  |L1.3268|
                          DCD      eepromRamSwitch
                  |L1.3272|
                          DCD      time_proc
                  |L1.3276|
                          DCD      time_proc_remain
                  |L1.3280|
                          DCD      T_PROC_MAX
                  |L1.3284|
                          DCD      T_PROC_GS_MODE
                  |L1.3288|
                          DCD      T_PROC_PS_MODE
                  |L1.3292|
                          DCD      MODBUS_ADRESS
                  |L1.3296|
                          DCD      socket_tcp
                  |L1.3300|
                          DCD      ||.data||
                  |L1.3304|
                          DCD      I_ug
                  |L1.3308|
                          DCD      U_up
                  |L1.3312|
                          DCD      U_maxg
                  |L1.3316|
                          DCD      I_maxp
                  |L1.3320|
000cf8  f8db0000          LDR      r0,[r11,#0]           ;755  ; T_PROC_PS
000cfc  213c              MOVS     r1,#0x3c              ;755
000cfe  fb90f2f1          SDIV     r2,r0,r1              ;755
000d02  fb010112          MLS      r1,r1,r2,r0           ;755
000d06  f44f6361          MOV      r3,#0xe10             ;757
000d0a  fb90f0f3          SDIV     r0,r0,r3              ;757
000d0e  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;756
000d12  e00c              B        |L1.3374|
                  |L1.3348|
000d14  f8db1000          LDR      r1,[r11,#0]           ;765  ; T_PROC_PS
000d18  223c              MOVS     r2,#0x3c              ;765
000d1a  fb91f0f2          SDIV     r0,r1,r2              ;765
000d1e  fb90f3f2          SDIV     r3,r0,r2              ;766
000d22  fb021110          MLS      r1,r2,r0,r1           ;765
000d26  fb020213          MLS      r2,r2,r3,r0           ;766
000d2a  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;767
                  |L1.3374|
000d2e  f44f6361          MOV      r3,#0xe10             ;768
000d32  4358              MULS     r0,r3,r0              ;768
000d34  ebc21202          RSB      r2,r2,r2,LSL #4       ;768
000d38  eb000082          ADD      r0,r0,r2,LSL #2       ;768
000d3c  4401              ADD      r1,r1,r0              ;768
                  |L1.3390|
000d3e  20dc              MOVS     r0,#0xdc              ;769
000d40  f8cb1000          STR      r1,[r11,#0]           ;769  ; T_PROC_PS
                  |L1.3396|
000d44  f7fffffe          BL       lc640_write_long
                  |L1.3400|
000d48  e2a8              B        |L1.4764|
                  |L1.3402|
000d4a  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;774
000d4e  466d              MOV      r5,sp                 ;774
000d50  2801              CMP      r0,#1                 ;774
000d52  d110              BNE      |L1.3446|
000d54  7830              LDRB     r0,[r6,#0]            ;776  ; work_stat
000d56  2802              CMP      r0,#2                 ;776
000d58  d0f6              BEQ      |L1.3400|
000d5a  2002              MOVS     r0,#2                 ;778
000d5c  7030              STRB     r0,[r6,#0]            ;778
000d5e  48ff              LDR      r0,|L1.4444|
000d60  6007              STR      r7,[r0,#0]            ;780  ; time_proc
000d62  48ff              LDR      r0,|L1.4448|
000d64  f8db1000          LDR      r1,[r11,#0]           ;780  ; T_PROC_PS
000d68  6001              STR      r1,[r0,#0]            ;781  ; time_proc_remain
000d6a  f7fffffe          BL       restart_on_PS
000d6e  2101              MOVS     r1,#1                 ;782
000d70  20ea              MOVS     r0,#0xea              ;782
000d72  f7fffffe          BL       lc640_write_int
                  |L1.3446|
000d76  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;785
000d7a  2800              CMP      r0,#0                 ;785
000d7c  d1e4              BNE      |L1.3400|
000d7e  7830              LDRB     r0,[r6,#0]            ;787  ; work_stat
000d80  2802              CMP      r0,#2                 ;787
000d82  d01b              BEQ      |L1.3516|
                  |L1.3460|
000d84  e28a              B        |L1.4764|
                  |L1.3462|
000d86  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;796
000d8a  466d              MOV      r5,sp                 ;796
000d8c  2801              CMP      r0,#1                 ;796
000d8e  d10e              BNE      |L1.3502|
000d90  7830              LDRB     r0,[r6,#0]            ;798  ; work_stat
000d92  2801              CMP      r0,#1                 ;798
000d94  d0d8              BEQ      |L1.3400|
000d96  48f1              LDR      r0,|L1.4444|
000d98  f8869000          STRB     r9,[r6,#0]            ;800
000d9c  6007              STR      r7,[r0,#0]            ;802  ; time_proc
000d9e  48f0              LDR      r0,|L1.4448|
000da0  f8da1000          LDR      r1,[r10,#0]           ;802  ; T_PROC_GS
000da4  6001              STR      r1,[r0,#0]            ;803  ; time_proc_remain
000da6  2100              MOVS     r1,#0                 ;803
000da8  20ea              MOVS     r0,#0xea              ;803
000daa  f7fffffe          BL       lc640_write_int
                  |L1.3502|
000dae  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;806
000db2  2800              CMP      r0,#0                 ;806
000db4  d1c8              BNE      |L1.3400|
000db6  7830              LDRB     r0,[r6,#0]            ;808  ; work_stat
000db8  2801              CMP      r0,#1                 ;808
000dba  d1c5              BNE      |L1.3400|
                  |L1.3516|
000dbc  7037              STRB     r7,[r6,#0]            ;810
000dbe  f7fffffe          BL       restart_off
                  |L1.3522|
000dc2  e26b              B        |L1.4764|
                  |L1.3524|
000dc4  7830              LDRB     r0,[r6,#0]            ;818  ; work_stat
000dc6  2800              CMP      r0,#0                 ;818
000dc8  d1be              BNE      |L1.3400|
000dca  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;820
000dce  b110              CBZ      r0,|L1.3542|
000dd0  2801              CMP      r0,#1                 ;821
000dd2  d004              BEQ      |L1.3550|
000dd4  e262              B        |L1.4764|
                  |L1.3542|
000dd6  49e3              LDR      r1,|L1.4452|
000dd8  f8819000          STRB     r9,[r1,#0]            ;820
000ddc  e25e              B        |L1.4764|
                  |L1.3550|
000dde  48e1              LDR      r0,|L1.4452|
000de0  7007              STRB     r7,[r0,#0]            ;821
000de2  e25b              B        |L1.4764|
                  |L1.3556|
000de4  7830              LDRB     r0,[r6,#0]            ;828  ; work_stat
000de6  2800              CMP      r0,#0                 ;828
000de8  d1ae              BNE      |L1.3400|
000dea  48df              LDR      r0,|L1.4456|
000dec  8800              LDRH     r0,[r0,#0]            ;828  ; REV_IS_ON
000dee  2800              CMP      r0,#0                 ;828
000df0  d0aa              BEQ      |L1.3400|
000df2  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;830
000df6  2801              CMP      r0,#1                 ;830
000df8  d001              BEQ      |L1.3582|
000dfa  b120              CBZ      r0,|L1.3590|
000dfc  e005              B        |L1.3594|
                  |L1.3582|
000dfe  49db              LDR      r1,|L1.4460|
000e00  f8a19000          STRH     r9,[r1,#0]            ;830
000e04  e001              B        |L1.3594|
                  |L1.3590|
000e06  48d9              LDR      r0,|L1.4460|
000e08  8007              STRH     r7,[r0,#0]            ;831
                  |L1.3594|
000e0a  48d8              LDR      r0,|L1.4460|
000e0c  f9b01000          LDRSH    r1,[r0,#0]            ;832  ; AVT_REV_IS_ON
000e10  f44f7084          MOV      r0,#0x108             ;832
000e14  e240              B        |L1.4760|
                  |L1.3606|
000e16  7830              LDRB     r0,[r6,#0]            ;838  ; work_stat
000e18  2800              CMP      r0,#0                 ;838
                  |L1.3610|
000e1a  d195              BNE      |L1.3400|
000e1c  4dd4              LDR      r5,|L1.4464|
000e1e  48d5              LDR      r0,|L1.4468|
000e20  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;840
000e24  8029              STRH     r1,[r5,#0]            ;840
000e26  6800              LDR      r0,[r0,#0]            ;841  ; T_PROC_MAX
000e28  211e              MOVS     r1,#0x1e              ;841
000e2a  b202              SXTH     r2,r0                 ;841
000e2c  4628              MOV      r0,r5                 ;841
000e2e  f7fffffe          BL       gran
000e32  f9b51000          LDRSH    r1,[r5,#0]            ;842  ; AVT_REV_TIME_FF
000e36  f44f7085          MOV      r0,#0x10a             ;842
000e3a  e22d              B        |L1.4760|
                  |L1.3644|
000e3c  7830              LDRB     r0,[r6,#0]            ;847  ; work_stat
000e3e  2800              CMP      r0,#0                 ;847
000e40  d1a0              BNE      |L1.3460|
000e42  4dcd              LDR      r5,|L1.4472|
000e44  48cb              LDR      r0,|L1.4468|
000e46  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;849
000e4a  8029              STRH     r1,[r5,#0]            ;849
000e4c  6800              LDR      r0,[r0,#0]            ;850  ; T_PROC_MAX
000e4e  211e              MOVS     r1,#0x1e              ;850
000e50  b202              SXTH     r2,r0                 ;850
000e52  4628              MOV      r0,r5                 ;850
000e54  f7fffffe          BL       gran
000e58  f9b51000          LDRSH    r1,[r5,#0]            ;851  ; AVT_REV_TIME_REW
000e5c  f44f7086          MOV      r0,#0x10c             ;851
000e60  e21a              B        |L1.4760|
                  |L1.3682|
000e62  7830              LDRB     r0,[r6,#0]            ;856  ; work_stat
000e64  2800              CMP      r0,#0                 ;856
000e66  d18d              BNE      |L1.3460|
000e68  4dc4              LDR      r5,|L1.4476|
000e6a  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;858
000e6e  f44f7216          MOV      r2,#0x258             ;859
000e72  8029              STRH     r1,[r5,#0]            ;858
000e74  2102              MOVS     r1,#2                 ;859
000e76  4628              MOV      r0,r5                 ;859
000e78  f7fffffe          BL       gran
000e7c  f9b51000          LDRSH    r1,[r5,#0]            ;860  ; AVT_REV_TIME_PAUSE
000e80  f44f7087          MOV      r0,#0x10e             ;860
000e84  e208              B        |L1.4760|
                  |L1.3718|
000e86  7830              LDRB     r0,[r6,#0]            ;866  ; work_stat
000e88  2800              CMP      r0,#0                 ;866
000e8a  d19a              BNE      |L1.3522|
000e8c  4dbc              LDR      r5,|L1.4480|
000e8e  48bd              LDR      r0,|L1.4484|
000e90  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;868
000e94  8029              STRH     r1,[r5,#0]            ;868
000e96  f9b02000          LDRSH    r2,[r0,#0]            ;869  ; I_MAX_IPS
000e9a  48bb              LDR      r0,|L1.4488|
000e9c  f9b01000          LDRSH    r1,[r0,#0]            ;869  ; I_MIN_IPS
000ea0  4628              MOV      r0,r5                 ;869
000ea2  f7fffffe          BL       gran
000ea6  f9b51000          LDRSH    r1,[r5,#0]            ;870  ; AVT_REV_I_NOM_FF
000eaa  f44f7088          MOV      r0,#0x110             ;870
000eae  e1f3              B        |L1.4760|
                  |L1.3760|
000eb0  7830              LDRB     r0,[r6,#0]            ;876  ; work_stat
000eb2  2800              CMP      r0,#0                 ;876
000eb4  d185              BNE      |L1.3522|
000eb6  4db5              LDR      r5,|L1.4492|
000eb8  48b2              LDR      r0,|L1.4484|
000eba  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;878
000ebe  8029              STRH     r1,[r5,#0]            ;878
000ec0  f9b02000          LDRSH    r2,[r0,#0]            ;879  ; I_MAX_IPS
000ec4  48b0              LDR      r0,|L1.4488|
000ec6  f9b01000          LDRSH    r1,[r0,#0]            ;879  ; I_MIN_IPS
000eca  4628              MOV      r0,r5                 ;879
000ecc  f7fffffe          BL       gran
000ed0  f9b51000          LDRSH    r1,[r5,#0]            ;880  ; AVT_REV_I_NOM_REW
000ed4  f44f7089          MOV      r0,#0x112             ;880
000ed8  e1de              B        |L1.4760|
                  |L1.3802|
000eda  7830              LDRB     r0,[r6,#0]            ;885  ; work_stat
000edc  2800              CMP      r0,#0                 ;885
000ede  d19c              BNE      |L1.3610|
000ee0  4dab              LDR      r5,|L1.4496|
000ee2  48ac              LDR      r0,|L1.4500|
000ee4  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;887
000ee8  8029              STRH     r1,[r5,#0]            ;887
000eea  f9b02000          LDRSH    r2,[r0,#0]            ;888  ; U_MAX
000eee  48aa              LDR      r0,|L1.4504|
000ef0  f9b01000          LDRSH    r1,[r0,#0]            ;888  ; U_MIN
000ef4  4628              MOV      r0,r5                 ;888
000ef6  f7fffffe          BL       gran
000efa  f9b51000          LDRSH    r1,[r5,#0]            ;889  ; AVT_REV_U_NOM_FF
000efe  f44f708a          MOV      r0,#0x114             ;889
000f02  e1c9              B        |L1.4760|
                  |L1.3844|
000f04  7830              LDRB     r0,[r6,#0]            ;895  ; work_stat
000f06  2800              CMP      r0,#0                 ;895
000f08  d16f              BNE      |L1.4074|
000f0a  4da4              LDR      r5,|L1.4508|
000f0c  48a1              LDR      r0,|L1.4500|
000f0e  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;897
000f12  8029              STRH     r1,[r5,#0]            ;897
000f14  f9b02000          LDRSH    r2,[r0,#0]            ;898  ; U_MAX
000f18  489f              LDR      r0,|L1.4504|
000f1a  f9b01000          LDRSH    r1,[r0,#0]            ;898  ; U_MIN
000f1e  4628              MOV      r0,r5                 ;898
000f20  f7fffffe          BL       gran
000f24  f9b51000          LDRSH    r1,[r5,#0]            ;899  ; AVT_REV_U_NOM_REW
000f28  f44f708b          MOV      r0,#0x116             ;899
000f2c  e1b4              B        |L1.4760|
                  |L1.3886|
000f2e  7830              LDRB     r0,[r6,#0]            ;904  ; work_stat
000f30  2800              CMP      r0,#0                 ;904
000f32  d15a              BNE      |L1.4074|
000f34  4d9a              LDR      r5,|L1.4512|
000f36  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;906
000f3a  f242720f          MOV      r2,#0x270f            ;907
000f3e  8029              STRH     r1,[r5,#0]            ;906
000f40  210a              MOVS     r1,#0xa               ;907
000f42  4628              MOV      r0,r5                 ;907
000f44  f7fffffe          BL       gran
000f48  f9b51000          LDRSH    r1,[r5,#0]            ;908  ; CAP_ZAR_TIME
000f4c  f44f70e9          MOV      r0,#0x1d2             ;908
000f50  e1a2              B        |L1.4760|
                  |L1.3922|
000f52  7830              LDRB     r0,[r6,#0]            ;913  ; work_stat
000f54  2800              CMP      r0,#0                 ;913
000f56  d148              BNE      |L1.4074|
000f58  4d92              LDR      r5,|L1.4516|
000f5a  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;915
000f5e  f242720f          MOV      r2,#0x270f            ;916
000f62  8029              STRH     r1,[r5,#0]            ;915
000f64  210a              MOVS     r1,#0xa               ;916
000f66  4628              MOV      r0,r5                 ;916
000f68  f7fffffe          BL       gran
000f6c  f9b51000          LDRSH    r1,[r5,#0]            ;917  ; CAP_PAUSE1_TIME
000f70  f44f70ea          MOV      r0,#0x1d4             ;917
000f74  e190              B        |L1.4760|
                  |L1.3958|
000f76  7830              LDRB     r0,[r6,#0]            ;922  ; work_stat
000f78  2800              CMP      r0,#0                 ;922
000f7a  d136              BNE      |L1.4074|
000f7c  4d8a              LDR      r5,|L1.4520|
000f7e  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;924
000f82  f242720f          MOV      r2,#0x270f            ;925
000f86  8029              STRH     r1,[r5,#0]            ;924
000f88  210a              MOVS     r1,#0xa               ;925
000f8a  4628              MOV      r0,r5                 ;925
000f8c  f7fffffe          BL       gran
000f90  f9b51000          LDRSH    r1,[r5,#0]            ;926  ; CAP_RAZR_TIME
000f94  f44f70eb          MOV      r0,#0x1d6             ;926
000f98  e17e              B        |L1.4760|
                  |L1.3994|
000f9a  7830              LDRB     r0,[r6,#0]            ;931  ; work_stat
000f9c  bb28              CBNZ     r0,|L1.4074|
000f9e  4d83              LDR      r5,|L1.4524|
000fa0  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;933
000fa4  f242720f          MOV      r2,#0x270f            ;934
000fa8  8029              STRH     r1,[r5,#0]            ;933
000faa  210a              MOVS     r1,#0xa               ;934
000fac  4628              MOV      r0,r5                 ;934
000fae  f7fffffe          BL       gran
000fb2  f9b51000          LDRSH    r1,[r5,#0]            ;935  ; CAP_PAUSE2_TIME
000fb6  f44f70ec          MOV      r0,#0x1d8             ;935
000fba  e16d              B        |L1.4760|
                  |L1.4028|
000fbc  7830              LDRB     r0,[r6,#0]            ;941  ; work_stat
000fbe  b9a0              CBNZ     r0,|L1.4074|
000fc0  4d7b              LDR      r5,|L1.4528|
000fc2  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;943
000fc6  2264              MOVS     r2,#0x64              ;944
000fc8  8029              STRH     r1,[r5,#0]            ;943
000fca  2101              MOVS     r1,#1                 ;944
000fcc  4628              MOV      r0,r5                 ;944
000fce  f7fffffe          BL       gran
000fd2  f9b51000          LDRSH    r1,[r5,#0]            ;945  ; CAP_MAX_VOLT
000fd6  f44f70ed          MOV      r0,#0x1da             ;945
000fda  e15d              B        |L1.4760|
                  |L1.4060|
000fdc  7830              LDRB     r0,[r6,#0]            ;950  ; work_stat
000fde  b920              CBNZ     r0,|L1.4074|
000fe0  4d74              LDR      r5,|L1.4532|
000fe2  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;952
000fe6  8029              STRH     r1,[r5,#0]            ;952
000fe8  e14d              B        |L1.4742|
                  |L1.4074|
000fea  e05d              B        |L1.4264|
                  |L1.4076|
;;;959    					{
;;;960    					if(modbus_tcp_write_args[i]==0x11)
000fec  f83d0018          LDRH     r0,[sp,r8,LSL #1]
000ff0  466d              MOV      r5,sp
000ff2  2811              CMP      r0,#0x11
000ff4  d101              BNE      |L1.4090|
;;;961    						{
;;;962    						start_CAP();
000ff6  f7fffffe          BL       start_CAP
                  |L1.4090|
;;;963    						}
;;;964    					if(modbus_tcp_write_args[i]==0x12)
000ffa  f8350018          LDRH     r0,[r5,r8,LSL #1]
000ffe  2812              CMP      r0,#0x12
001000  d101              BNE      |L1.4102|
;;;965    						{
;;;966    						pause_CAP();
001002  f7fffffe          BL       pause_CAP
                  |L1.4102|
;;;967    						}
;;;968    					if(modbus_tcp_write_args[i]==0x13)
001006  f8350018          LDRH     r0,[r5,r8,LSL #1]
00100a  2813              CMP      r0,#0x13
00100c  d101              BNE      |L1.4114|
;;;969    						{
;;;970    						stop_CAP();
00100e  f7fffffe          BL       stop_CAP
                  |L1.4114|
;;;971    						}
;;;972    					if(modbus_tcp_write_args[i]==0x14)
001012  f8350018          LDRH     r0,[r5,r8,LSL #1]
001016  2814              CMP      r0,#0x14
001018  d101              BNE      |L1.4126|
;;;973    						{
;;;974    						reset_CAP();
00101a  f7fffffe          BL       reset_CAP
                  |L1.4126|
;;;975    						}
;;;976    	
;;;977    					if(modbus_tcp_write_args[i]==0x21)
00101e  f8350018          LDRH     r0,[r5,r8,LSL #1]
001022  2821              CMP      r0,#0x21
001024  d113              BNE      |L1.4174|
;;;978    						{
;;;979    						if(work_stat==wsOFF)
001026  7830              LDRB     r0,[r6,#0]  ; work_stat
001028  bbf0              CBNZ     r0,|L1.4264|
;;;980    							{
;;;981    							CAP_ZAR_TIME++;
00102a  485d              LDR      r0,|L1.4512|
00102c  495c              LDR      r1,|L1.4512|
;;;982    			    				gran(&CAP_ZAR_TIME,10,9999);
00102e  f242720f          MOV      r2,#0x270f
001032  8800              LDRH     r0,[r0,#0]            ;981  ; CAP_ZAR_TIME
001034  1c40              ADDS     r0,r0,#1              ;981
001036  8008              STRH     r0,[r1,#0]            ;981
001038  210a              MOVS     r1,#0xa
00103a  4859              LDR      r0,|L1.4512|
00103c  f7fffffe          BL       gran
;;;983    							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
001040  4857              LDR      r0,|L1.4512|
001042  f9b01000          LDRSH    r1,[r0,#0]  ; CAP_ZAR_TIME
001046  f44f70e9          MOV      r0,#0x1d2
00104a  f7fffffe          BL       lc640_write_int
                  |L1.4174|
;;;984    							}
;;;985    						}
;;;986    					if(modbus_tcp_write_args[i]==0x22)
00104e  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001052  2822              CMP      r0,#0x22
001054  d111              BNE      |L1.4218|
;;;987    						{
;;;988    						if(work_stat==wsOFF)
001056  7830              LDRB     r0,[r6,#0]  ; work_stat
001058  bb30              CBNZ     r0,|L1.4264|
;;;989    							{
;;;990    							CAP_ZAR_TIME--;
00105a  4d51              LDR      r5,|L1.4512|
;;;991    			    				gran(&CAP_ZAR_TIME,10,9999);
00105c  f242720f          MOV      r2,#0x270f
001060  210a              MOVS     r1,#0xa
001062  8828              LDRH     r0,[r5,#0]            ;990  ; CAP_ZAR_TIME
001064  1e40              SUBS     r0,r0,#1              ;990
001066  8028              STRH     r0,[r5,#0]            ;990
001068  4628              MOV      r0,r5
00106a  f7fffffe          BL       gran
;;;992    							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
00106e  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_ZAR_TIME
001072  f44f70e9          MOV      r0,#0x1d2
001076  f7fffffe          BL       lc640_write_int
                  |L1.4218|
;;;993    							}
;;;994    						}
;;;995    	
;;;996    					if(modbus_tcp_write_args[i]==0x31)
00107a  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00107e  2831              CMP      r0,#0x31
001080  d111              BNE      |L1.4262|
;;;997    						{
;;;998    						if(work_stat==wsOFF)
001082  7830              LDRB     r0,[r6,#0]  ; work_stat
001084  b980              CBNZ     r0,|L1.4264|
;;;999    							{
;;;1000   							CAP_PAUSE1_TIME++;
001086  4d47              LDR      r5,|L1.4516|
;;;1001   			    				gran(&CAP_PAUSE1_TIME,10,9999);
001088  f242720f          MOV      r2,#0x270f
00108c  210a              MOVS     r1,#0xa
00108e  8828              LDRH     r0,[r5,#0]            ;1000  ; CAP_PAUSE1_TIME
001090  1c40              ADDS     r0,r0,#1              ;1000
001092  8028              STRH     r0,[r5,#0]            ;1000
001094  4628              MOV      r0,r5
001096  f7fffffe          BL       gran
;;;1002   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
00109a  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
00109e  f44f70ea          MOV      r0,#0x1d4
0010a2  f7fffffe          BL       lc640_write_int
                  |L1.4262|
;;;1003   							}
;;;1004   						}
;;;1005   					if(modbus_tcp_write_args[i]==0x32)
0010a6  e000              B        |L1.4266|
                  |L1.4264|
0010a8  e033              B        |L1.4370|
                  |L1.4266|
0010aa  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0010ae  2832              CMP      r0,#0x32
0010b0  d111              BNE      |L1.4310|
;;;1006   						{
;;;1007   						if(work_stat==wsOFF)
0010b2  7830              LDRB     r0,[r6,#0]  ; work_stat
0010b4  bb68              CBNZ     r0,|L1.4370|
;;;1008   							{
;;;1009   							CAP_PAUSE1_TIME--;
0010b6  4d3b              LDR      r5,|L1.4516|
;;;1010   			    				gran(&CAP_PAUSE1_TIME,10,9999);
0010b8  f242720f          MOV      r2,#0x270f
0010bc  210a              MOVS     r1,#0xa
0010be  8828              LDRH     r0,[r5,#0]            ;1009  ; CAP_PAUSE1_TIME
0010c0  1e40              SUBS     r0,r0,#1              ;1009
0010c2  8028              STRH     r0,[r5,#0]            ;1009
0010c4  4628              MOV      r0,r5
0010c6  f7fffffe          BL       gran
;;;1011   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
0010ca  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
0010ce  f44f70ea          MOV      r0,#0x1d4
0010d2  f7fffffe          BL       lc640_write_int
                  |L1.4310|
;;;1012   							}
;;;1013   						}
;;;1014   	
;;;1015   					if(modbus_tcp_write_args[i]==0x41)
0010d6  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0010da  2841              CMP      r0,#0x41
0010dc  d111              BNE      |L1.4354|
;;;1016   						{
;;;1017   						if(work_stat==wsOFF)
0010de  7830              LDRB     r0,[r6,#0]  ; work_stat
0010e0  b9b8              CBNZ     r0,|L1.4370|
;;;1018   							{
;;;1019   							CAP_RAZR_TIME++;
0010e2  4d31              LDR      r5,|L1.4520|
;;;1020   			    				gran(&CAP_RAZR_TIME,10,9999);
0010e4  f242720f          MOV      r2,#0x270f
0010e8  210a              MOVS     r1,#0xa
0010ea  8828              LDRH     r0,[r5,#0]            ;1019  ; CAP_RAZR_TIME
0010ec  1c40              ADDS     r0,r0,#1              ;1019
0010ee  8028              STRH     r0,[r5,#0]            ;1019
0010f0  4628              MOV      r0,r5
0010f2  f7fffffe          BL       gran
;;;1021   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
0010f6  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
0010fa  f44f70eb          MOV      r0,#0x1d6
0010fe  f7fffffe          BL       lc640_write_int
                  |L1.4354|
;;;1022   							}
;;;1023   						}
;;;1024   					if(modbus_tcp_write_args[i]==0x42)
001102  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001106  2842              CMP      r0,#0x42
001108  d115              BNE      |L1.4406|
;;;1025   						{
;;;1026   						if(work_stat==wsOFF)
00110a  7830              LDRB     r0,[r6,#0]  ; work_stat
00110c  e002              B        |L1.4372|
                  |L1.4366|
00110e  e1b4              B        |L1.5242|
                  |L1.4368|
001110  e1b7              B        |L1.5250|
                  |L1.4370|
001112  e021              B        |L1.4440|
                  |L1.4372|
001114  bb00              CBNZ     r0,|L1.4440|
;;;1027   							{
;;;1028   							CAP_RAZR_TIME--;
001116  4d24              LDR      r5,|L1.4520|
;;;1029   			    				gran(&CAP_RAZR_TIME,10,9999);
001118  f242720f          MOV      r2,#0x270f
00111c  210a              MOVS     r1,#0xa
00111e  8828              LDRH     r0,[r5,#0]            ;1028  ; CAP_RAZR_TIME
001120  1e40              SUBS     r0,r0,#1              ;1028
001122  8028              STRH     r0,[r5,#0]            ;1028
001124  4628              MOV      r0,r5
001126  f7fffffe          BL       gran
;;;1030   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
00112a  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
00112e  f44f70eb          MOV      r0,#0x1d6
001132  f7fffffe          BL       lc640_write_int
                  |L1.4406|
;;;1031   							}
;;;1032   						}
;;;1033   	
;;;1034   					if(modbus_tcp_write_args[i]==0x51)
001136  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00113a  2851              CMP      r0,#0x51
00113c  d142              BNE      |L1.4548|
;;;1035   						{
;;;1036   						if(work_stat==wsOFF)
00113e  7830              LDRB     r0,[r6,#0]  ; work_stat
001140  b950              CBNZ     r0,|L1.4440|
;;;1037   							{
;;;1038   							CAP_PAUSE2_TIME++;
001142  4d1a              LDR      r5,|L1.4524|
;;;1039   			    				gran(&CAP_PAUSE2_TIME,10,9999);
001144  f242720f          MOV      r2,#0x270f
001148  210a              MOVS     r1,#0xa
00114a  8828              LDRH     r0,[r5,#0]            ;1038  ; CAP_PAUSE2_TIME
00114c  1c40              ADDS     r0,r0,#1              ;1038
00114e  8028              STRH     r0,[r5,#0]            ;1038
001150  4628              MOV      r0,r5
001152  f7fffffe          BL       gran
;;;1040   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
001156  e02f              B        |L1.4536|
                  |L1.4440|
001158  e079              B        |L1.4686|
00115a  0000              DCW      0x0000
                  |L1.4444|
                          DCD      time_proc
                  |L1.4448|
                          DCD      time_proc_remain
                  |L1.4452|
                          DCD      REV_STAT
                  |L1.4456|
                          DCD      REV_IS_ON
                  |L1.4460|
                          DCD      AVT_REV_IS_ON
                  |L1.4464|
                          DCD      AVT_REV_TIME_FF
                  |L1.4468|
                          DCD      T_PROC_MAX
                  |L1.4472|
                          DCD      AVT_REV_TIME_REW
                  |L1.4476|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.4480|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.4484|
                          DCD      I_MAX_IPS
                  |L1.4488|
                          DCD      I_MIN_IPS
                  |L1.4492|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.4496|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.4500|
                          DCD      U_MAX
                  |L1.4504|
                          DCD      U_MIN
                  |L1.4508|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.4512|
                          DCD      CAP_ZAR_TIME
                  |L1.4516|
                          DCD      CAP_PAUSE1_TIME
                  |L1.4520|
                          DCD      CAP_RAZR_TIME
                  |L1.4524|
                          DCD      CAP_PAUSE2_TIME
                  |L1.4528|
                          DCD      CAP_MAX_VOLT
                  |L1.4532|
                          DCD      CAP_WRK_CURR
                  |L1.4536|
0011b8  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
0011bc  f44f70ec          MOV      r0,#0x1d8
0011c0  f7fffffe          BL       lc640_write_int
                  |L1.4548|
;;;1041   							}
;;;1042   						}
;;;1043   					if(modbus_tcp_write_args[i]==0x52)
0011c4  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011c8  2852              CMP      r0,#0x52
0011ca  d111              BNE      |L1.4592|
;;;1044   						{
;;;1045   						if(work_stat==wsOFF)
0011cc  7830              LDRB     r0,[r6,#0]  ; work_stat
0011ce  bbf0              CBNZ     r0,|L1.4686|
;;;1046   							{
;;;1047   							CAP_PAUSE2_TIME--;
0011d0  4dad              LDR      r5,|L1.5256|
;;;1048   			    				gran(&CAP_PAUSE2_TIME,10,9999);
0011d2  f242720f          MOV      r2,#0x270f
0011d6  210a              MOVS     r1,#0xa
0011d8  8828              LDRH     r0,[r5,#0]            ;1047  ; CAP_PAUSE2_TIME
0011da  1e40              SUBS     r0,r0,#1              ;1047
0011dc  8028              STRH     r0,[r5,#0]            ;1047
0011de  4628              MOV      r0,r5
0011e0  f7fffffe          BL       gran
;;;1049   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
0011e4  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
0011e8  f44f70ec          MOV      r0,#0x1d8
0011ec  f7fffffe          BL       lc640_write_int
                  |L1.4592|
;;;1050   							}
;;;1051   						}
;;;1052   	
;;;1053   					if(modbus_tcp_write_args[i]==0x61)
0011f0  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011f4  2861              CMP      r0,#0x61
0011f6  d110              BNE      |L1.4634|
;;;1054   						{
;;;1055   						if(work_stat==wsOFF)
0011f8  7830              LDRB     r0,[r6,#0]  ; work_stat
0011fa  bb40              CBNZ     r0,|L1.4686|
;;;1056   							{
;;;1057   							CAP_MAX_VOLT++;
0011fc  4da3              LDR      r5,|L1.5260|
;;;1058   			    				gran(&CAP_MAX_VOLT,1,100);
0011fe  2264              MOVS     r2,#0x64
001200  2101              MOVS     r1,#1
001202  8828              LDRH     r0,[r5,#0]            ;1057  ; CAP_MAX_VOLT
001204  1c40              ADDS     r0,r0,#1              ;1057
001206  8028              STRH     r0,[r5,#0]            ;1057
001208  4628              MOV      r0,r5
00120a  f7fffffe          BL       gran
;;;1059   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
00120e  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
001212  f44f70ed          MOV      r0,#0x1da
001216  f7fffffe          BL       lc640_write_int
                  |L1.4634|
;;;1060   							}
;;;1061   						}
;;;1062   					if(modbus_tcp_write_args[i]==0x62)
00121a  f83d0018          LDRH     r0,[sp,r8,LSL #1]
00121e  2862              CMP      r0,#0x62
001220  d110              BNE      |L1.4676|
;;;1063   						{
;;;1064   						if(work_stat==wsOFF)
001222  7830              LDRB     r0,[r6,#0]  ; work_stat
001224  b998              CBNZ     r0,|L1.4686|
;;;1065   							{
;;;1066   							CAP_MAX_VOLT--;
001226  4d99              LDR      r5,|L1.5260|
;;;1067   			    				gran(&CAP_MAX_VOLT,1,100);
001228  2264              MOVS     r2,#0x64
00122a  2101              MOVS     r1,#1
00122c  8828              LDRH     r0,[r5,#0]            ;1066  ; CAP_MAX_VOLT
00122e  1e40              SUBS     r0,r0,#1              ;1066
001230  8028              STRH     r0,[r5,#0]            ;1066
001232  4628              MOV      r0,r5
001234  f7fffffe          BL       gran
;;;1068   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
001238  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
00123c  f44f70ed          MOV      r0,#0x1da
001240  f7fffffe          BL       lc640_write_int
                  |L1.4676|
;;;1069   							}
;;;1070   						}
;;;1071   	
;;;1072   					if(modbus_tcp_write_args[i]==0x71)
001244  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001248  2871              CMP      r0,#0x71
00124a  d112              BNE      |L1.4722|
;;;1073   						{
;;;1074   						if(work_stat==wsOFF)
00124c  e000              B        |L1.4688|
                  |L1.4686|
00124e  e025              B        |L1.4764|
                  |L1.4688|
001250  7830              LDRB     r0,[r6,#0]  ; work_stat
001252  bb18              CBNZ     r0,|L1.4764|
;;;1075   							{
;;;1076   							CAP_WRK_CURR++;
001254  4d8e              LDR      r5,|L1.5264|
;;;1077   			    				gran(&CAP_WRK_CURR,1,150);
001256  2296              MOVS     r2,#0x96
001258  2101              MOVS     r1,#1
00125a  8828              LDRH     r0,[r5,#0]            ;1076  ; CAP_WRK_CURR
00125c  1c40              ADDS     r0,r0,#1              ;1076
00125e  8028              STRH     r0,[r5,#0]            ;1076
001260  4628              MOV      r0,r5
001262  f7fffffe          BL       gran
;;;1078   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001266  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
00126a  f44f70ee          MOV      r0,#0x1dc
00126e  f7fffffe          BL       lc640_write_int
                  |L1.4722|
;;;1079   							}
;;;1080   						}
;;;1081   					if(modbus_tcp_write_args[i]==0x72)
001272  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001276  2872              CMP      r0,#0x72
001278  d110              BNE      |L1.4764|
;;;1082   						{
;;;1083   						if(work_stat==wsOFF)
00127a  7830              LDRB     r0,[r6,#0]  ; work_stat
00127c  b970              CBNZ     r0,|L1.4764|
;;;1084   							{
;;;1085   							CAP_WRK_CURR--;
00127e  4d84              LDR      r5,|L1.5264|
001280  8828              LDRH     r0,[r5,#0]  ; CAP_WRK_CURR
001282  1e40              SUBS     r0,r0,#1
001284  8028              STRH     r0,[r5,#0]
                  |L1.4742|
;;;1086   			    				gran(&CAP_WRK_CURR,1,150);
001286  2296              MOVS     r2,#0x96
001288  2101              MOVS     r1,#1
00128a  4881              LDR      r0,|L1.5264|
00128c  f7fffffe          BL       gran
;;;1087   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001290  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
001294  f44f70ee          MOV      r0,#0x1dc
                  |L1.4760|
001298  f7fffffe          BL       lc640_write_int
                  |L1.4764|
;;;1088   							}
;;;1089   						}
;;;1090   	
;;;1091   					}
;;;1092   
;;;1093   				if((modbus_tcp_rx_arg0+i)==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
00129c  487d              LDR      r0,|L1.5268|
00129e  f9b01002          LDRSH    r1,[r0,#2]  ; modbus_tcp_rx_arg0
0012a2  eb010208          ADD      r2,r1,r8
0012a6  2a5a              CMP      r2,#0x5a
0012a8  d006              BEQ      |L1.4792|
;;;1094   					{
;;;1095   					I_ug_ram=modbus_tcp_write_args[i];
;;;1096   					eepromRamSwitch=1;
;;;1097   					}
;;;1098   
;;;1099   				else if((modbus_tcp_rx_arg0+i)==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
0012aa  2a5b              CMP      r2,#0x5b
0012ac  d008              BEQ      |L1.4800|
;;;1100   					{
;;;1101   					U_up_ram=modbus_tcp_write_args[i];
;;;1102   					eepromRamSwitch=1;
;;;1103   					}
;;;1104   
;;;1105   			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
0012ae  295c              CMP      r1,#0x5c
0012b0  d00e              BEQ      |L1.4816|
;;;1106   				{
;;;1107   				if(modbus_tcp_rx_arg1==1)
;;;1108   					{
;;;1109   					if(work_stat!=wsPS)
;;;1110   						{
;;;1111   						work_stat=wsPS;
;;;1112   						time_proc=0;
;;;1113   						time_proc_remain=T_PROC_PS;
;;;1114   						restart_on_PS();
;;;1115   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;1116   						}
;;;1117   					}
;;;1118   				if(modbus_tcp_rx_arg1==0)
;;;1119   					{
;;;1120   					if(work_stat==wsPS)
;;;1121   						{
;;;1122   						work_stat=wsOFF;
;;;1123   						restart_off();
;;;1124   						}
;;;1125   					}
;;;1126   				}
;;;1127   			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
0012b2  295d              CMP      r1,#0x5d
0012b4  d029              BEQ      |L1.4874|
0012b6  e043              B        |L1.4928|
                  |L1.4792|
0012b8  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1095
0012bc  4976              LDR      r1,|L1.5272|
0012be  e002              B        |L1.4806|
                  |L1.4800|
0012c0  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1101
0012c4  4975              LDR      r1,|L1.5276|
                  |L1.4806|
0012c6  8008              STRH     r0,[r1,#0]            ;1101
0012c8  4975              LDR      r1,|L1.5280|
0012ca  f8819000          STRB     r9,[r1,#0]            ;1102
0012ce  e037              B        |L1.4928|
                  |L1.4816|
0012d0  4605              MOV      r5,r0                 ;1107
0012d2  8880              LDRH     r0,[r0,#4]            ;1107  ; modbus_tcp_rx_arg1
0012d4  2801              CMP      r0,#1                 ;1107
0012d6  d110              BNE      |L1.4858|
0012d8  7830              LDRB     r0,[r6,#0]            ;1109  ; work_stat
0012da  2802              CMP      r0,#2                 ;1109
0012dc  d00d              BEQ      |L1.4858|
0012de  2002              MOVS     r0,#2                 ;1111
0012e0  7030              STRB     r0,[r6,#0]            ;1111
0012e2  4870              LDR      r0,|L1.5284|
0012e4  6007              STR      r7,[r0,#0]            ;1113  ; time_proc
0012e6  4870              LDR      r0,|L1.5288|
0012e8  f8db1000          LDR      r1,[r11,#0]           ;1113  ; T_PROC_PS
0012ec  6001              STR      r1,[r0,#0]            ;1114  ; time_proc_remain
0012ee  f7fffffe          BL       restart_on_PS
0012f2  2101              MOVS     r1,#1                 ;1115
0012f4  20ea              MOVS     r0,#0xea              ;1115
0012f6  f7fffffe          BL       lc640_write_int
                  |L1.4858|
0012fa  88a8              LDRH     r0,[r5,#4]            ;1118  ; modbus_tcp_rx_arg1
0012fc  bb00              CBNZ     r0,|L1.4928|
0012fe  7830              LDRB     r0,[r6,#0]            ;1120  ; work_stat
001300  2802              CMP      r0,#2                 ;1120
001302  d01a              BEQ      |L1.4922|
001304  e01c              B        |L1.4928|
                  |L1.4870|
001306  e0a9              B        |L1.5212|
                  |L1.4872|
001308  e075              B        |L1.5110|
                  |L1.4874|
;;;1128   				{
;;;1129   				if(modbus_tcp_rx_arg1==1)
00130a  4605              MOV      r5,r0
00130c  8880              LDRH     r0,[r0,#4]  ; modbus_tcp_rx_arg1
00130e  2801              CMP      r0,#1
001310  d10e              BNE      |L1.4912|
;;;1130   					{
;;;1131   					if(work_stat!=wsGS)
001312  7830              LDRB     r0,[r6,#0]  ; work_stat
001314  2801              CMP      r0,#1
001316  d00b              BEQ      |L1.4912|
;;;1132   						{
;;;1133   						work_stat=wsGS;
;;;1134   						time_proc=0;
001318  4862              LDR      r0,|L1.5284|
00131a  f8869000          STRB     r9,[r6,#0]            ;1133
;;;1135   						time_proc_remain=T_PROC_GS;
00131e  6007              STR      r7,[r0,#0]  ; time_proc
001320  4861              LDR      r0,|L1.5288|
001322  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_GS
;;;1136   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
001326  6001              STR      r1,[r0,#0]  ; time_proc_remain
001328  2100              MOVS     r1,#0
00132a  20ea              MOVS     r0,#0xea
00132c  f7fffffe          BL       lc640_write_int
                  |L1.4912|
;;;1137   						}
;;;1138   					}
;;;1139   				if(modbus_tcp_rx_arg1==0)
001330  88a8              LDRH     r0,[r5,#4]  ; modbus_tcp_rx_arg1
001332  b928              CBNZ     r0,|L1.4928|
;;;1140   					{
;;;1141   					if(work_stat==wsGS)
001334  7830              LDRB     r0,[r6,#0]  ; work_stat
001336  2801              CMP      r0,#1
001338  d102              BNE      |L1.4928|
                  |L1.4922|
;;;1142   						{
;;;1143   						work_stat=wsOFF;
00133a  7037              STRB     r7,[r6,#0]
;;;1144   						restart_off();
00133c  f7fffffe          BL       restart_off
                  |L1.4928|
;;;1145   						}
;;;1146   					}
;;;1147   				}
;;;1148   									
;;;1149   				if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
001340  4d5a              LDR      r5,|L1.5292|
001342  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_GS
001346  682a              LDR      r2,[r5,#0]  ; T_PROC_MAX
001348  4291              CMP      r1,r2
00134a  dc01              BGT      |L1.4944|
00134c  291e              CMP      r1,#0x1e
00134e  da16              BGE      |L1.4990|
                  |L1.4944|
;;;1150   					{
;;;1151   					if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
001350  4650              MOV      r0,r10
001352  4291              CMP      r1,r2
001354  dd02              BLE      |L1.4956|
001356  1c52              ADDS     r2,r2,#1
001358  6002              STR      r2,[r0,#0]  ; T_PROC_GS
00135a  e003              B        |L1.4964|
                  |L1.4956|
;;;1152   					else if(T_PROC_GS<30)T_PROC_GS=29;
00135c  291e              CMP      r1,#0x1e
00135e  da01              BGE      |L1.4964|
001360  211d              MOVS     r1,#0x1d
001362  6001              STR      r1,[r0,#0]  ; T_PROC_GS
                  |L1.4964|
;;;1153   					lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
001364  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
001368  b201              SXTH     r1,r0
00136a  20d8              MOVS     r0,#0xd8
00136c  f7fffffe          BL       lc640_write_int
;;;1154   					T_PROC_GS_MODE=1;	
001370  484f              LDR      r0,|L1.5296|
001372  4649              MOV      r1,r9
001374  f8a09000          STRH     r9,[r0,#0]
;;;1155   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
001378  20ee              MOVS     r0,#0xee
00137a  f7fffffe          BL       lc640_write_int
                  |L1.4990|
;;;1156   					}
;;;1157   				if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
00137e  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
001382  6829              LDR      r1,[r5,#0]  ; T_PROC_MAX
001384  4288              CMP      r0,r1
001386  dc07              BGT      |L1.5016|
001388  281e              CMP      r0,#0x1e
00138a  db05              BLT      |L1.5016|
;;;1158   					{
;;;1159   					T_PROC_GS_MODE=0;	
00138c  4848              LDR      r0,|L1.5296|
00138e  4639              MOV      r1,r7
001390  8007              STRH     r7,[r0,#0]
;;;1160   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
001392  20ee              MOVS     r0,#0xee
001394  f7fffffe          BL       lc640_write_int
                  |L1.5016|
;;;1161   					}
;;;1162   				
;;;1163   				if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
001398  f8db1000          LDR      r1,[r11,#0]  ; T_PROC_PS
00139c  682a              LDR      r2,[r5,#0]  ; T_PROC_MAX
00139e  4291              CMP      r1,r2
0013a0  dc01              BGT      |L1.5030|
0013a2  291e              CMP      r1,#0x1e
0013a4  da16              BGE      |L1.5076|
                  |L1.5030|
;;;1164   					{
;;;1165   					if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
0013a6  4658              MOV      r0,r11
0013a8  4291              CMP      r1,r2
0013aa  dd02              BLE      |L1.5042|
0013ac  1c52              ADDS     r2,r2,#1
0013ae  6002              STR      r2,[r0,#0]  ; T_PROC_PS
0013b0  e003              B        |L1.5050|
                  |L1.5042|
;;;1166   					else if(T_PROC_PS<30)T_PROC_PS=29;
0013b2  291e              CMP      r1,#0x1e
0013b4  da01              BGE      |L1.5050|
0013b6  211d              MOVS     r1,#0x1d
0013b8  6001              STR      r1,[r0,#0]  ; T_PROC_PS
                  |L1.5050|
;;;1167   					lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
0013ba  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
0013be  b201              SXTH     r1,r0
0013c0  20dc              MOVS     r0,#0xdc
0013c2  f7fffffe          BL       lc640_write_int
;;;1168   					T_PROC_PS_MODE=1;	
0013c6  483b              LDR      r0,|L1.5300|
0013c8  4649              MOV      r1,r9
0013ca  f8a09000          STRH     r9,[r0,#0]
;;;1169   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
0013ce  20f0              MOVS     r0,#0xf0
0013d0  f7fffffe          BL       lc640_write_int
                  |L1.5076|
;;;1170   					}
;;;1171   				if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
0013d4  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
0013d8  6829              LDR      r1,[r5,#0]  ; T_PROC_MAX
0013da  4288              CMP      r0,r1
0013dc  dc07              BGT      |L1.5102|
0013de  281e              CMP      r0,#0x1e
0013e0  db05              BLT      |L1.5102|
;;;1172   					{
;;;1173   					T_PROC_PS_MODE=0;	
0013e2  4834              LDR      r0,|L1.5300|
0013e4  4639              MOV      r1,r7
0013e6  8007              STRH     r7,[r0,#0]
;;;1174   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
0013e8  20f0              MOVS     r0,#0xf0
0013ea  f7fffffe          BL       lc640_write_int
                  |L1.5102|
0013ee  f1080801          ADD      r8,r8,#1              ;693
0013f2  f00808ff          AND      r8,r8,#0xff           ;693
                  |L1.5110|
0013f6  4827              LDR      r0,|L1.5268|
0013f8  f9b01004          LDRSH    r1,[r0,#4]            ;693  ; modbus_tcp_rx_arg1
0013fc  4588              CMP      r8,r1                 ;693
0013fe  f6ffab96          BLT      |L1.2862|
;;;1175   					}				
;;;1176   				}
;;;1177   
;;;1178   
;;;1179   			
;;;1180   			//modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;1181   	
;;;1182   			sendbuf = tcp_get_buf(11);
001402  200b              MOVS     r0,#0xb
001404  f7fffffe          BL       tcp_get_buf
001408  4601              MOV      r1,r0
;;;1183   			sendbuf[0]=ptr[0];
00140a  7820              LDRB     r0,[r4,#0]
00140c  7008              STRB     r0,[r1,#0]
;;;1184   			sendbuf[1]=ptr[1];
00140e  7860              LDRB     r0,[r4,#1]
001410  7048              STRB     r0,[r1,#1]
;;;1185   			sendbuf[2]=ptr[2];
001412  78a0              LDRB     r0,[r4,#2]
001414  7088              STRB     r0,[r1,#2]
;;;1186   			sendbuf[3]=ptr[3];
001416  78e2              LDRB     r2,[r4,#3]
001418  70ca              STRB     r2,[r1,#3]
;;;1187   			sendbuf[4]=0;
;;;1188   			sendbuf[5]=6;
;;;1189   			sendbuf[6]=modbus_tcp_unit;
00141a  4c1e              LDR      r4,|L1.5268|
00141c  710f              STRB     r7,[r1,#4]            ;1187
00141e  2006              MOVS     r0,#6                 ;1188
001420  7148              STRB     r0,[r1,#5]            ;1188
001422  7860              LDRB     r0,[r4,#1]  ; modbus_tcp_unit
001424  7188              STRB     r0,[r1,#6]
;;;1190   			sendbuf[7]=modbus_tcp_func;
001426  7820              LDRB     r0,[r4,#0]  ; modbus_tcp_func
001428  71c8              STRB     r0,[r1,#7]
;;;1191   			sendbuf[8]=modbus_tcp_rx_arg0/256;
00142a  f9b42002          LDRSH    r2,[r4,#2]  ; modbus_tcp_rx_arg0
00142e  17d0              ASRS     r0,r2,#31
001430  eb026310          ADD      r3,r2,r0,LSR #24
001434  1218              ASRS     r0,r3,#8
001436  7208              STRB     r0,[r1,#8]
;;;1192   			sendbuf[9]=modbus_tcp_rx_arg0%256;
001438  4610              MOV      r0,r2
00143a  7248              STRB     r0,[r1,#9]
;;;1193   			sendbuf[10]=modbus_tcp_rx_arg1/256;
00143c  f9b42004          LDRSH    r2,[r4,#4]  ; modbus_tcp_rx_arg1
001440  17d0              ASRS     r0,r2,#31
001442  eb026310          ADD      r3,r2,r0,LSR #24
001446  1218              ASRS     r0,r3,#8
001448  7288              STRB     r0,[r1,#0xa]
;;;1194   			sendbuf[11]=modbus_tcp_rx_arg1%256;
00144a  4610              MOV      r0,r2
00144c  72c8              STRB     r0,[r1,#0xb]
;;;1195   	        tcp_send (socket_tcp, sendbuf, 12);
00144e  481a              LDR      r0,|L1.5304|
001450  220c              MOVS     r2,#0xc
001452  7800              LDRB     r0,[r0,#0]  ; socket_tcp
001454  f7fffffe          BL       tcp_send
;;;1196   				//
;;;1197   				
;;;1198   				//modbus_tcp_tx_buff[4]=0;
;;;1199   				//modbus_tcp_tx_buff[5]=5;
;;;1200   				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;1201   				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;1202   				//modbus_tcp_tx_buff[8]=2;
;;;1203   				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;1204   				//modbus_tcp_tx_buff[9]=2;
;;;1205   				//modbus_tcp_tx_buff[10]=3;
;;;1206   				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;1207   
;;;1208    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
001458  f9b40002          LDRSH    r0,[r4,#2]  ; modbus_tcp_rx_arg0
                  |L1.5212|
00145c  285a              CMP      r0,#0x5a
00145e  d00c              BEQ      |L1.5242|
001460  285b              CMP      r0,#0x5b
001462  d00a              BEQ      |L1.5242|
001464  285c              CMP      r0,#0x5c
001466  d008              BEQ      |L1.5242|
001468  285d              CMP      r0,#0x5d
00146a  d006              BEQ      |L1.5242|
00146c  4813              LDR      r0,|L1.5308|
00146e  8800              LDRH     r0,[r0,#0]  ; EE_WRITE_CNT
001470  1c40              ADDS     r0,r0,#1
001472  b201              SXTH     r1,r0
001474  204c              MOVS     r0,#0x4c
001476  f7fffffe          BL       lc640_write_int
                  |L1.5242|
;;;1209   
;;;1210   
;;;1211   
;;;1212   
;;;1213   
;;;1214   			}
;;;1215   
;;;1216   			
;;;1217   		} 
;;;1218   	break;
;;;1219   
;;;1220     	case TCP_EVT_CONREQ:
;;;1221         		/* Remote peer requested connect, accept it */
;;;1222       return (1);
;;;1223   
;;;1224       case TCP_EVT_CONNECT:
;;;1225         		/* The TCP socket is connected */
;;;1226         	return (1);
;;;1227     	}
;;;1228   return (0);
00147a  2000              MOVS     r0,#0
                  |L1.5244|
;;;1229   }
00147c  b033              ADD      sp,sp,#0xcc
00147e  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.5250|
001482  2001              MOVS     r0,#1                 ;1226
001484  e7fa              B        |L1.5244|
;;;1230   
                          ENDP

001486  0000              DCW      0x0000
                  |L1.5256|
                          DCD      CAP_PAUSE2_TIME
                  |L1.5260|
                          DCD      CAP_MAX_VOLT
                  |L1.5264|
                          DCD      CAP_WRK_CURR
                  |L1.5268|
                          DCD      ||.data||
                  |L1.5272|
                          DCD      I_ug_ram
                  |L1.5276|
                          DCD      U_up_ram
                  |L1.5280|
                          DCD      eepromRamSwitch
                  |L1.5284|
                          DCD      time_proc
                  |L1.5288|
                          DCD      time_proc_remain
                  |L1.5292|
                          DCD      T_PROC_MAX
                  |L1.5296|
                          DCD      T_PROC_GS_MODE
                  |L1.5300|
                          DCD      T_PROC_PS_MODE
                  |L1.5304|
                          DCD      socket_tcp
                  |L1.5308|
                          DCD      EE_WRITE_CNT

                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  plazma_modbus_tcp
                          %        20
                  modbus_tcp_plazma
                          %        20

                          AREA ||.data||, DATA, ALIGN=2

                  modbus_tcp_func
000000  00                DCB      0x00
                  modbus_tcp_unit
000001  00                DCB      0x00
                  modbus_tcp_rx_arg0
000002  0000              DCB      0x00,0x00
                  modbus_tcp_rx_arg1
000004  00000000          DCB      0x00,0x00,0x00,0x00
                  modbus_tcp_out_ptr
                          DCD      0x00000000

                          AREA ||area_number.6||, DATA, ALIGN=1

                          EXPORTAS ||area_number.6||, ||.data||
                  modbus_tcp_rx_arg2
000000  0000              DCB      0x00,0x00
