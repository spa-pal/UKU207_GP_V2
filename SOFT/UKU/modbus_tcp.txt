; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus_tcp.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus_tcp.d --feedback=.\EXE\UKU2071x_GALV_IBv2_WG12232L3.fed --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 -DWG12232L3 --omf_browse=.\EXE\modbus_tcp.crf MODBUS_TCP.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  tcp_callback PROC
;;;28     
;;;29     U16 tcp_callback (U8 soc, U8 evt, U8 *ptr, U16 par) 
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;30     {
000004  b0b3              SUB      sp,sp,#0xcc
000006  4614              MOV      r4,r2
;;;31     /* This function is called by the TCP module on TCP event */
;;;32     /* Check the 'Net_Config.h' for possible events.          */
;;;33     par = par;
;;;34     
;;;35     if (soc != socket_tcp) {
000008  4aff              LDR      r2,|L1.1032|
00000a  7812              LDRB     r2,[r2,#0]  ; socket_tcp
00000c  4290              CMP      r0,r2
                  |L1.14|
00000e  d17e              BNE      |L1.270|
;;;36     	return (0);
;;;37     }
;;;38     
;;;39     switch (evt) 
000010  2900              CMP      r1,#0
                  |L1.18|
000012  d07d              BEQ      |L1.272|
000014  2901              CMP      r1,#1
000016  d0fc              BEQ      |L1.18|
000018  2905              CMP      r1,#5
00001a  d1f8              BNE      |L1.14|
;;;40     	{
;;;41         case TCP_EVT_DATA:
;;;42         /* TCP data frame has arrived, data is located at *par1, */
;;;43         /* data length is par2. Allocate buffer to send reply.   */
;;;44         //procrec(ptr);
;;;45     	
;;;46     	plazma_modbus_tcp[1]=ptr[0];
00001c  48fb              LDR      r0,|L1.1036|
00001e  7821              LDRB     r1,[r4,#0]
;;;47     	plazma_modbus_tcp[2]=ptr[1];
;;;48     	plazma_modbus_tcp[3]=ptr[2];
;;;49     	plazma_modbus_tcp[4]=ptr[3];
;;;50     	plazma_modbus_tcp[5]=ptr[4];
;;;51     	plazma_modbus_tcp[6]=ptr[5];
;;;52     	plazma_modbus_tcp[7]=ptr[6];
;;;53     	plazma_modbus_tcp[8]=ptr[7];
;;;54     	plazma_modbus_tcp[9]=ptr[8];
;;;55     	plazma_modbus_tcp[10]=ptr[9];
;;;56     	plazma_modbus_tcp[11]=ptr[10];
;;;57     	plazma_modbus_tcp[12]=ptr[11];
;;;58     	  //plazma_modbus_tcp[4]=ptr[3];
;;;59     	  //plazma_modbus_tcp[5]=par;
;;;60     	  //plazma_modbus_tcp[6]=ptr[5];
;;;61     
;;;62        	
;;;63     	modbus_tcp_func=ptr[7];
000020  4dfb              LDR      r5,|L1.1040|
000022  7041              STRB     r1,[r0,#1]            ;46
000024  7861              LDRB     r1,[r4,#1]            ;47
000026  7081              STRB     r1,[r0,#2]            ;47
000028  78a1              LDRB     r1,[r4,#2]            ;48
00002a  70c1              STRB     r1,[r0,#3]            ;48
00002c  78e1              LDRB     r1,[r4,#3]            ;49
00002e  7101              STRB     r1,[r0,#4]            ;49
000030  7921              LDRB     r1,[r4,#4]            ;50
000032  7141              STRB     r1,[r0,#5]            ;50
000034  7961              LDRB     r1,[r4,#5]            ;51
000036  7181              STRB     r1,[r0,#6]            ;51
000038  79a1              LDRB     r1,[r4,#6]            ;52
00003a  71c1              STRB     r1,[r0,#7]            ;52
00003c  79e1              LDRB     r1,[r4,#7]            ;53
00003e  7201              STRB     r1,[r0,#8]            ;53
000040  7a21              LDRB     r1,[r4,#8]            ;54
000042  7241              STRB     r1,[r0,#9]            ;54
000044  7a61              LDRB     r1,[r4,#9]            ;55
000046  7281              STRB     r1,[r0,#0xa]          ;55
000048  7aa1              LDRB     r1,[r4,#0xa]          ;56
00004a  72c1              STRB     r1,[r0,#0xb]          ;56
00004c  7ae1              LDRB     r1,[r4,#0xb]          ;57
00004e  7301              STRB     r1,[r0,#0xc]          ;57
000050  79e1              LDRB     r1,[r4,#7]
000052  7029              STRB     r1,[r5,#0]
;;;64     	modbus_tcp_unit=ptr[6];
000054  79a7              LDRB     r7,[r4,#6]
000056  706f              STRB     r7,[r5,#1]
;;;65     
;;;66     	modbus_tcp_rx_arg0=(((unsigned short)ptr[8])*((unsigned short)256))+((unsigned short)ptr[9]);
000058  7a60              LDRB     r0,[r4,#9]
00005a  7a22              LDRB     r2,[r4,#8]
00005c  eb002002          ADD      r0,r0,r2,LSL #8
000060  b202              SXTH     r2,r0
000062  806a              STRH     r2,[r5,#2]
;;;67     	modbus_tcp_rx_arg1=(((unsigned short)ptr[10])*((unsigned short)256))+((unsigned short)ptr[11]);
000064  7ae0              LDRB     r0,[r4,#0xb]
000066  7aa3              LDRB     r3,[r4,#0xa]
000068  eb002003          ADD      r0,r0,r3,LSL #8
00006c  b203              SXTH     r3,r0
;;;68     
;;;69     			modbus_tcp_plazma[0]++;
00006e  48e7              LDR      r0,|L1.1036|
000070  80ab              STRH     r3,[r5,#4]            ;67
000072  3014              ADDS     r0,r0,#0x14
000074  8806              LDRH     r6,[r0,#0]  ; modbus_tcp_plazma
000076  1c76              ADDS     r6,r6,#1
000078  8006              STRH     r6,[r0,#0]
;;;70     			modbus_tcp_plazma[1]=modbus_tcp_func;
00007a  8041              STRH     r1,[r0,#2]
;;;71     			modbus_tcp_plazma[2]=modbus_tcp_rx_arg0;
00007c  8082              STRH     r2,[r0,#4]
;;;72     			modbus_tcp_plazma[3]=modbus_tcp_rx_arg1;
00007e  80c3              STRH     r3,[r0,#6]
;;;73     
;;;74     	if(modbus_tcp_unit==MODBUS_ADRESS)
000080  48e4              LDR      r0,|L1.1044|
000082  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
000086  4287              CMP      r7,r0
000088  d1c1              BNE      |L1.14|
;;;75     		{
;;;76     		//char modbus_tcp_tx_buff[200];
;;;77     		ramModbusCnt=300;
00008a  4fe3              LDR      r7,|L1.1048|
00008c  f44f7696          MOV      r6,#0x12c
000090  f04f0a03          MOV      r10,#3                ;63
000094  803e              STRH     r6,[r7,#0]
;;;78     
;;;79     		if(modbus_tcp_func==3)		//чтение произвольного кол-ва регистров хранения
;;;80     			{
;;;81     			U8 *sendbuf;
;;;82     			
;;;83     
;;;84     			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;85     
;;;86     			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
000096  f04f0809          MOV      r8,#9
00009a  f04f0901          MOV      r9,#1                 ;30
00009e  2903              CMP      r1,#3                 ;79
0000a0  d134              BNE      |L1.268|
0000a2  b29b              UXTH     r3,r3                 ;84
0000a4  b292              UXTH     r2,r2                 ;84
0000a6  b2c0              UXTB     r0,r0                 ;84
0000a8  f8cd9000          STR      r9,[sp,#0]            ;84
0000ac  f7fffffe          BL       modbus_hold_registers_transmit
0000b0  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000b2  eb080041          ADD      r0,r8,r1,LSL #1
0000b6  b280              UXTH     r0,r0
0000b8  f7fffffe          BL       tcp_get_buf
0000bc  4606              MOV      r6,r0
;;;87     			sendbuf[0]=ptr[0];
0000be  7820              LDRB     r0,[r4,#0]
0000c0  7030              STRB     r0,[r6,#0]
;;;88     			sendbuf[1]=ptr[1];
0000c2  7860              LDRB     r0,[r4,#1]
0000c4  7070              STRB     r0,[r6,#1]
;;;89     			sendbuf[2]=ptr[2];
0000c6  78a0              LDRB     r0,[r4,#2]
0000c8  70b0              STRB     r0,[r6,#2]
;;;90     			sendbuf[3]=ptr[3];
0000ca  78e0              LDRB     r0,[r4,#3]
0000cc  70f0              STRB     r0,[r6,#3]
;;;91     			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
0000ce  f9b52004          LDRSH    r2,[r5,#4]  ; modbus_tcp_rx_arg1
0000d2  eb0a0142          ADD      r1,r10,r2,LSL #1
0000d6  17c8              ASRS     r0,r1,#31
0000d8  eb016310          ADD      r3,r1,r0,LSR #24
0000dc  121f              ASRS     r7,r3,#8
0000de  7137              STRB     r7,[r6,#4]
;;;92     			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
0000e0  4608              MOV      r0,r1
0000e2  7170              STRB     r0,[r6,#5]
;;;93     			sendbuf[6]=modbus_tcp_unit;
0000e4  7868              LDRB     r0,[r5,#1]  ; modbus_tcp_unit
0000e6  71b0              STRB     r0,[r6,#6]
;;;94     			sendbuf[7]=modbus_tcp_func;
0000e8  7828              LDRB     r0,[r5,#0]  ; modbus_tcp_func
0000ea  71f0              STRB     r0,[r6,#7]
;;;95     			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
0000ec  0052              LSLS     r2,r2,#1
0000ee  7232              STRB     r2,[r6,#8]
;;;96     			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
0000f0  f1060009          ADD      r0,r6,#9
0000f4  68a9              LDR      r1,[r5,#8]  ; modbus_tcp_out_ptr
0000f6  f7fffffe          BL       mem_copy
;;;97     			//sendbuf[9]=3;
;;;98     			//sendbuf[10]=4;
;;;99               	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
0000fa  88a9              LDRH     r1,[r5,#4]  ; modbus_tcp_rx_arg1
0000fc  eb080041          ADD      r0,r8,r1,LSL #1
000100  b282              UXTH     r2,r0
000102  48c1              LDR      r0,|L1.1032|
000104  4631              MOV      r1,r6
000106  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000108  f7fffffe          BL       tcp_send
                  |L1.268|
;;;100    			//
;;;101    			
;;;102    			//modbus_tcp_tx_buff[4]=0;
;;;103    			//modbus_tcp_tx_buff[5]=5;
;;;104    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;105    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;106    			//modbus_tcp_tx_buff[8]=2;
;;;107    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;108    			//modbus_tcp_tx_buff[9]=2;
;;;109    			//modbus_tcp_tx_buff[10]=3;
;;;110    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;111    
;;;112    			//modbus_tcp_plazma[0]++;
;;;113    			//modbus_tcp_plazma[1]=3;
;;;114    			}
;;;115    
;;;116    		if(modbus_tcp_func==4)		//чтение произвольного кол-ва регистров	входов
00010c  e001              B        |L1.274|
                  |L1.270|
00010e  e3fd              B        |L1.2316|
                  |L1.272|
000110  e3fd              B        |L1.2318|
                  |L1.274|
000112  7829              LDRB     r1,[r5,#0]  ; modbus_tcp_func
000114  2904              CMP      r1,#4
000116  d00a              BEQ      |L1.302|
;;;117    			{
;;;118    			U8 *sendbuf;
;;;119    
;;;120    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;121    
;;;122    			sendbuf = tcp_get_buf((modbus_tcp_rx_arg1*2)+9);
;;;123    			sendbuf[0]=ptr[0];
;;;124    			sendbuf[1]=ptr[1];
;;;125    			sendbuf[2]=ptr[2];
;;;126    			sendbuf[3]=ptr[3];
;;;127    			sendbuf[4]=((modbus_tcp_rx_arg1*2)+3)/256;
;;;128    			sendbuf[5]=((modbus_tcp_rx_arg1*2)+3)%256;;
;;;129    			sendbuf[6]=modbus_tcp_unit;
;;;130    			sendbuf[7]=modbus_tcp_func;
;;;131    			sendbuf[8]=(U8)(modbus_tcp_rx_arg1*2);
;;;132    			mem_copy((char*)&sendbuf[9],modbus_tcp_out_ptr,(modbus_tcp_rx_arg1*2));
;;;133    			//sendbuf[9]=3;
;;;134    			//sendbuf[10]=4;
;;;135              	tcp_send (socket_tcp, sendbuf, ((modbus_tcp_rx_arg1*2)+9));
;;;136    			//
;;;137    			
;;;138    			//modbus_tcp_tx_buff[4]=0;
;;;139    			//modbus_tcp_tx_buff[5]=5;
;;;140    			//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;141    			//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;142    			//modbus_tcp_tx_buff[8]=2;
;;;143    			//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;144    			//modbus_tcp_tx_buff[9]=2;
;;;145    			//modbus_tcp_tx_buff[10]=3;
;;;146    			//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;147    			//modbus_tcp_plazma[0]++;
;;;148    			//modbus_tcp_plazma[1]=4;
;;;149    			}
;;;150    
;;;151    		else if(modbus_tcp_func==6) 	//запись регистров хранения
;;;152    			{
;;;153    			U8 *sendbuf;
;;;154    
;;;155    			
;;;156    			if(modbus_tcp_rx_arg0==50)		//ток стабилизации для режима стабилизации тока
;;;157    				{
;;;158    				I_ug=modbus_tcp_rx_arg1;
;;;159    				lc640_write_int(EE_I_UG,I_ug);
;;;160    				}
;;;161    			if(modbus_tcp_rx_arg0==51)		//напряжение стабилизации для режима стабилизации напряжения
;;;162    				{
;;;163    				U_up=modbus_tcp_rx_arg1;
;;;164    				lc640_write_int(EE_U_UP,U_up);
;;;165    				}
;;;166    			if(modbus_tcp_rx_arg0==52)		//максимапльное напряжение для режима стабилизации тока
;;;167    				{
;;;168    				U_maxg=modbus_tcp_rx_arg1;
;;;169    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;170    				}
;;;171    			if(modbus_tcp_rx_arg0==53)		//максимальный ток для режима стабилизации напряжения
;;;172    				{
;;;173    				I_maxp=modbus_tcp_rx_arg1;
;;;174    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;175    				}								
;;;176    			if(modbus_tcp_rx_arg0==54)		//Установка времени для ист.тока.секунды
;;;177    				{
;;;178    				signed long sec,min,hour;
;;;179    				sec=(signed long)modbus_tcp_rx_arg1;
;;;180    				min=(T_PROC_GS/60L)%60L;
;;;181    				hour=T_PROC_GS/3600L;
;;;182    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;183    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;184    				}
;;;185    			if(modbus_tcp_rx_arg0==55)		//Установка времени для ист.тока.минуты
;;;186    				{
;;;187    				signed long sec,min,hour;
;;;188    				sec=T_PROC_GS%60L;
;;;189    				min=(signed long)modbus_tcp_rx_arg1;
;;;190    				hour=T_PROC_GS/3600L;
;;;191    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;192    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;193    				}
;;;194    			if(modbus_tcp_rx_arg0==56)		//Установка времени для ист.тока.часы
;;;195    				{
;;;196    				signed long sec,min,hour;
;;;197    				sec=T_PROC_GS%60L;
;;;198    				min=(T_PROC_GS/60L)%60L;
;;;199    				hour=(signed long)modbus_tcp_rx_arg1;
;;;200    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;201    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;202    				}
;;;203    			if(modbus_tcp_rx_arg0==57)		//Установка времени для ист.напр.секунды
;;;204    				{
;;;205    				signed long sec,min,hour;
;;;206    				sec=(signed long)modbus_tcp_rx_arg1;
;;;207    				min=(T_PROC_PS/60L)%60L;
;;;208    				hour=T_PROC_PS/3600L;
;;;209    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;210    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;211    				}
;;;212    
;;;213    			if(modbus_tcp_rx_arg0==58)		//Установка времени для ист.напр.минуты
;;;214    				{
;;;215    				signed long sec,min,hour;
;;;216    				sec=T_PROC_PS%60L;
;;;217    				min=(signed long)modbus_tcp_rx_arg1;
;;;218    				hour=T_PROC_PS/3600L;
;;;219    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;220    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;221    				}
;;;222    
;;;223    			if(modbus_tcp_rx_arg0==59)		//Установка времени для ист.напр.часы
;;;224    				{
;;;225    				signed long sec,min,hour;
;;;226    				sec=T_PROC_PS%60L;
;;;227    				min=(T_PROC_PS/60L)%60L;
;;;228    				hour=(signed long)modbus_tcp_rx_arg1;
;;;229    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;230    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;231    				}
;;;232    
;;;233    			if(modbus_tcp_rx_arg0==60)		//вкл/выкл источника напр.
;;;234    				{
;;;235    				if(modbus_tcp_rx_arg1==1)
;;;236    					{
;;;237    					if(work_stat!=wsPS)
000118  4ec0              LDR      r6,|L1.1052|
00011a  f8dfa304          LDR      r10,|L1.1056|
00011e  f8dfb304          LDR      r11,|L1.1060|
000122  2700              MOVS     r7,#0                 ;36
000124  2906              CMP      r1,#6                 ;151
000126  d03d              BEQ      |L1.420|
;;;238    						{
;;;239    						work_stat=wsPS;
;;;240    						time_proc=0;
;;;241    						time_proc_remain=T_PROC_PS;
;;;242    						restart_on_PS();
;;;243    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;244    						}
;;;245    					}
;;;246    				if(modbus_tcp_rx_arg1==0)
;;;247    					{
;;;248    					if(work_stat==wsPS)
;;;249    						{
;;;250    						work_stat=wsOFF;
;;;251    						restart_off();
;;;252    						}
;;;253    					}
;;;254    				}
;;;255    			if(modbus_tcp_rx_arg0==61)		//вкл/выкл источника тока
;;;256    				{
;;;257    				if(modbus_tcp_rx_arg1==1)
;;;258    					{
;;;259    					if(work_stat!=wsGS)
;;;260    						{
;;;261    						work_stat=wsGS;
;;;262    						time_proc=0;
;;;263    						time_proc_remain=T_PROC_GS;
;;;264    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;265    						}
;;;266    					}
;;;267    				if(modbus_tcp_rx_arg1==0)
;;;268    					{
;;;269    					if(work_stat==wsGS)
;;;270    						{
;;;271    						work_stat=wsOFF;
;;;272    						restart_off();
;;;273    						}
;;;274    					}
;;;275    				}
;;;276    
;;;277    			if(modbus_tcp_rx_arg0==62)		//переключение реле реверса
;;;278    				{
;;;279    					{
;;;280    					if(work_stat==wsOFF)
;;;281    						{
;;;282    						if(modbus_tcp_rx_arg1==0)REV_STAT=rsFF;
;;;283    						if(modbus_tcp_rx_arg1==1)REV_STAT=rsREW;
;;;284    						}
;;;285    					}
;;;286    				}
;;;287    			if(modbus_tcp_rx_arg0==63)		//включение-выключение автореверса
;;;288    				{
;;;289    					{
;;;290    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;291    						{
;;;292    						if(modbus_tcp_rx_arg1==1)AVT_REV_IS_ON=1;
;;;293    						if(modbus_tcp_rx_arg1==0)AVT_REV_IS_ON=0;
;;;294    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;295    						}
;;;296    					}
;;;297    				}
;;;298    			if(modbus_tcp_rx_arg0==64)		//Автореверс, время работы прямое, сек
;;;299    				{
;;;300    				if(work_stat==wsOFF)
;;;301    					{
;;;302    					AVT_REV_TIME_FF=modbus_tcp_rx_arg1;
;;;303    					gran_u/*long*/(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;304    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;305    					}
;;;306    				}
;;;307    			if(modbus_tcp_rx_arg0==65)		//Автореверс, время работы обратное, сек
;;;308    				{
;;;309    				if(work_stat==wsOFF)
;;;310    					{
;;;311    					AVT_REV_TIME_REW=modbus_tcp_rx_arg1;
;;;312    					gran_u/*long*/(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;313    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;314    					}
;;;315    				}
;;;316    			if(modbus_tcp_rx_arg0==66)		//Автореверс, время паузы при переключении, сек
;;;317    				{
;;;318    				if(work_stat==wsOFF)
;;;319    					{
;;;320    					AVT_REV_TIME_PAUSE=modbus_tcp_rx_arg1;
;;;321    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;322    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;323    					}
;;;324    				}
;;;325    
;;;326    			if(modbus_tcp_rx_arg0==67)		//Автореверс, ток стабилизации прямой, 0.1А
;;;327    				{
;;;328    				if(work_stat==wsOFF)
;;;329    					{
;;;330    					AVT_REV_I_NOM_FF=modbus_tcp_rx_arg1;
;;;331    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;332    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;333    					}
;;;334    				}
;;;335    
;;;336    			if(modbus_tcp_rx_arg0==68)		//Автореверс, ток стабилизации обратный, 0.1А
;;;337    				{
;;;338    				if(work_stat==wsOFF)
;;;339    					{
;;;340    					AVT_REV_I_NOM_REW=modbus_tcp_rx_arg1;
;;;341    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;342    					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;343    					}
;;;344    				}
;;;345    			if(modbus_tcp_rx_arg0==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
;;;346    				{
;;;347    				if(work_stat==wsOFF)
;;;348    					{
;;;349    					AVT_REV_U_NOM_FF=modbus_tcp_rx_arg1;
;;;350    		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;351    					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;352    					}
;;;353    				}
;;;354    
;;;355    			if(modbus_tcp_rx_arg0==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
;;;356    				{
;;;357    				if(work_stat==wsOFF)
;;;358    					{
;;;359    					AVT_REV_U_NOM_REW=modbus_tcp_rx_arg1;
;;;360    		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;361    					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;362    					}
;;;363    				}
;;;364    
;;;365    			if(modbus_tcp_rx_arg0==71)		//Время заряда испытательного цикла, 0.1С 
;;;366    				{
;;;367    				if(work_stat==wsOFF)
;;;368    					{
;;;369    					CAP_ZAR_TIME=modbus_tcp_rx_arg1;
;;;370    		    			gran(&CAP_ZAR_TIME,10,9999);
;;;371    					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;372    					}
;;;373    				}
;;;374    			if(modbus_tcp_rx_arg0==72)		//Время паузы1 испытательного цикла, 0.1С 
;;;375    				{
;;;376    				if(work_stat==wsOFF)
;;;377    					{
;;;378    					CAP_PAUSE1_TIME=modbus_tcp_rx_arg1;
;;;379    		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;380    					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;381    					}
;;;382    				}
;;;383    			if(modbus_tcp_rx_arg0==73)		//Время разряда испытательного цикла, 0.1С 
;;;384    				{
;;;385    				if(work_stat==wsOFF)
;;;386    					{
;;;387    					CAP_RAZR_TIME=modbus_tcp_rx_arg1;
;;;388    		    			gran(&CAP_RAZR_TIME,10,9999);
;;;389    					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;390    					}
;;;391    				}
;;;392    			if(modbus_tcp_rx_arg0==74)		//Время паузы2 испытательного цикла, 0.1С 
;;;393    				{
;;;394    				if(work_stat==wsOFF)
;;;395    					{
;;;396    					CAP_PAUSE2_TIME=modbus_tcp_rx_arg1;
;;;397    		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;398    					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;399    					}
;;;400    				}
;;;401    
;;;402    			if(modbus_tcp_rx_arg0==75)		//Максимальное напряжение испытательного цикла, 1В  
;;;403    				{
;;;404    				if(work_stat==wsOFF)
;;;405    					{
;;;406    					CAP_MAX_VOLT=modbus_tcp_rx_arg1;
;;;407    		    			gran(&CAP_MAX_VOLT,1,100);
;;;408    					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;409    					}
;;;410    				}
;;;411    			if(modbus_tcp_rx_arg0==76)		//Рабочий ток испытательного цикла, 1А 
;;;412    				{
;;;413    				if(work_stat==wsOFF)
;;;414    					{
;;;415    					CAP_WRK_CURR=modbus_tcp_rx_arg1;
;;;416    		    			gran(&CAP_WRK_CURR,1,150);
;;;417    					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;418    					}
;;;419    				}
;;;420    
;;;421    			if(modbus_tcp_rx_arg0==77)		//Регистр для записи команд 
;;;422    				{
;;;423    				modbus_tcp_plazma_pavlik[0]++;
;;;424    				modbus_tcp_plazma_pavlik[1]=modbus_tcp_rx_arg1;
;;;425    				if(modbus_tcp_rx_arg1==0x11)
;;;426    					{
;;;427    					start_CAP();
;;;428    					}
;;;429    				if(modbus_tcp_rx_arg1==0x12)
;;;430    					{
;;;431    					pause_CAP();
;;;432    					}
;;;433    				if(modbus_tcp_rx_arg1==0x13)
;;;434    					{
;;;435    					stop_CAP();
;;;436    					}
;;;437    				if(modbus_tcp_rx_arg1==0x14)
;;;438    					{
;;;439    					reset_CAP();
;;;440    					}
;;;441    
;;;442    				if(modbus_tcp_rx_arg1==0x21)
;;;443    					{
;;;444    					if(work_stat==wsOFF)
;;;445    						{
;;;446    						CAP_ZAR_TIME++;
;;;447    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;448    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;449    						}
;;;450    					}
;;;451    				if(modbus_tcp_rx_arg1==0x22)
;;;452    					{
;;;453    					modbus_tcp_plazma_pavlik[2]++;
;;;454    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;455    					if(work_stat==wsOFF)
;;;456    						{
;;;457    						CAP_ZAR_TIME--;
;;;458    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;459    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;460    						}
;;;461    					}
;;;462    
;;;463    				if(modbus_tcp_rx_arg1==0x31)
;;;464    					{
;;;465    					if(work_stat==wsOFF)
;;;466    						{
;;;467    						CAP_PAUSE1_TIME++;
;;;468    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;469    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;470    						}
;;;471    					}
;;;472    				if(modbus_tcp_rx_arg1==0x32)
;;;473    					{
;;;474    					if(work_stat==wsOFF)
;;;475    						{
;;;476    						CAP_PAUSE1_TIME--;
;;;477    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;478    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;479    						}
;;;480    					}
;;;481    
;;;482    				if(modbus_tcp_rx_arg1==0x41)
;;;483    					{
;;;484    					if(work_stat==wsOFF)
;;;485    						{
;;;486    						CAP_RAZR_TIME++;
;;;487    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;488    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;489    						}
;;;490    					}
;;;491    				if(modbus_tcp_rx_arg1==0x42)
;;;492    					{
;;;493    					if(work_stat==wsOFF)
;;;494    						{
;;;495    						CAP_RAZR_TIME--;
;;;496    		    				gran(&CAP_RAZR_TIME,10,9999);
;;;497    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;498    						}
;;;499    					}
;;;500    
;;;501    				if(modbus_tcp_rx_arg1==0x51)
;;;502    					{
;;;503    					if(work_stat==wsOFF)
;;;504    						{
;;;505    						CAP_PAUSE2_TIME++;
;;;506    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;507    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;508    						}
;;;509    					}
;;;510    				if(modbus_tcp_rx_arg1==0x52)
;;;511    					{
;;;512    					if(work_stat==wsOFF)
;;;513    						{
;;;514    						CAP_PAUSE2_TIME--;
;;;515    		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;516    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;517    						}
;;;518    					}
;;;519    
;;;520    				if(modbus_tcp_rx_arg1==0x61)
;;;521    					{
;;;522    					if(work_stat==wsOFF)
;;;523    						{
;;;524    						CAP_MAX_VOLT++;
;;;525    		    				gran(&CAP_MAX_VOLT,1,100);
;;;526    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;527    						}
;;;528    					}
;;;529    				if(modbus_tcp_rx_arg1==0x62)
;;;530    					{
;;;531    					if(work_stat==wsOFF)
;;;532    						{
;;;533    						CAP_MAX_VOLT--;
;;;534    		    				gran(&CAP_MAX_VOLT,1,100);
;;;535    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;536    						}
;;;537    					}
;;;538    
;;;539    				if(modbus_tcp_rx_arg1==0x71)
;;;540    					{
;;;541    					if(work_stat==wsOFF)
;;;542    						{
;;;543    						CAP_WRK_CURR++;
;;;544    		    				gran(&CAP_WRK_CURR,1,150);
;;;545    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;546    						}
;;;547    					}
;;;548    				if(modbus_tcp_rx_arg1==0x72)
;;;549    					{
;;;550    					if(work_stat==wsOFF)
;;;551    						{
;;;552    						CAP_WRK_CURR--;
;;;553    		    				gran(&CAP_WRK_CURR,1,150);
;;;554    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;555    						}
;;;556    					}
;;;557    				if(modbus_tcp_rx_arg1==0x80)
;;;558    					{
;;;559    					
;;;560    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;561    					if(RELE_FUNC[0]==6)
;;;562    						{modbus_tcp_plazma_pavlik[2]++;
;;;563    						rele_ext_cntrl[0]=0;					
;;;564    						}
;;;565    					}
;;;566    				if(modbus_tcp_rx_arg1==0x81)
;;;567    					{
;;;568    					
;;;569    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;570    					if(RELE_FUNC[0]==6)
;;;571    						{modbus_tcp_plazma_pavlik[2]++;
;;;572    						rele_ext_cntrl[0]=1;					
;;;573    						}
;;;574    					}
;;;575    				if(modbus_tcp_rx_arg1==0x82)
;;;576    					{
;;;577    					
;;;578    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;579    					if(RELE_FUNC[1]==6)
;;;580    						{modbus_tcp_plazma_pavlik[2]++;
;;;581    						rele_ext_cntrl[1]=0;					
;;;582    						}
;;;583    					}
;;;584    				if(modbus_tcp_rx_arg1==0x83)
;;;585    					{
;;;586    					
;;;587    					modbus_tcp_plazma_pavlik[3]=modbus_tcp_rx_arg1;
;;;588    					if(RELE_FUNC[1]==6)
;;;589    						{modbus_tcp_plazma_pavlik[2]++;
;;;590    						rele_ext_cntrl[1]=1;					
;;;591    						}
;;;592    					}
;;;593    				}
;;;594    
;;;595    			else if(modbus_tcp_rx_arg0==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
;;;596    				{
;;;597    				I_ug_ram=modbus_tcp_rx_arg1;
;;;598    				eepromRamSwitch=1;
;;;599    				}
;;;600    
;;;601    			else if(modbus_tcp_rx_arg0==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
;;;602    				{
;;;603    				U_up_ram=modbus_tcp_rx_arg1;
;;;604    				eepromRamSwitch=1;
;;;605    				}
;;;606    
;;;607    			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
;;;608    				{
;;;609    				if(modbus_tcp_rx_arg1==1)
;;;610    					{
;;;611    					if(work_stat!=wsPS)
;;;612    						{
;;;613    						work_stat=wsPS;
;;;614    						time_proc=0;
;;;615    						time_proc_remain=T_PROC_PS;
;;;616    						restart_on_PS();
;;;617    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;618    						}
;;;619    					}
;;;620    				if(modbus_tcp_rx_arg1==0)
;;;621    					{
;;;622    					if(work_stat==wsPS)
;;;623    						{
;;;624    						work_stat=wsOFF;
;;;625    						restart_off();
;;;626    						}
;;;627    					}
;;;628    				}
;;;629    			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
;;;630    				{
;;;631    				if(modbus_tcp_rx_arg1==1)
;;;632    					{
;;;633    					if(work_stat!=wsGS)
;;;634    						{
;;;635    						work_stat=wsGS;
;;;636    						time_proc=0;
;;;637    						time_proc_remain=T_PROC_GS;
;;;638    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;639    						}
;;;640    					}
;;;641    				if(modbus_tcp_rx_arg1==0)
;;;642    					{
;;;643    					if(work_stat==wsGS)
;;;644    						{
;;;645    						work_stat=wsOFF;
;;;646    						restart_off();
;;;647    						}
;;;648    					}
;;;649    				}
;;;650    
;;;651    			
;;;652    			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;653    				{
;;;654    				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;655    				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;656    				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;657    				T_PROC_GS_MODE=1;	
;;;658    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;659    				}
;;;660    			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;661    				{
;;;662    				T_PROC_GS_MODE=0;	
;;;663    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;664    				}
;;;665    			
;;;666    			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;667    				{
;;;668    				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;669    				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;670    				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;671    				T_PROC_PS_MODE=1;	
;;;672    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;673    				}
;;;674    			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;675    				{
;;;676    				T_PROC_PS_MODE=0;	
;;;677    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;678    				}
;;;679    
;;;680    			
;;;681    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,1,MODBUS_TCP_PROT);
;;;682    	
;;;683    			sendbuf = tcp_get_buf(11);
;;;684    			sendbuf[0]=ptr[0];
;;;685    			sendbuf[1]=ptr[1];
;;;686    			sendbuf[2]=ptr[2];
;;;687    			sendbuf[3]=ptr[3];
;;;688    			sendbuf[4]=0;
;;;689    			sendbuf[5]=6;
;;;690    			sendbuf[6]=modbus_tcp_unit;
;;;691    			sendbuf[7]=modbus_tcp_func;
;;;692    			sendbuf[8]=modbus_tcp_rx_arg0/256;
;;;693    			sendbuf[9]=modbus_tcp_rx_arg0%256;
;;;694    			mem_copy((char*)&sendbuf[10],modbus_tcp_out_ptr,2);
;;;695    				//sendbuf[9]=3;
;;;696    				//sendbuf[10]=4;
;;;697    	        tcp_send (socket_tcp, sendbuf, 12);
;;;698    				//
;;;699    				
;;;700    				//modbus_tcp_tx_buff[4]=0;
;;;701    				//modbus_tcp_tx_buff[5]=5;
;;;702    				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;703    				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;704    				//modbus_tcp_tx_buff[8]=2;
;;;705    				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;706    				//modbus_tcp_tx_buff[9]=2;
;;;707    				//modbus_tcp_tx_buff[10]=3;
;;;708    				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;709    
;;;710    
;;;711    
;;;712    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
;;;713    
;;;714    
;;;715    			}
;;;716    
;;;717    
;;;718    		else if(modbus_tcp_func==16) 	//групповая запись регистров хранения
000128  2910              CMP      r1,#0x10
00012a  d07e              BEQ      |L1.554|
                  |L1.300|
00012c  e3ee              B        |L1.2316|
                  |L1.302|
00012e  f8cd9000          STR      r9,[sp,#0]            ;120
000132  88a8              LDRH     r0,[r5,#4]            ;120  ; modbus_tcp_rx_arg1
000134  b283              UXTH     r3,r0                 ;120
000136  8868              LDRH     r0,[r5,#2]            ;120  ; modbus_tcp_rx_arg0
000138  b282              UXTH     r2,r0                 ;120
00013a  48b6              LDR      r0,|L1.1044|
00013c  8800              LDRH     r0,[r0,#0]            ;120  ; MODBUS_ADRESS
00013e  b2c0              UXTB     r0,r0                 ;120
000140  f7fffffe          BL       modbus_input_registers_transmit
000144  88a8              LDRH     r0,[r5,#4]            ;122  ; modbus_tcp_rx_arg1
000146  4647              MOV      r7,r8                 ;122
000148  eb080040          ADD      r0,r8,r0,LSL #1       ;122
00014c  b280              UXTH     r0,r0                 ;122
00014e  f7fffffe          BL       tcp_get_buf
000152  4606              MOV      r6,r0                 ;122
000154  7820              LDRB     r0,[r4,#0]            ;123
000156  7030              STRB     r0,[r6,#0]            ;123
000158  7860              LDRB     r0,[r4,#1]            ;124
00015a  7070              STRB     r0,[r6,#1]            ;124
00015c  78a0              LDRB     r0,[r4,#2]            ;125
00015e  70b0              STRB     r0,[r6,#2]            ;125
000160  78e0              LDRB     r0,[r4,#3]            ;126
000162  70f0              STRB     r0,[r6,#3]            ;126
000164  f9b52004          LDRSH    r2,[r5,#4]            ;127  ; modbus_tcp_rx_arg1
000168  eb0a0142          ADD      r1,r10,r2,LSL #1      ;127
00016c  17c8              ASRS     r0,r1,#31             ;127
00016e  eb016310          ADD      r3,r1,r0,LSR #24      ;127
000172  1218              ASRS     r0,r3,#8              ;127
000174  7130              STRB     r0,[r6,#4]            ;127
000176  4608              MOV      r0,r1                 ;128
000178  7170              STRB     r0,[r6,#5]            ;128
00017a  7868              LDRB     r0,[r5,#1]            ;129  ; modbus_tcp_unit
00017c  71b0              STRB     r0,[r6,#6]            ;129
00017e  7828              LDRB     r0,[r5,#0]            ;130  ; modbus_tcp_func
000180  71f0              STRB     r0,[r6,#7]            ;130
000182  0052              LSLS     r2,r2,#1              ;131
000184  7232              STRB     r2,[r6,#8]            ;131
000186  f1060009          ADD      r0,r6,#9              ;132
00018a  68a9              LDR      r1,[r5,#8]            ;132  ; modbus_tcp_out_ptr
00018c  f7fffffe          BL       mem_copy
000190  88a8              LDRH     r0,[r5,#4]            ;135  ; modbus_tcp_rx_arg1
000192  4631              MOV      r1,r6                 ;135
000194  eb070040          ADD      r0,r7,r0,LSL #1       ;135
000198  b282              UXTH     r2,r0                 ;135
00019a  489b              LDR      r0,|L1.1032|
00019c  7800              LDRB     r0,[r0,#0]            ;135  ; socket_tcp
00019e  f7fffffe          BL       tcp_send
0001a2  e7c3              B        |L1.300|
                  |L1.420|
0001a4  8868              LDRH     r0,[r5,#2]            ;156  ; modbus_tcp_rx_arg0
0001a6  2832              CMP      r0,#0x32              ;156
0001a8  d106              BNE      |L1.440|
0001aa  489f              LDR      r0,|L1.1064|
0001ac  f9b51004          LDRSH    r1,[r5,#4]            ;158  ; modbus_tcp_rx_arg1
0001b0  8001              STRH     r1,[r0,#0]            ;158
0001b2  2020              MOVS     r0,#0x20              ;159
0001b4  f7fffffe          BL       lc640_write_int
                  |L1.440|
0001b8  8868              LDRH     r0,[r5,#2]            ;161  ; modbus_tcp_rx_arg0
0001ba  2833              CMP      r0,#0x33              ;161
0001bc  d106              BNE      |L1.460|
0001be  489b              LDR      r0,|L1.1068|
0001c0  f9b51004          LDRSH    r1,[r5,#4]            ;163  ; modbus_tcp_rx_arg1
0001c4  8001              STRH     r1,[r0,#0]            ;163
0001c6  2022              MOVS     r0,#0x22              ;164
0001c8  f7fffffe          BL       lc640_write_int
                  |L1.460|
0001cc  8868              LDRH     r0,[r5,#2]            ;166  ; modbus_tcp_rx_arg0
0001ce  2834              CMP      r0,#0x34              ;166
0001d0  d106              BNE      |L1.480|
0001d2  4897              LDR      r0,|L1.1072|
0001d4  f9b51004          LDRSH    r1,[r5,#4]            ;168  ; modbus_tcp_rx_arg1
0001d8  8001              STRH     r1,[r0,#0]            ;168
0001da  2076              MOVS     r0,#0x76              ;169
0001dc  f7fffffe          BL       lc640_write_int
                  |L1.480|
0001e0  8868              LDRH     r0,[r5,#2]            ;171  ; modbus_tcp_rx_arg0
0001e2  2835              CMP      r0,#0x35              ;171
0001e4  d106              BNE      |L1.500|
0001e6  4893              LDR      r0,|L1.1076|
0001e8  f9b51004          LDRSH    r1,[r5,#4]            ;173  ; modbus_tcp_rx_arg1
0001ec  8001              STRH     r1,[r0,#0]            ;173
0001ee  2078              MOVS     r0,#0x78              ;174
0001f0  f7fffffe          BL       lc640_write_int
                  |L1.500|
0001f4  8868              LDRH     r0,[r5,#2]            ;176  ; modbus_tcp_rx_arg0
0001f6  46a8              MOV      r8,r5                 ;176
0001f8  2836              CMP      r0,#0x36              ;176
0001fa  d11d              BNE      |L1.568|
0001fc  f8da2000          LDR      r2,[r10,#0]           ;180  ; T_PROC_GS
000200  203c              MOVS     r0,#0x3c              ;180
000202  fb92f3f0          SDIV     r3,r2,r0              ;180
000206  fb93f5f0          SDIV     r5,r3,r0              ;180
00020a  fb003315          MLS      r3,r0,r5,r3           ;180
00020e  f44f6061          MOV      r0,#0xe10             ;181
000212  fb92f0f0          SDIV     r0,r2,r0              ;181
000216  f44f6261          MOV      r2,#0xe10             ;182
00021a  4350              MULS     r0,r2,r0              ;182
00021c  ebc31203          RSB      r2,r3,r3,LSL #4       ;182
000220  f9b81004          LDRSH    r1,[r8,#4]            ;179  ; modbus_tcp_rx_arg1
000224  eb000082          ADD      r0,r0,r2,LSL #2       ;182
000228  e000              B        |L1.556|
                  |L1.554|
00022a  e3f1              B        |L1.2576|
                  |L1.556|
00022c  4401              ADD      r1,r1,r0              ;182
00022e  20d8              MOVS     r0,#0xd8              ;183
000230  f8ca1000          STR      r1,[r10,#0]           ;183  ; T_PROC_GS
000234  f7fffffe          BL       lc640_write_long
                  |L1.568|
000238  f8b80002          LDRH     r0,[r8,#2]            ;185  ; modbus_tcp_rx_arg0
00023c  2837              CMP      r0,#0x37              ;185
00023e  d117              BNE      |L1.624|
000240  f8da1000          LDR      r1,[r10,#0]           ;188  ; T_PROC_GS
000244  223c              MOVS     r2,#0x3c              ;188
000246  fb91f3f2          SDIV     r3,r1,r2              ;188
00024a  fb021213          MLS      r2,r2,r3,r1           ;188
00024e  f44f6561          MOV      r5,#0xe10             ;190
000252  fb91f1f5          SDIV     r1,r1,r5              ;190
000256  f9b83004          LDRSH    r3,[r8,#4]            ;189  ; modbus_tcp_rx_arg1
00025a  4369              MULS     r1,r5,r1              ;191
00025c  ebc31303          RSB      r3,r3,r3,LSL #4       ;191
000260  eb010183          ADD      r1,r1,r3,LSL #2       ;191
000264  4411              ADD      r1,r1,r2              ;191
000266  20d8              MOVS     r0,#0xd8              ;192
000268  f8ca1000          STR      r1,[r10,#0]           ;192  ; T_PROC_GS
00026c  f7fffffe          BL       lc640_write_long
                  |L1.624|
000270  f8b80002          LDRH     r0,[r8,#2]            ;194  ; modbus_tcp_rx_arg0
000274  2838              CMP      r0,#0x38              ;194
000276  d119              BNE      |L1.684|
000278  f8da2000          LDR      r2,[r10,#0]           ;197  ; T_PROC_GS
00027c  213c              MOVS     r1,#0x3c              ;197
00027e  fb92f3f1          SDIV     r3,r2,r1              ;197
000282  fb93f5f1          SDIV     r5,r3,r1              ;198
000286  fb012213          MLS      r2,r1,r3,r2           ;197
00028a  fb013315          MLS      r3,r1,r5,r3           ;198
00028e  f9b81004          LDRSH    r1,[r8,#4]            ;199  ; modbus_tcp_rx_arg1
000292  f44f6561          MOV      r5,#0xe10             ;200
000296  4369              MULS     r1,r5,r1              ;200
000298  ebc31303          RSB      r3,r3,r3,LSL #4       ;200
00029c  eb010183          ADD      r1,r1,r3,LSL #2       ;200
0002a0  4411              ADD      r1,r1,r2              ;200
0002a2  20d8              MOVS     r0,#0xd8              ;201
0002a4  f8ca1000          STR      r1,[r10,#0]           ;201  ; T_PROC_GS
0002a8  f7fffffe          BL       lc640_write_long
                  |L1.684|
0002ac  f8b80002          LDRH     r0,[r8,#2]            ;203  ; modbus_tcp_rx_arg0
0002b0  2839              CMP      r0,#0x39              ;203
0002b2  d11b              BNE      |L1.748|
0002b4  f8db2000          LDR      r2,[r11,#0]           ;207  ; T_PROC_PS
0002b8  203c              MOVS     r0,#0x3c              ;207
0002ba  fb92f3f0          SDIV     r3,r2,r0              ;207
0002be  fb93f5f0          SDIV     r5,r3,r0              ;207
0002c2  fb003315          MLS      r3,r0,r5,r3           ;207
0002c6  f44f6061          MOV      r0,#0xe10             ;208
0002ca  fb92f0f0          SDIV     r0,r2,r0              ;208
0002ce  f44f6261          MOV      r2,#0xe10             ;209
0002d2  4350              MULS     r0,r2,r0              ;209
0002d4  f9b81004          LDRSH    r1,[r8,#4]            ;206  ; modbus_tcp_rx_arg1
0002d8  ebc31203          RSB      r2,r3,r3,LSL #4       ;209
0002dc  eb000082          ADD      r0,r0,r2,LSL #2       ;209
0002e0  4401              ADD      r1,r1,r0              ;209
0002e2  20dc              MOVS     r0,#0xdc              ;210
0002e4  f8cb1000          STR      r1,[r11,#0]           ;210  ; T_PROC_PS
0002e8  f7fffffe          BL       lc640_write_long
                  |L1.748|
0002ec  f8b80002          LDRH     r0,[r8,#2]            ;213  ; modbus_tcp_rx_arg0
0002f0  283a              CMP      r0,#0x3a              ;213
0002f2  d118              BNE      |L1.806|
0002f4  f8db0000          LDR      r0,[r11,#0]           ;216  ; T_PROC_PS
0002f8  233c              MOVS     r3,#0x3c              ;216
0002fa  fb90f2f3          SDIV     r2,r0,r3              ;216
0002fe  fb030212          MLS      r2,r3,r2,r0           ;216
000302  f44f6561          MOV      r5,#0xe10             ;218
000306  fb90f0f5          SDIV     r0,r0,r5              ;218
00030a  f9b83004          LDRSH    r3,[r8,#4]            ;217  ; modbus_tcp_rx_arg1
00030e  4368              MULS     r0,r5,r0              ;219
000310  ebc31303          RSB      r3,r3,r3,LSL #4       ;219
000314  eb000083          ADD      r0,r0,r3,LSL #2       ;219
000318  4410              ADD      r0,r0,r2              ;219
00031a  4601              MOV      r1,r0                 ;219
00031c  f8cb0000          STR      r0,[r11,#0]           ;220  ; T_PROC_PS
000320  20dc              MOVS     r0,#0xdc              ;220
000322  f7fffffe          BL       lc640_write_long
                  |L1.806|
000326  f8b80002          LDRH     r0,[r8,#2]            ;223  ; modbus_tcp_rx_arg0
00032a  283b              CMP      r0,#0x3b              ;223
00032c  d119              BNE      |L1.866|
00032e  f8db2000          LDR      r2,[r11,#0]           ;226  ; T_PROC_PS
000332  213c              MOVS     r1,#0x3c              ;226
000334  fb92f3f1          SDIV     r3,r2,r1              ;226
000338  fb93f5f1          SDIV     r5,r3,r1              ;227
00033c  fb012213          MLS      r2,r1,r3,r2           ;226
000340  fb013315          MLS      r3,r1,r5,r3           ;227
000344  f9b81004          LDRSH    r1,[r8,#4]            ;228  ; modbus_tcp_rx_arg1
000348  f44f6561          MOV      r5,#0xe10             ;229
00034c  4369              MULS     r1,r5,r1              ;229
00034e  ebc31303          RSB      r3,r3,r3,LSL #4       ;229
000352  eb010183          ADD      r1,r1,r3,LSL #2       ;229
000356  4411              ADD      r1,r1,r2              ;229
000358  20dc              MOVS     r0,#0xdc              ;230
00035a  f8cb1000          STR      r1,[r11,#0]           ;230  ; T_PROC_PS
00035e  f7fffffe          BL       lc640_write_long
                  |L1.866|
000362  f8b80002          LDRH     r0,[r8,#2]            ;233  ; modbus_tcp_rx_arg0
000366  4645              MOV      r5,r8                 ;233
000368  283c              CMP      r0,#0x3c              ;233
00036a  d11b              BNE      |L1.932|
00036c  88a8              LDRH     r0,[r5,#4]            ;235  ; modbus_tcp_rx_arg1
00036e  2801              CMP      r0,#1                 ;235
000370  d110              BNE      |L1.916|
000372  7830              LDRB     r0,[r6,#0]            ;237  ; work_stat
000374  2802              CMP      r0,#2                 ;237
000376  d00d              BEQ      |L1.916|
000378  2002              MOVS     r0,#2                 ;239
00037a  7030              STRB     r0,[r6,#0]            ;239
00037c  482e              LDR      r0,|L1.1080|
00037e  6007              STR      r7,[r0,#0]            ;241  ; time_proc
000380  482e              LDR      r0,|L1.1084|
000382  f8db1000          LDR      r1,[r11,#0]           ;241  ; T_PROC_PS
000386  6001              STR      r1,[r0,#0]            ;242  ; time_proc_remain
000388  f7fffffe          BL       restart_on_PS
00038c  2101              MOVS     r1,#1                 ;243
00038e  20ea              MOVS     r0,#0xea              ;243
000390  f7fffffe          BL       lc640_write_int
                  |L1.916|
000394  88a8              LDRH     r0,[r5,#4]            ;246  ; modbus_tcp_rx_arg1
000396  b928              CBNZ     r0,|L1.932|
000398  7830              LDRB     r0,[r6,#0]            ;248  ; work_stat
00039a  2802              CMP      r0,#2                 ;248
00039c  d102              BNE      |L1.932|
00039e  7037              STRB     r7,[r6,#0]            ;250
0003a0  f7fffffe          BL       restart_off
                  |L1.932|
0003a4  8868              LDRH     r0,[r5,#2]            ;255  ; modbus_tcp_rx_arg0
0003a6  283d              CMP      r0,#0x3d              ;255
0003a8  d119              BNE      |L1.990|
0003aa  88a8              LDRH     r0,[r5,#4]            ;257  ; modbus_tcp_rx_arg1
0003ac  2801              CMP      r0,#1                 ;257
0003ae  d10e              BNE      |L1.974|
0003b0  7830              LDRB     r0,[r6,#0]            ;259  ; work_stat
0003b2  2801              CMP      r0,#1                 ;259
0003b4  d00b              BEQ      |L1.974|
0003b6  4820              LDR      r0,|L1.1080|
0003b8  f8869000          STRB     r9,[r6,#0]            ;261
0003bc  6007              STR      r7,[r0,#0]            ;263  ; time_proc
0003be  481f              LDR      r0,|L1.1084|
0003c0  f8da1000          LDR      r1,[r10,#0]           ;263  ; T_PROC_GS
0003c4  6001              STR      r1,[r0,#0]            ;264  ; time_proc_remain
0003c6  2100              MOVS     r1,#0                 ;264
0003c8  20ea              MOVS     r0,#0xea              ;264
0003ca  f7fffffe          BL       lc640_write_int
                  |L1.974|
0003ce  88a8              LDRH     r0,[r5,#4]            ;267  ; modbus_tcp_rx_arg1
0003d0  b928              CBNZ     r0,|L1.990|
0003d2  7830              LDRB     r0,[r6,#0]            ;269  ; work_stat
0003d4  2801              CMP      r0,#1                 ;269
0003d6  d102              BNE      |L1.990|
0003d8  7037              STRB     r7,[r6,#0]            ;271
0003da  f7fffffe          BL       restart_off
                  |L1.990|
0003de  f9b50002          LDRSH    r0,[r5,#2]            ;277  ; modbus_tcp_rx_arg0
0003e2  283e              CMP      r0,#0x3e              ;277
0003e4  d10b              BNE      |L1.1022|
0003e6  7831              LDRB     r1,[r6,#0]            ;280  ; work_stat
0003e8  b949              CBNZ     r1,|L1.1022|
0003ea  f9b51004          LDRSH    r1,[r5,#4]            ;282  ; modbus_tcp_rx_arg1
0003ee  b911              CBNZ     r1,|L1.1014|
0003f0  4b13              LDR      r3,|L1.1088|
0003f2  f8839000          STRB     r9,[r3,#0]            ;282
                  |L1.1014|
0003f6  2901              CMP      r1,#1                 ;283
0003f8  d101              BNE      |L1.1022|
0003fa  4911              LDR      r1,|L1.1088|
0003fc  700f              STRB     r7,[r1,#0]            ;283
                  |L1.1022|
0003fe  283f              CMP      r0,#0x3f              ;287
000400  d134              BNE      |L1.1132|
000402  7830              LDRB     r0,[r6,#0]            ;290  ; work_stat
000404  bb90              CBNZ     r0,|L1.1132|
000406  e01d              B        |L1.1092|
                  |L1.1032|
                          DCD      socket_tcp
                  |L1.1036|
                          DCD      ||.bss||
                  |L1.1040|
                          DCD      ||.data||
                  |L1.1044|
                          DCD      MODBUS_ADRESS
                  |L1.1048|
                          DCD      ramModbusCnt
                  |L1.1052|
                          DCD      work_stat
                  |L1.1056|
                          DCD      T_PROC_GS
                  |L1.1060|
                          DCD      T_PROC_PS
                  |L1.1064|
                          DCD      I_ug
                  |L1.1068|
                          DCD      U_up
                  |L1.1072|
                          DCD      U_maxg
                  |L1.1076|
                          DCD      I_maxp
                  |L1.1080|
                          DCD      time_proc
                  |L1.1084|
                          DCD      time_proc_remain
                  |L1.1088|
                          DCD      REV_STAT
                  |L1.1092|
000444  48ff              LDR      r0,|L1.2116|
000446  8800              LDRH     r0,[r0,#0]            ;290  ; REV_IS_ON
000448  b180              CBZ      r0,|L1.1132|
00044a  f9b50004          LDRSH    r0,[r5,#4]            ;292  ; modbus_tcp_rx_arg1
00044e  2801              CMP      r0,#1                 ;292
000450  d102              BNE      |L1.1112|
000452  4afd              LDR      r2,|L1.2120|
000454  f8a29000          STRH     r9,[r2,#0]            ;292
                  |L1.1112|
000458  b908              CBNZ     r0,|L1.1118|
00045a  48fb              LDR      r0,|L1.2120|
00045c  8007              STRH     r7,[r0,#0]            ;293
                  |L1.1118|
00045e  48fa              LDR      r0,|L1.2120|
000460  f9b01000          LDRSH    r1,[r0,#0]            ;294  ; AVT_REV_IS_ON
000464  f44f7084          MOV      r0,#0x108             ;294
000468  f7fffffe          BL       lc640_write_int
                  |L1.1132|
00046c  8868              LDRH     r0,[r5,#2]            ;298  ; modbus_tcp_rx_arg0
00046e  46a8              MOV      r8,r5                 ;298
000470  2840              CMP      r0,#0x40              ;298
000472  d111              BNE      |L1.1176|
000474  7830              LDRB     r0,[r6,#0]            ;300  ; work_stat
000476  b978              CBNZ     r0,|L1.1176|
000478  4df4              LDR      r5,|L1.2124|
00047a  f8b80004          LDRH     r0,[r8,#4]            ;302  ; modbus_tcp_rx_arg1
00047e  211e              MOVS     r1,#0x1e              ;303
000480  8028              STRH     r0,[r5,#0]            ;302
000482  48f3              LDR      r0,|L1.2128|
000484  8802              LDRH     r2,[r0,#0]            ;303  ; T_PROC_MAX
000486  4628              MOV      r0,r5                 ;303
000488  f7fffffe          BL       gran_u
00048c  8828              LDRH     r0,[r5,#0]            ;304  ; AVT_REV_TIME_FF
00048e  b201              SXTH     r1,r0                 ;304
000490  f44f7085          MOV      r0,#0x10a             ;304
000494  f7fffffe          BL       lc640_write_int
                  |L1.1176|
000498  f8b80002          LDRH     r0,[r8,#2]            ;307  ; modbus_tcp_rx_arg0
00049c  2841              CMP      r0,#0x41              ;307
00049e  d111              BNE      |L1.1220|
0004a0  7830              LDRB     r0,[r6,#0]            ;309  ; work_stat
0004a2  b978              CBNZ     r0,|L1.1220|
0004a4  4deb              LDR      r5,|L1.2132|
0004a6  f8b80004          LDRH     r0,[r8,#4]            ;311  ; modbus_tcp_rx_arg1
0004aa  211e              MOVS     r1,#0x1e              ;312
0004ac  8028              STRH     r0,[r5,#0]            ;311
0004ae  48e8              LDR      r0,|L1.2128|
0004b0  8802              LDRH     r2,[r0,#0]            ;312  ; T_PROC_MAX
0004b2  4628              MOV      r0,r5                 ;312
0004b4  f7fffffe          BL       gran_u
0004b8  8828              LDRH     r0,[r5,#0]            ;313  ; AVT_REV_TIME_REW
0004ba  b201              SXTH     r1,r0                 ;313
0004bc  f44f709f          MOV      r0,#0x13e             ;313
0004c0  f7fffffe          BL       lc640_write_int
                  |L1.1220|
0004c4  f8b80002          LDRH     r0,[r8,#2]            ;316  ; modbus_tcp_rx_arg0
0004c8  2842              CMP      r0,#0x42              ;316
0004ca  d111              BNE      |L1.1264|
0004cc  7830              LDRB     r0,[r6,#0]            ;318  ; work_stat
0004ce  b978              CBNZ     r0,|L1.1264|
0004d0  4de1              LDR      r5,|L1.2136|
0004d2  f8b80004          LDRH     r0,[r8,#4]            ;320  ; modbus_tcp_rx_arg1
0004d6  f44f7216          MOV      r2,#0x258             ;321
0004da  8028              STRH     r0,[r5,#0]            ;320
0004dc  2102              MOVS     r1,#2                 ;321
0004de  4628              MOV      r0,r5                 ;321
0004e0  f7fffffe          BL       gran
0004e4  f9b51000          LDRSH    r1,[r5,#0]            ;322  ; AVT_REV_TIME_PAUSE
0004e8  f44f7087          MOV      r0,#0x10e             ;322
0004ec  f7fffffe          BL       lc640_write_int
                  |L1.1264|
0004f0  f8b80002          LDRH     r0,[r8,#2]            ;326  ; modbus_tcp_rx_arg0
0004f4  2843              CMP      r0,#0x43              ;326
0004f6  d114              BNE      |L1.1314|
0004f8  7830              LDRB     r0,[r6,#0]            ;328  ; work_stat
0004fa  b990              CBNZ     r0,|L1.1314|
0004fc  4dd7              LDR      r5,|L1.2140|
0004fe  f8b80004          LDRH     r0,[r8,#4]            ;330  ; modbus_tcp_rx_arg1
000502  8028              STRH     r0,[r5,#0]            ;330
000504  48d6              LDR      r0,|L1.2144|
000506  f9b02000          LDRSH    r2,[r0,#0]            ;331  ; I_MAX_IPS
00050a  48d6              LDR      r0,|L1.2148|
00050c  f9b01000          LDRSH    r1,[r0,#0]            ;331  ; I_MIN_IPS
000510  4628              MOV      r0,r5                 ;331
000512  f7fffffe          BL       gran
000516  f9b51000          LDRSH    r1,[r5,#0]            ;332  ; AVT_REV_I_NOM_FF
00051a  f44f7088          MOV      r0,#0x110             ;332
00051e  f7fffffe          BL       lc640_write_int
                  |L1.1314|
000522  f8b80002          LDRH     r0,[r8,#2]            ;336  ; modbus_tcp_rx_arg0
000526  2844              CMP      r0,#0x44              ;336
000528  d114              BNE      |L1.1364|
00052a  7830              LDRB     r0,[r6,#0]            ;338  ; work_stat
00052c  b990              CBNZ     r0,|L1.1364|
00052e  4dce              LDR      r5,|L1.2152|
000530  f8b80004          LDRH     r0,[r8,#4]            ;340  ; modbus_tcp_rx_arg1
000534  8028              STRH     r0,[r5,#0]            ;340
000536  48ca              LDR      r0,|L1.2144|
000538  f9b02000          LDRSH    r2,[r0,#0]            ;341  ; I_MAX_IPS
00053c  48c9              LDR      r0,|L1.2148|
00053e  f9b01000          LDRSH    r1,[r0,#0]            ;341  ; I_MIN_IPS
000542  4628              MOV      r0,r5                 ;341
000544  f7fffffe          BL       gran
000548  f9b51000          LDRSH    r1,[r5,#0]            ;342  ; AVT_REV_I_NOM_REW
00054c  f44f7089          MOV      r0,#0x112             ;342
000550  f7fffffe          BL       lc640_write_int
                  |L1.1364|
000554  f8b80002          LDRH     r0,[r8,#2]            ;345  ; modbus_tcp_rx_arg0
000558  2845              CMP      r0,#0x45              ;345
00055a  d114              BNE      |L1.1414|
00055c  7830              LDRB     r0,[r6,#0]            ;347  ; work_stat
00055e  b990              CBNZ     r0,|L1.1414|
000560  4dc2              LDR      r5,|L1.2156|
000562  f8b80004          LDRH     r0,[r8,#4]            ;349  ; modbus_tcp_rx_arg1
000566  8028              STRH     r0,[r5,#0]            ;349
000568  48c1              LDR      r0,|L1.2160|
00056a  f9b02000          LDRSH    r2,[r0,#0]            ;350  ; U_MAX
00056e  48c1              LDR      r0,|L1.2164|
000570  f9b01000          LDRSH    r1,[r0,#0]            ;350  ; U_MIN
000574  4628              MOV      r0,r5                 ;350
000576  f7fffffe          BL       gran
00057a  f9b51000          LDRSH    r1,[r5,#0]            ;351  ; AVT_REV_U_NOM_FF
00057e  f44f708a          MOV      r0,#0x114             ;351
000582  f7fffffe          BL       lc640_write_int
                  |L1.1414|
000586  f8b80002          LDRH     r0,[r8,#2]            ;355  ; modbus_tcp_rx_arg0
00058a  2846              CMP      r0,#0x46              ;355
00058c  d114              BNE      |L1.1464|
00058e  7830              LDRB     r0,[r6,#0]            ;357  ; work_stat
000590  b990              CBNZ     r0,|L1.1464|
000592  4db9              LDR      r5,|L1.2168|
000594  f8b80004          LDRH     r0,[r8,#4]            ;359  ; modbus_tcp_rx_arg1
000598  8028              STRH     r0,[r5,#0]            ;359
00059a  48b5              LDR      r0,|L1.2160|
00059c  f9b02000          LDRSH    r2,[r0,#0]            ;360  ; U_MAX
0005a0  48b4              LDR      r0,|L1.2164|
0005a2  f9b01000          LDRSH    r1,[r0,#0]            ;360  ; U_MIN
0005a6  4628              MOV      r0,r5                 ;360
0005a8  f7fffffe          BL       gran
0005ac  f9b51000          LDRSH    r1,[r5,#0]            ;361  ; AVT_REV_U_NOM_REW
0005b0  f44f708b          MOV      r0,#0x116             ;361
0005b4  f7fffffe          BL       lc640_write_int
                  |L1.1464|
0005b8  f8b80002          LDRH     r0,[r8,#2]            ;365  ; modbus_tcp_rx_arg0
0005bc  2847              CMP      r0,#0x47              ;365
0005be  d111              BNE      |L1.1508|
0005c0  7830              LDRB     r0,[r6,#0]            ;367  ; work_stat
0005c2  b978              CBNZ     r0,|L1.1508|
0005c4  4dad              LDR      r5,|L1.2172|
0005c6  f8b80004          LDRH     r0,[r8,#4]            ;369  ; modbus_tcp_rx_arg1
0005ca  f242720f          MOV      r2,#0x270f            ;370
0005ce  8028              STRH     r0,[r5,#0]            ;369
0005d0  210a              MOVS     r1,#0xa               ;370
0005d2  4628              MOV      r0,r5                 ;370
0005d4  f7fffffe          BL       gran
0005d8  f9b51000          LDRSH    r1,[r5,#0]            ;371  ; CAP_ZAR_TIME
0005dc  f44f70e9          MOV      r0,#0x1d2             ;371
0005e0  f7fffffe          BL       lc640_write_int
                  |L1.1508|
0005e4  f8b80002          LDRH     r0,[r8,#2]            ;374  ; modbus_tcp_rx_arg0
0005e8  2848              CMP      r0,#0x48              ;374
0005ea  d111              BNE      |L1.1552|
0005ec  7830              LDRB     r0,[r6,#0]            ;376  ; work_stat
0005ee  b978              CBNZ     r0,|L1.1552|
0005f0  4da3              LDR      r5,|L1.2176|
0005f2  f8b80004          LDRH     r0,[r8,#4]            ;378  ; modbus_tcp_rx_arg1
0005f6  f242720f          MOV      r2,#0x270f            ;379
0005fa  8028              STRH     r0,[r5,#0]            ;378
0005fc  210a              MOVS     r1,#0xa               ;379
0005fe  4628              MOV      r0,r5                 ;379
000600  f7fffffe          BL       gran
000604  f9b51000          LDRSH    r1,[r5,#0]            ;380  ; CAP_PAUSE1_TIME
000608  f44f70ea          MOV      r0,#0x1d4             ;380
00060c  f7fffffe          BL       lc640_write_int
                  |L1.1552|
000610  f8b80002          LDRH     r0,[r8,#2]            ;383  ; modbus_tcp_rx_arg0
000614  2849              CMP      r0,#0x49              ;383
000616  d111              BNE      |L1.1596|
000618  7830              LDRB     r0,[r6,#0]            ;385  ; work_stat
00061a  b978              CBNZ     r0,|L1.1596|
00061c  4d99              LDR      r5,|L1.2180|
00061e  f8b80004          LDRH     r0,[r8,#4]            ;387  ; modbus_tcp_rx_arg1
000622  f242720f          MOV      r2,#0x270f            ;388
000626  8028              STRH     r0,[r5,#0]            ;387
000628  210a              MOVS     r1,#0xa               ;388
00062a  4628              MOV      r0,r5                 ;388
00062c  f7fffffe          BL       gran
000630  f9b51000          LDRSH    r1,[r5,#0]            ;389  ; CAP_RAZR_TIME
000634  f44f70eb          MOV      r0,#0x1d6             ;389
000638  f7fffffe          BL       lc640_write_int
                  |L1.1596|
00063c  f8b80002          LDRH     r0,[r8,#2]            ;392  ; modbus_tcp_rx_arg0
000640  284a              CMP      r0,#0x4a              ;392
000642  d111              BNE      |L1.1640|
000644  7830              LDRB     r0,[r6,#0]            ;394  ; work_stat
000646  b978              CBNZ     r0,|L1.1640|
000648  4d8f              LDR      r5,|L1.2184|
00064a  f8b80004          LDRH     r0,[r8,#4]            ;396  ; modbus_tcp_rx_arg1
00064e  f242720f          MOV      r2,#0x270f            ;397
000652  8028              STRH     r0,[r5,#0]            ;396
000654  210a              MOVS     r1,#0xa               ;397
000656  4628              MOV      r0,r5                 ;397
000658  f7fffffe          BL       gran
00065c  f9b51000          LDRSH    r1,[r5,#0]            ;398  ; CAP_PAUSE2_TIME
000660  f44f70ec          MOV      r0,#0x1d8             ;398
000664  f7fffffe          BL       lc640_write_int
                  |L1.1640|
000668  f8b80002          LDRH     r0,[r8,#2]            ;402  ; modbus_tcp_rx_arg0
00066c  284b              CMP      r0,#0x4b              ;402
00066e  d110              BNE      |L1.1682|
000670  7830              LDRB     r0,[r6,#0]            ;404  ; work_stat
000672  b970              CBNZ     r0,|L1.1682|
000674  4d85              LDR      r5,|L1.2188|
000676  f8b80004          LDRH     r0,[r8,#4]            ;406  ; modbus_tcp_rx_arg1
00067a  2264              MOVS     r2,#0x64              ;407
00067c  8028              STRH     r0,[r5,#0]            ;406
00067e  2101              MOVS     r1,#1                 ;407
000680  4628              MOV      r0,r5                 ;407
000682  f7fffffe          BL       gran
000686  f9b51000          LDRSH    r1,[r5,#0]            ;408  ; CAP_MAX_VOLT
00068a  f44f70ed          MOV      r0,#0x1da             ;408
00068e  f7fffffe          BL       lc640_write_int
                  |L1.1682|
000692  f8b80002          LDRH     r0,[r8,#2]            ;411  ; modbus_tcp_rx_arg0
000696  284c              CMP      r0,#0x4c              ;411
000698  d110              BNE      |L1.1724|
00069a  7830              LDRB     r0,[r6,#0]            ;413  ; work_stat
00069c  b970              CBNZ     r0,|L1.1724|
00069e  4d7c              LDR      r5,|L1.2192|
0006a0  f8b80004          LDRH     r0,[r8,#4]            ;415  ; modbus_tcp_rx_arg1
0006a4  2296              MOVS     r2,#0x96              ;416
0006a6  8028              STRH     r0,[r5,#0]            ;415
0006a8  2101              MOVS     r1,#1                 ;416
0006aa  4628              MOV      r0,r5                 ;416
0006ac  f7fffffe          BL       gran
0006b0  f9b51000          LDRSH    r1,[r5,#0]            ;417  ; CAP_WRK_CURR
0006b4  f44f70ee          MOV      r0,#0x1dc             ;417
0006b8  f7fffffe          BL       lc640_write_int
                  |L1.1724|
0006bc  4875              LDR      r0,|L1.2196|
0006be  f9b00002          LDRSH    r0,[r0,#2]            ;421  ; modbus_tcp_rx_arg0
0006c2  284d              CMP      r0,#0x4d              ;421
0006c4  d009              BEQ      |L1.1754|
0006c6  4d73              LDR      r5,|L1.2196|
0006c8  285a              CMP      r0,#0x5a              ;595
0006ca  d07e              BEQ      |L1.1994|
0006cc  285b              CMP      r0,#0x5b              ;601
0006ce  d07d              BEQ      |L1.1996|
0006d0  285c              CMP      r0,#0x5c              ;607
0006d2  d07c              BEQ      |L1.1998|
0006d4  285d              CMP      r0,#0x5d              ;629
0006d6  d07b              BEQ      |L1.2000|
0006d8  e1da              B        |L1.2704|
                  |L1.1754|
0006da  f8df81bc          LDR      r8,|L1.2200|
0006de  4d6d              LDR      r5,|L1.2196|
0006e0  f8b81000          LDRH     r1,[r8,#0]            ;423  ; modbus_tcp_plazma_pavlik
0006e4  1c49              ADDS     r1,r1,#1              ;423
0006e6  f8a81000          STRH     r1,[r8,#0]            ;423
0006ea  f9b51004          LDRSH    r1,[r5,#4]            ;424  ; modbus_tcp_rx_arg1
0006ee  f8a81002          STRH     r1,[r8,#2]            ;424
0006f2  2911              CMP      r1,#0x11              ;425
0006f4  d101              BNE      |L1.1786|
0006f6  f7fffffe          BL       start_CAP
                  |L1.1786|
0006fa  88a8              LDRH     r0,[r5,#4]            ;429  ; modbus_tcp_rx_arg1
0006fc  2812              CMP      r0,#0x12              ;429
0006fe  d101              BNE      |L1.1796|
000700  f7fffffe          BL       pause_CAP
                  |L1.1796|
000704  88a8              LDRH     r0,[r5,#4]            ;433  ; modbus_tcp_rx_arg1
000706  2813              CMP      r0,#0x13              ;433
000708  d101              BNE      |L1.1806|
00070a  f7fffffe          BL       stop_CAP
                  |L1.1806|
00070e  88a8              LDRH     r0,[r5,#4]            ;437  ; modbus_tcp_rx_arg1
000710  2814              CMP      r0,#0x14              ;437
000712  d101              BNE      |L1.1816|
000714  f7fffffe          BL       reset_CAP
                  |L1.1816|
000718  485e              LDR      r0,|L1.2196|
00071a  8880              LDRH     r0,[r0,#4]            ;442  ; modbus_tcp_rx_arg1
00071c  2821              CMP      r0,#0x21              ;442
00071e  d111              BNE      |L1.1860|
000720  7830              LDRB     r0,[r6,#0]            ;444  ; work_stat
000722  b978              CBNZ     r0,|L1.1860|
000724  4d55              LDR      r5,|L1.2172|
000726  f242720f          MOV      r2,#0x270f            ;447
00072a  210a              MOVS     r1,#0xa               ;447
00072c  8828              LDRH     r0,[r5,#0]            ;446  ; CAP_ZAR_TIME
00072e  1c40              ADDS     r0,r0,#1              ;446
000730  8028              STRH     r0,[r5,#0]            ;446
000732  4628              MOV      r0,r5                 ;447
000734  f7fffffe          BL       gran
000738  f9b51000          LDRSH    r1,[r5,#0]            ;448  ; CAP_ZAR_TIME
00073c  f44f70e9          MOV      r0,#0x1d2             ;448
000740  f7fffffe          BL       lc640_write_int
                  |L1.1860|
000744  4853              LDR      r0,|L1.2196|
000746  f9b01004          LDRSH    r1,[r0,#4]            ;451  ; modbus_tcp_rx_arg1
00074a  2922              CMP      r1,#0x22              ;451
00074c  d118              BNE      |L1.1920|
00074e  f8b82004          LDRH     r2,[r8,#4]            ;453  ; modbus_tcp_plazma_pavlik
000752  1c52              ADDS     r2,r2,#1              ;453
000754  f8a82004          STRH     r2,[r8,#4]            ;453
000758  f8a81006          STRH     r1,[r8,#6]            ;454
00075c  7830              LDRB     r0,[r6,#0]            ;455  ; work_stat
00075e  b978              CBNZ     r0,|L1.1920|
000760  4d46              LDR      r5,|L1.2172|
000762  f242720f          MOV      r2,#0x270f            ;458
000766  210a              MOVS     r1,#0xa               ;458
000768  8828              LDRH     r0,[r5,#0]            ;457  ; CAP_ZAR_TIME
00076a  1e40              SUBS     r0,r0,#1              ;457
00076c  8028              STRH     r0,[r5,#0]            ;457
00076e  4628              MOV      r0,r5                 ;458
000770  f7fffffe          BL       gran
000774  f9b51000          LDRSH    r1,[r5,#0]            ;459  ; CAP_ZAR_TIME
000778  f44f70e9          MOV      r0,#0x1d2             ;459
00077c  f7fffffe          BL       lc640_write_int
                  |L1.1920|
000780  4844              LDR      r0,|L1.2196|
000782  8880              LDRH     r0,[r0,#4]            ;463  ; modbus_tcp_rx_arg1
000784  2831              CMP      r0,#0x31              ;463
000786  d111              BNE      |L1.1964|
000788  7830              LDRB     r0,[r6,#0]            ;465  ; work_stat
00078a  b978              CBNZ     r0,|L1.1964|
00078c  4d3c              LDR      r5,|L1.2176|
00078e  f242720f          MOV      r2,#0x270f            ;468
000792  210a              MOVS     r1,#0xa               ;468
000794  8828              LDRH     r0,[r5,#0]            ;467  ; CAP_PAUSE1_TIME
000796  1c40              ADDS     r0,r0,#1              ;467
000798  8028              STRH     r0,[r5,#0]            ;467
00079a  4628              MOV      r0,r5                 ;468
00079c  f7fffffe          BL       gran
0007a0  f9b51000          LDRSH    r1,[r5,#0]            ;469  ; CAP_PAUSE1_TIME
0007a4  f44f70ea          MOV      r0,#0x1d4             ;469
0007a8  f7fffffe          BL       lc640_write_int
                  |L1.1964|
0007ac  4839              LDR      r0,|L1.2196|
0007ae  8880              LDRH     r0,[r0,#4]            ;472  ; modbus_tcp_rx_arg1
0007b0  2832              CMP      r0,#0x32              ;472
0007b2  d116              BNE      |L1.2018|
0007b4  7830              LDRB     r0,[r6,#0]            ;474  ; work_stat
0007b6  b9a0              CBNZ     r0,|L1.2018|
0007b8  4d31              LDR      r5,|L1.2176|
0007ba  f242720f          MOV      r2,#0x270f            ;477
0007be  8828              LDRH     r0,[r5,#0]            ;476  ; CAP_PAUSE1_TIME
0007c0  1e40              SUBS     r0,r0,#1              ;476
0007c2  8028              STRH     r0,[r5,#0]            ;476
0007c4  210a              MOVS     r1,#0xa               ;477
0007c6  4628              MOV      r0,r5                 ;477
0007c8  e003              B        |L1.2002|
                  |L1.1994|
0007ca  e122              B        |L1.2578|
                  |L1.1996|
0007cc  e125              B        |L1.2586|
                  |L1.1998|
0007ce  e12b              B        |L1.2600|
                  |L1.2000|
0007d0  e144              B        |L1.2652|
                  |L1.2002|
0007d2  f7fffffe          BL       gran
0007d6  f9b51000          LDRSH    r1,[r5,#0]            ;478  ; CAP_PAUSE1_TIME
0007da  f44f70ea          MOV      r0,#0x1d4             ;478
0007de  f7fffffe          BL       lc640_write_int
                  |L1.2018|
0007e2  482c              LDR      r0,|L1.2196|
0007e4  8880              LDRH     r0,[r0,#4]            ;482  ; modbus_tcp_rx_arg1
0007e6  2841              CMP      r0,#0x41              ;482
0007e8  d111              BNE      |L1.2062|
0007ea  7830              LDRB     r0,[r6,#0]            ;484  ; work_stat
0007ec  b978              CBNZ     r0,|L1.2062|
0007ee  4d25              LDR      r5,|L1.2180|
0007f0  f242720f          MOV      r2,#0x270f            ;487
0007f4  210a              MOVS     r1,#0xa               ;487
0007f6  8828              LDRH     r0,[r5,#0]            ;486  ; CAP_RAZR_TIME
0007f8  1c40              ADDS     r0,r0,#1              ;486
0007fa  8028              STRH     r0,[r5,#0]            ;486
0007fc  4628              MOV      r0,r5                 ;487
0007fe  f7fffffe          BL       gran
000802  f9b51000          LDRSH    r1,[r5,#0]            ;488  ; CAP_RAZR_TIME
000806  f44f70eb          MOV      r0,#0x1d6             ;488
00080a  f7fffffe          BL       lc640_write_int
                  |L1.2062|
00080e  4821              LDR      r0,|L1.2196|
000810  8880              LDRH     r0,[r0,#4]            ;491  ; modbus_tcp_rx_arg1
000812  2842              CMP      r0,#0x42              ;491
000814  d111              BNE      |L1.2106|
000816  7830              LDRB     r0,[r6,#0]            ;493  ; work_stat
000818  b978              CBNZ     r0,|L1.2106|
00081a  4d1a              LDR      r5,|L1.2180|
00081c  f242720f          MOV      r2,#0x270f            ;496
000820  210a              MOVS     r1,#0xa               ;496
000822  8828              LDRH     r0,[r5,#0]            ;495  ; CAP_RAZR_TIME
000824  1e40              SUBS     r0,r0,#1              ;495
000826  8028              STRH     r0,[r5,#0]            ;495
000828  4628              MOV      r0,r5                 ;496
00082a  f7fffffe          BL       gran
00082e  f9b51000          LDRSH    r1,[r5,#0]            ;497  ; CAP_RAZR_TIME
000832  f44f70eb          MOV      r0,#0x1d6             ;497
000836  f7fffffe          BL       lc640_write_int
                  |L1.2106|
00083a  4816              LDR      r0,|L1.2196|
00083c  8880              LDRH     r0,[r0,#4]            ;501  ; modbus_tcp_rx_arg1
00083e  2851              CMP      r0,#0x51              ;501
000840  d13e              BNE      |L1.2240|
000842  e02b              B        |L1.2204|
                  |L1.2116|
                          DCD      REV_IS_ON
                  |L1.2120|
                          DCD      AVT_REV_IS_ON
                  |L1.2124|
                          DCD      AVT_REV_TIME_FF
                  |L1.2128|
                          DCD      T_PROC_MAX
                  |L1.2132|
                          DCD      AVT_REV_TIME_REW
                  |L1.2136|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2140|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2144|
                          DCD      I_MAX_IPS
                  |L1.2148|
                          DCD      I_MIN_IPS
                  |L1.2152|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.2156|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.2160|
                          DCD      U_MAX
                  |L1.2164|
                          DCD      U_MIN
                  |L1.2168|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.2172|
                          DCD      CAP_ZAR_TIME
                  |L1.2176|
                          DCD      CAP_PAUSE1_TIME
                  |L1.2180|
                          DCD      CAP_RAZR_TIME
                  |L1.2184|
                          DCD      CAP_PAUSE2_TIME
                  |L1.2188|
                          DCD      CAP_MAX_VOLT
                  |L1.2192|
                          DCD      CAP_WRK_CURR
                  |L1.2196|
                          DCD      ||.data||
                  |L1.2200|
                          DCD      modbus_tcp_plazma_pavlik
                  |L1.2204|
00089c  7830              LDRB     r0,[r6,#0]            ;503  ; work_stat
00089e  b978              CBNZ     r0,|L1.2240|
0008a0  4dfe              LDR      r5,|L1.3228|
0008a2  f242720f          MOV      r2,#0x270f            ;506
0008a6  210a              MOVS     r1,#0xa               ;506
0008a8  8828              LDRH     r0,[r5,#0]            ;505  ; CAP_PAUSE2_TIME
0008aa  1c40              ADDS     r0,r0,#1              ;505
0008ac  8028              STRH     r0,[r5,#0]            ;505
0008ae  4628              MOV      r0,r5                 ;506
0008b0  f7fffffe          BL       gran
0008b4  f9b51000          LDRSH    r1,[r5,#0]            ;507  ; CAP_PAUSE2_TIME
0008b8  f44f70ec          MOV      r0,#0x1d8             ;507
0008bc  f7fffffe          BL       lc640_write_int
                  |L1.2240|
0008c0  48f7              LDR      r0,|L1.3232|
0008c2  8880              LDRH     r0,[r0,#4]            ;510  ; modbus_tcp_rx_arg1
0008c4  2852              CMP      r0,#0x52              ;510
0008c6  d111              BNE      |L1.2284|
0008c8  7830              LDRB     r0,[r6,#0]            ;512  ; work_stat
0008ca  b978              CBNZ     r0,|L1.2284|
0008cc  4df3              LDR      r5,|L1.3228|
0008ce  f242720f          MOV      r2,#0x270f            ;515
0008d2  210a              MOVS     r1,#0xa               ;515
0008d4  8828              LDRH     r0,[r5,#0]            ;514  ; CAP_PAUSE2_TIME
0008d6  1e40              SUBS     r0,r0,#1              ;514
0008d8  8028              STRH     r0,[r5,#0]            ;514
0008da  4628              MOV      r0,r5                 ;515
0008dc  f7fffffe          BL       gran
0008e0  f9b51000          LDRSH    r1,[r5,#0]            ;516  ; CAP_PAUSE2_TIME
0008e4  f44f70ec          MOV      r0,#0x1d8             ;516
0008e8  f7fffffe          BL       lc640_write_int
                  |L1.2284|
0008ec  48ec              LDR      r0,|L1.3232|
0008ee  8880              LDRH     r0,[r0,#4]            ;520  ; modbus_tcp_rx_arg1
0008f0  2861              CMP      r0,#0x61              ;520
0008f2  d113              BNE      |L1.2332|
0008f4  7830              LDRB     r0,[r6,#0]            ;522  ; work_stat
0008f6  b988              CBNZ     r0,|L1.2332|
0008f8  4dea              LDR      r5,|L1.3236|
0008fa  2264              MOVS     r2,#0x64              ;525
0008fc  2101              MOVS     r1,#1                 ;525
0008fe  8828              LDRH     r0,[r5,#0]            ;524  ; CAP_MAX_VOLT
000900  1c40              ADDS     r0,r0,#1              ;524
000902  8028              STRH     r0,[r5,#0]            ;524
000904  4628              MOV      r0,r5                 ;525
000906  f7fffffe          BL       gran
00090a  e001              B        |L1.2320|
                  |L1.2316|
00090c  e3fc              B        |L1.4360|
                  |L1.2318|
00090e  e3fc              B        |L1.4362|
                  |L1.2320|
000910  f9b51000          LDRSH    r1,[r5,#0]            ;526  ; CAP_MAX_VOLT
000914  f44f70ed          MOV      r0,#0x1da             ;526
000918  f7fffffe          BL       lc640_write_int
                  |L1.2332|
00091c  48e0              LDR      r0,|L1.3232|
00091e  8880              LDRH     r0,[r0,#4]            ;529  ; modbus_tcp_rx_arg1
000920  2862              CMP      r0,#0x62              ;529
000922  d110              BNE      |L1.2374|
000924  7830              LDRB     r0,[r6,#0]            ;531  ; work_stat
000926  b970              CBNZ     r0,|L1.2374|
000928  4dde              LDR      r5,|L1.3236|
00092a  2264              MOVS     r2,#0x64              ;534
00092c  2101              MOVS     r1,#1                 ;534
00092e  8828              LDRH     r0,[r5,#0]            ;533  ; CAP_MAX_VOLT
000930  1e40              SUBS     r0,r0,#1              ;533
000932  8028              STRH     r0,[r5,#0]            ;533
000934  4628              MOV      r0,r5                 ;534
000936  f7fffffe          BL       gran
00093a  f9b51000          LDRSH    r1,[r5,#0]            ;535  ; CAP_MAX_VOLT
00093e  f44f70ed          MOV      r0,#0x1da             ;535
000942  f7fffffe          BL       lc640_write_int
                  |L1.2374|
000946  48d6              LDR      r0,|L1.3232|
000948  8880              LDRH     r0,[r0,#4]            ;539  ; modbus_tcp_rx_arg1
00094a  2871              CMP      r0,#0x71              ;539
00094c  d110              BNE      |L1.2416|
00094e  7830              LDRB     r0,[r6,#0]            ;541  ; work_stat
000950  b970              CBNZ     r0,|L1.2416|
000952  4dd5              LDR      r5,|L1.3240|
000954  2296              MOVS     r2,#0x96              ;544
000956  2101              MOVS     r1,#1                 ;544
000958  8828              LDRH     r0,[r5,#0]            ;543  ; CAP_WRK_CURR
00095a  1c40              ADDS     r0,r0,#1              ;543
00095c  8028              STRH     r0,[r5,#0]            ;543
00095e  4628              MOV      r0,r5                 ;544
000960  f7fffffe          BL       gran
000964  f9b51000          LDRSH    r1,[r5,#0]            ;545  ; CAP_WRK_CURR
000968  f44f70ee          MOV      r0,#0x1dc             ;545
00096c  f7fffffe          BL       lc640_write_int
                  |L1.2416|
000970  4dcb              LDR      r5,|L1.3232|
000972  88a8              LDRH     r0,[r5,#4]            ;548  ; modbus_tcp_rx_arg1
000974  2872              CMP      r0,#0x72              ;548
000976  d110              BNE      |L1.2458|
000978  7830              LDRB     r0,[r6,#0]            ;550  ; work_stat
00097a  b970              CBNZ     r0,|L1.2458|
00097c  4eca              LDR      r6,|L1.3240|
00097e  2296              MOVS     r2,#0x96              ;553
000980  2101              MOVS     r1,#1                 ;553
000982  8830              LDRH     r0,[r6,#0]            ;552  ; CAP_WRK_CURR
000984  1e40              SUBS     r0,r0,#1              ;552
000986  8030              STRH     r0,[r6,#0]            ;552
000988  4630              MOV      r0,r6                 ;553
00098a  f7fffffe          BL       gran
00098e  f9b61000          LDRSH    r1,[r6,#0]            ;554  ; CAP_WRK_CURR
000992  f44f70ee          MOV      r0,#0x1dc             ;554
000996  f7fffffe          BL       lc640_write_int
                  |L1.2458|
00099a  f9b50004          LDRSH    r0,[r5,#4]            ;557  ; modbus_tcp_rx_arg1
00099e  4ac3              LDR      r2,|L1.3244|
0009a0  4bc3              LDR      r3,|L1.3248|
0009a2  2880              CMP      r0,#0x80              ;557
0009a4  d10a              BNE      |L1.2492|
0009a6  f8a80006          STRH     r0,[r8,#6]            ;560
0009aa  8815              LDRH     r5,[r2,#0]            ;561  ; RELE_FUNC
0009ac  4641              MOV      r1,r8                 ;560
0009ae  2d06              CMP      r5,#6                 ;561
0009b0  d104              BNE      |L1.2492|
0009b2  888d              LDRH     r5,[r1,#4]            ;562  ; modbus_tcp_plazma_pavlik
0009b4  1c6d              ADDS     r5,r5,#1              ;562
0009b6  f8a85004          STRH     r5,[r8,#4]            ;562
0009ba  701f              STRB     r7,[r3,#0]            ;563
                  |L1.2492|
0009bc  2881              CMP      r0,#0x81              ;566
0009be  d10b              BNE      |L1.2520|
0009c0  f8a80006          STRH     r0,[r8,#6]            ;569
0009c4  8815              LDRH     r5,[r2,#0]            ;570  ; RELE_FUNC
0009c6  4641              MOV      r1,r8                 ;569
0009c8  2d06              CMP      r5,#6                 ;570
0009ca  d105              BNE      |L1.2520|
0009cc  888d              LDRH     r5,[r1,#4]            ;571  ; modbus_tcp_plazma_pavlik
0009ce  1c6d              ADDS     r5,r5,#1              ;571
0009d0  f8a85004          STRH     r5,[r8,#4]            ;571
0009d4  f8839000          STRB     r9,[r3,#0]            ;572
                  |L1.2520|
0009d8  2882              CMP      r0,#0x82              ;575
0009da  d10a              BNE      |L1.2546|
0009dc  f8a80006          STRH     r0,[r8,#6]            ;578
0009e0  8855              LDRH     r5,[r2,#2]            ;579  ; RELE_FUNC
0009e2  4641              MOV      r1,r8                 ;578
0009e4  2d06              CMP      r5,#6                 ;579
0009e6  d104              BNE      |L1.2546|
0009e8  888d              LDRH     r5,[r1,#4]            ;580  ; modbus_tcp_plazma_pavlik
0009ea  1c6d              ADDS     r5,r5,#1              ;580
0009ec  f8a85004          STRH     r5,[r8,#4]            ;580
0009f0  705f              STRB     r7,[r3,#1]            ;581
                  |L1.2546|
0009f2  2883              CMP      r0,#0x83              ;584
0009f4  d14c              BNE      |L1.2704|
0009f6  f8a80006          STRH     r0,[r8,#6]            ;587
0009fa  8850              LDRH     r0,[r2,#2]            ;588  ; RELE_FUNC
0009fc  4641              MOV      r1,r8                 ;587
0009fe  2806              CMP      r0,#6                 ;588
000a00  d146              BNE      |L1.2704|
000a02  8888              LDRH     r0,[r1,#4]            ;589  ; modbus_tcp_plazma_pavlik
000a04  1c40              ADDS     r0,r0,#1              ;589
000a06  f8a80004          STRH     r0,[r8,#4]            ;589
000a0a  f8839001          STRB     r9,[r3,#1]            ;590
000a0e  e03f              B        |L1.2704|
                  |L1.2576|
000a10  e0c8              B        |L1.2980|
                  |L1.2578|
000a12  49a8              LDR      r1,|L1.3252|
000a14  88a8              LDRH     r0,[r5,#4]            ;597  ; modbus_tcp_rx_arg1
000a16  8008              STRH     r0,[r1,#0]            ;597
000a18  e002              B        |L1.2592|
                  |L1.2586|
000a1a  48a7              LDR      r0,|L1.3256|
000a1c  88a9              LDRH     r1,[r5,#4]            ;603  ; modbus_tcp_rx_arg1
000a1e  8001              STRH     r1,[r0,#0]            ;603
                  |L1.2592|
000a20  48a6              LDR      r0,|L1.3260|
000a22  f8809000          STRB     r9,[r0,#0]            ;604
000a26  e033              B        |L1.2704|
                  |L1.2600|
000a28  88a8              LDRH     r0,[r5,#4]            ;609  ; modbus_tcp_rx_arg1
000a2a  2801              CMP      r0,#1                 ;609
000a2c  d110              BNE      |L1.2640|
000a2e  7830              LDRB     r0,[r6,#0]            ;611  ; work_stat
000a30  2802              CMP      r0,#2                 ;611
000a32  d00d              BEQ      |L1.2640|
000a34  2002              MOVS     r0,#2                 ;613
000a36  7030              STRB     r0,[r6,#0]            ;613
000a38  48a1              LDR      r0,|L1.3264|
000a3a  6007              STR      r7,[r0,#0]            ;615  ; time_proc
000a3c  48a1              LDR      r0,|L1.3268|
000a3e  f8db1000          LDR      r1,[r11,#0]           ;615  ; T_PROC_PS
000a42  6001              STR      r1,[r0,#0]            ;616  ; time_proc_remain
000a44  f7fffffe          BL       restart_on_PS
000a48  2101              MOVS     r1,#1                 ;617
000a4a  20ea              MOVS     r0,#0xea              ;617
000a4c  f7fffffe          BL       lc640_write_int
                  |L1.2640|
000a50  88a8              LDRH     r0,[r5,#4]            ;620  ; modbus_tcp_rx_arg1
000a52  b9e8              CBNZ     r0,|L1.2704|
000a54  7830              LDRB     r0,[r6,#0]            ;622  ; work_stat
000a56  2802              CMP      r0,#2                 ;622
000a58  d017              BEQ      |L1.2698|
000a5a  e019              B        |L1.2704|
                  |L1.2652|
000a5c  88a8              LDRH     r0,[r5,#4]            ;631  ; modbus_tcp_rx_arg1
000a5e  2801              CMP      r0,#1                 ;631
000a60  d10e              BNE      |L1.2688|
000a62  7830              LDRB     r0,[r6,#0]            ;633  ; work_stat
000a64  2801              CMP      r0,#1                 ;633
000a66  d00b              BEQ      |L1.2688|
000a68  4895              LDR      r0,|L1.3264|
000a6a  f8869000          STRB     r9,[r6,#0]            ;635
000a6e  6007              STR      r7,[r0,#0]            ;637  ; time_proc
000a70  4894              LDR      r0,|L1.3268|
000a72  f8da1000          LDR      r1,[r10,#0]           ;637  ; T_PROC_GS
000a76  6001              STR      r1,[r0,#0]            ;638  ; time_proc_remain
000a78  2100              MOVS     r1,#0                 ;638
000a7a  20ea              MOVS     r0,#0xea              ;638
000a7c  f7fffffe          BL       lc640_write_int
                  |L1.2688|
000a80  88a8              LDRH     r0,[r5,#4]            ;641  ; modbus_tcp_rx_arg1
000a82  b928              CBNZ     r0,|L1.2704|
000a84  7830              LDRB     r0,[r6,#0]            ;643  ; work_stat
000a86  2801              CMP      r0,#1                 ;643
000a88  d102              BNE      |L1.2704|
                  |L1.2698|
000a8a  7037              STRB     r7,[r6,#0]            ;645
000a8c  f7fffffe          BL       restart_off
                  |L1.2704|
000a90  4e8d              LDR      r6,|L1.3272|
000a92  f8da0000          LDR      r0,[r10,#0]           ;652  ; T_PROC_GS
000a96  4655              MOV      r5,r10                ;652
000a98  8831              LDRH     r1,[r6,#0]            ;652  ; T_PROC_MAX
000a9a  4288              CMP      r0,r1                 ;652
000a9c  dc01              BGT      |L1.2722|
000a9e  281e              CMP      r0,#0x1e              ;652
000aa0  da14              BGE      |L1.2764|
                  |L1.2722|
000aa2  4288              CMP      r0,r1                 ;654
000aa4  dd02              BLE      |L1.2732|
000aa6  1c49              ADDS     r1,r1,#1              ;654
000aa8  6029              STR      r1,[r5,#0]            ;654  ; T_PROC_GS
000aaa  e003              B        |L1.2740|
                  |L1.2732|
000aac  281e              CMP      r0,#0x1e              ;655
000aae  da01              BGE      |L1.2740|
000ab0  201d              MOVS     r0,#0x1d              ;655
000ab2  6028              STR      r0,[r5,#0]            ;655  ; T_PROC_GS
                  |L1.2740|
000ab4  6828              LDR      r0,[r5,#0]            ;656  ; T_PROC_GS
000ab6  b201              SXTH     r1,r0                 ;656
000ab8  20d8              MOVS     r0,#0xd8              ;656
000aba  f7fffffe          BL       lc640_write_int
000abe  4883              LDR      r0,|L1.3276|
000ac0  4649              MOV      r1,r9                 ;657
000ac2  f8a09000          STRH     r9,[r0,#0]            ;657
000ac6  20ee              MOVS     r0,#0xee              ;658
000ac8  f7fffffe          BL       lc640_write_int
                  |L1.2764|
000acc  8831              LDRH     r1,[r6,#0]            ;660  ; T_PROC_MAX
000ace  6828              LDR      r0,[r5,#0]            ;660  ; T_PROC_GS
000ad0  4288              CMP      r0,r1                 ;660
000ad2  dc07              BGT      |L1.2788|
000ad4  281e              CMP      r0,#0x1e              ;660
000ad6  db05              BLT      |L1.2788|
000ad8  487c              LDR      r0,|L1.3276|
000ada  4639              MOV      r1,r7                 ;662
000adc  8007              STRH     r7,[r0,#0]            ;662
000ade  20ee              MOVS     r0,#0xee              ;663
000ae0  f7fffffe          BL       lc640_write_int
                  |L1.2788|
000ae4  8831              LDRH     r1,[r6,#0]            ;666  ; T_PROC_MAX
000ae6  f8db0000          LDR      r0,[r11,#0]           ;666  ; T_PROC_PS
000aea  465d              MOV      r5,r11                ;666
000aec  4288              CMP      r0,r1                 ;666
000aee  dc01              BGT      |L1.2804|
000af0  281e              CMP      r0,#0x1e              ;666
000af2  da14              BGE      |L1.2846|
                  |L1.2804|
000af4  4288              CMP      r0,r1                 ;668
000af6  dd02              BLE      |L1.2814|
000af8  1c49              ADDS     r1,r1,#1              ;668
000afa  6029              STR      r1,[r5,#0]            ;668  ; T_PROC_PS
000afc  e003              B        |L1.2822|
                  |L1.2814|
000afe  281e              CMP      r0,#0x1e              ;669
000b00  da01              BGE      |L1.2822|
000b02  201d              MOVS     r0,#0x1d              ;669
000b04  6028              STR      r0,[r5,#0]            ;669  ; T_PROC_PS
                  |L1.2822|
000b06  6828              LDR      r0,[r5,#0]            ;670  ; T_PROC_PS
000b08  b201              SXTH     r1,r0                 ;670
000b0a  20dc              MOVS     r0,#0xdc              ;670
000b0c  f7fffffe          BL       lc640_write_int
000b10  486f              LDR      r0,|L1.3280|
000b12  4649              MOV      r1,r9                 ;671
000b14  f8a09000          STRH     r9,[r0,#0]            ;671
000b18  20f0              MOVS     r0,#0xf0              ;672
000b1a  f7fffffe          BL       lc640_write_int
                  |L1.2846|
000b1e  8831              LDRH     r1,[r6,#0]            ;674  ; T_PROC_MAX
000b20  6828              LDR      r0,[r5,#0]            ;674  ; T_PROC_PS
000b22  4288              CMP      r0,r1                 ;674
000b24  dc07              BGT      |L1.2870|
000b26  281e              CMP      r0,#0x1e              ;674
000b28  db05              BLT      |L1.2870|
000b2a  4869              LDR      r0,|L1.3280|
000b2c  4639              MOV      r1,r7                 ;676
000b2e  8007              STRH     r7,[r0,#0]            ;676
000b30  20f0              MOVS     r0,#0xf0              ;677
000b32  f7fffffe          BL       lc640_write_int
                  |L1.2870|
000b36  4e5a              LDR      r6,|L1.3232|
000b38  f8cd9000          STR      r9,[sp,#0]            ;681
000b3c  2301              MOVS     r3,#1                 ;681
000b3e  8870              LDRH     r0,[r6,#2]            ;681  ; modbus_tcp_rx_arg0
000b40  7831              LDRB     r1,[r6,#0]            ;681  ; modbus_tcp_func
000b42  b282              UXTH     r2,r0                 ;681
000b44  4863              LDR      r0,|L1.3284|
000b46  8800              LDRH     r0,[r0,#0]            ;681  ; MODBUS_ADRESS
000b48  b2c0              UXTB     r0,r0                 ;681
000b4a  f7fffffe          BL       modbus_hold_registers_transmit
000b4e  200b              MOVS     r0,#0xb               ;683
000b50  f7fffffe          BL       tcp_get_buf
000b54  4605              MOV      r5,r0                 ;683
000b56  7820              LDRB     r0,[r4,#0]            ;684
000b58  7028              STRB     r0,[r5,#0]            ;684
000b5a  7860              LDRB     r0,[r4,#1]            ;685
000b5c  7068              STRB     r0,[r5,#1]            ;685
000b5e  78a0              LDRB     r0,[r4,#2]            ;686
000b60  70a8              STRB     r0,[r5,#2]            ;686
000b62  78e0              LDRB     r0,[r4,#3]            ;687
000b64  70e8              STRB     r0,[r5,#3]            ;687
000b66  712f              STRB     r7,[r5,#4]            ;688
000b68  2006              MOVS     r0,#6                 ;689
000b6a  7168              STRB     r0,[r5,#5]            ;689
000b6c  7870              LDRB     r0,[r6,#1]            ;690  ; modbus_tcp_unit
000b6e  71a8              STRB     r0,[r5,#6]            ;690
000b70  7830              LDRB     r0,[r6,#0]            ;691  ; modbus_tcp_func
000b72  71e8              STRB     r0,[r5,#7]            ;691
000b74  f9b61002          LDRSH    r1,[r6,#2]            ;692  ; modbus_tcp_rx_arg0
000b78  17c8              ASRS     r0,r1,#31             ;692
000b7a  eb016210          ADD      r2,r1,r0,LSR #24      ;692
000b7e  1210              ASRS     r0,r2,#8              ;692
000b80  7228              STRB     r0,[r5,#8]            ;692
000b82  4608              MOV      r0,r1                 ;693
000b84  7268              STRB     r0,[r5,#9]            ;693
000b86  2202              MOVS     r2,#2                 ;694
000b88  f105000a          ADD      r0,r5,#0xa            ;694
000b8c  68b1              LDR      r1,[r6,#8]            ;694  ; modbus_tcp_out_ptr
000b8e  f7fffffe          BL       mem_copy
000b92  4851              LDR      r0,|L1.3288|
000b94  220c              MOVS     r2,#0xc               ;697
000b96  4629              MOV      r1,r5                 ;697
000b98  7800              LDRB     r0,[r0,#0]            ;697  ; socket_tcp
000b9a  f7fffffe          BL       tcp_send
000b9e  f9b60002          LDRSH    r0,[r6,#2]            ;712  ; modbus_tcp_rx_arg0
000ba2  e3fe              B        |L1.5026|
                  |L1.2980|
;;;719    			{
;;;720    			U8 *sendbuf;
;;;721    			unsigned short modbus_tcp_write_args[100];
;;;722    			char i;
;;;723    
;;;724    			//pvlk=0;
;;;725    
;;;726    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000ba4  2000              MOVS     r0,#0
000ba6  f9b51004          LDRSH    r1,[r5,#4]
000baa  e009              B        |L1.3008|
                  |L1.2988|
;;;727    				{
;;;728    				modbus_tcp_write_args[i]=(((unsigned short)ptr[13+(i*2)])*((unsigned short)256))+((unsigned short)ptr[14+(i*2)]);
000bac  eb040240          ADD      r2,r4,r0,LSL #1
000bb0  7b93              LDRB     r3,[r2,#0xe]
000bb2  7b52              LDRB     r2,[r2,#0xd]
000bb4  eb032202          ADD      r2,r3,r2,LSL #8
000bb8  f82d2010          STRH     r2,[sp,r0,LSL #1]
000bbc  1c40              ADDS     r0,r0,#1              ;726
000bbe  b2c0              UXTB     r0,r0                 ;726
                  |L1.3008|
000bc0  4288              CMP      r0,r1                 ;726
000bc2  dbf3              BLT      |L1.2988|
;;;729    				//pvlk++;
;;;730    				}
;;;731    			
;;;732    			for(i=0;i<modbus_tcp_rx_arg1;i++)
000bc4  f04f0800          MOV      r8,#0
000bc8  e3ec              B        |L1.5028|
                  |L1.3018|
;;;733    				{
;;;734    
;;;735    				if((modbus_tcp_rx_arg0+i)==50)		//ток стабилизации для режима стабилизации тока
000bca  4835              LDR      r0,|L1.3232|
000bcc  f9b00002          LDRSH    r0,[r0,#2]  ; modbus_tcp_rx_arg0
000bd0  4440              ADD      r0,r0,r8
000bd2  2832              CMP      r0,#0x32
000bd4  d036              BEQ      |L1.3140|
;;;736    					{
;;;737    					I_ug=modbus_tcp_write_args[i];
;;;738    					lc640_write_int(EE_I_UG,I_ug);
;;;739    					}
;;;740    				else if((modbus_tcp_rx_arg0+i)==51)	//напряжение стабилизации для режима стабилизации напряжения
000bd6  2833              CMP      r0,#0x33
000bd8  d03a              BEQ      |L1.3152|
;;;741    					{
;;;742    					U_up=modbus_tcp_write_args[i];
;;;743    					lc640_write_int(EE_U_UP,U_up);
;;;744    					}
;;;745    				else if((modbus_tcp_rx_arg0+i)==52)		//максимапльное напряжение для режима стабилизации тока
000bda  2834              CMP      r0,#0x34
000bdc  d03e              BEQ      |L1.3164|
;;;746    					{
;;;747    					U_maxg=modbus_tcp_write_args[i];
;;;748    					lc640_write_int(EE_U_MAX_G,U_maxg);
;;;749    					}
;;;750    				else if((modbus_tcp_rx_arg0+i)==53)		//максимальный ток для режима стабилизации напряжения
000bde  2835              CMP      r0,#0x35
000be0  d042              BEQ      |L1.3176|
;;;751    					{
;;;752    					I_maxp=modbus_tcp_write_args[i];
;;;753    					lc640_write_int(EE_I_MAX_P,I_maxp);
;;;754    					}								
;;;755    				else if((modbus_tcp_rx_arg0+i)==54)		//Установка времени для ист.тока.секунды
000be2  2836              CMP      r0,#0x36
000be4  d046              BEQ      |L1.3188|
;;;756    					{
;;;757    					signed long sec,min,hour;
;;;758    					sec=(signed long)modbus_tcp_write_args[i];
;;;759    					min=(T_PROC_GS/60L)%60L;
;;;760    					hour=T_PROC_GS/3600L;
;;;761    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;762    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;763    					}
;;;764    				else if((modbus_tcp_rx_arg0+i)==55)		//Установка времени для ист.тока.минуты
000be6  2837              CMP      r0,#0x37
000be8  d057              BEQ      |L1.3226|
;;;765    					{
;;;766    					signed long sec,min,hour;
;;;767    					sec=T_PROC_GS%60L;
;;;768    					min=(signed long)modbus_tcp_write_args[i];
;;;769    					hour=T_PROC_GS/3600L;
;;;770    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;771    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;772    					}
;;;773    				else if((modbus_tcp_rx_arg0+i)==56)		//Установка времени для ист.тока.часы
000bea  2838              CMP      r0,#0x38
000bec  d07e              BEQ      |L1.3308|
;;;774    					{
;;;775    					signed long sec,min,hour;
;;;776    					sec=T_PROC_GS%60L;
;;;777    					min=(T_PROC_GS/60L)%60L;
;;;778    					hour=(signed long)modbus_tcp_write_args[i];
;;;779    					T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;780    					lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;781    					}
;;;782    				else if((modbus_tcp_rx_arg0+i)==57)		//Установка времени для ист.напр.секунды
000bee  2839              CMP      r0,#0x39
000bf0  d07d              BEQ      |L1.3310|
;;;783    					{
;;;784    					signed long sec,min,hour;
;;;785    					sec=(signed long)modbus_tcp_write_args[i];
;;;786    					min=(T_PROC_PS/60L)%60L;
;;;787    					hour=T_PROC_PS/3600L;
;;;788    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;789    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;790    					}
;;;791    				else if((modbus_tcp_rx_arg0+i)==58)		//Установка времени для ист.напр.минуты
000bf2  283a              CMP      r0,#0x3a
000bf4  d07c              BEQ      |L1.3312|
;;;792    					{
;;;793    					signed long sec,min,hour;
;;;794    					sec=T_PROC_PS%60L;
;;;795    					min=(signed long)modbus_tcp_write_args[i];
;;;796    					hour=T_PROC_PS/3600L;
;;;797    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;798    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;799    					}
;;;800    	
;;;801    				else if((modbus_tcp_rx_arg0+i)==59)		//Установка времени для ист.напр.часы
000bf6  283b              CMP      r0,#0x3b
000bf8  d07b              BEQ      |L1.3314|
;;;802    					{
;;;803    					signed long sec,min,hour;
;;;804    					sec=T_PROC_PS%60L;
;;;805    					min=(T_PROC_PS/60L)%60L;
;;;806    					hour=(signed long)modbus_tcp_write_args[i];
;;;807    					T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;808    					lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;809    					}
;;;810    
;;;811    	 			else if((modbus_tcp_rx_arg0+i)==60)		//вкл/выкл источника напр.
000bfa  283c              CMP      r0,#0x3c
000bfc  d07a              BEQ      |L1.3316|
;;;812    					{
;;;813    					if(modbus_tcp_write_args[i]==1)
;;;814    						{
;;;815    						if(work_stat!=wsPS)
;;;816    							{
;;;817    							work_stat=wsPS;
;;;818    							time_proc=0;
;;;819    							time_proc_remain=T_PROC_PS;
;;;820    							restart_on_PS();
;;;821    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;822    							}
;;;823    						}
;;;824    					if(modbus_tcp_write_args[i]==0)
;;;825    						{
;;;826    						if(work_stat==wsPS)
;;;827    							{
;;;828    							work_stat=wsOFF;
;;;829    							restart_off();
;;;830    							}
;;;831    						}
;;;832    					}
;;;833    				else if((modbus_tcp_rx_arg0+i)==61)		//вкл/выкл источника тока
000bfe  283d              CMP      r0,#0x3d
000c00  d079              BEQ      |L1.3318|
;;;834    					{
;;;835    					if(modbus_tcp_write_args[i]==1)
;;;836    						{
;;;837    						if(work_stat!=wsGS)
;;;838    							{
;;;839    							work_stat=wsGS;
;;;840    							time_proc=0;
;;;841    							time_proc_remain=T_PROC_GS;
;;;842    							lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;843    							}
;;;844    						}
;;;845    					if(modbus_tcp_write_args[i]==0)
;;;846    						{
;;;847    						if(work_stat==wsGS)
;;;848    							{
;;;849    							work_stat=wsOFF;
;;;850    							restart_off();
;;;851    							}
;;;852    						}
;;;853    					}
;;;854    				else if((modbus_tcp_rx_arg0+i)==62)		//переключение реле реверса
000c02  283e              CMP      r0,#0x3e
000c04  d078              BEQ      |L1.3320|
;;;855    					{
;;;856    						{
;;;857    						if(work_stat==wsOFF)
;;;858    							{
;;;859    							if(modbus_tcp_write_args[i]==0)REV_STAT=rsFF;
;;;860    							if(modbus_tcp_write_args[i]==1)REV_STAT=rsREW;
;;;861    							}
;;;862    						}
;;;863    					}
;;;864    				else if((modbus_tcp_rx_arg0+i)==63)		//включение-выключение автореверса
000c06  283f              CMP      r0,#0x3f
000c08  d077              BEQ      |L1.3322|
;;;865    					{
;;;866    						{
;;;867    						if((work_stat==wsOFF)&&(REV_IS_ON))
;;;868    							{
;;;869    							if(modbus_tcp_write_args[i]==1)AVT_REV_IS_ON=1;
;;;870    							if(modbus_tcp_write_args[i]==0)AVT_REV_IS_ON=0;
;;;871    							lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;872    							}
;;;873    						}
;;;874    					}
;;;875    				else if((modbus_tcp_rx_arg0+i)==64)		//Автореверс, время работы прямое, сек
000c0a  2840              CMP      r0,#0x40
000c0c  d076              BEQ      |L1.3324|
;;;876    					{
;;;877    					if(work_stat==wsOFF)
;;;878    						{
;;;879    						AVT_REV_TIME_FF=modbus_tcp_write_args[i];
;;;880    						gran_u/*long*/(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;881    						lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;882    						}
;;;883    					}
;;;884    				else if((modbus_tcp_rx_arg0+i)==65)		//Автореверс, время работы обратное, сек
000c0e  2841              CMP      r0,#0x41
000c10  d075              BEQ      |L1.3326|
;;;885    					{
;;;886    					if(work_stat==wsOFF)
;;;887    						{
;;;888    						AVT_REV_TIME_REW=modbus_tcp_write_args[i];
;;;889    						gran_u/*long*/(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;890    						lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;891    						}
;;;892    					}
;;;893    				else if((modbus_tcp_rx_arg0+i)==66)		//Автореверс, время паузы при переключении, сек
000c12  2842              CMP      r0,#0x42
000c14  d074              BEQ      |L1.3328|
;;;894    					{
;;;895    					if(work_stat==wsOFF)
;;;896    						{
;;;897    						AVT_REV_TIME_PAUSE=modbus_tcp_write_args[i];
;;;898    						gran(&AVT_REV_TIME_PAUSE,2,600);
;;;899    						lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;900    						}
;;;901    					}
;;;902    	
;;;903    				else if((modbus_tcp_rx_arg0+i)==67)		//Автореверс, ток стабилизации прямой, 0.1А
000c16  2843              CMP      r0,#0x43
000c18  d073              BEQ      |L1.3330|
;;;904    					{
;;;905    					if(work_stat==wsOFF)
;;;906    						{
;;;907    						AVT_REV_I_NOM_FF=modbus_tcp_write_args[i];
;;;908    			    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;909    						lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;910    						}
;;;911    					}
;;;912    	
;;;913    				else if((modbus_tcp_rx_arg0+i)==68)		//Автореверс, ток стабилизации обратный, 0.1А
000c1a  2844              CMP      r0,#0x44
000c1c  d072              BEQ      |L1.3332|
;;;914    					{
;;;915    					if(work_stat==wsOFF)
;;;916    						{
;;;917    						AVT_REV_I_NOM_REW=modbus_tcp_write_args[i];
;;;918    			    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;919    						lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;920    						}
;;;921    					}
;;;922    				else if((modbus_tcp_rx_arg0+i)==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
000c1e  2845              CMP      r0,#0x45
000c20  d071              BEQ      |L1.3334|
;;;923    					{
;;;924    					if(work_stat==wsOFF)
;;;925    						{
;;;926    						AVT_REV_U_NOM_FF=modbus_tcp_write_args[i];
;;;927    			    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;928    						lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;929    						}
;;;930    					}
;;;931    	
;;;932    				else if((modbus_tcp_rx_arg0+i)==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
000c22  2846              CMP      r0,#0x46
000c24  d070              BEQ      |L1.3336|
;;;933    					{
;;;934    					if(work_stat==wsOFF)
;;;935    						{
;;;936    						AVT_REV_U_NOM_REW=modbus_tcp_write_args[i];
;;;937    			    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;938    						lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;939    						}
;;;940    					}
;;;941    				else if((modbus_tcp_rx_arg0+i)==71)		//Время заряда испытательного цикла, 0.1С 
000c26  2847              CMP      r0,#0x47
000c28  d06f              BEQ      |L1.3338|
;;;942    					{
;;;943    					if(work_stat==wsOFF)
;;;944    						{
;;;945    						CAP_ZAR_TIME=modbus_tcp_write_args[i];
;;;946    			    			gran(&CAP_ZAR_TIME,10,9999);
;;;947    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;948    						}
;;;949    					}
;;;950    				else if((modbus_tcp_rx_arg0+i)==72)		//Время паузы1 испытательного цикла, 0.1С 
000c2a  2848              CMP      r0,#0x48
000c2c  d06e              BEQ      |L1.3340|
;;;951    					{
;;;952    					if(work_stat==wsOFF)
;;;953    						{
;;;954    						CAP_PAUSE1_TIME=modbus_tcp_write_args[i];
;;;955    			    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;956    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;957    						}
;;;958    					}
;;;959    				else if((modbus_tcp_rx_arg0+i)==73)		//Время разряда испытательного цикла, 0.1С 
000c2e  2849              CMP      r0,#0x49
000c30  d06d              BEQ      |L1.3342|
;;;960    					{
;;;961    					if(work_stat==wsOFF)
;;;962    						{
;;;963    						CAP_RAZR_TIME=modbus_tcp_write_args[i];
;;;964    			    			gran(&CAP_RAZR_TIME,10,9999);
;;;965    						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;966    						}
;;;967    					}
;;;968    				else if((modbus_tcp_rx_arg0+i)==74)		//Время паузы2 испытательного цикла, 0.1С 
000c32  284a              CMP      r0,#0x4a
000c34  d06c              BEQ      |L1.3344|
;;;969    					{
;;;970    					if(work_stat==wsOFF)
;;;971    						{
;;;972    						CAP_PAUSE2_TIME=modbus_tcp_write_args[i];
;;;973    			    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;974    						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;975    						}
;;;976    					}
;;;977    	
;;;978    				else if((modbus_tcp_rx_arg0+i)==75)		//Максимальное напряжение испытательного цикла, 1В  
000c36  284b              CMP      r0,#0x4b
000c38  d06b              BEQ      |L1.3346|
;;;979    					{
;;;980    					if(work_stat==wsOFF)
;;;981    						{
;;;982    						CAP_MAX_VOLT=modbus_tcp_write_args[i];
;;;983    			    			gran(&CAP_MAX_VOLT,1,100);
;;;984    						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;985    						}
;;;986    					}
;;;987    				else if((modbus_tcp_rx_arg0+i)==76)		//Рабочий ток испытательного цикла, 1А 
000c3a  284c              CMP      r0,#0x4c
000c3c  d06a              BEQ      |L1.3348|
;;;988    					{
;;;989    					if(work_stat==wsOFF)
;;;990    						{
;;;991    						CAP_WRK_CURR=modbus_tcp_write_args[i];
;;;992    			    			gran(&CAP_WRK_CURR,1,150);
;;;993    						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;994    						}
;;;995    					}
;;;996    	
;;;997    				else if((modbus_tcp_rx_arg0+i)==77)		//Регистр для записи команд 
000c3e  284d              CMP      r0,#0x4d
000c40  d069              BEQ      |L1.3350|
000c42  e37b              B        |L1.4924|
                  |L1.3140|
000c44  4825              LDR      r0,|L1.3292|
000c46  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;737
000c4a  8001              STRH     r1,[r0,#0]            ;737
000c4c  2020              MOVS     r0,#0x20              ;738
000c4e  e373              B        |L1.4920|
                  |L1.3152|
000c50  4823              LDR      r0,|L1.3296|
000c52  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;742
000c56  8001              STRH     r1,[r0,#0]            ;742
000c58  2022              MOVS     r0,#0x22              ;743
000c5a  e36d              B        |L1.4920|
                  |L1.3164|
000c5c  4821              LDR      r0,|L1.3300|
000c5e  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;747
000c62  8001              STRH     r1,[r0,#0]            ;747
000c64  2076              MOVS     r0,#0x76              ;748
000c66  e367              B        |L1.4920|
                  |L1.3176|
000c68  481f              LDR      r0,|L1.3304|
000c6a  f93d1018          LDRSH    r1,[sp,r8,LSL #1]     ;752
000c6e  8001              STRH     r1,[r0,#0]            ;752
000c70  2078              MOVS     r0,#0x78              ;753
000c72  e361              B        |L1.4920|
                  |L1.3188|
000c74  f8da1000          LDR      r1,[r10,#0]           ;759  ; T_PROC_GS
000c78  203c              MOVS     r0,#0x3c              ;759
000c7a  fb91f2f0          SDIV     r2,r1,r0              ;759
000c7e  fb92f3f0          SDIV     r3,r2,r0              ;759
000c82  fb002213          MLS      r2,r0,r3,r2           ;759
000c86  f44f6061          MOV      r0,#0xe10             ;760
000c8a  fb91f0f0          SDIV     r0,r1,r0              ;760
000c8e  f44f6161          MOV      r1,#0xe10             ;761
000c92  f83d5018          LDRH     r5,[sp,r8,LSL #1]     ;758
000c96  4348              MULS     r0,r1,r0              ;761
000c98  e03e              B        |L1.3352|
                  |L1.3226|
000c9a  e043              B        |L1.3364|
                  |L1.3228|
                          DCD      CAP_PAUSE2_TIME
                  |L1.3232|
                          DCD      ||.data||
                  |L1.3236|
                          DCD      CAP_MAX_VOLT
                  |L1.3240|
                          DCD      CAP_WRK_CURR
                  |L1.3244|
                          DCD      RELE_FUNC
                  |L1.3248|
                          DCD      rele_ext_cntrl
                  |L1.3252|
                          DCD      I_ug_ram
                  |L1.3256|
                          DCD      U_up_ram
                  |L1.3260|
                          DCD      eepromRamSwitch
                  |L1.3264|
                          DCD      time_proc
                  |L1.3268|
                          DCD      time_proc_remain
                  |L1.3272|
                          DCD      T_PROC_MAX
                  |L1.3276|
                          DCD      T_PROC_GS_MODE
                  |L1.3280|
                          DCD      T_PROC_PS_MODE
                  |L1.3284|
                          DCD      MODBUS_ADRESS
                  |L1.3288|
                          DCD      socket_tcp
                  |L1.3292|
                          DCD      I_ug
                  |L1.3296|
                          DCD      U_up
                  |L1.3300|
                          DCD      U_maxg
                  |L1.3304|
                          DCD      I_maxp
                  |L1.3308|
000cec  e02c              B        |L1.3400|
                  |L1.3310|
000cee  e041              B        |L1.3444|
                  |L1.3312|
000cf0  e058              B        |L1.3492|
                  |L1.3314|
000cf2  e065              B        |L1.3520|
                  |L1.3316|
000cf4  e07f              B        |L1.3574|
                  |L1.3318|
000cf6  e09c              B        |L1.3634|
                  |L1.3320|
000cf8  e0ba              B        |L1.3696|
                  |L1.3322|
000cfa  e0c9              B        |L1.3728|
                  |L1.3324|
000cfc  e0e1              B        |L1.3778|
                  |L1.3326|
000cfe  e0f2              B        |L1.3814|
                  |L1.3328|
000d00  e103              B        |L1.3850|
                  |L1.3330|
000d02  e114              B        |L1.3886|
                  |L1.3332|
000d04  e128              B        |L1.3928|
                  |L1.3334|
000d06  e13c              B        |L1.3970|
                  |L1.3336|
000d08  e150              B        |L1.4012|
                  |L1.3338|
000d0a  e164              B        |L1.4054|
                  |L1.3340|
000d0c  e175              B        |L1.4090|
                  |L1.3342|
000d0e  e186              B        |L1.4126|
                  |L1.3344|
000d10  e196              B        |L1.4160|
                  |L1.3346|
000d12  e1a6              B        |L1.4194|
                  |L1.3348|
000d14  e1b6              B        |L1.4228|
                  |L1.3350|
000d16  e1bc              B        |L1.4242|
                  |L1.3352|
000d18  ebc21102          RSB      r1,r2,r2,LSL #4       ;761
000d1c  eb000081          ADD      r0,r0,r1,LSL #2       ;761
000d20  1941              ADDS     r1,r0,r5              ;761
000d22  e00d              B        |L1.3392|
                  |L1.3364|
000d24  f8da0000          LDR      r0,[r10,#0]           ;767  ; T_PROC_GS
000d28  213c              MOVS     r1,#0x3c              ;767
000d2a  fb90f2f1          SDIV     r2,r0,r1              ;767
000d2e  fb010112          MLS      r1,r1,r2,r0           ;767
000d32  f44f6361          MOV      r3,#0xe10             ;769
000d36  fb90f0f3          SDIV     r0,r0,r3              ;769
000d3a  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;768
000d3e  e010              B        |L1.3426|
                  |L1.3392|
000d40  20d8              MOVS     r0,#0xd8              ;762
000d42  f8ca1000          STR      r1,[r10,#0]           ;762  ; T_PROC_GS
000d46  e053              B        |L1.3568|
                  |L1.3400|
000d48  f8da1000          LDR      r1,[r10,#0]           ;776  ; T_PROC_GS
000d4c  223c              MOVS     r2,#0x3c              ;776
000d4e  fb91f0f2          SDIV     r0,r1,r2              ;776
000d52  fb90f3f2          SDIV     r3,r0,r2              ;777
000d56  fb021110          MLS      r1,r2,r0,r1           ;776
000d5a  fb020213          MLS      r2,r2,r3,r0           ;777
000d5e  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;778
                  |L1.3426|
000d62  f44f6361          MOV      r3,#0xe10             ;779
000d66  4358              MULS     r0,r3,r0              ;779
000d68  ebc21202          RSB      r2,r2,r2,LSL #4       ;779
000d6c  eb000082          ADD      r0,r0,r2,LSL #2       ;779
000d70  4401              ADD      r1,r1,r0              ;779
000d72  e7e5              B        |L1.3392|
                  |L1.3444|
000d74  f8db5000          LDR      r5,[r11,#0]           ;786  ; T_PROC_PS
000d78  213c              MOVS     r1,#0x3c              ;786
000d7a  fb95f2f1          SDIV     r2,r5,r1              ;786
000d7e  fb92f3f1          SDIV     r3,r2,r1              ;786
000d82  fb012213          MLS      r2,r1,r3,r2           ;786
000d86  f44f6161          MOV      r1,#0xe10             ;787
000d8a  fb95f1f1          SDIV     r1,r5,r1              ;787
000d8e  f44f6361          MOV      r3,#0xe10             ;788
000d92  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;785
000d96  4359              MULS     r1,r3,r1              ;788
000d98  ebc21202          RSB      r2,r2,r2,LSL #4       ;788
000d9c  eb010182          ADD      r1,r1,r2,LSL #2       ;788
000da0  4401              ADD      r1,r1,r0              ;788
000da2  e022              B        |L1.3562|
                  |L1.3492|
000da4  f8db0000          LDR      r0,[r11,#0]           ;794  ; T_PROC_PS
000da8  213c              MOVS     r1,#0x3c              ;794
000daa  fb90f2f1          SDIV     r2,r0,r1              ;794
000dae  fb010112          MLS      r1,r1,r2,r0           ;794
000db2  f44f6361          MOV      r3,#0xe10             ;796
000db6  fb90f0f3          SDIV     r0,r0,r3              ;796
000dba  f83d2018          LDRH     r2,[sp,r8,LSL #1]     ;795
000dbe  e00c              B        |L1.3546|
                  |L1.3520|
000dc0  f8db1000          LDR      r1,[r11,#0]           ;804  ; T_PROC_PS
000dc4  223c              MOVS     r2,#0x3c              ;804
000dc6  fb91f0f2          SDIV     r0,r1,r2              ;804
000dca  fb90f3f2          SDIV     r3,r0,r2              ;805
000dce  fb021110          MLS      r1,r2,r0,r1           ;804
000dd2  fb020213          MLS      r2,r2,r3,r0           ;805
000dd6  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;806
                  |L1.3546|
000dda  f44f6361          MOV      r3,#0xe10             ;807
000dde  4358              MULS     r0,r3,r0              ;807
000de0  ebc21202          RSB      r2,r2,r2,LSL #4       ;807
000de4  eb000082          ADD      r0,r0,r2,LSL #2       ;807
000de8  4401              ADD      r1,r1,r0              ;807
                  |L1.3562|
000dea  20dc              MOVS     r0,#0xdc              ;808
000dec  f8cb1000          STR      r1,[r11,#0]           ;808  ; T_PROC_PS
                  |L1.3568|
000df0  f7fffffe          BL       lc640_write_long
                  |L1.3572|
000df4  e2a2              B        |L1.4924|
                  |L1.3574|
000df6  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;813
000dfa  466d              MOV      r5,sp                 ;813
000dfc  2801              CMP      r0,#1                 ;813
000dfe  d110              BNE      |L1.3618|
000e00  7830              LDRB     r0,[r6,#0]            ;815  ; work_stat
000e02  2802              CMP      r0,#2                 ;815
000e04  d0f6              BEQ      |L1.3572|
000e06  2002              MOVS     r0,#2                 ;817
000e08  7030              STRB     r0,[r6,#0]            ;817
000e0a  48ff              LDR      r0,|L1.4616|
000e0c  6007              STR      r7,[r0,#0]            ;819  ; time_proc
000e0e  48ff              LDR      r0,|L1.4620|
000e10  f8db1000          LDR      r1,[r11,#0]           ;819  ; T_PROC_PS
000e14  6001              STR      r1,[r0,#0]            ;820  ; time_proc_remain
000e16  f7fffffe          BL       restart_on_PS
000e1a  2101              MOVS     r1,#1                 ;821
000e1c  20ea              MOVS     r0,#0xea              ;821
000e1e  f7fffffe          BL       lc640_write_int
                  |L1.3618|
000e22  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;824
000e26  2800              CMP      r0,#0                 ;824
000e28  d1e4              BNE      |L1.3572|
000e2a  7830              LDRB     r0,[r6,#0]            ;826  ; work_stat
000e2c  2802              CMP      r0,#2                 ;826
000e2e  d01b              BEQ      |L1.3688|
                  |L1.3632|
000e30  e284              B        |L1.4924|
                  |L1.3634|
000e32  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;835
000e36  466d              MOV      r5,sp                 ;835
000e38  2801              CMP      r0,#1                 ;835
000e3a  d10e              BNE      |L1.3674|
000e3c  7830              LDRB     r0,[r6,#0]            ;837  ; work_stat
000e3e  2801              CMP      r0,#1                 ;837
000e40  d0d8              BEQ      |L1.3572|
000e42  48f1              LDR      r0,|L1.4616|
000e44  f8869000          STRB     r9,[r6,#0]            ;839
000e48  6007              STR      r7,[r0,#0]            ;841  ; time_proc
000e4a  48f0              LDR      r0,|L1.4620|
000e4c  f8da1000          LDR      r1,[r10,#0]           ;841  ; T_PROC_GS
000e50  6001              STR      r1,[r0,#0]            ;842  ; time_proc_remain
000e52  2100              MOVS     r1,#0                 ;842
000e54  20ea              MOVS     r0,#0xea              ;842
000e56  f7fffffe          BL       lc640_write_int
                  |L1.3674|
000e5a  f8350018          LDRH     r0,[r5,r8,LSL #1]     ;845
000e5e  2800              CMP      r0,#0                 ;845
000e60  d1c8              BNE      |L1.3572|
000e62  7830              LDRB     r0,[r6,#0]            ;847  ; work_stat
000e64  2801              CMP      r0,#1                 ;847
000e66  d1c5              BNE      |L1.3572|
                  |L1.3688|
000e68  7037              STRB     r7,[r6,#0]            ;849
000e6a  f7fffffe          BL       restart_off
                  |L1.3694|
000e6e  e265              B        |L1.4924|
                  |L1.3696|
000e70  7830              LDRB     r0,[r6,#0]            ;857  ; work_stat
000e72  2800              CMP      r0,#0                 ;857
000e74  d1be              BNE      |L1.3572|
000e76  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;859
000e7a  b110              CBZ      r0,|L1.3714|
000e7c  2801              CMP      r0,#1                 ;860
000e7e  d004              BEQ      |L1.3722|
000e80  e25c              B        |L1.4924|
                  |L1.3714|
000e82  49e3              LDR      r1,|L1.4624|
000e84  f8819000          STRB     r9,[r1,#0]            ;859
000e88  e258              B        |L1.4924|
                  |L1.3722|
000e8a  48e1              LDR      r0,|L1.4624|
000e8c  7007              STRB     r7,[r0,#0]            ;860
000e8e  e255              B        |L1.4924|
                  |L1.3728|
000e90  7830              LDRB     r0,[r6,#0]            ;867  ; work_stat
000e92  2800              CMP      r0,#0                 ;867
000e94  d1ae              BNE      |L1.3572|
000e96  48df              LDR      r0,|L1.4628|
000e98  8800              LDRH     r0,[r0,#0]            ;867  ; REV_IS_ON
000e9a  2800              CMP      r0,#0                 ;867
000e9c  d0aa              BEQ      |L1.3572|
000e9e  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;869
000ea2  2801              CMP      r0,#1                 ;869
000ea4  d001              BEQ      |L1.3754|
000ea6  b120              CBZ      r0,|L1.3762|
000ea8  e005              B        |L1.3766|
                  |L1.3754|
000eaa  49db              LDR      r1,|L1.4632|
000eac  f8a19000          STRH     r9,[r1,#0]            ;869
000eb0  e001              B        |L1.3766|
                  |L1.3762|
000eb2  48d9              LDR      r0,|L1.4632|
000eb4  8007              STRH     r7,[r0,#0]            ;870
                  |L1.3766|
000eb6  48d8              LDR      r0,|L1.4632|
000eb8  f9b01000          LDRSH    r1,[r0,#0]            ;871  ; AVT_REV_IS_ON
000ebc  f44f7084          MOV      r0,#0x108             ;871
000ec0  e23a              B        |L1.4920|
                  |L1.3778|
000ec2  7830              LDRB     r0,[r6,#0]            ;877  ; work_stat
000ec4  2800              CMP      r0,#0                 ;877
000ec6  d195              BNE      |L1.3572|
000ec8  4dd4              LDR      r5,|L1.4636|
000eca  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;879
000ece  48d4              LDR      r0,|L1.4640|
000ed0  8029              STRH     r1,[r5,#0]            ;879
000ed2  211e              MOVS     r1,#0x1e              ;880
000ed4  8802              LDRH     r2,[r0,#0]            ;880  ; T_PROC_MAX
000ed6  4628              MOV      r0,r5                 ;880
000ed8  f7fffffe          BL       gran_u
000edc  8828              LDRH     r0,[r5,#0]            ;881  ; AVT_REV_TIME_FF
000ede  b201              SXTH     r1,r0                 ;881
000ee0  f44f7085          MOV      r0,#0x10a             ;881
000ee4  e228              B        |L1.4920|
                  |L1.3814|
000ee6  7830              LDRB     r0,[r6,#0]            ;886  ; work_stat
000ee8  2800              CMP      r0,#0                 ;886
000eea  d1a1              BNE      |L1.3632|
000eec  4dcd              LDR      r5,|L1.4644|
000eee  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;888
000ef2  48cb              LDR      r0,|L1.4640|
000ef4  8029              STRH     r1,[r5,#0]            ;888
000ef6  211e              MOVS     r1,#0x1e              ;889
000ef8  8802              LDRH     r2,[r0,#0]            ;889  ; T_PROC_MAX
000efa  4628              MOV      r0,r5                 ;889
000efc  f7fffffe          BL       gran_u
000f00  8828              LDRH     r0,[r5,#0]            ;890  ; AVT_REV_TIME_REW
000f02  b201              SXTH     r1,r0                 ;890
000f04  f44f709f          MOV      r0,#0x13e             ;890
000f08  e216              B        |L1.4920|
                  |L1.3850|
000f0a  7830              LDRB     r0,[r6,#0]            ;895  ; work_stat
000f0c  2800              CMP      r0,#0                 ;895
000f0e  d18f              BNE      |L1.3632|
000f10  4dc5              LDR      r5,|L1.4648|
000f12  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;897
000f16  f44f7216          MOV      r2,#0x258             ;898
000f1a  8029              STRH     r1,[r5,#0]            ;897
000f1c  2102              MOVS     r1,#2                 ;898
000f1e  4628              MOV      r0,r5                 ;898
000f20  f7fffffe          BL       gran
000f24  f9b51000          LDRSH    r1,[r5,#0]            ;899  ; AVT_REV_TIME_PAUSE
000f28  f44f7087          MOV      r0,#0x10e             ;899
000f2c  e204              B        |L1.4920|
                  |L1.3886|
000f2e  7830              LDRB     r0,[r6,#0]            ;905  ; work_stat
000f30  2800              CMP      r0,#0                 ;905
000f32  d19c              BNE      |L1.3694|
000f34  4dbd              LDR      r5,|L1.4652|
000f36  48be              LDR      r0,|L1.4656|
000f38  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;907
000f3c  8029              STRH     r1,[r5,#0]            ;907
000f3e  f9b02000          LDRSH    r2,[r0,#0]            ;908  ; I_MAX_IPS
000f42  48bc              LDR      r0,|L1.4660|
000f44  f9b01000          LDRSH    r1,[r0,#0]            ;908  ; I_MIN_IPS
000f48  4628              MOV      r0,r5                 ;908
000f4a  f7fffffe          BL       gran
000f4e  f9b51000          LDRSH    r1,[r5,#0]            ;909  ; AVT_REV_I_NOM_FF
000f52  f44f7088          MOV      r0,#0x110             ;909
000f56  e1ef              B        |L1.4920|
                  |L1.3928|
000f58  7830              LDRB     r0,[r6,#0]            ;915  ; work_stat
000f5a  2800              CMP      r0,#0                 ;915
000f5c  d187              BNE      |L1.3694|
000f5e  4db6              LDR      r5,|L1.4664|
000f60  48b3              LDR      r0,|L1.4656|
000f62  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;917
000f66  8029              STRH     r1,[r5,#0]            ;917
000f68  f9b02000          LDRSH    r2,[r0,#0]            ;918  ; I_MAX_IPS
000f6c  48b1              LDR      r0,|L1.4660|
000f6e  f9b01000          LDRSH    r1,[r0,#0]            ;918  ; I_MIN_IPS
000f72  4628              MOV      r0,r5                 ;918
000f74  f7fffffe          BL       gran
000f78  f9b51000          LDRSH    r1,[r5,#0]            ;919  ; AVT_REV_I_NOM_REW
000f7c  f44f7089          MOV      r0,#0x112             ;919
000f80  e1da              B        |L1.4920|
                  |L1.3970|
000f82  7830              LDRB     r0,[r6,#0]            ;924  ; work_stat
000f84  2800              CMP      r0,#0                 ;924
000f86  d17c              BNE      |L1.4226|
000f88  4dac              LDR      r5,|L1.4668|
000f8a  48ad              LDR      r0,|L1.4672|
000f8c  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;926
000f90  8029              STRH     r1,[r5,#0]            ;926
000f92  f9b02000          LDRSH    r2,[r0,#0]            ;927  ; U_MAX
000f96  48ab              LDR      r0,|L1.4676|
000f98  f9b01000          LDRSH    r1,[r0,#0]            ;927  ; U_MIN
000f9c  4628              MOV      r0,r5                 ;927
000f9e  f7fffffe          BL       gran
000fa2  f9b51000          LDRSH    r1,[r5,#0]            ;928  ; AVT_REV_U_NOM_FF
000fa6  f44f708a          MOV      r0,#0x114             ;928
000faa  e1c5              B        |L1.4920|
                  |L1.4012|
000fac  7830              LDRB     r0,[r6,#0]            ;934  ; work_stat
000fae  2800              CMP      r0,#0                 ;934
000fb0  d167              BNE      |L1.4226|
000fb2  4da5              LDR      r5,|L1.4680|
000fb4  48a2              LDR      r0,|L1.4672|
000fb6  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;936
000fba  8029              STRH     r1,[r5,#0]            ;936
000fbc  f9b02000          LDRSH    r2,[r0,#0]            ;937  ; U_MAX
000fc0  48a0              LDR      r0,|L1.4676|
000fc2  f9b01000          LDRSH    r1,[r0,#0]            ;937  ; U_MIN
000fc6  4628              MOV      r0,r5                 ;937
000fc8  f7fffffe          BL       gran
000fcc  f9b51000          LDRSH    r1,[r5,#0]            ;938  ; AVT_REV_U_NOM_REW
000fd0  f44f708b          MOV      r0,#0x116             ;938
000fd4  e1b0              B        |L1.4920|
                  |L1.4054|
000fd6  7830              LDRB     r0,[r6,#0]            ;943  ; work_stat
000fd8  2800              CMP      r0,#0                 ;943
000fda  d152              BNE      |L1.4226|
000fdc  4d9b              LDR      r5,|L1.4684|
000fde  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;945
000fe2  f242720f          MOV      r2,#0x270f            ;946
000fe6  8029              STRH     r1,[r5,#0]            ;945
000fe8  210a              MOVS     r1,#0xa               ;946
000fea  4628              MOV      r0,r5                 ;946
000fec  f7fffffe          BL       gran
000ff0  f9b51000          LDRSH    r1,[r5,#0]            ;947  ; CAP_ZAR_TIME
000ff4  f44f70e9          MOV      r0,#0x1d2             ;947
000ff8  e19e              B        |L1.4920|
                  |L1.4090|
000ffa  7830              LDRB     r0,[r6,#0]            ;952  ; work_stat
000ffc  2800              CMP      r0,#0                 ;952
000ffe  d140              BNE      |L1.4226|
001000  4d93              LDR      r5,|L1.4688|
001002  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;954
001006  f242720f          MOV      r2,#0x270f            ;955
00100a  8029              STRH     r1,[r5,#0]            ;954
00100c  210a              MOVS     r1,#0xa               ;955
00100e  4628              MOV      r0,r5                 ;955
001010  f7fffffe          BL       gran
001014  f9b51000          LDRSH    r1,[r5,#0]            ;956  ; CAP_PAUSE1_TIME
001018  f44f70ea          MOV      r0,#0x1d4             ;956
00101c  e18c              B        |L1.4920|
                  |L1.4126|
00101e  7830              LDRB     r0,[r6,#0]            ;961  ; work_stat
001020  bb78              CBNZ     r0,|L1.4226|
001022  4d8c              LDR      r5,|L1.4692|
001024  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;963
001028  f242720f          MOV      r2,#0x270f            ;964
00102c  8029              STRH     r1,[r5,#0]            ;963
00102e  210a              MOVS     r1,#0xa               ;964
001030  4628              MOV      r0,r5                 ;964
001032  f7fffffe          BL       gran
001036  f9b51000          LDRSH    r1,[r5,#0]            ;965  ; CAP_RAZR_TIME
00103a  f44f70eb          MOV      r0,#0x1d6             ;965
00103e  e17b              B        |L1.4920|
                  |L1.4160|
001040  7830              LDRB     r0,[r6,#0]            ;970  ; work_stat
001042  b9f0              CBNZ     r0,|L1.4226|
001044  4d84              LDR      r5,|L1.4696|
001046  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;972
00104a  f242720f          MOV      r2,#0x270f            ;973
00104e  8029              STRH     r1,[r5,#0]            ;972
001050  210a              MOVS     r1,#0xa               ;973
001052  4628              MOV      r0,r5                 ;973
001054  f7fffffe          BL       gran
001058  f9b51000          LDRSH    r1,[r5,#0]            ;974  ; CAP_PAUSE2_TIME
00105c  f44f70ec          MOV      r0,#0x1d8             ;974
001060  e16a              B        |L1.4920|
                  |L1.4194|
001062  7830              LDRB     r0,[r6,#0]            ;980  ; work_stat
001064  b968              CBNZ     r0,|L1.4226|
001066  4d7d              LDR      r5,|L1.4700|
001068  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;982
00106c  2264              MOVS     r2,#0x64              ;983
00106e  8029              STRH     r1,[r5,#0]            ;982
001070  2101              MOVS     r1,#1                 ;983
001072  4628              MOV      r0,r5                 ;983
001074  f7fffffe          BL       gran
001078  f9b51000          LDRSH    r1,[r5,#0]            ;984  ; CAP_MAX_VOLT
00107c  f44f70ed          MOV      r0,#0x1da             ;984
001080  e15a              B        |L1.4920|
                  |L1.4226|
001082  e040              B        |L1.4358|
                  |L1.4228|
001084  7830              LDRB     r0,[r6,#0]            ;989  ; work_stat
001086  bbf0              CBNZ     r0,|L1.4358|
001088  4d75              LDR      r5,|L1.4704|
00108a  f83d1018          LDRH     r1,[sp,r8,LSL #1]     ;991
00108e  8029              STRH     r1,[r5,#0]            ;991
001090  e149              B        |L1.4902|
                  |L1.4242|
;;;998    					{
;;;999    					if(modbus_tcp_write_args[i]==0x11)
001092  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001096  466d              MOV      r5,sp
001098  2811              CMP      r0,#0x11
00109a  d101              BNE      |L1.4256|
;;;1000   						{
;;;1001   						start_CAP();
00109c  f7fffffe          BL       start_CAP
                  |L1.4256|
;;;1002   						}
;;;1003   					if(modbus_tcp_write_args[i]==0x12)
0010a0  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010a4  2812              CMP      r0,#0x12
0010a6  d101              BNE      |L1.4268|
;;;1004   						{
;;;1005   						pause_CAP();
0010a8  f7fffffe          BL       pause_CAP
                  |L1.4268|
;;;1006   						}
;;;1007   					if(modbus_tcp_write_args[i]==0x13)
0010ac  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010b0  2813              CMP      r0,#0x13
0010b2  d101              BNE      |L1.4280|
;;;1008   						{
;;;1009   						stop_CAP();
0010b4  f7fffffe          BL       stop_CAP
                  |L1.4280|
;;;1010   						}
;;;1011   					if(modbus_tcp_write_args[i]==0x14)
0010b8  f8350018          LDRH     r0,[r5,r8,LSL #1]
0010bc  2814              CMP      r0,#0x14
0010be  d101              BNE      |L1.4292|
;;;1012   						{
;;;1013   						reset_CAP();
0010c0  f7fffffe          BL       reset_CAP
                  |L1.4292|
;;;1014   						}
;;;1015   	
;;;1016   					if(modbus_tcp_write_args[i]==0x21)
0010c4  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0010c8  2821              CMP      r0,#0x21
0010ca  d111              BNE      |L1.4336|
;;;1017   						{
;;;1018   						if(work_stat==wsOFF)
0010cc  7830              LDRB     r0,[r6,#0]  ; work_stat
0010ce  b9d0              CBNZ     r0,|L1.4358|
;;;1019   							{
;;;1020   							CAP_ZAR_TIME++;
0010d0  4d5e              LDR      r5,|L1.4684|
;;;1021   			    				gran(&CAP_ZAR_TIME,10,9999);
0010d2  f242720f          MOV      r2,#0x270f
0010d6  210a              MOVS     r1,#0xa
0010d8  8828              LDRH     r0,[r5,#0]            ;1020  ; CAP_ZAR_TIME
0010da  1c40              ADDS     r0,r0,#1              ;1020
0010dc  8028              STRH     r0,[r5,#0]            ;1020
0010de  4628              MOV      r0,r5
0010e0  f7fffffe          BL       gran
;;;1022   							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
0010e4  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_ZAR_TIME
0010e8  f44f70e9          MOV      r0,#0x1d2
0010ec  f7fffffe          BL       lc640_write_int
                  |L1.4336|
;;;1023   							}
;;;1024   						}
;;;1025   					if(modbus_tcp_write_args[i]==0x22)
0010f0  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0010f4  2822              CMP      r0,#0x22
0010f6  d115              BNE      |L1.4388|
;;;1026   						{
;;;1027   						if(work_stat==wsOFF)
0010f8  7830              LDRB     r0,[r6,#0]  ; work_stat
0010fa  b920              CBNZ     r0,|L1.4358|
;;;1028   							{
;;;1029   							CAP_ZAR_TIME--;
0010fc  4d53              LDR      r5,|L1.4684|
0010fe  8828              LDRH     r0,[r5,#0]  ; CAP_ZAR_TIME
001100  1e40              SUBS     r0,r0,#1
001102  8028              STRH     r0,[r5,#0]
;;;1030   			    				gran(&CAP_ZAR_TIME,10,9999);
001104  e002              B        |L1.4364|
                  |L1.4358|
001106  e052              B        |L1.4526|
                  |L1.4360|
001108  e206              B        |L1.5400|
                  |L1.4362|
00110a  e209              B        |L1.5408|
                  |L1.4364|
00110c  f242720f          MOV      r2,#0x270f
001110  210a              MOVS     r1,#0xa
001112  4628              MOV      r0,r5
001114  f7fffffe          BL       gran
;;;1031   							lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
001118  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_ZAR_TIME
00111c  f44f70e9          MOV      r0,#0x1d2
001120  f7fffffe          BL       lc640_write_int
                  |L1.4388|
;;;1032   							}
;;;1033   						}
;;;1034   	
;;;1035   					if(modbus_tcp_write_args[i]==0x31)
001124  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001128  2831              CMP      r0,#0x31
00112a  d111              BNE      |L1.4432|
;;;1036   						{
;;;1037   						if(work_stat==wsOFF)
00112c  7830              LDRB     r0,[r6,#0]  ; work_stat
00112e  bbf0              CBNZ     r0,|L1.4526|
;;;1038   							{
;;;1039   							CAP_PAUSE1_TIME++;
001130  4d47              LDR      r5,|L1.4688|
;;;1040   			    				gran(&CAP_PAUSE1_TIME,10,9999);
001132  f242720f          MOV      r2,#0x270f
001136  210a              MOVS     r1,#0xa
001138  8828              LDRH     r0,[r5,#0]            ;1039  ; CAP_PAUSE1_TIME
00113a  1c40              ADDS     r0,r0,#1              ;1039
00113c  8028              STRH     r0,[r5,#0]            ;1039
00113e  4628              MOV      r0,r5
001140  f7fffffe          BL       gran
;;;1041   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
001144  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
001148  f44f70ea          MOV      r0,#0x1d4
00114c  f7fffffe          BL       lc640_write_int
                  |L1.4432|
;;;1042   							}
;;;1043   						}
;;;1044   					if(modbus_tcp_write_args[i]==0x32)
001150  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001154  2832              CMP      r0,#0x32
001156  d111              BNE      |L1.4476|
;;;1045   						{
;;;1046   						if(work_stat==wsOFF)
001158  7830              LDRB     r0,[r6,#0]  ; work_stat
00115a  bb40              CBNZ     r0,|L1.4526|
;;;1047   							{
;;;1048   							CAP_PAUSE1_TIME--;
00115c  4d3c              LDR      r5,|L1.4688|
;;;1049   			    				gran(&CAP_PAUSE1_TIME,10,9999);
00115e  f242720f          MOV      r2,#0x270f
001162  210a              MOVS     r1,#0xa
001164  8828              LDRH     r0,[r5,#0]            ;1048  ; CAP_PAUSE1_TIME
001166  1e40              SUBS     r0,r0,#1              ;1048
001168  8028              STRH     r0,[r5,#0]            ;1048
00116a  4628              MOV      r0,r5
00116c  f7fffffe          BL       gran
;;;1050   							lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
001170  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE1_TIME
001174  f44f70ea          MOV      r0,#0x1d4
001178  f7fffffe          BL       lc640_write_int
                  |L1.4476|
;;;1051   							}
;;;1052   						}
;;;1053   	
;;;1054   					if(modbus_tcp_write_args[i]==0x41)
00117c  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001180  2841              CMP      r0,#0x41
001182  d111              BNE      |L1.4520|
;;;1055   						{
;;;1056   						if(work_stat==wsOFF)
001184  7830              LDRB     r0,[r6,#0]  ; work_stat
001186  b990              CBNZ     r0,|L1.4526|
;;;1057   							{
;;;1058   							CAP_RAZR_TIME++;
001188  4d32              LDR      r5,|L1.4692|
;;;1059   			    				gran(&CAP_RAZR_TIME,10,9999);
00118a  f242720f          MOV      r2,#0x270f
00118e  210a              MOVS     r1,#0xa
001190  8828              LDRH     r0,[r5,#0]            ;1058  ; CAP_RAZR_TIME
001192  1c40              ADDS     r0,r0,#1              ;1058
001194  8028              STRH     r0,[r5,#0]            ;1058
001196  4628              MOV      r0,r5
001198  f7fffffe          BL       gran
;;;1060   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
00119c  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
0011a0  f44f70eb          MOV      r0,#0x1d6
0011a4  f7fffffe          BL       lc640_write_int
                  |L1.4520|
;;;1061   							}
;;;1062   						}
;;;1063   					if(modbus_tcp_write_args[i]==0x42)
0011a8  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011ac  e000              B        |L1.4528|
                  |L1.4526|
0011ae  e02a              B        |L1.4614|
                  |L1.4528|
0011b0  2842              CMP      r0,#0x42
0011b2  d111              BNE      |L1.4568|
;;;1064   						{
;;;1065   						if(work_stat==wsOFF)
0011b4  7830              LDRB     r0,[r6,#0]  ; work_stat
0011b6  bb30              CBNZ     r0,|L1.4614|
;;;1066   							{
;;;1067   							CAP_RAZR_TIME--;
0011b8  4d26              LDR      r5,|L1.4692|
;;;1068   			    				gran(&CAP_RAZR_TIME,10,9999);
0011ba  f242720f          MOV      r2,#0x270f
0011be  210a              MOVS     r1,#0xa
0011c0  8828              LDRH     r0,[r5,#0]            ;1067  ; CAP_RAZR_TIME
0011c2  1e40              SUBS     r0,r0,#1              ;1067
0011c4  8028              STRH     r0,[r5,#0]            ;1067
0011c6  4628              MOV      r0,r5
0011c8  f7fffffe          BL       gran
;;;1069   							lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
0011cc  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_RAZR_TIME
0011d0  f44f70eb          MOV      r0,#0x1d6
0011d4  f7fffffe          BL       lc640_write_int
                  |L1.4568|
;;;1070   							}
;;;1071   						}
;;;1072   	
;;;1073   					if(modbus_tcp_write_args[i]==0x51)
0011d8  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0011dc  2851              CMP      r0,#0x51
0011de  d111              BNE      |L1.4612|
;;;1074   						{
;;;1075   						if(work_stat==wsOFF)
0011e0  7830              LDRB     r0,[r6,#0]  ; work_stat
0011e2  b980              CBNZ     r0,|L1.4614|
;;;1076   							{
;;;1077   							CAP_PAUSE2_TIME++;
0011e4  4d1c              LDR      r5,|L1.4696|
;;;1078   			    				gran(&CAP_PAUSE2_TIME,10,9999);
0011e6  f242720f          MOV      r2,#0x270f
0011ea  210a              MOVS     r1,#0xa
0011ec  8828              LDRH     r0,[r5,#0]            ;1077  ; CAP_PAUSE2_TIME
0011ee  1c40              ADDS     r0,r0,#1              ;1077
0011f0  8028              STRH     r0,[r5,#0]            ;1077
0011f2  4628              MOV      r0,r5
0011f4  f7fffffe          BL       gran
;;;1079   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
0011f8  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
0011fc  f44f70ec          MOV      r0,#0x1d8
001200  f7fffffe          BL       lc640_write_int
                  |L1.4612|
;;;1080   							}
;;;1081   						}
;;;1082   					if(modbus_tcp_write_args[i]==0x52)
001204  e02e              B        |L1.4708|
                  |L1.4614|
001206  e072              B        |L1.4846|
                  |L1.4616|
                          DCD      time_proc
                  |L1.4620|
                          DCD      time_proc_remain
                  |L1.4624|
                          DCD      REV_STAT
                  |L1.4628|
                          DCD      REV_IS_ON
                  |L1.4632|
                          DCD      AVT_REV_IS_ON
                  |L1.4636|
                          DCD      AVT_REV_TIME_FF
                  |L1.4640|
                          DCD      T_PROC_MAX
                  |L1.4644|
                          DCD      AVT_REV_TIME_REW
                  |L1.4648|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.4652|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.4656|
                          DCD      I_MAX_IPS
                  |L1.4660|
                          DCD      I_MIN_IPS
                  |L1.4664|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.4668|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.4672|
                          DCD      U_MAX
                  |L1.4676|
                          DCD      U_MIN
                  |L1.4680|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.4684|
                          DCD      CAP_ZAR_TIME
                  |L1.4688|
                          DCD      CAP_PAUSE1_TIME
                  |L1.4692|
                          DCD      CAP_RAZR_TIME
                  |L1.4696|
                          DCD      CAP_PAUSE2_TIME
                  |L1.4700|
                          DCD      CAP_MAX_VOLT
                  |L1.4704|
                          DCD      CAP_WRK_CURR
                  |L1.4708|
001264  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001268  2852              CMP      r0,#0x52
00126a  d111              BNE      |L1.4752|
;;;1083   						{
;;;1084   						if(work_stat==wsOFF)
00126c  7830              LDRB     r0,[r6,#0]  ; work_stat
00126e  bbf0              CBNZ     r0,|L1.4846|
;;;1085   							{
;;;1086   							CAP_PAUSE2_TIME--;
001270  4dac              LDR      r5,|L1.5412|
;;;1087   			    				gran(&CAP_PAUSE2_TIME,10,9999);
001272  f242720f          MOV      r2,#0x270f
001276  210a              MOVS     r1,#0xa
001278  8828              LDRH     r0,[r5,#0]            ;1086  ; CAP_PAUSE2_TIME
00127a  1e40              SUBS     r0,r0,#1              ;1086
00127c  8028              STRH     r0,[r5,#0]            ;1086
00127e  4628              MOV      r0,r5
001280  f7fffffe          BL       gran
;;;1088   							lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
001284  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_PAUSE2_TIME
001288  f44f70ec          MOV      r0,#0x1d8
00128c  f7fffffe          BL       lc640_write_int
                  |L1.4752|
;;;1089   							}
;;;1090   						}
;;;1091   	
;;;1092   					if(modbus_tcp_write_args[i]==0x61)
001290  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001294  2861              CMP      r0,#0x61
001296  d110              BNE      |L1.4794|
;;;1093   						{
;;;1094   						if(work_stat==wsOFF)
001298  7830              LDRB     r0,[r6,#0]  ; work_stat
00129a  bb40              CBNZ     r0,|L1.4846|
;;;1095   							{
;;;1096   							CAP_MAX_VOLT++;
00129c  4da2              LDR      r5,|L1.5416|
;;;1097   			    				gran(&CAP_MAX_VOLT,1,100);
00129e  2264              MOVS     r2,#0x64
0012a0  2101              MOVS     r1,#1
0012a2  8828              LDRH     r0,[r5,#0]            ;1096  ; CAP_MAX_VOLT
0012a4  1c40              ADDS     r0,r0,#1              ;1096
0012a6  8028              STRH     r0,[r5,#0]            ;1096
0012a8  4628              MOV      r0,r5
0012aa  f7fffffe          BL       gran
;;;1098   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
0012ae  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
0012b2  f44f70ed          MOV      r0,#0x1da
0012b6  f7fffffe          BL       lc640_write_int
                  |L1.4794|
;;;1099   							}
;;;1100   						}
;;;1101   					if(modbus_tcp_write_args[i]==0x62)
0012ba  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0012be  2862              CMP      r0,#0x62
0012c0  d110              BNE      |L1.4836|
;;;1102   						{
;;;1103   						if(work_stat==wsOFF)
0012c2  7830              LDRB     r0,[r6,#0]  ; work_stat
0012c4  b998              CBNZ     r0,|L1.4846|
;;;1104   							{
;;;1105   							CAP_MAX_VOLT--;
0012c6  4d98              LDR      r5,|L1.5416|
;;;1106   			    				gran(&CAP_MAX_VOLT,1,100);
0012c8  2264              MOVS     r2,#0x64
0012ca  2101              MOVS     r1,#1
0012cc  8828              LDRH     r0,[r5,#0]            ;1105  ; CAP_MAX_VOLT
0012ce  1e40              SUBS     r0,r0,#1              ;1105
0012d0  8028              STRH     r0,[r5,#0]            ;1105
0012d2  4628              MOV      r0,r5
0012d4  f7fffffe          BL       gran
;;;1107   							lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
0012d8  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_MAX_VOLT
0012dc  f44f70ed          MOV      r0,#0x1da
0012e0  f7fffffe          BL       lc640_write_int
                  |L1.4836|
;;;1108   							}
;;;1109   						}
;;;1110   	
;;;1111   					if(modbus_tcp_write_args[i]==0x71)
0012e4  f83d0018          LDRH     r0,[sp,r8,LSL #1]
0012e8  2871              CMP      r0,#0x71
0012ea  d112              BNE      |L1.4882|
;;;1112   						{
;;;1113   						if(work_stat==wsOFF)
0012ec  e000              B        |L1.4848|
                  |L1.4846|
0012ee  e025              B        |L1.4924|
                  |L1.4848|
0012f0  7830              LDRB     r0,[r6,#0]  ; work_stat
0012f2  bb18              CBNZ     r0,|L1.4924|
;;;1114   							{
;;;1115   							CAP_WRK_CURR++;
0012f4  4d8d              LDR      r5,|L1.5420|
;;;1116   			    				gran(&CAP_WRK_CURR,1,150);
0012f6  2296              MOVS     r2,#0x96
0012f8  2101              MOVS     r1,#1
0012fa  8828              LDRH     r0,[r5,#0]            ;1115  ; CAP_WRK_CURR
0012fc  1c40              ADDS     r0,r0,#1              ;1115
0012fe  8028              STRH     r0,[r5,#0]            ;1115
001300  4628              MOV      r0,r5
001302  f7fffffe          BL       gran
;;;1117   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001306  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
00130a  f44f70ee          MOV      r0,#0x1dc
00130e  f7fffffe          BL       lc640_write_int
                  |L1.4882|
;;;1118   							}
;;;1119   						}
;;;1120   					if(modbus_tcp_write_args[i]==0x72)
001312  f83d0018          LDRH     r0,[sp,r8,LSL #1]
001316  2872              CMP      r0,#0x72
001318  d110              BNE      |L1.4924|
;;;1121   						{
;;;1122   						if(work_stat==wsOFF)
00131a  7830              LDRB     r0,[r6,#0]  ; work_stat
00131c  b970              CBNZ     r0,|L1.4924|
;;;1123   							{
;;;1124   							CAP_WRK_CURR--;
00131e  4d83              LDR      r5,|L1.5420|
001320  8828              LDRH     r0,[r5,#0]  ; CAP_WRK_CURR
001322  1e40              SUBS     r0,r0,#1
001324  8028              STRH     r0,[r5,#0]
                  |L1.4902|
;;;1125   			    				gran(&CAP_WRK_CURR,1,150);
001326  2296              MOVS     r2,#0x96
001328  2101              MOVS     r1,#1
00132a  4880              LDR      r0,|L1.5420|
00132c  f7fffffe          BL       gran
;;;1126   							lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
001330  f9b51000          LDRSH    r1,[r5,#0]  ; CAP_WRK_CURR
001334  f44f70ee          MOV      r0,#0x1dc
                  |L1.4920|
001338  f7fffffe          BL       lc640_write_int
                  |L1.4924|
;;;1127   							}
;;;1128   						}
;;;1129   	
;;;1130   					}
;;;1131   
;;;1132   				if((modbus_tcp_rx_arg0+i)==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
00133c  487c              LDR      r0,|L1.5424|
00133e  f9b01002          LDRSH    r1,[r0,#2]  ; modbus_tcp_rx_arg0
001342  eb010208          ADD      r2,r1,r8
001346  2a5a              CMP      r2,#0x5a
001348  d006              BEQ      |L1.4952|
;;;1133   					{
;;;1134   					I_ug_ram=modbus_tcp_write_args[i];
;;;1135   					eepromRamSwitch=1;
;;;1136   					}
;;;1137   
;;;1138   				else if((modbus_tcp_rx_arg0+i)==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
00134a  2a5b              CMP      r2,#0x5b
00134c  d008              BEQ      |L1.4960|
;;;1139   					{
;;;1140   					U_up_ram=modbus_tcp_write_args[i];
;;;1141   					eepromRamSwitch=1;
;;;1142   					}
;;;1143   
;;;1144   			else if(modbus_tcp_rx_arg0==92)		//вкл/выкл источника напр.
00134e  295c              CMP      r1,#0x5c
001350  d00e              BEQ      |L1.4976|
;;;1145   				{
;;;1146   				if(modbus_tcp_rx_arg1==1)
;;;1147   					{
;;;1148   					if(work_stat!=wsPS)
;;;1149   						{
;;;1150   						work_stat=wsPS;
;;;1151   						time_proc=0;
;;;1152   						time_proc_remain=T_PROC_PS;
;;;1153   						restart_on_PS();
;;;1154   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;1155   						}
;;;1156   					}
;;;1157   				if(modbus_tcp_rx_arg1==0)
;;;1158   					{
;;;1159   					if(work_stat==wsPS)
;;;1160   						{
;;;1161   						work_stat=wsOFF;
;;;1162   						restart_off();
;;;1163   						}
;;;1164   					}
;;;1165   				}
;;;1166   			else if(modbus_tcp_rx_arg0==93)		//вкл/выкл источника тока
001352  295d              CMP      r1,#0x5d
001354  d02a              BEQ      |L1.5036|
001356  e044              B        |L1.5090|
                  |L1.4952|
001358  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1134
00135c  4975              LDR      r1,|L1.5428|
00135e  e002              B        |L1.4966|
                  |L1.4960|
001360  f83d0018          LDRH     r0,[sp,r8,LSL #1]     ;1140
001364  4974              LDR      r1,|L1.5432|
                  |L1.4966|
001366  8008              STRH     r0,[r1,#0]            ;1140
001368  4974              LDR      r1,|L1.5436|
00136a  f8819000          STRB     r9,[r1,#0]            ;1141
00136e  e038              B        |L1.5090|
                  |L1.4976|
001370  4605              MOV      r5,r0                 ;1146
001372  8880              LDRH     r0,[r0,#4]            ;1146  ; modbus_tcp_rx_arg1
001374  2801              CMP      r0,#1                 ;1146
001376  d110              BNE      |L1.5018|
001378  7830              LDRB     r0,[r6,#0]            ;1148  ; work_stat
00137a  2802              CMP      r0,#2                 ;1148
00137c  d00d              BEQ      |L1.5018|
00137e  2002              MOVS     r0,#2                 ;1150
001380  7030              STRB     r0,[r6,#0]            ;1150
001382  486f              LDR      r0,|L1.5440|
001384  6007              STR      r7,[r0,#0]            ;1152  ; time_proc
001386  486f              LDR      r0,|L1.5444|
001388  f8db1000          LDR      r1,[r11,#0]           ;1152  ; T_PROC_PS
00138c  6001              STR      r1,[r0,#0]            ;1153  ; time_proc_remain
00138e  f7fffffe          BL       restart_on_PS
001392  2101              MOVS     r1,#1                 ;1154
001394  20ea              MOVS     r0,#0xea              ;1154
001396  f7fffffe          BL       lc640_write_int
                  |L1.5018|
00139a  88a8              LDRH     r0,[r5,#4]            ;1157  ; modbus_tcp_rx_arg1
00139c  bb08              CBNZ     r0,|L1.5090|
00139e  7830              LDRB     r0,[r6,#0]            ;1159  ; work_stat
0013a0  e001              B        |L1.5030|
                  |L1.5026|
0013a2  e0aa              B        |L1.5370|
                  |L1.5028|
0013a4  e076              B        |L1.5268|
                  |L1.5030|
0013a6  2802              CMP      r0,#2                 ;1159
0013a8  d018              BEQ      |L1.5084|
0013aa  e01a              B        |L1.5090|
                  |L1.5036|
;;;1167   				{
;;;1168   				if(modbus_tcp_rx_arg1==1)
0013ac  4605              MOV      r5,r0
0013ae  8880              LDRH     r0,[r0,#4]  ; modbus_tcp_rx_arg1
0013b0  2801              CMP      r0,#1
0013b2  d10e              BNE      |L1.5074|
;;;1169   					{
;;;1170   					if(work_stat!=wsGS)
0013b4  7830              LDRB     r0,[r6,#0]  ; work_stat
0013b6  2801              CMP      r0,#1
0013b8  d00b              BEQ      |L1.5074|
;;;1171   						{
;;;1172   						work_stat=wsGS;
;;;1173   						time_proc=0;
0013ba  4861              LDR      r0,|L1.5440|
0013bc  f8869000          STRB     r9,[r6,#0]            ;1172
;;;1174   						time_proc_remain=T_PROC_GS;
0013c0  6007              STR      r7,[r0,#0]  ; time_proc
0013c2  4860              LDR      r0,|L1.5444|
0013c4  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_GS
;;;1175   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
0013c8  6001              STR      r1,[r0,#0]  ; time_proc_remain
0013ca  2100              MOVS     r1,#0
0013cc  20ea              MOVS     r0,#0xea
0013ce  f7fffffe          BL       lc640_write_int
                  |L1.5074|
;;;1176   						}
;;;1177   					}
;;;1178   				if(modbus_tcp_rx_arg1==0)
0013d2  88a8              LDRH     r0,[r5,#4]  ; modbus_tcp_rx_arg1
0013d4  b928              CBNZ     r0,|L1.5090|
;;;1179   					{
;;;1180   					if(work_stat==wsGS)
0013d6  7830              LDRB     r0,[r6,#0]  ; work_stat
0013d8  2801              CMP      r0,#1
0013da  d102              BNE      |L1.5090|
                  |L1.5084|
;;;1181   						{
;;;1182   						work_stat=wsOFF;
0013dc  7037              STRB     r7,[r6,#0]
;;;1183   						restart_off();
0013de  f7fffffe          BL       restart_off
                  |L1.5090|
;;;1184   						}
;;;1185   					}
;;;1186   				}
;;;1187   									
;;;1188   				if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
0013e2  4d59              LDR      r5,|L1.5448|
0013e4  f8da2000          LDR      r2,[r10,#0]  ; T_PROC_GS
0013e8  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
0013ea  428a              CMP      r2,r1
0013ec  dc01              BGT      |L1.5106|
0013ee  2a1e              CMP      r2,#0x1e
0013f0  da15              BGE      |L1.5150|
                  |L1.5106|
;;;1189   					{
;;;1190   					if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
0013f2  4650              MOV      r0,r10
0013f4  428a              CMP      r2,r1
0013f6  dd01              BLE      |L1.5116|
0013f8  1c49              ADDS     r1,r1,#1
0013fa  e002              B        |L1.5122|
                  |L1.5116|
;;;1191   					else if(T_PROC_GS<30)T_PROC_GS=29;
0013fc  2a1e              CMP      r2,#0x1e
0013fe  da01              BGE      |L1.5124|
001400  211d              MOVS     r1,#0x1d
                  |L1.5122|
001402  6001              STR      r1,[r0,#0]  ; T_PROC_GS
                  |L1.5124|
;;;1192   					lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
001404  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
001408  b201              SXTH     r1,r0
00140a  20d8              MOVS     r0,#0xd8
00140c  f7fffffe          BL       lc640_write_int
;;;1193   					T_PROC_GS_MODE=1;	
001410  484e              LDR      r0,|L1.5452|
001412  4649              MOV      r1,r9
001414  f8a09000          STRH     r9,[r0,#0]
;;;1194   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
001418  20ee              MOVS     r0,#0xee
00141a  f7fffffe          BL       lc640_write_int
                  |L1.5150|
;;;1195   					}
;;;1196   				if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
00141e  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
001420  f8da0000          LDR      r0,[r10,#0]  ; T_PROC_GS
001424  4288              CMP      r0,r1
001426  dc07              BGT      |L1.5176|
001428  281e              CMP      r0,#0x1e
00142a  db05              BLT      |L1.5176|
;;;1197   					{
;;;1198   					T_PROC_GS_MODE=0;	
00142c  4847              LDR      r0,|L1.5452|
00142e  4639              MOV      r1,r7
001430  8007              STRH     r7,[r0,#0]
;;;1199   					lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
001432  20ee              MOVS     r0,#0xee
001434  f7fffffe          BL       lc640_write_int
                  |L1.5176|
;;;1200   					}
;;;1201   				
;;;1202   				if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
001438  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
00143a  f8db2000          LDR      r2,[r11,#0]  ; T_PROC_PS
00143e  428a              CMP      r2,r1
001440  dc01              BGT      |L1.5190|
001442  2a1e              CMP      r2,#0x1e
001444  da15              BGE      |L1.5234|
                  |L1.5190|
;;;1203   					{
;;;1204   					if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
001446  4658              MOV      r0,r11
001448  428a              CMP      r2,r1
00144a  dd01              BLE      |L1.5200|
00144c  1c49              ADDS     r1,r1,#1
00144e  e002              B        |L1.5206|
                  |L1.5200|
;;;1205   					else if(T_PROC_PS<30)T_PROC_PS=29;
001450  2a1e              CMP      r2,#0x1e
001452  da01              BGE      |L1.5208|
001454  211d              MOVS     r1,#0x1d
                  |L1.5206|
001456  6001              STR      r1,[r0,#0]  ; T_PROC_PS
                  |L1.5208|
;;;1206   					lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
001458  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
00145c  b201              SXTH     r1,r0
00145e  20dc              MOVS     r0,#0xdc
001460  f7fffffe          BL       lc640_write_int
;;;1207   					T_PROC_PS_MODE=1;	
001464  483a              LDR      r0,|L1.5456|
001466  4649              MOV      r1,r9
001468  f8a09000          STRH     r9,[r0,#0]
;;;1208   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
00146c  20f0              MOVS     r0,#0xf0
00146e  f7fffffe          BL       lc640_write_int
                  |L1.5234|
;;;1209   					}
;;;1210   				if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
001472  8829              LDRH     r1,[r5,#0]  ; T_PROC_MAX
001474  f8db0000          LDR      r0,[r11,#0]  ; T_PROC_PS
001478  4288              CMP      r0,r1
00147a  dc07              BGT      |L1.5260|
00147c  281e              CMP      r0,#0x1e
00147e  db05              BLT      |L1.5260|
;;;1211   					{
;;;1212   					T_PROC_PS_MODE=0;	
001480  4833              LDR      r0,|L1.5456|
001482  4639              MOV      r1,r7
001484  8007              STRH     r7,[r0,#0]
;;;1213   					lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
001486  20f0              MOVS     r0,#0xf0
001488  f7fffffe          BL       lc640_write_int
                  |L1.5260|
00148c  f1080801          ADD      r8,r8,#1              ;732
001490  f00808ff          AND      r8,r8,#0xff           ;732
                  |L1.5268|
001494  4826              LDR      r0,|L1.5424|
001496  f9b01004          LDRSH    r1,[r0,#4]            ;732  ; modbus_tcp_rx_arg1
00149a  4588              CMP      r8,r1                 ;732
00149c  f6ffab95          BLT      |L1.3018|
;;;1214   					}				
;;;1215   				}
;;;1216   
;;;1217   
;;;1218   			
;;;1219   			//modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_tcp_func,modbus_tcp_rx_arg0,modbus_tcp_rx_arg1,MODBUS_TCP_PROT);
;;;1220   	
;;;1221   			sendbuf = tcp_get_buf(11);
0014a0  200b              MOVS     r0,#0xb
0014a2  f7fffffe          BL       tcp_get_buf
0014a6  4601              MOV      r1,r0
;;;1222   			sendbuf[0]=ptr[0];
0014a8  7820              LDRB     r0,[r4,#0]
0014aa  7008              STRB     r0,[r1,#0]
;;;1223   			sendbuf[1]=ptr[1];
0014ac  7860              LDRB     r0,[r4,#1]
0014ae  7048              STRB     r0,[r1,#1]
;;;1224   			sendbuf[2]=ptr[2];
0014b0  78a0              LDRB     r0,[r4,#2]
0014b2  7088              STRB     r0,[r1,#2]
;;;1225   			sendbuf[3]=ptr[3];
0014b4  78e0              LDRB     r0,[r4,#3]
0014b6  70c8              STRB     r0,[r1,#3]
;;;1226   			sendbuf[4]=0;
;;;1227   			sendbuf[5]=6;
;;;1228   			sendbuf[6]=modbus_tcp_unit;
0014b8  4c1d              LDR      r4,|L1.5424|
0014ba  710f              STRB     r7,[r1,#4]            ;1226
0014bc  2006              MOVS     r0,#6                 ;1227
0014be  7148              STRB     r0,[r1,#5]            ;1227
0014c0  7860              LDRB     r0,[r4,#1]  ; modbus_tcp_unit
0014c2  7188              STRB     r0,[r1,#6]
;;;1229   			sendbuf[7]=modbus_tcp_func;
0014c4  7820              LDRB     r0,[r4,#0]  ; modbus_tcp_func
0014c6  71c8              STRB     r0,[r1,#7]
;;;1230   			sendbuf[8]=modbus_tcp_rx_arg0/256;
0014c8  f9b42002          LDRSH    r2,[r4,#2]  ; modbus_tcp_rx_arg0
0014cc  17d0              ASRS     r0,r2,#31
0014ce  eb026310          ADD      r3,r2,r0,LSR #24
0014d2  1218              ASRS     r0,r3,#8
0014d4  7208              STRB     r0,[r1,#8]
;;;1231   			sendbuf[9]=modbus_tcp_rx_arg0%256;
0014d6  4610              MOV      r0,r2
0014d8  7248              STRB     r0,[r1,#9]
;;;1232   			sendbuf[10]=modbus_tcp_rx_arg1/256;
0014da  f9b42004          LDRSH    r2,[r4,#4]  ; modbus_tcp_rx_arg1
0014de  17d0              ASRS     r0,r2,#31
0014e0  eb026310          ADD      r3,r2,r0,LSR #24
0014e4  1218              ASRS     r0,r3,#8
0014e6  7288              STRB     r0,[r1,#0xa]
;;;1233   			sendbuf[11]=modbus_tcp_rx_arg1%256;
0014e8  4610              MOV      r0,r2
0014ea  72c8              STRB     r0,[r1,#0xb]
;;;1234   	        tcp_send (socket_tcp, sendbuf, 12);
0014ec  4819              LDR      r0,|L1.5460|
0014ee  220c              MOVS     r2,#0xc
0014f0  7800              LDRB     r0,[r0,#0]  ; socket_tcp
0014f2  f7fffffe          BL       tcp_send
;;;1235   				//
;;;1236   				
;;;1237   				//modbus_tcp_tx_buff[4]=0;
;;;1238   				//modbus_tcp_tx_buff[5]=5;
;;;1239   				//modbus_tcp_tx_buff[6]=1;//modbus_tcp_unit;
;;;1240   				//modbus_tcp_tx_buff[7]=3;//modbus_tcp_func;
;;;1241   				//modbus_tcp_tx_buff[8]=2;
;;;1242   				//mem_copy((char*)&modbus_tcp_tx_buff[9],modbus_tcp_out_ptr,2);
;;;1243   				//modbus_tcp_tx_buff[9]=2;
;;;1244   				//modbus_tcp_tx_buff[10]=3;
;;;1245   				//tcp_send (socket_tcp, modbus_tcp_tx_buff, 11);
;;;1246   
;;;1247    			if((modbus_tcp_rx_arg0!=90)&&(modbus_tcp_rx_arg0!=91)&&(modbus_tcp_rx_arg0!=92)&&(modbus_tcp_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
0014f6  f9b40002          LDRSH    r0,[r4,#2]  ; modbus_tcp_rx_arg0
                  |L1.5370|
0014fa  285a              CMP      r0,#0x5a
0014fc  d00c              BEQ      |L1.5400|
0014fe  285b              CMP      r0,#0x5b
001500  d00a              BEQ      |L1.5400|
001502  285c              CMP      r0,#0x5c
001504  d008              BEQ      |L1.5400|
001506  285d              CMP      r0,#0x5d
001508  d006              BEQ      |L1.5400|
00150a  4813              LDR      r0,|L1.5464|
00150c  8800              LDRH     r0,[r0,#0]  ; EE_WRITE_CNT
00150e  1c40              ADDS     r0,r0,#1
001510  b201              SXTH     r1,r0
001512  204c              MOVS     r0,#0x4c
001514  f7fffffe          BL       lc640_write_int
                  |L1.5400|
;;;1248   
;;;1249   
;;;1250   
;;;1251   
;;;1252   
;;;1253   			}
;;;1254   
;;;1255   			
;;;1256   		} 
;;;1257   	break;
;;;1258   
;;;1259     	case TCP_EVT_CONREQ:
;;;1260         		/* Remote peer requested connect, accept it */
;;;1261       return (1);
;;;1262   
;;;1263       case TCP_EVT_CONNECT:
;;;1264         		/* The TCP socket is connected */
;;;1265         	return (1);
;;;1266     	}
;;;1267   return (0);
001518  2000              MOVS     r0,#0
                  |L1.5402|
;;;1268   }
00151a  b033              ADD      sp,sp,#0xcc
00151c  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.5408|
001520  2001              MOVS     r0,#1                 ;1265
001522  e7fa              B        |L1.5402|
;;;1269   
                          ENDP

                  |L1.5412|
                          DCD      CAP_PAUSE2_TIME
                  |L1.5416|
                          DCD      CAP_MAX_VOLT
                  |L1.5420|
                          DCD      CAP_WRK_CURR
                  |L1.5424|
                          DCD      ||.data||
                  |L1.5428|
                          DCD      I_ug_ram
                  |L1.5432|
                          DCD      U_up_ram
                  |L1.5436|
                          DCD      eepromRamSwitch
                  |L1.5440|
                          DCD      time_proc
                  |L1.5444|
                          DCD      time_proc_remain
                  |L1.5448|
                          DCD      T_PROC_MAX
                  |L1.5452|
                          DCD      T_PROC_GS_MODE
                  |L1.5456|
                          DCD      T_PROC_PS_MODE
                  |L1.5460|
                          DCD      socket_tcp
                  |L1.5464|
                          DCD      EE_WRITE_CNT

                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  plazma_modbus_tcp
                          %        20
                  modbus_tcp_plazma
                          %        20

                          AREA ||.data||, DATA, ALIGN=2

                  modbus_tcp_func
000000  00                DCB      0x00
                  modbus_tcp_unit
000001  00                DCB      0x00
                  modbus_tcp_rx_arg0
000002  0000              DCB      0x00,0x00
                  modbus_tcp_rx_arg1
000004  00000000          DCB      0x00,0x00,0x00,0x00
                  modbus_tcp_out_ptr
                          DCD      0x00000000

                          AREA ||area_number.6||, DATA, ALIGN=1

                          EXPORTAS ||area_number.6||, ||.data||
                  modbus_tcp_rx_arg2
000000  0000              DCB      0x00,0x00
