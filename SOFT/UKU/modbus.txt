; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU2071x_GALV_IBv2.fed --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;37     //-----------------------------------------------
;;;38     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;39     {
000002  4604              MOV      r4,r0
;;;40     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;41     short pos;
;;;42     short i;
;;;43     
;;;44     for (pos = 0; pos < len; pos++)
000008  2200              MOVS     r2,#0
;;;45       	{
;;;46         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;47     
;;;48         	for ( i = 8; i != 0; i--) 
;;;49     		{    // Loop over each bit
;;;50           	if ((crc & 0x0001) != 0) 
;;;51     			{      // If the LSB is set
;;;52             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;53             		crc ^= 0xA001;
00000a  f24a0501          MOV      r5,#0xa001
00000e  e00d              B        |L1.44|
                  |L1.16|
000010  5ca3              LDRB     r3,[r4,r2]            ;46
000012  4058              EORS     r0,r0,r3              ;46
000014  2308              MOVS     r3,#8                 ;48
                  |L1.22|
000016  07c6              LSLS     r6,r0,#31             ;50
;;;54           		}
;;;55           	else  crc >>= 1;                    // Just shift right
000018  ea4f0050          LSR      r0,r0,#1
00001c  d000              BEQ      |L1.32|
00001e  4068              EORS     r0,r0,r5              ;53
                  |L1.32|
000020  1e5b              SUBS     r3,r3,#1              ;48
000022  b21b              SXTH     r3,r3                 ;48
000024  2b00              CMP      r3,#0                 ;48
000026  d1f6              BNE      |L1.22|
000028  1c52              ADDS     r2,r2,#1              ;44
00002a  b212              SXTH     r2,r2                 ;44
                  |L1.44|
00002c  428a              CMP      r2,r1                 ;44
00002e  dbef              BLT      |L1.16|
;;;56         		}
;;;57       	}
;;;58       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;59     return crc;
;;;60     }
000030  bd70              POP      {r4-r6,pc}
;;;61     
                          ENDP

                  modbus_hold_register_transmit PROC
;;;1376   //-----------------------------------------------
;;;1377   void modbus_hold_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000032  e92d43f0          PUSH     {r4-r9,lr}
;;;1378   {
000036  4681              MOV      r9,r0
;;;1379   char modbus_registers[120];
;;;1380   char modbus_tx_buff[100];
;;;1381   unsigned short crc_temp;
;;;1382   char i;
;;;1383   
;;;1384   modbus_registers[0]=(char)(I_ug/256);					//Πεγ50
000038  48f9              LDR      r0,|L1.1056|
00003a  b0b7              SUB      sp,sp,#0xdc           ;1378
;;;1385   modbus_registers[1]=(char)(I_ug%256);
;;;1386   modbus_registers[2]=(char)(U_up/256);					//Πεγ51
;;;1387   modbus_registers[3]=(char)(U_up%256);
;;;1388   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
;;;1389   modbus_registers[5]=(char)(U_maxg%256);
;;;1390   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
;;;1391   modbus_registers[7]=(char)(I_maxp%256);
;;;1392   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
;;;1393   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;1394   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
;;;1395   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;1396   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
;;;1397   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
00003c  f44f6861          MOV      r8,#0xe10
000040  f9b00000          LDRSH    r0,[r0,#0]            ;1384  ; I_ug
000044  17c3              ASRS     r3,r0,#31             ;1384
000046  eb006313          ADD      r3,r0,r3,LSR #24      ;1384
00004a  121c              ASRS     r4,r3,#8              ;1384
00004c  f88d4000          STRB     r4,[sp,#0]            ;1384
000050  f88d0001          STRB     r0,[sp,#1]            ;1385
000054  48f3              LDR      r0,|L1.1060|
000056  f9b00000          LDRSH    r0,[r0,#0]            ;1386  ; U_up
00005a  17c3              ASRS     r3,r0,#31             ;1386
00005c  eb006313          ADD      r3,r0,r3,LSR #24      ;1386
000060  121c              ASRS     r4,r3,#8              ;1386
000062  f88d4002          STRB     r4,[sp,#2]            ;1386
000066  f88d0003          STRB     r0,[sp,#3]            ;1387
00006a  48ef              LDR      r0,|L1.1064|
00006c  f9b00000          LDRSH    r0,[r0,#0]            ;1388  ; U_maxg
000070  17c3              ASRS     r3,r0,#31             ;1388
000072  eb006313          ADD      r3,r0,r3,LSR #24      ;1388
000076  121c              ASRS     r4,r3,#8              ;1388
000078  f88d4004          STRB     r4,[sp,#4]            ;1388
00007c  f88d0005          STRB     r0,[sp,#5]            ;1389
000080  48ea              LDR      r0,|L1.1068|
000082  f9b00000          LDRSH    r0,[r0,#0]            ;1390  ; I_maxp
000086  17c3              ASRS     r3,r0,#31             ;1390
000088  eb006313          ADD      r3,r0,r3,LSR #24      ;1390
00008c  121c              ASRS     r4,r3,#8              ;1390
00008e  f88d4006          STRB     r4,[sp,#6]            ;1390
000092  f88d0007          STRB     r0,[sp,#7]            ;1391
000096  48e6              LDR      r0,|L1.1072|
000098  233c              MOVS     r3,#0x3c              ;1392
00009a  6804              LDR      r4,[r0,#0]            ;1392  ; T_PROC_GS
00009c  fb94f5f3          SDIV     r5,r4,r3              ;1392
0000a0  fb034015          MLS      r0,r3,r5,r4           ;1392
0000a4  17c6              ASRS     r6,r0,#31             ;1392
0000a6  eb006616          ADD      r6,r0,r6,LSR #24      ;1392
0000aa  1237              ASRS     r7,r6,#8              ;1392
0000ac  f88d7008          STRB     r7,[sp,#8]            ;1392
0000b0  f88d0009          STRB     r0,[sp,#9]            ;1393
0000b4  fb95f0f3          SDIV     r0,r5,r3              ;1394
0000b8  fb035010          MLS      r0,r3,r0,r5           ;1394
0000bc  17c5              ASRS     r5,r0,#31             ;1394
0000be  eb006515          ADD      r5,r0,r5,LSR #24      ;1394
0000c2  122e              ASRS     r6,r5,#8              ;1394
0000c4  f88d600a          STRB     r6,[sp,#0xa]          ;1394
0000c8  f88d000b          STRB     r0,[sp,#0xb]          ;1395
0000cc  f44f2761          MOV      r7,#0xe1000           ;1396
0000d0  fb94f0f7          SDIV     r0,r4,r7              ;1396
0000d4  f88d000c          STRB     r0,[sp,#0xc]          ;1396
0000d8  fb94f0f8          SDIV     r0,r4,r8
0000dc  f88d000d          STRB     r0,[sp,#0xd]
;;;1398   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
0000e0  48d4              LDR      r0,|L1.1076|
0000e2  6804              LDR      r4,[r0,#0]  ; T_PROC_PS
0000e4  fb94f5f3          SDIV     r5,r4,r3
0000e8  fb034015          MLS      r0,r3,r5,r4
0000ec  17c6              ASRS     r6,r0,#31
0000ee  eb006616          ADD      r6,r0,r6,LSR #24
0000f2  ea4f2c26          ASR      r12,r6,#8
0000f6  f88dc00e          STRB     r12,[sp,#0xe]
;;;1399   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0000fa  f88d000f          STRB     r0,[sp,#0xf]
;;;1400   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
0000fe  fb95f0f3          SDIV     r0,r5,r3
000102  fb035010          MLS      r0,r3,r0,r5
000106  17c3              ASRS     r3,r0,#31
000108  eb006313          ADD      r3,r0,r3,LSR #24
00010c  121d              ASRS     r5,r3,#8
00010e  f88d5010          STRB     r5,[sp,#0x10]
;;;1401   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
000112  f88d0011          STRB     r0,[sp,#0x11]
;;;1402   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
000116  fb94f0f7          SDIV     r0,r4,r7
00011a  f88d0012          STRB     r0,[sp,#0x12]
;;;1403   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
00011e  fb94f0f8          SDIV     r0,r4,r8
000122  f88d0013          STRB     r0,[sp,#0x13]
;;;1404   modbus_registers[20]=0;								//Πεγ60
000126  2000              MOVS     r0,#0
;;;1405   modbus_registers[21]=0;
;;;1406   if(work_stat==wsPS)modbus_registers[21]=1;
000128  4bc3              LDR      r3,|L1.1080|
00012a  f88d0014          STRB     r0,[sp,#0x14]         ;1404
00012e  f88d0015          STRB     r0,[sp,#0x15]         ;1405
000132  781c              LDRB     r4,[r3,#0]  ; work_stat
000134  2301              MOVS     r3,#1
000136  2c02              CMP      r4,#2
000138  d101              BNE      |L1.318|
00013a  f88d3015          STRB     r3,[sp,#0x15]
                  |L1.318|
;;;1407   modbus_registers[22]=0;								//Πεγ61
00013e  f88d0016          STRB     r0,[sp,#0x16]
;;;1408   modbus_registers[23]=0;
000142  f88d0017          STRB     r0,[sp,#0x17]
;;;1409   if(work_stat==wsGS)modbus_registers[23]=1;
000146  2c01              CMP      r4,#1
000148  d101              BNE      |L1.334|
00014a  f88d3017          STRB     r3,[sp,#0x17]
                  |L1.334|
;;;1410   modbus_registers[24]=0;								//Πεγ62
;;;1411   modbus_registers[25]=0;
;;;1412   if(REV_STAT==rsREW)modbus_registers[25]=1;
00014e  4cbb              LDR      r4,|L1.1084|
000150  f88d0018          STRB     r0,[sp,#0x18]         ;1410
000154  f88d0019          STRB     r0,[sp,#0x19]         ;1411
000158  7824              LDRB     r4,[r4,#0]  ; REV_STAT
00015a  b90c              CBNZ     r4,|L1.352|
00015c  f88d3019          STRB     r3,[sp,#0x19]
                  |L1.352|
;;;1413   modbus_registers[26]=0;								//Πεγ63
000160  f88d001a          STRB     r0,[sp,#0x1a]
;;;1414   modbus_registers[27]=0;
000164  f88d001b          STRB     r0,[sp,#0x1b]
;;;1415   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000168  48b5              LDR      r0,|L1.1088|
00016a  8800              LDRH     r0,[r0,#0]  ; AVT_REV_IS_ON
00016c  b108              CBZ      r0,|L1.370|
00016e  f88d301b          STRB     r3,[sp,#0x1b]
                  |L1.370|
;;;1416   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
000172  48b4              LDR      r0,|L1.1092|
000174  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_FF
000178  17c3              ASRS     r3,r0,#31
00017a  eb006313          ADD      r3,r0,r3,LSR #24
00017e  121c              ASRS     r4,r3,#8
000180  f88d401c          STRB     r4,[sp,#0x1c]
;;;1417   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
000184  f88d001d          STRB     r0,[sp,#0x1d]
;;;1418   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
000188  48af              LDR      r0,|L1.1096|
00018a  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_REW
00018e  17c3              ASRS     r3,r0,#31
000190  eb006313          ADD      r3,r0,r3,LSR #24
000194  121c              ASRS     r4,r3,#8
000196  f88d401e          STRB     r4,[sp,#0x1e]
;;;1419   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
00019a  f88d001f          STRB     r0,[sp,#0x1f]
;;;1420   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
00019e  48ab              LDR      r0,|L1.1100|
0001a0  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_PAUSE
0001a4  17c3              ASRS     r3,r0,#31
0001a6  eb006313          ADD      r3,r0,r3,LSR #24
0001aa  121c              ASRS     r4,r3,#8
0001ac  f88d4020          STRB     r4,[sp,#0x20]
;;;1421   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
0001b0  f88d0021          STRB     r0,[sp,#0x21]
;;;1422   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
0001b4  48a6              LDR      r0,|L1.1104|
0001b6  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_FF
0001ba  17c3              ASRS     r3,r0,#31
0001bc  eb006313          ADD      r3,r0,r3,LSR #24
0001c0  121c              ASRS     r4,r3,#8
0001c2  f88d4022          STRB     r4,[sp,#0x22]
;;;1423   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
0001c6  f88d0023          STRB     r0,[sp,#0x23]
;;;1424   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
0001ca  48a2              LDR      r0,|L1.1108|
0001cc  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_REW
0001d0  17c3              ASRS     r3,r0,#31
0001d2  eb006313          ADD      r3,r0,r3,LSR #24
0001d6  121c              ASRS     r4,r3,#8
0001d8  f88d4024          STRB     r4,[sp,#0x24]
;;;1425   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
0001dc  f88d0025          STRB     r0,[sp,#0x25]
;;;1426   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
0001e0  489d              LDR      r0,|L1.1112|
0001e2  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_FF
0001e6  17c3              ASRS     r3,r0,#31
0001e8  eb006313          ADD      r3,r0,r3,LSR #24
0001ec  121c              ASRS     r4,r3,#8
0001ee  f88d4026          STRB     r4,[sp,#0x26]
;;;1427   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
0001f2  f88d0027          STRB     r0,[sp,#0x27]
;;;1428   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
0001f6  4899              LDR      r0,|L1.1116|
0001f8  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_REW
0001fc  17c3              ASRS     r3,r0,#31
0001fe  eb006313          ADD      r3,r0,r3,LSR #24
000202  121c              ASRS     r4,r3,#8
000204  f88d4028          STRB     r4,[sp,#0x28]
;;;1429   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
000208  f88d0029          STRB     r0,[sp,#0x29]
;;;1430   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
00020c  4894              LDR      r0,|L1.1120|
00020e  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_ZAR_TIME
000212  17c3              ASRS     r3,r0,#31
000214  eb006313          ADD      r3,r0,r3,LSR #24
000218  121c              ASRS     r4,r3,#8
00021a  f88d402a          STRB     r4,[sp,#0x2a]
;;;1431   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
00021e  f88d002b          STRB     r0,[sp,#0x2b]
;;;1432   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
000222  4890              LDR      r0,|L1.1124|
000224  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE1_TIME
000228  17c3              ASRS     r3,r0,#31
00022a  eb006313          ADD      r3,r0,r3,LSR #24
00022e  121c              ASRS     r4,r3,#8
000230  f88d402c          STRB     r4,[sp,#0x2c]
;;;1433   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
000234  f88d002d          STRB     r0,[sp,#0x2d]
;;;1434   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
000238  488b              LDR      r0,|L1.1128|
00023a  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_RAZR_TIME
00023e  17c3              ASRS     r3,r0,#31
000240  eb006313          ADD      r3,r0,r3,LSR #24
000244  121c              ASRS     r4,r3,#8
000246  f88d402e          STRB     r4,[sp,#0x2e]
;;;1435   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
00024a  f88d002f          STRB     r0,[sp,#0x2f]
;;;1436   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
00024e  4887              LDR      r0,|L1.1132|
000250  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE2_TIME
000254  17c3              ASRS     r3,r0,#31
000256  eb006313          ADD      r3,r0,r3,LSR #24
00025a  121c              ASRS     r4,r3,#8
00025c  f88d4030          STRB     r4,[sp,#0x30]
;;;1437   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
000260  f88d0031          STRB     r0,[sp,#0x31]
;;;1438   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
000264  4882              LDR      r0,|L1.1136|
000266  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_MAX_VOLT
00026a  17c3              ASRS     r3,r0,#31
00026c  eb006313          ADD      r3,r0,r3,LSR #24
000270  121c              ASRS     r4,r3,#8
000272  f88d4032          STRB     r4,[sp,#0x32]
;;;1439   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
000276  f88d0033          STRB     r0,[sp,#0x33]
;;;1440   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
00027a  487e              LDR      r0,|L1.1140|
00027c  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_WRK_CURR
;;;1441   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
;;;1442   
;;;1443   modbus_tx_buff[0]=adr;
000280  f88d9078          STRB     r9,[sp,#0x78]
000284  17c3              ASRS     r3,r0,#31             ;1440
000286  eb006313          ADD      r3,r0,r3,LSR #24      ;1440
00028a  121c              ASRS     r4,r3,#8              ;1440
00028c  f88d4034          STRB     r4,[sp,#0x34]         ;1440
000290  f88d0035          STRB     r0,[sp,#0x35]         ;1441
;;;1444   modbus_tx_buff[1]=func;
000294  f88d1079          STRB     r1,[sp,#0x79]
;;;1445   modbus_tx_buff[2]=(char)(reg_adr/256);
000298  0a10              LSRS     r0,r2,#8
00029a  f88d007a          STRB     r0,[sp,#0x7a]
;;;1446   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;1447   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;1448   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;1449   
;;;1450   
;;;1451   memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00029e  4668              MOV      r0,sp
0002a0  eb000042          ADD      r0,r0,r2,LSL #1
0002a4  f88d207b          STRB     r2,[sp,#0x7b]         ;1446
0002a8  f8300c02          LDRH     r0,[r0,#-2]
0002ac  f8ad007c          STRH     r0,[sp,#0x7c]
;;;1452   
;;;1453   crc_temp=CRC16_2(modbus_tx_buff,6);
0002b0  2106              MOVS     r1,#6
0002b2  a81e              ADD      r0,sp,#0x78
0002b4  f7fffffe          BL       CRC16_2
;;;1454   
;;;1455   modbus_tx_buff[6]=crc_temp%256;
0002b8  f88d007e          STRB     r0,[sp,#0x7e]
;;;1456   modbus_tx_buff[7]=crc_temp/256;
0002bc  0a00              LSRS     r0,r0,#8
0002be  f88d007f          STRB     r0,[sp,#0x7f]
;;;1457   
;;;1458   for (i=0;i<8;i++)
0002c2  2400              MOVS     r4,#0
0002c4  ad1e              ADD      r5,sp,#0x78           ;1380
                  |L1.710|
;;;1459   	{
;;;1460   	putchar0(modbus_tx_buff[i]);
0002c6  5d28              LDRB     r0,[r5,r4]
0002c8  f7fffffe          BL       putchar0
0002cc  1c64              ADDS     r4,r4,#1              ;1458
0002ce  b2e4              UXTB     r4,r4                 ;1458
0002d0  2c08              CMP      r4,#8                 ;1458
0002d2  d3f8              BCC      |L1.710|
;;;1461   	}
;;;1462   for (i=0;i<8;i++)
0002d4  2400              MOVS     r4,#0
                  |L1.726|
;;;1463   	{
;;;1464   	putchar_sc16is700(modbus_tx_buff[i]);
0002d6  5d28              LDRB     r0,[r5,r4]
0002d8  f7fffffe          BL       putchar_sc16is700
0002dc  1c64              ADDS     r4,r4,#1              ;1462
0002de  b2e4              UXTB     r4,r4                 ;1462
0002e0  2c08              CMP      r4,#8                 ;1462
0002e2  d3f8              BCC      |L1.726|
;;;1465   	}
;;;1466   }	
0002e4  b037              ADD      sp,sp,#0xdc
0002e6  e8bd83f0          POP      {r4-r9,pc}
;;;1467   
                          ENDP

                  modbus_input_registers_transmit PROC
;;;1132   //-----------------------------------------------
;;;1133   void modbus_input_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short reg_quantity, char prot)
0002ea  e92d4ff0          PUSH     {r4-r11,lr}
;;;1134   {
0002ee  4683              MOV      r11,r0
;;;1135   //char modbus_registers[110];
;;;1136   char modbus_tx_buff[200];
;;;1137   unsigned short crc_temp;
;;;1138   char i;
;;;1139   /*
;;;1140   load_U=1234;
;;;1141   load_I=5678;
;;;1142   time_proc=361233UL;//1357;
;;;1143   time_proc_remain=722444UL;//1357;
;;;1144   
;;;1145   bVOLT_IS_NOT_DOWN=0;
;;;1146   bVOLT_IS_NOT_UP=1;	*/
;;;1147   
;;;1148   modbus_registers[0]=(char)(load_U/256);					//Πεγ1
0002f0  4861              LDR      r0,|L1.1144|
0002f2  468e              MOV      lr,r1                 ;1134
0002f4  4692              MOV      r10,r2                ;1134
0002f6  f9b01000          LDRSH    r1,[r0,#0]  ; load_U
0002fa  b0b3              SUB      sp,sp,#0xcc           ;1134
0002fc  17c8              ASRS     r0,r1,#31
0002fe  eb016210          ADD      r2,r1,r0,LSR #24
000302  485e              LDR      r0,|L1.1148|
000304  461c              MOV      r4,r3                 ;1134
000306  1213              ASRS     r3,r2,#8
000308  f8ddc0f0          LDR      r12,[sp,#0xf0]
00030c  7003              STRB     r3,[r0,#0]
;;;1149   modbus_registers[1]=(char)(load_U%256);
00030e  7041              STRB     r1,[r0,#1]
;;;1150   modbus_registers[2]=(char)(load_I/256);					//Πεγ2
000310  495b              LDR      r1,|L1.1152|
;;;1151   modbus_registers[3]=(char)(load_I%256);
;;;1152   modbus_registers[4]=(char)((time_proc%60)/256);			//Πεγ3
;;;1153   modbus_registers[5]=(char)((time_proc%60)%256);
;;;1154   modbus_registers[6]=(char)(((time_proc/60)%60)/256);		//Πεγ4
;;;1155   modbus_registers[7]=(char)(((time_proc/60)%60)%256);
;;;1156   modbus_registers[8]=(char)((time_proc/3600)/256);			//Πεγ5
000312  f44f2961          MOV      r9,#0xe1000
;;;1157   modbus_registers[9]=(char)((time_proc/3600)%256);		 	
000316  f44f6861          MOV      r8,#0xe10
00031a  f9b11000          LDRSH    r1,[r1,#0]            ;1150  ; load_I
00031e  17ca              ASRS     r2,r1,#31             ;1150
000320  eb016212          ADD      r2,r1,r2,LSR #24      ;1150
000324  1213              ASRS     r3,r2,#8              ;1150
000326  7083              STRB     r3,[r0,#2]            ;1150
000328  70c1              STRB     r1,[r0,#3]            ;1151
00032a  4956              LDR      r1,|L1.1156|
00032c  223c              MOVS     r2,#0x3c              ;1152
00032e  680b              LDR      r3,[r1,#0]            ;1152  ; time_proc
000330  fb93f5f2          SDIV     r5,r3,r2              ;1152
000334  fb023115          MLS      r1,r2,r5,r3           ;1152
000338  17ce              ASRS     r6,r1,#31             ;1152
00033a  eb016716          ADD      r7,r1,r6,LSR #24      ;1152
00033e  123e              ASRS     r6,r7,#8              ;1152
000340  7106              STRB     r6,[r0,#4]            ;1152
000342  7141              STRB     r1,[r0,#5]            ;1153
000344  fb95f1f2          SDIV     r1,r5,r2              ;1154
000348  fb025111          MLS      r1,r2,r1,r5           ;1154
00034c  17cd              ASRS     r5,r1,#31             ;1154
00034e  eb016515          ADD      r5,r1,r5,LSR #24      ;1154
000352  122e              ASRS     r6,r5,#8              ;1154
000354  7186              STRB     r6,[r0,#6]            ;1154
000356  71c1              STRB     r1,[r0,#7]            ;1155
000358  fb93f1f9          SDIV     r1,r3,r9              ;1156
00035c  7201              STRB     r1,[r0,#8]            ;1156
00035e  fb93f1f8          SDIV     r1,r3,r8
000362  7241              STRB     r1,[r0,#9]
;;;1158   modbus_registers[10]=(char)((time_proc_remain%60)/256);	//Πεγ6
000364  4948              LDR      r1,|L1.1160|
000366  680b              LDR      r3,[r1,#0]  ; time_proc_remain
000368  fb93f7f2          SDIV     r7,r3,r2
00036c  fb023117          MLS      r1,r2,r7,r3
000370  17cd              ASRS     r5,r1,#31
000372  eb016515          ADD      r5,r1,r5,LSR #24
000376  122e              ASRS     r6,r5,#8
000378  7286              STRB     r6,[r0,#0xa]
;;;1159   modbus_registers[11]=(char)((time_proc_remain%60)%256);
00037a  72c1              STRB     r1,[r0,#0xb]
;;;1160   modbus_registers[12]=(char)(((time_proc_remain/60)%60)/256);//Πεγ7
00037c  fb97f1f2          SDIV     r1,r7,r2
000380  fb027111          MLS      r1,r2,r1,r7
000384  17ca              ASRS     r2,r1,#31
000386  eb016212          ADD      r2,r1,r2,LSR #24
00038a  1215              ASRS     r5,r2,#8
00038c  7305              STRB     r5,[r0,#0xc]
;;;1161   modbus_registers[13]=(char)(((time_proc_remain/60)%60)%256);
00038e  7341              STRB     r1,[r0,#0xd]
;;;1162   modbus_registers[14]=(char)((time_proc_remain/3600)/256);	//Πεγ8
000390  fb93f1f9          SDIV     r1,r3,r9
000394  7381              STRB     r1,[r0,#0xe]
;;;1163   modbus_registers[15]=(char)((time_proc_remain/3600)%256);
000396  fb93f1f8          SDIV     r1,r3,r8
00039a  73c1              STRB     r1,[r0,#0xf]
;;;1164   modbus_registers[16]=(char)((CAP_COUNTER)/256);			//Πεγ9
00039c  493b              LDR      r1,|L1.1164|
00039e  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_COUNTER
0003a2  17ca              ASRS     r2,r1,#31
0003a4  eb016212          ADD      r2,r1,r2,LSR #24
0003a8  1213              ASRS     r3,r2,#8
0003aa  7403              STRB     r3,[r0,#0x10]
;;;1165   modbus_registers[17]=(char)((CAP_COUNTER)%256);
0003ac  7441              STRB     r1,[r0,#0x11]
;;;1166   modbus_registers[18]=(char)((CAP_TIME_SEC)/256);			//Πεγ10
0003ae  4938              LDR      r1,|L1.1168|
0003b0  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_SEC
0003b4  17ca              ASRS     r2,r1,#31
0003b6  eb016212          ADD      r2,r1,r2,LSR #24
0003ba  1213              ASRS     r3,r2,#8
0003bc  7483              STRB     r3,[r0,#0x12]
;;;1167   modbus_registers[19]=(char)((CAP_TIME_SEC)%256);
0003be  74c1              STRB     r1,[r0,#0x13]
;;;1168   modbus_registers[20]=(char)((CAP_TIME_MIN)/256);			//Πεγ11
0003c0  4934              LDR      r1,|L1.1172|
0003c2  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_MIN
0003c6  17ca              ASRS     r2,r1,#31
0003c8  eb016212          ADD      r2,r1,r2,LSR #24
0003cc  1213              ASRS     r3,r2,#8
0003ce  7503              STRB     r3,[r0,#0x14]
;;;1169   modbus_registers[21]=(char)((CAP_TIME_MIN)%256);
0003d0  7541              STRB     r1,[r0,#0x15]
;;;1170   modbus_registers[22]=(char)((CAP_TIME_HOUR)/256);			//Πεγ12
0003d2  4931              LDR      r1,|L1.1176|
0003d4  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_HOUR
0003d8  17ca              ASRS     r2,r1,#31
0003da  eb016212          ADD      r2,r1,r2,LSR #24
0003de  1213              ASRS     r3,r2,#8
0003e0  7583              STRB     r3,[r0,#0x16]
;;;1171   modbus_registers[23]=(char)((CAP_TIME_HOUR)%256);
0003e2  75c1              STRB     r1,[r0,#0x17]
;;;1172   modbus_registers[24]=0;
0003e4  2100              MOVS     r1,#0
;;;1173   modbus_registers[25]=0;										//Πεγ13
;;;1174   if(bVOLT_IS_NOT_DOWN)	modbus_registers[25]=1;
0003e6  4a2d              LDR      r2,|L1.1180|
0003e8  7601              STRB     r1,[r0,#0x18]         ;1172
0003ea  7641              STRB     r1,[r0,#0x19]         ;1173
0003ec  7813              LDRB     r3,[r2,#0]  ; bVOLT_IS_NOT_DOWN
0003ee  2201              MOVS     r2,#1
0003f0  b103              CBZ      r3,|L1.1012|
0003f2  7642              STRB     r2,[r0,#0x19]
                  |L1.1012|
;;;1175   modbus_registers[26]=0;
0003f4  7681              STRB     r1,[r0,#0x1a]
;;;1176   modbus_registers[27]=0;										//Πεγ14
0003f6  76c1              STRB     r1,[r0,#0x1b]
;;;1177   if(bVOLT_IS_NOT_UP)	modbus_registers[27]=1;
0003f8  4929              LDR      r1,|L1.1184|
0003fa  7809              LDRB     r1,[r1,#0]  ; bVOLT_IS_NOT_UP
0003fc  b101              CBZ      r1,|L1.1024|
0003fe  76c2              STRB     r2,[r0,#0x1b]
                  |L1.1024|
000400  491e              LDR      r1,|L1.1148|
;;;1178   								
;;;1179   /*
;;;1180   modbus_registers[16]=(char)(I_ug/256);					//Πεγ9
;;;1181   modbus_registers[17]=(char)(I_ug%256);
;;;1182   modbus_registers[18]=(char)(U_up/256);					//Πεγ10
;;;1183   modbus_registers[19]=(char)(U_up%256);
;;;1184   modbus_registers[20]=(char)(U_maxg/256);				//Πεγ11
;;;1185   modbus_registers[21]=(char)(U_maxg%256);
;;;1186   modbus_registers[22]=(char)(I_maxp/256);				//Πεγ12
;;;1187   modbus_registers[23]=(char)(I_maxp%256);
;;;1188   modbus_registers[24]=(char)((T_PROC_GS%60)/256);			//Πεγ13
;;;1189   modbus_registers[25]=(char)((T_PROC_GS%60)%256);
;;;1190   modbus_registers[26]=(char)((T_PROC_GS/60)/256);			//Πεγ14
;;;1191   modbus_registers[27]=(char)((T_PROC_GS/60)%256);
;;;1192   modbus_registers[28]=(char)((T_PROC_GS/3600)/256);		//Πεγ15
;;;1193   modbus_registers[29]=(char)((T_PROC_GS/3600)%256);
;;;1194   modbus_registers[30]=(char)((T_PROC_PS%60)/256);			//Πεγ16
;;;1195   modbus_registers[31]=(char)((T_PROC_PS%60)%256);
;;;1196   modbus_registers[32]=(char)((T_PROC_PS/60)/256);			//Πεγ17
;;;1197   modbus_registers[33]=(char)((T_PROC_PS/60)%256);
;;;1198   modbus_registers[34]=(char)((T_PROC_PS/3600)/256);		//Πεγ18
;;;1199   modbus_registers[35]=(char)((T_PROC_PS/3600)%256);
;;;1200   modbus_registers[36]=0;								//Πεγ19
;;;1201   modbus_registers[37]=0;
;;;1202   if(work_stat==wsPS)modbus_registers[37]=1;
;;;1203   modbus_registers[38]=0;								//Πεγ20
;;;1204   modbus_registers[39]=0;
;;;1205   if(work_stat==wsGS)modbus_registers[39]=1;
;;;1206   modbus_registers[40]=0;								//Πεγ21
;;;1207   modbus_registers[41]=0;
;;;1208   if(REV_STAT==rsREW)modbus_registers[41]=1;
;;;1209   modbus_registers[42]=0;								//Πεγ22
;;;1210   modbus_registers[43]=0;
;;;1211   if(AVT_REV_IS_ON)modbus_registers[42]=1;
;;;1212   */
;;;1213   if(prot==MODBUS_RTU_PROT)
000402  f1bc0f00          CMP      r12,#0
;;;1214   	{
;;;1215   	modbus_tx_buff[0]=adr;
;;;1216   	modbus_tx_buff[1]=func;
;;;1217   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;1218   	
;;;1219   	memcpy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000406  eb01014a          ADD      r1,r1,r10,LSL #1
00040a  d04d              BEQ      |L1.1192|
;;;1220   	
;;;1221   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;1222   	
;;;1223   	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;1224   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1225   	
;;;1226   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1227   		{
;;;1228   		putchar0(modbus_tx_buff[i]);
;;;1229   		}
;;;1230   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1231   		{
;;;1232   		putchar_sc16is700(modbus_tx_buff[i]);
;;;1233   		}
;;;1234   	}
;;;1235   else if(prot==MODBUS_TCP_PROT)
00040c  f1bc0f01          CMP      r12,#1
000410  d102              BNE      |L1.1048|
;;;1236   	{
;;;1237   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-1)*2];
000412  4824              LDR      r0,|L1.1188|
000414  1e89              SUBS     r1,r1,#2
000416  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.1048|
;;;1238   	}
;;;1239   }
000418  b033              ADD      sp,sp,#0xcc
                  |L1.1050|
00041a  e8bd8ff0          POP      {r4-r11,pc}
00041e  0000              DCW      0x0000
                  |L1.1056|
                          DCD      I_ug
                  |L1.1060|
                          DCD      U_up
                  |L1.1064|
                          DCD      U_maxg
                  |L1.1068|
                          DCD      I_maxp
                  |L1.1072|
                          DCD      T_PROC_GS
                  |L1.1076|
                          DCD      T_PROC_PS
                  |L1.1080|
                          DCD      work_stat
                  |L1.1084|
                          DCD      REV_STAT
                  |L1.1088|
                          DCD      AVT_REV_IS_ON
                  |L1.1092|
                          DCD      AVT_REV_TIME_FF
                  |L1.1096|
                          DCD      AVT_REV_TIME_REW
                  |L1.1100|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.1104|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.1108|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.1112|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.1116|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.1120|
                          DCD      CAP_ZAR_TIME
                  |L1.1124|
                          DCD      CAP_PAUSE1_TIME
                  |L1.1128|
                          DCD      CAP_RAZR_TIME
                  |L1.1132|
                          DCD      CAP_PAUSE2_TIME
                  |L1.1136|
                          DCD      CAP_MAX_VOLT
                  |L1.1140|
                          DCD      CAP_WRK_CURR
                  |L1.1144|
                          DCD      load_U
                  |L1.1148|
                          DCD      ||area_number.4||+0x3c
                  |L1.1152|
                          DCD      load_I
                  |L1.1156|
                          DCD      time_proc
                  |L1.1160|
                          DCD      time_proc_remain
                  |L1.1164|
                          DCD      CAP_COUNTER
                  |L1.1168|
                          DCD      CAP_TIME_SEC
                  |L1.1172|
                          DCD      CAP_TIME_MIN
                  |L1.1176|
                          DCD      CAP_TIME_HOUR
                  |L1.1180|
                          DCD      bVOLT_IS_NOT_DOWN
                  |L1.1184|
                          DCD      bVOLT_IS_NOT_UP
                  |L1.1188|
                          DCD      modbus_tcp_out_ptr
                  |L1.1192|
0004a8  f88db000          STRB     r11,[sp,#0]           ;1215
0004ac  f88de001          STRB     lr,[sp,#1]            ;1216
0004b0  0062              LSLS     r2,r4,#1              ;1217
0004b2  466d              MOV      r5,sp                 ;1219
0004b4  f88d2002          STRB     r2,[sp,#2]            ;1217
0004b8  1e89              SUBS     r1,r1,#2              ;1219
0004ba  1ce8              ADDS     r0,r5,#3              ;1219
0004bc  f7fffffe          BL       __aeabi_memcpy
0004c0  2003              MOVS     r0,#3                 ;1221
0004c2  eb000044          ADD      r0,r0,r4,LSL #1       ;1221
0004c6  b201              SXTH     r1,r0                 ;1221
0004c8  4668              MOV      r0,sp                 ;1221
0004ca  f7fffffe          BL       CRC16_2
0004ce  eb050144          ADD      r1,r5,r4,LSL #1       ;1223
0004d2  2600              MOVS     r6,#0                 ;1226
0004d4  70c8              STRB     r0,[r1,#3]            ;1223
0004d6  0a00              LSRS     r0,r0,#8              ;1224
0004d8  7108              STRB     r0,[r1,#4]            ;1224
0004da  2005              MOVS     r0,#5                 ;1226
0004dc  eb000744          ADD      r7,r0,r4,LSL #1       ;1226
0004e0  e004              B        |L1.1260|
                  |L1.1250|
0004e2  5da8              LDRB     r0,[r5,r6]            ;1228
0004e4  f7fffffe          BL       putchar0
0004e8  1c76              ADDS     r6,r6,#1              ;1226
0004ea  b2f6              UXTB     r6,r6                 ;1226
                  |L1.1260|
0004ec  42b7              CMP      r7,r6                 ;1226
0004ee  d8f8              BHI      |L1.1250|
0004f0  2400              MOVS     r4,#0                 ;1230
0004f2  e004              B        |L1.1278|
                  |L1.1268|
0004f4  5d28              LDRB     r0,[r5,r4]            ;1232
0004f6  f7fffffe          BL       putchar_sc16is700
0004fa  1c64              ADDS     r4,r4,#1              ;1230
0004fc  b2e4              UXTB     r4,r4                 ;1230
                  |L1.1278|
0004fe  42a7              CMP      r7,r4                 ;1230
000500  d8f8              BHI      |L1.1268|
000502  e789              B        |L1.1048|
;;;1240   
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;1469   //-----------------------------------------------
;;;1470   void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short reg_quantity, char prot)
000504  e92d4fff          PUSH     {r0-r11,lr}
;;;1471   {
000508  b0b3              SUB      sp,sp,#0xcc
00050a  4682              MOV      r10,r0
00050c  4693              MOV      r11,r2
00050e  461d              MOV      r5,r3
;;;1472   //char modbus_registers[110];
;;;1473   char modbus_tx_buff[200];
;;;1474   unsigned short crc_temp;
;;;1475   char i;
;;;1476   
;;;1477   //reg_adr=45;
;;;1478   //I_ug=reg_adr;
;;;1479   //U_up=5678;
;;;1480   
;;;1481   modbus_registers[0]=(char)(lc640_read_int(EE_I_UG)/256);//Πεγ50
000510  2020              MOVS     r0,#0x20
000512  f8dd9100          LDR      r9,[sp,#0x100]
000516  f7fffffe          BL       lc640_read_int
00051a  17c1              ASRS     r1,r0,#31
00051c  eb006011          ADD      r0,r0,r1,LSR #24
000520  1200              ASRS     r0,r0,#8
000522  4cff              LDR      r4,|L1.2336|
000524  7020              STRB     r0,[r4,#0]
;;;1482   modbus_registers[1]=(char)(lc640_read_int(EE_I_UG)%256);
000526  2020              MOVS     r0,#0x20
000528  f7fffffe          BL       lc640_read_int
00052c  7060              STRB     r0,[r4,#1]
;;;1483   modbus_registers[2]=(char)(lc640_read_int(EE_U_UP)/256);//Πεγ51
00052e  2022              MOVS     r0,#0x22
000530  f7fffffe          BL       lc640_read_int
000534  17c1              ASRS     r1,r0,#31
000536  eb006011          ADD      r0,r0,r1,LSR #24
00053a  1200              ASRS     r0,r0,#8
00053c  70a0              STRB     r0,[r4,#2]
;;;1484   modbus_registers[3]=(char)(lc640_read_int(EE_U_UP)%256);
00053e  2022              MOVS     r0,#0x22
000540  f7fffffe          BL       lc640_read_int
000544  70e0              STRB     r0,[r4,#3]
;;;1485   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
000546  48f7              LDR      r0,|L1.2340|
;;;1486   modbus_registers[5]=(char)(U_maxg%256);
;;;1487   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
;;;1488   modbus_registers[7]=(char)(I_maxp%256);
;;;1489   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
;;;1490   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;1491   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
;;;1492   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;1493   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
000548  f44f2861          MOV      r8,#0xe1000
;;;1494   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
00054c  f44f6c61          MOV      r12,#0xe10
000550  f9b00000          LDRSH    r0,[r0,#0]            ;1485  ; U_maxg
000554  17c1              ASRS     r1,r0,#31             ;1485
000556  eb006111          ADD      r1,r0,r1,LSR #24      ;1485
00055a  120a              ASRS     r2,r1,#8              ;1485
00055c  7122              STRB     r2,[r4,#4]            ;1485
00055e  7160              STRB     r0,[r4,#5]            ;1486
000560  48f1              LDR      r0,|L1.2344|
000562  f9b00000          LDRSH    r0,[r0,#0]            ;1487  ; I_maxp
000566  17c1              ASRS     r1,r0,#31             ;1487
000568  eb006111          ADD      r1,r0,r1,LSR #24      ;1487
00056c  120a              ASRS     r2,r1,#8              ;1487
00056e  71a2              STRB     r2,[r4,#6]            ;1487
000570  71e0              STRB     r0,[r4,#7]            ;1488
000572  48ee              LDR      r0,|L1.2348|
000574  213c              MOVS     r1,#0x3c              ;1489
000576  6802              LDR      r2,[r0,#0]            ;1489  ; T_PROC_GS
000578  fb92f7f1          SDIV     r7,r2,r1              ;1489
00057c  fb012017          MLS      r0,r1,r7,r2           ;1489
000580  17c3              ASRS     r3,r0,#31             ;1489
000582  eb006313          ADD      r3,r0,r3,LSR #24      ;1489
000586  121e              ASRS     r6,r3,#8              ;1489
000588  7226              STRB     r6,[r4,#8]            ;1489
00058a  7260              STRB     r0,[r4,#9]            ;1490
00058c  fb97f0f1          SDIV     r0,r7,r1              ;1491
000590  fb017010          MLS      r0,r1,r0,r7           ;1491
000594  17c3              ASRS     r3,r0,#31             ;1491
000596  eb006313          ADD      r3,r0,r3,LSR #24      ;1491
00059a  121e              ASRS     r6,r3,#8              ;1491
00059c  72a6              STRB     r6,[r4,#0xa]          ;1491
00059e  72e0              STRB     r0,[r4,#0xb]          ;1492
0005a0  fb92f0f8          SDIV     r0,r2,r8              ;1493
0005a4  7320              STRB     r0,[r4,#0xc]          ;1493
0005a6  fb92f0fc          SDIV     r0,r2,r12
0005aa  7360              STRB     r0,[r4,#0xd]
;;;1495   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
0005ac  48e0              LDR      r0,|L1.2352|
0005ae  6802              LDR      r2,[r0,#0]  ; T_PROC_PS
0005b0  fb92f7f1          SDIV     r7,r2,r1
0005b4  fb012017          MLS      r0,r1,r7,r2
0005b8  17c3              ASRS     r3,r0,#31
0005ba  eb006313          ADD      r3,r0,r3,LSR #24
0005be  121e              ASRS     r6,r3,#8
0005c0  73a6              STRB     r6,[r4,#0xe]
;;;1496   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0005c2  73e0              STRB     r0,[r4,#0xf]
;;;1497   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
0005c4  fb97f0f1          SDIV     r0,r7,r1
0005c8  fb017010          MLS      r0,r1,r0,r7
0005cc  17c1              ASRS     r1,r0,#31
0005ce  eb006111          ADD      r1,r0,r1,LSR #24
0005d2  120b              ASRS     r3,r1,#8
0005d4  7423              STRB     r3,[r4,#0x10]
;;;1498   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
0005d6  7460              STRB     r0,[r4,#0x11]
;;;1499   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
0005d8  fb92f0f8          SDIV     r0,r2,r8
0005dc  74a0              STRB     r0,[r4,#0x12]
;;;1500   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
0005de  fb92f0fc          SDIV     r0,r2,r12
0005e2  74e0              STRB     r0,[r4,#0x13]
;;;1501   modbus_registers[20]=0;								//Πεγ60
0005e4  2000              MOVS     r0,#0
;;;1502   modbus_registers[21]=0;
;;;1503   if(work_stat==wsPS)modbus_registers[21]=1;
0005e6  49d3              LDR      r1,|L1.2356|
0005e8  7520              STRB     r0,[r4,#0x14]         ;1501
0005ea  7560              STRB     r0,[r4,#0x15]         ;1502
0005ec  780a              LDRB     r2,[r1,#0]  ; work_stat
0005ee  2101              MOVS     r1,#1
0005f0  2a02              CMP      r2,#2
0005f2  d100              BNE      |L1.1526|
0005f4  7561              STRB     r1,[r4,#0x15]
                  |L1.1526|
;;;1504   modbus_registers[22]=0;								//Πεγ61
0005f6  75a0              STRB     r0,[r4,#0x16]
;;;1505   modbus_registers[23]=0;
0005f8  75e0              STRB     r0,[r4,#0x17]
;;;1506   if(work_stat==wsGS)modbus_registers[23]=1;
0005fa  2a01              CMP      r2,#1
0005fc  d100              BNE      |L1.1536|
0005fe  75e1              STRB     r1,[r4,#0x17]
                  |L1.1536|
;;;1507   modbus_registers[24]=0;								//Πεγ62
;;;1508   modbus_registers[25]=0;
;;;1509   if(REV_STAT==rsREW)modbus_registers[25]=1;
000600  4acd              LDR      r2,|L1.2360|
000602  7620              STRB     r0,[r4,#0x18]         ;1507
000604  7660              STRB     r0,[r4,#0x19]         ;1508
000606  7812              LDRB     r2,[r2,#0]  ; REV_STAT
000608  b902              CBNZ     r2,|L1.1548|
00060a  7661              STRB     r1,[r4,#0x19]
                  |L1.1548|
;;;1510   modbus_registers[26]=0;								//Πεγ63
00060c  76a0              STRB     r0,[r4,#0x1a]
;;;1511   modbus_registers[27]=0;
00060e  76e0              STRB     r0,[r4,#0x1b]
;;;1512   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000610  48ca              LDR      r0,|L1.2364|
000612  8800              LDRH     r0,[r0,#0]  ; AVT_REV_IS_ON
000614  b100              CBZ      r0,|L1.1560|
000616  76e1              STRB     r1,[r4,#0x1b]
                  |L1.1560|
;;;1513   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
000618  48c9              LDR      r0,|L1.2368|
00061a  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_FF
00061e  17c1              ASRS     r1,r0,#31
000620  eb006111          ADD      r1,r0,r1,LSR #24
000624  120a              ASRS     r2,r1,#8
000626  f8042f1c          STRB     r2,[r4,#0x1c]!
;;;1514   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
00062a  7060              STRB     r0,[r4,#1]
;;;1515   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
00062c  48c5              LDR      r0,|L1.2372|
00062e  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_REW
000632  17c1              ASRS     r1,r0,#31
000634  eb006111          ADD      r1,r0,r1,LSR #24
000638  120a              ASRS     r2,r1,#8
00063a  70a2              STRB     r2,[r4,#2]
;;;1516   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
00063c  70e0              STRB     r0,[r4,#3]
;;;1517   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
00063e  48c2              LDR      r0,|L1.2376|
000640  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_PAUSE
000644  17c1              ASRS     r1,r0,#31
000646  eb006111          ADD      r1,r0,r1,LSR #24
00064a  120a              ASRS     r2,r1,#8
00064c  7122              STRB     r2,[r4,#4]
;;;1518   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
00064e  7160              STRB     r0,[r4,#5]
;;;1519   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
000650  48be              LDR      r0,|L1.2380|
000652  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_FF
000656  17c1              ASRS     r1,r0,#31
000658  eb006111          ADD      r1,r0,r1,LSR #24
00065c  120a              ASRS     r2,r1,#8
00065e  71a2              STRB     r2,[r4,#6]
;;;1520   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
000660  71e0              STRB     r0,[r4,#7]
;;;1521   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
000662  48bb              LDR      r0,|L1.2384|
000664  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_REW
000668  17c1              ASRS     r1,r0,#31
00066a  eb006111          ADD      r1,r0,r1,LSR #24
00066e  120a              ASRS     r2,r1,#8
000670  7222              STRB     r2,[r4,#8]
;;;1522   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
000672  7260              STRB     r0,[r4,#9]
;;;1523   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
000674  48b7              LDR      r0,|L1.2388|
000676  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_FF
00067a  17c1              ASRS     r1,r0,#31
00067c  eb006111          ADD      r1,r0,r1,LSR #24
000680  120a              ASRS     r2,r1,#8
000682  72a2              STRB     r2,[r4,#0xa]
;;;1524   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
000684  72e0              STRB     r0,[r4,#0xb]
;;;1525   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
000686  48b4              LDR      r0,|L1.2392|
000688  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_REW
00068c  17c1              ASRS     r1,r0,#31
00068e  eb006111          ADD      r1,r0,r1,LSR #24
000692  120a              ASRS     r2,r1,#8
000694  7322              STRB     r2,[r4,#0xc]
;;;1526   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
000696  7360              STRB     r0,[r4,#0xd]
;;;1527   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
000698  48b0              LDR      r0,|L1.2396|
00069a  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_ZAR_TIME
00069e  17c1              ASRS     r1,r0,#31
0006a0  eb006111          ADD      r1,r0,r1,LSR #24
0006a4  120a              ASRS     r2,r1,#8
0006a6  73a2              STRB     r2,[r4,#0xe]
;;;1528   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
0006a8  73e0              STRB     r0,[r4,#0xf]
;;;1529   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
0006aa  48ad              LDR      r0,|L1.2400|
0006ac  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE1_TIME
0006b0  17c1              ASRS     r1,r0,#31
0006b2  eb006111          ADD      r1,r0,r1,LSR #24
0006b6  120a              ASRS     r2,r1,#8
0006b8  7422              STRB     r2,[r4,#0x10]
;;;1530   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
0006ba  7460              STRB     r0,[r4,#0x11]
;;;1531   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
0006bc  48a9              LDR      r0,|L1.2404|
0006be  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_RAZR_TIME
0006c2  17c1              ASRS     r1,r0,#31
0006c4  eb006111          ADD      r1,r0,r1,LSR #24
0006c8  120a              ASRS     r2,r1,#8
0006ca  74a2              STRB     r2,[r4,#0x12]
;;;1532   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
0006cc  74e0              STRB     r0,[r4,#0x13]
;;;1533   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
0006ce  48a6              LDR      r0,|L1.2408|
0006d0  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE2_TIME
0006d4  17c1              ASRS     r1,r0,#31
0006d6  eb006111          ADD      r1,r0,r1,LSR #24
0006da  120a              ASRS     r2,r1,#8
0006dc  7522              STRB     r2,[r4,#0x14]
;;;1534   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
0006de  7560              STRB     r0,[r4,#0x15]
;;;1535   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
0006e0  48a2              LDR      r0,|L1.2412|
0006e2  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_MAX_VOLT
0006e6  17c1              ASRS     r1,r0,#31
0006e8  eb006111          ADD      r1,r0,r1,LSR #24
0006ec  120a              ASRS     r2,r1,#8
0006ee  75a2              STRB     r2,[r4,#0x16]
;;;1536   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
0006f0  75e0              STRB     r0,[r4,#0x17]
;;;1537   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
0006f2  489f              LDR      r0,|L1.2416|
0006f4  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_WRK_CURR
0006f8  17c1              ASRS     r1,r0,#31
0006fa  eb006111          ADD      r1,r0,r1,LSR #24
0006fe  120a              ASRS     r2,r1,#8
000700  7622              STRB     r2,[r4,#0x18]
;;;1538   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
000702  7660              STRB     r0,[r4,#0x19]
;;;1539   
;;;1540   modbus_registers[80]=(char)((I_ug_ram)/256);			//Πεγ90
000704  489b              LDR      r0,|L1.2420|
000706  f9b00000          LDRSH    r0,[r0,#0]  ; I_ug_ram
00070a  17c1              ASRS     r1,r0,#31
00070c  eb006111          ADD      r1,r0,r1,LSR #24
000710  120a              ASRS     r2,r1,#8
000712  f8842034          STRB     r2,[r4,#0x34]
;;;1541   modbus_registers[81]=(char)((I_ug_ram)%256);
000716  f8840035          STRB     r0,[r4,#0x35]
;;;1542   modbus_registers[82]=(char)((U_up_ram)/256);			//Πεγ91
00071a  4897              LDR      r0,|L1.2424|
00071c  f9b00000          LDRSH    r0,[r0,#0]  ; U_up_ram
000720  17c1              ASRS     r1,r0,#31
000722  eb006111          ADD      r1,r0,r1,LSR #24
000726  120a              ASRS     r2,r1,#8
000728  f8842036          STRB     r2,[r4,#0x36]
00072c  4a7c              LDR      r2,|L1.2336|
;;;1543   modbus_registers[83]=(char)((U_up_ram)%256);
00072e  f8840037          STRB     r0,[r4,#0x37]
;;;1544   
;;;1545   if(prot==MODBUS_RTU_PROT)
;;;1546   	{
;;;1547   	modbus_tx_buff[0]=adr;
;;;1548   	modbus_tx_buff[1]=func;
;;;1549   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;1550   	
;;;1551   	memcpy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-50)*2],reg_quantity*2);
000732  eb02014b          ADD      r1,r2,r11,LSL #1
000736  3964              SUBS     r1,r1,#0x64
000738  f1b90f00          CMP      r9,#0                 ;1545
00073c  d006              BEQ      |L1.1868|
;;;1552   							   
;;;1553   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;1554   	
;;;1555   	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;1556   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1557   	
;;;1558   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1559   		{
;;;1560   		putchar0(modbus_tx_buff[i]);
;;;1561   		}
;;;1562   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1563   		{
;;;1564   		putchar_sc16is700(modbus_tx_buff[i]);
;;;1565   		}
;;;1566   	}
;;;1567   else if(prot==MODBUS_TCP_PROT)
00073e  f1b90f01          CMP      r9,#1
000742  d101              BNE      |L1.1864|
;;;1568   	{
;;;1569   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
000744  488d              LDR      r0,|L1.2428|
000746  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.1864|
;;;1570   	}
;;;1571   // modbus_tcp_out_ptr=(char*)(&modbus_registers[0]);
;;;1572   //modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
;;;1573   }
000748  b037              ADD      sp,sp,#0xdc
00074a  e666              B        |L1.1050|
                  |L1.1868|
00074c  f88da000          STRB     r10,[sp,#0]           ;1547
000750  9834              LDR      r0,[sp,#0xd0]         ;1548
000752  f88d0001          STRB     r0,[sp,#1]            ;1548
000756  006a              LSLS     r2,r5,#1              ;1549
000758  466e              MOV      r6,sp                 ;1551
00075a  f88d2002          STRB     r2,[sp,#2]            ;1549
00075e  1cf0              ADDS     r0,r6,#3              ;1551
000760  f7fffffe          BL       __aeabi_memcpy
000764  2003              MOVS     r0,#3                 ;1553
000766  eb000045          ADD      r0,r0,r5,LSL #1       ;1553
00076a  b201              SXTH     r1,r0                 ;1553
00076c  4668              MOV      r0,sp                 ;1553
00076e  f7fffffe          BL       CRC16_2
000772  eb060145          ADD      r1,r6,r5,LSL #1       ;1555
000776  2400              MOVS     r4,#0                 ;1558
000778  70c8              STRB     r0,[r1,#3]            ;1555
00077a  0a00              LSRS     r0,r0,#8              ;1556
00077c  7108              STRB     r0,[r1,#4]            ;1556
00077e  2005              MOVS     r0,#5                 ;1558
000780  eb000545          ADD      r5,r0,r5,LSL #1       ;1558
000784  e004              B        |L1.1936|
                  |L1.1926|
000786  5d30              LDRB     r0,[r6,r4]            ;1560
000788  f7fffffe          BL       putchar0
00078c  1c64              ADDS     r4,r4,#1              ;1558
00078e  b2e4              UXTB     r4,r4                 ;1558
                  |L1.1936|
000790  42a5              CMP      r5,r4                 ;1558
000792  d8f8              BHI      |L1.1926|
000794  2400              MOVS     r4,#0                 ;1562
000796  e004              B        |L1.1954|
                  |L1.1944|
000798  5d30              LDRB     r0,[r6,r4]            ;1564
00079a  f7fffffe          BL       putchar_sc16is700
00079e  1c64              ADDS     r4,r4,#1              ;1562
0007a0  b2e4              UXTB     r4,r4                 ;1562
                  |L1.1954|
0007a2  42a5              CMP      r5,r4                 ;1562
0007a4  d8f8              BHI      |L1.1944|
0007a6  e7cf              B        |L1.1864|
;;;1574   
                          ENDP

                  modbus_for_pult_registers_transmit PROC
;;;1242   //-----------------------------------------------
;;;1243   void modbus_for_pult_registers_transmit(unsigned short reg_quantity)
0007a8  b570              PUSH     {r4-r6,lr}
;;;1244   {
0007aa  4606              MOV      r6,r0
;;;1245   char modbus_registers[20];
;;;1246   char modbus_tx_buff[30];
;;;1247   unsigned short crc_temp;
;;;1248   char i;
;;;1249   //char reg_quantity=4;
;;;1250   
;;;1251   //pult_time_set=0xffff;
;;;1252   
;;;1253   modbus_registers[0]=(char)(pult_u%256);
0007ac  4874              LDR      r0,|L1.2432|
0007ae  b090              SUB      sp,sp,#0x40           ;1244
;;;1254   modbus_registers[1]=(char)(pult_u/256);					//Πεγ1
;;;1255   modbus_registers[2]=(char)(pult_i%256);
;;;1256   modbus_registers[3]=(char)(pult_i/256);					//Πεγ2
;;;1257   modbus_registers[4]=(char)(pult_work_stat%256);
;;;1258   modbus_registers[5]=(char)(pult_work_stat/256);			//Πεγ3
;;;1259   modbus_registers[6]=(char)(pult_u_set%256);
;;;1260   modbus_registers[7]=(char)(pult_u_set/256);				//Πεγ4
;;;1261   modbus_registers[8]=(char)(pult_time%256);
;;;1262   modbus_registers[9]=(char)(pult_time/256);				//Πεγ5
;;;1263   modbus_registers[10]=(char)(pult_time_set%256);		 	
;;;1264   modbus_registers[11]=(char)(pult_time_set/256);			//Πεγ6
;;;1265   modbus_registers[12]=(char)(pult_i_set%256);
;;;1266   modbus_registers[13]=(char)(pult_i_set/256);				//Πεγ7
;;;1267   
;;;1268   
;;;1269   modbus_tx_buff[0]=201;
;;;1270   modbus_tx_buff[1]=4;
;;;1271   modbus_tx_buff[2]=(char)(reg_quantity*2);
0007b0  0072              LSLS     r2,r6,#1
0007b2  f9b00000          LDRSH    r0,[r0,#0]            ;1253  ; pult_u
0007b6  f88d0024          STRB     r0,[sp,#0x24]         ;1253
0007ba  17c1              ASRS     r1,r0,#31             ;1253
0007bc  eb006111          ADD      r1,r0,r1,LSR #24      ;1253
0007c0  1208              ASRS     r0,r1,#8              ;1254
0007c2  f88d0025          STRB     r0,[sp,#0x25]         ;1254
0007c6  486f              LDR      r0,|L1.2436|
;;;1272   
;;;1273   memcpy((char*)&modbus_tx_buff[3],(char*)modbus_registers,reg_quantity*2);
0007c8  466c              MOV      r4,sp
0007ca  f9b00000          LDRSH    r0,[r0,#0]            ;1255  ; pult_i
0007ce  f88d0026          STRB     r0,[sp,#0x26]         ;1255
0007d2  17c1              ASRS     r1,r0,#31             ;1255
0007d4  eb006111          ADD      r1,r0,r1,LSR #24      ;1255
0007d8  1208              ASRS     r0,r1,#8              ;1256
0007da  f88d0027          STRB     r0,[sp,#0x27]         ;1256
0007de  486a              LDR      r0,|L1.2440|
0007e0  7800              LDRB     r0,[r0,#0]            ;1257  ; pult_work_stat
0007e2  f88d0028          STRB     r0,[sp,#0x28]         ;1257
0007e6  2000              MOVS     r0,#0                 ;1258
0007e8  f88d0029          STRB     r0,[sp,#0x29]         ;1258
0007ec  4867              LDR      r0,|L1.2444|
0007ee  f9b00000          LDRSH    r0,[r0,#0]            ;1259  ; pult_u_set
0007f2  f88d002a          STRB     r0,[sp,#0x2a]         ;1259
0007f6  17c1              ASRS     r1,r0,#31             ;1259
0007f8  eb006111          ADD      r1,r0,r1,LSR #24      ;1259
0007fc  1208              ASRS     r0,r1,#8              ;1260
0007fe  f88d002b          STRB     r0,[sp,#0x2b]         ;1260
000802  4863              LDR      r0,|L1.2448|
000804  f9b00000          LDRSH    r0,[r0,#0]            ;1261  ; pult_time
000808  f88d002c          STRB     r0,[sp,#0x2c]         ;1261
00080c  17c1              ASRS     r1,r0,#31             ;1261
00080e  eb006111          ADD      r1,r0,r1,LSR #24      ;1261
000812  1208              ASRS     r0,r1,#8              ;1262
000814  f88d002d          STRB     r0,[sp,#0x2d]         ;1262
000818  485e              LDR      r0,|L1.2452|
00081a  8800              LDRH     r0,[r0,#0]            ;1263  ; pult_time_set
00081c  f88d002e          STRB     r0,[sp,#0x2e]         ;1263
000820  0a00              LSRS     r0,r0,#8              ;1264
000822  f88d002f          STRB     r0,[sp,#0x2f]         ;1264
000826  485c              LDR      r0,|L1.2456|
000828  f9b00000          LDRSH    r0,[r0,#0]            ;1265  ; pult_i_set
00082c  f88d0030          STRB     r0,[sp,#0x30]         ;1265
000830  17c1              ASRS     r1,r0,#31             ;1265
000832  eb006111          ADD      r1,r0,r1,LSR #24      ;1265
000836  1208              ASRS     r0,r1,#8              ;1266
000838  f88d0031          STRB     r0,[sp,#0x31]         ;1266
00083c  20c9              MOVS     r0,#0xc9              ;1269
00083e  f88d0000          STRB     r0,[sp,#0]            ;1269
000842  2004              MOVS     r0,#4                 ;1270
000844  f88d0001          STRB     r0,[sp,#1]            ;1270
000848  f88d2002          STRB     r2,[sp,#2]            ;1271
00084c  a909              ADD      r1,sp,#0x24
00084e  1ce0              ADDS     r0,r4,#3
000850  f7fffffe          BL       __aeabi_memcpy
;;;1274   
;;;1275   crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
000854  2003              MOVS     r0,#3
000856  eb000046          ADD      r0,r0,r6,LSL #1
00085a  b201              SXTH     r1,r0
00085c  4668              MOV      r0,sp
00085e  f7fffffe          BL       CRC16_2
;;;1276   
;;;1277   modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
000862  eb040146          ADD      r1,r4,r6,LSL #1
;;;1278   modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1279   
;;;1280   for (i=0;i<(5+(reg_quantity*2));i++)
000866  2500              MOVS     r5,#0
000868  70c8              STRB     r0,[r1,#3]            ;1277
00086a  0a00              LSRS     r0,r0,#8              ;1278
00086c  7108              STRB     r0,[r1,#4]            ;1278
00086e  2005              MOVS     r0,#5
000870  eb000646          ADD      r6,r0,r6,LSL #1
000874  e004              B        |L1.2176|
                  |L1.2166|
;;;1281   	{
;;;1282   	putchar0(modbus_tx_buff[i]);
000876  5d60              LDRB     r0,[r4,r5]
000878  f7fffffe          BL       putchar0
00087c  1c6d              ADDS     r5,r5,#1              ;1280
00087e  b2ed              UXTB     r5,r5                 ;1280
                  |L1.2176|
000880  42ae              CMP      r6,r5                 ;1280
000882  d8f8              BHI      |L1.2166|
;;;1283   	}
;;;1284   for (i=0;i<(5+(reg_quantity*2));i++)
000884  2500              MOVS     r5,#0
000886  e004              B        |L1.2194|
                  |L1.2184|
;;;1285   	{
;;;1286   	putchar_sc16is700(modbus_tx_buff[i]);
000888  5d60              LDRB     r0,[r4,r5]
00088a  f7fffffe          BL       putchar_sc16is700
00088e  1c6d              ADDS     r5,r5,#1              ;1284
000890  b2ed              UXTB     r5,r5                 ;1284
                  |L1.2194|
000892  42ae              CMP      r6,r5                 ;1284
000894  d8f8              BHI      |L1.2184|
;;;1287   	}
;;;1288   //modbus_plazma1++;
;;;1289   }
000896  b010              ADD      sp,sp,#0x40
000898  bd70              POP      {r4-r6,pc}
;;;1290   
                          ENDP

                  modbus_in PROC
;;;62     //-----------------------------------------------
;;;63     void modbus_in(void)
00089a  e92d4ff0          PUSH     {r4-r11,lr}
;;;64     {
;;;65     short crc16_calculated;		//βϋχθρλεμΰ θη οπθνςϋυ δΰννϋυ CRC
;;;66     short crc16_incapsulated;	//βρςπξενννΰ β οξρϋλκσ CRC
;;;67     unsigned short modbus_rx_arg0;		//βρςπξεννϋι β οξρϋλκσ οεπβϋι ΰπγσμενς
;;;68     unsigned short modbus_rx_arg1;		//βρςπξεννϋι β οξρϋλκσ βςξπξι ΰπγσμενς
;;;69     //unsigned short modbus_rx_arg2;		//βρςπξεννϋι β οξρϋλκσ ςπεςθι ΰπγσμενς
;;;70     //unsigned short modbus_rx_arg3;		//βρςπξεννϋι β οξρϋλκσ χεςβεπςϋι ΰπγσμενς
;;;71     unsigned char modbus_func;			//βρςπξεννϋι β οξρϋλκσ κξδ τσνκφθθ
;;;72     
;;;73     //modbus_plazma++;
;;;74     
;;;75     memcpy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
00089e  f8dfa0fc          LDR      r10,|L1.2460|
0008a2  491f              LDR      r1,|L1.2336|
0008a4  b089              SUB      sp,sp,#0x24           ;64
0008a6  f89a2002          LDRB     r2,[r10,#2]  ; modbus_rx_buffer_ptr
0008aa  393c              SUBS     r1,r1,#0x3c
0008ac  4654              MOV      r4,r10
0008ae  4615              MOV      r5,r2
0008b0  f101001e          ADD      r0,r1,#0x1e
0008b4  f7fffffe          BL       __aeabi_memcpy
;;;76     modbus_rx_counter=modbus_rx_buffer_ptr;
0008b8  70e5              STRB     r5,[r4,#3]
;;;77     modbus_rx_buffer_ptr=0;
0008ba  2000              MOVS     r0,#0
0008bc  70a0              STRB     r0,[r4,#2]
;;;78     bMODBUS_TIMEOUT=0;
0008be  7060              STRB     r0,[r4,#1]
;;;79     
;;;80     	
;;;81     crc16_calculated  = CRC16_2((char*)modbus_an_buffer, modbus_rx_counter-2);
0008c0  4817              LDR      r0,|L1.2336|
0008c2  1ea9              SUBS     r1,r5,#2
0008c4  381e              SUBS     r0,r0,#0x1e
0008c6  f7fffffe          BL       CRC16_2
0008ca  b200              SXTH     r0,r0
0008cc  4680              MOV      r8,r0
;;;82     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
0008ce  4d14              LDR      r5,|L1.2336|
0008d0  78e0              LDRB     r0,[r4,#3]  ; modbus_rx_counter
0008d2  3d1e              SUBS     r5,r5,#0x1e
0008d4  4428              ADD      r0,r0,r5
0008d6  f9300c02          LDRSH    r0,[r0,#-2]
0008da  4681              MOV      r9,r0
;;;83     
;;;84     //modbus_plazma=modbus_rx_counter;
;;;85     //modbus_plazma2=crc16_calculated;
;;;86     //modbus_plazma3=crc16_incapsulated;
;;;87     
;;;88     
;;;89     
;;;90     
;;;91     if((modbus_an_buffer[0]=='r')&&(modbus_an_buffer[1]=='e')&&(modbus_an_buffer[2]=='a')&&(modbus_an_buffer[3]=='d')&&(modbus_an_buffer[6]==crc_87(modbus_an_buffer,6))&&(modbus_an_buffer[7]==crc_95(modbus_an_buffer,6)))
0008dc  7828              LDRB     r0,[r5,#0]  ; modbus_an_buffer
0008de  2872              CMP      r0,#0x72
0008e0  d11d              BNE      |L1.2334|
0008e2  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
0008e4  2865              CMP      r0,#0x65
0008e6  d11a              BNE      |L1.2334|
0008e8  78a8              LDRB     r0,[r5,#2]  ; modbus_an_buffer
0008ea  2861              CMP      r0,#0x61
0008ec  d117              BNE      |L1.2334|
0008ee  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
0008f0  2864              CMP      r0,#0x64
0008f2  d114              BNE      |L1.2334|
0008f4  2106              MOVS     r1,#6
0008f6  4628              MOV      r0,r5
0008f8  f7fffffe          BL       crc_87
0008fc  79a9              LDRB     r1,[r5,#6]  ; modbus_an_buffer
0008fe  4288              CMP      r0,r1
000900  d10d              BNE      |L1.2334|
000902  2106              MOVS     r1,#6
000904  4628              MOV      r0,r5
000906  f7fffffe          BL       crc_95
00090a  79e9              LDRB     r1,[r5,#7]  ; modbus_an_buffer
00090c  4288              CMP      r0,r1
00090e  d106              BNE      |L1.2334|
;;;92     	{
;;;93     	unsigned short ptr;
;;;94     	unsigned long data1,data2;
;;;95     	char temp_out[20];
;;;96     	pvlk++;
000910  4923              LDR      r1,|L1.2464|
000912  8808              LDRH     r0,[r1,#0]  ; pvlk
000914  1c40              ADDS     r0,r0,#1
000916  8008              STRH     r0,[r1,#0]
;;;97     	ptr=modbus_an_buffer[4]+(modbus_an_buffer[5]*256U);
000918  7928              LDRB     r0,[r5,#4]  ; modbus_an_buffer
00091a  7969              LDRB     r1,[r5,#5]  ; modbus_an_buffer
00091c  e042              B        |L1.2468|
                  |L1.2334|
00091e  e0b0              B        |L1.2690|
                  |L1.2336|
                          DCD      ||area_number.4||+0x3c
                  |L1.2340|
                          DCD      U_maxg
                  |L1.2344|
                          DCD      I_maxp
                  |L1.2348|
                          DCD      T_PROC_GS
                  |L1.2352|
                          DCD      T_PROC_PS
                  |L1.2356|
                          DCD      work_stat
                  |L1.2360|
                          DCD      REV_STAT
                  |L1.2364|
                          DCD      AVT_REV_IS_ON
                  |L1.2368|
                          DCD      AVT_REV_TIME_FF
                  |L1.2372|
                          DCD      AVT_REV_TIME_REW
                  |L1.2376|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2380|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2384|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.2388|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.2392|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.2396|
                          DCD      CAP_ZAR_TIME
                  |L1.2400|
                          DCD      CAP_PAUSE1_TIME
                  |L1.2404|
                          DCD      CAP_RAZR_TIME
                  |L1.2408|
                          DCD      CAP_PAUSE2_TIME
                  |L1.2412|
                          DCD      CAP_MAX_VOLT
                  |L1.2416|
                          DCD      CAP_WRK_CURR
                  |L1.2420|
                          DCD      I_ug_ram
                  |L1.2424|
                          DCD      U_up_ram
                  |L1.2428|
                          DCD      modbus_tcp_out_ptr
                  |L1.2432|
                          DCD      pult_u
                  |L1.2436|
                          DCD      pult_i
                  |L1.2440|
                          DCD      pult_work_stat
                  |L1.2444|
                          DCD      pult_u_set
                  |L1.2448|
                          DCD      pult_time
                  |L1.2452|
                          DCD      pult_time_set
                  |L1.2456|
                          DCD      pult_i_set
                  |L1.2460|
                          DCD      ||.data||
                  |L1.2464|
                          DCD      pvlk
                  |L1.2468|
0009a4  eb002001          ADD      r0,r0,r1,LSL #8
0009a8  b280              UXTH     r0,r0
0009aa  f8ad001c          STRH     r0,[sp,#0x1c]
0009ae  4604              MOV      r4,r0
;;;98     	data1=lc640_read_long(ptr);
0009b0  f7fffffe          BL       lc640_read_long
;;;99     	data2=lc640_read_long(ptr+4);
0009b4  9006              STR      r0,[sp,#0x18]
0009b6  1d20              ADDS     r0,r4,#4
0009b8  f7fffffe          BL       lc640_read_long
;;;100    	temp_out[0]='r';
0009bc  9005              STR      r0,[sp,#0x14]
0009be  2072              MOVS     r0,#0x72
0009c0  f88d0000          STRB     r0,[sp,#0]
;;;101    	temp_out[1]='e';
0009c4  2065              MOVS     r0,#0x65
0009c6  f88d0001          STRB     r0,[sp,#1]
;;;102    	temp_out[2]='a';
0009ca  2061              MOVS     r0,#0x61
0009cc  f88d0002          STRB     r0,[sp,#2]
;;;103    	temp_out[3]='d';
0009d0  2064              MOVS     r0,#0x64
0009d2  f88d0003          STRB     r0,[sp,#3]
;;;104    	temp_out[4]=*((char*)&ptr);
0009d6  f89d001c          LDRB     r0,[sp,#0x1c]
0009da  f88d0004          STRB     r0,[sp,#4]
;;;105    	temp_out[5]=*(((char*)&ptr)+1);	
0009de  f89d001d          LDRB     r0,[sp,#0x1d]
0009e2  f88d0005          STRB     r0,[sp,#5]
;;;106    	temp_out[6]=*((char*)&data1);
0009e6  f89d0018          LDRB     r0,[sp,#0x18]
0009ea  f88d0006          STRB     r0,[sp,#6]
;;;107    	temp_out[7]=*(((char*)&data1)+1);		
0009ee  f89d0019          LDRB     r0,[sp,#0x19]
0009f2  f88d0007          STRB     r0,[sp,#7]
;;;108    	temp_out[8]=*(((char*)&data1)+2);	
0009f6  f89d001a          LDRB     r0,[sp,#0x1a]
0009fa  f88d0008          STRB     r0,[sp,#8]
;;;109    	temp_out[9]=*(((char*)&data1)+3);		
0009fe  f89d001b          LDRB     r0,[sp,#0x1b]
000a02  f88d0009          STRB     r0,[sp,#9]
;;;110    	temp_out[10]=*((char*)&data2);
000a06  f89d0014          LDRB     r0,[sp,#0x14]
000a0a  f88d000a          STRB     r0,[sp,#0xa]
;;;111    	temp_out[11]=*(((char*)&data2)+1);		
000a0e  f89d0015          LDRB     r0,[sp,#0x15]
000a12  f88d000b          STRB     r0,[sp,#0xb]
;;;112    	temp_out[12]=*(((char*)&data2)+2);	
000a16  f89d0016          LDRB     r0,[sp,#0x16]
000a1a  f88d000c          STRB     r0,[sp,#0xc]
;;;113    	temp_out[13]=*(((char*)&data2)+3);	
000a1e  f89d0017          LDRB     r0,[sp,#0x17]
000a22  f88d000d          STRB     r0,[sp,#0xd]
;;;114    	temp_out[14]=crc_87(temp_out,14);	
000a26  210e              MOVS     r1,#0xe
000a28  4668              MOV      r0,sp
000a2a  f7fffffe          BL       crc_87
000a2e  f88d000e          STRB     r0,[sp,#0xe]
;;;115    	temp_out[15]=crc_95(temp_out,14);			
000a32  210e              MOVS     r1,#0xe
000a34  4668              MOV      r0,sp
000a36  f7fffffe          BL       crc_95
000a3a  f88d000f          STRB     r0,[sp,#0xf]
;;;116    	
;;;117    	temp_out[17]=0;
;;;118    	for (i=0;i<16;i++)
000a3e  4cfa              LDR      r4,|L1.3624|
000a40  2000              MOVS     r0,#0                 ;117
000a42  f88d0011          STRB     r0,[sp,#0x11]         ;117
000a46  7020              STRB     r0,[r4,#0]
000a48  466e              MOV      r6,sp                 ;95
                  |L1.2634|
;;;119    		{
;;;120    		putchar_sc16is700(temp_out[i]);
000a4a  b2c0              UXTB     r0,r0
000a4c  5c30              LDRB     r0,[r6,r0]
000a4e  f7fffffe          BL       putchar_sc16is700
;;;121    		temp_out[17]^=temp_out[i];
000a52  7820              LDRB     r0,[r4,#0]  ; i
000a54  f89d1011          LDRB     r1,[sp,#0x11]
000a58  5c32              LDRB     r2,[r6,r0]
000a5a  1c40              ADDS     r0,r0,#1              ;118
000a5c  4051              EORS     r1,r1,r2
000a5e  b2c0              UXTB     r0,r0                 ;118
000a60  f88d1011          STRB     r1,[sp,#0x11]
000a64  7020              STRB     r0,[r4,#0]            ;118
000a66  2810              CMP      r0,#0x10              ;118
000a68  d3ef              BCC      |L1.2634|
;;;122    		}
;;;123    	putchar_sc16is700(16);
000a6a  2010              MOVS     r0,#0x10
000a6c  f7fffffe          BL       putchar_sc16is700
;;;124    	putchar_sc16is700(temp_out[17]^16);
000a70  f89d0011          LDRB     r0,[sp,#0x11]
000a74  f0800010          EOR      r0,r0,#0x10
000a78  f7fffffe          BL       putchar_sc16is700
;;;125    	putchar_sc16is700(0x0a);
000a7c  200a              MOVS     r0,#0xa
000a7e  f7fffffe          BL       putchar_sc16is700
                  |L1.2690|
;;;126    	}
;;;127    
;;;128    /*
;;;129    if((UIB0[0]=='w')&&(UIB0[1]=='r')&&(UIB0[2]=='i')&&(UIB0[3]=='t')&&(UIB0[4]=='e')&&(UIB0[15]==crc_87(UIB0,15))&&(UIB0[16]==crc_95(UIB0,15)))
;;;130    	{
;;;131    	unsigned short ptr;
;;;132    	unsigned long data1,data2;
;;;133    	char temp_out[20];
;;;134    	ptr=UIB0[5]+(UIB0[6]*256U);
;;;135    	*((char*)&data1)=UIB0[7];
;;;136    	*(((char*)&data1)+1)=UIB0[8];
;;;137    	*(((char*)&data1)+2)=UIB0[9];
;;;138    	*(((char*)&data1)+3)=UIB0[10];
;;;139    	*((char*)&data2)=UIB0[11];
;;;140    	*(((char*)&data2)+1)=UIB0[12];
;;;141    	*(((char*)&data2)+2)=UIB0[13];
;;;142    	*(((char*)&data2)+3)=UIB0[14];	
;;;143    	lc640_write_long(ptr,data1);
;;;144    	lc640_write_long(ptr+4,data2);
;;;145    	
;;;146    	//data1=lc640_read_long(ptr);
;;;147    	//data2=lc640_read_long(ptr+4);
;;;148    	temp_out[0]='w';
;;;149    	temp_out[1]='r';
;;;150    	temp_out[2]='i';
;;;151    	temp_out[3]='t';
;;;152    	temp_out[4]='e';
;;;153    	temp_out[5]=*((char*)&ptr);
;;;154    	temp_out[6]=*(((char*)&ptr)+1);	
;;;155    
;;;156    	temp_out[7]=crc_87(temp_out,7);	
;;;157    	temp_out[8]=crc_95(temp_out,7);			
;;;158    	uart_out_adr0(temp_out,9);
;;;159    	}
;;;160    
;;;161    
;;;162    }
;;;163    	*/
;;;164    
;;;165    
;;;166    
;;;167    modbus_func=modbus_an_buffer[1];
000a82  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
;;;168    modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000a84  9001              STR      r0,[sp,#4]
000a86  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
000a88  78a9              LDRB     r1,[r5,#2]  ; modbus_an_buffer
;;;169    modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
;;;170    //modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;171    //modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;172    modbus_cmnd=(modbus_rx_arg1>>8)&0x7f;
;;;173    modbus_cmnd_cnt=(modbus_rx_arg1)&0x0f;
;;;174    
;;;175    modbus_plazma3=modbus_cmnd;
;;;176    modbus_plazma2=modbus_cmnd_cnt;
;;;177    modbus_plazma1=modbus_self_cmnd_cnt;
;;;178    
;;;179    if(crc16_calculated==crc16_incapsulated)
000a8a  45c8              CMP      r8,r9
000a8c  eb002001          ADD      r0,r0,r1,LSL #8       ;168
000a90  b287              UXTH     r7,r0                 ;168
000a92  7968              LDRB     r0,[r5,#5]            ;169  ; modbus_an_buffer
000a94  7929              LDRB     r1,[r5,#4]            ;169  ; modbus_an_buffer
000a96  eb002001          ADD      r0,r0,r1,LSL #8       ;169
000a9a  b284              UXTH     r4,r0                 ;169
000a9c  f3c42206          UBFX     r2,r4,#8,#7           ;172
000aa0  f88a2005          STRB     r2,[r10,#5]           ;172
000aa4  f004010f          AND      r1,r4,#0xf            ;173
000aa8  f88a1004          STRB     r1,[r10,#4]           ;173
000aac  f8aa200c          STRH     r2,[r10,#0xc]         ;175
000ab0  f8aa100a          STRH     r1,[r10,#0xa]         ;176
000ab4  f89a2000          LDRB     r2,[r10,#0]           ;177  ; modbus_self_cmnd_cnt
000ab8  4650              MOV      r0,r10                ;172
000aba  f8aa2008          STRH     r2,[r10,#8]           ;177
000abe  d171              BNE      |L1.2980|
;;;180    	{
;;;181    	if(modbus_self_cmnd_cnt==33)modbus_self_cmnd_cnt=modbus_cmnd_cnt;
000ac0  2a21              CMP      r2,#0x21
000ac2  d100              BNE      |L1.2758|
000ac4  7001              STRB     r1,[r0,#0]
                  |L1.2758|
;;;182    	modbus_plazma=modbus_an_buffer[0];
000ac6  49d9              LDR      r1,|L1.3628|
;;;183    	if(modbus_an_buffer[0]==200)	 //ερλθ ηΰοπξρ ξς οσλόςΰ
;;;184    		{
;;;185    		if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ
;;;186    			{
;;;187    			modbus_for_pult_registers_transmit(7);
;;;188    			}
;;;189    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπΰ
;;;190    			{
;;;191    			//if(modbus_rx_arg0==1)		//
;;;192    				{
;;;193    				modbus_for_pult_registers_transmit(7);
;;;194    				tumbler_stat=(enum_tumbler_stat)(modbus_rx_arg1>>15);
;;;195    				if((tumbler_stat!=tumbler_stat_old))
;;;196    					{
;;;197    					if(tumbler_stat==tsU)
;;;198    						{
;;;199    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;200    						}
;;;201    					else lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;202    					
;;;203    					if(main_cnt>3)
;;;204    						{
;;;205    						work_stat=wsOFF;
;;;206    						restart_off();
;;;207    						}
;;;208    					}
;;;209    				tumbler_stat_old=tumbler_stat;
;;;210    				
;;;211    				}
;;;212    			 //else if(modbus_rx_arg0==0)
;;;213    			 	{
;;;214    				//modbus_plazma++;		
;;;215    				if((modbus_cmnd==61)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;216    					{
;;;217    					if(I_ug<1000)I_ug++;
;;;218    					else I_ug=((I_ug/10)+1)*10;
;;;219    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
000ac8  f8dfb364          LDR      r11,|L1.3632|
000acc  4dd9              LDR      r5,|L1.3636|
000ace  7809              LDRB     r1,[r1,#0]            ;182  ; modbus_an_buffer
000ad0  46d0              MOV      r8,r10                ;182
000ad2  f8aa1006          STRH     r1,[r10,#6]           ;182
;;;220    					I_ug_block_cnt=10;
;;;221    					//lc640_write_int(EE_I_UG,I_ug);
;;;222    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;223    					}
;;;224    				
;;;225    				else if((modbus_cmnd==62)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;226    					{
;;;227    					if(I_ug<1000)I_ug--;
;;;228    					else I_ug=((I_ug/10)-1)*10;
;;;229    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;230    					I_ug_block_cnt=10;
;;;231    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;232    					}
;;;233    				else if((modbus_cmnd==63)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;234    					{
;;;235    					if(I_ug<1000)I_ug=((I_ug/10)+1)*10;
;;;236    					else I_ug=((I_ug/10)+5)*10;
;;;237    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;238    					I_ug_block_cnt=10;
;;;239    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;240    					}
;;;241    				
;;;242    				else if((modbus_cmnd==64)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;243    					{
;;;244    					if(I_ug<1000)I_ug=((I_ug/10)-1)*10;
;;;245    					else I_ug=((I_ug/10)-5)*10;
;;;246    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;247    					I_ug_block_cnt=10;
;;;248    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;249    					}
;;;250    				
;;;251    				else if((modbus_cmnd==71)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;252    					{
;;;253    					U_up++;
;;;254    					gran(&U_up,U_MIN,U_MAX);
;;;255    					U_up_block_cnt=10;
;;;256    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;257    					}
;;;258    				
;;;259    				else if((modbus_cmnd==72)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;260    					{
;;;261    					U_up--;
;;;262    					gran(&U_up,U_MIN,U_MAX);
;;;263    					U_up_block_cnt=10;
;;;264    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;265    				
;;;266    					}
;;;267    				else if((modbus_cmnd==73)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;268    					{
;;;269    					U_up=((U_up/10)+1)*10;
;;;270    					gran(&U_up,U_MIN,U_MAX);
;;;271    					U_up_block_cnt=10;
;;;272    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;273    					}
;;;274    				
;;;275    				else if((modbus_cmnd==74)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;276    					{
;;;277    					U_up=((U_up/10)-1)*10;
;;;278    					gran(&U_up,U_MIN,U_MAX);
;;;279    					U_up_block_cnt=10;
;;;280    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;281    					}
;;;282    				
;;;283    				
;;;284    				else if((modbus_cmnd==51)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ+
;;;285    					{
;;;286    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;287    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;288    						{
;;;289    						if(TIME_VISION_PULT)
;;;290    							{
;;;291    							T_PROC_GS=(((T_PROC_GS/60L)+1L)*60L);
000ad6  f04f093c          MOV      r9,#0x3c
000ada  29c8              CMP      r1,#0xc8              ;183
000adc  d104              BNE      |L1.2792|
000ade  9801              LDR      r0,[sp,#4]            ;185
000ae0  2804              CMP      r0,#4                 ;185
000ae2  d002              BEQ      |L1.2794|
000ae4  2806              CMP      r0,#6                 ;189
000ae6  d004              BEQ      |L1.2802|
                  |L1.2792|
000ae8  e24b              B        |L1.3970|
                  |L1.2794|
000aea  2007              MOVS     r0,#7                 ;187
000aec  f7fffffe          BL       modbus_for_pult_registers_transmit
000af0  e247              B        |L1.3970|
                  |L1.2802|
000af2  2007              MOVS     r0,#7                 ;193
000af4  f7fffffe          BL       modbus_for_pult_registers_transmit
000af8  f8dfa33c          LDR      r10,|L1.3640|
000afc  4ecf              LDR      r6,|L1.3644|
000afe  0be0              LSRS     r0,r4,#15             ;194
000b00  f88a0000          STRB     r0,[r10,#0]           ;194
000b04  7831              LDRB     r1,[r6,#0]            ;195  ; tumbler_stat_old
000b06  4288              CMP      r0,r1                 ;195
000b08  d00e              BEQ      |L1.2856|
000b0a  2801              CMP      r0,#1                 ;197
000b0c  d03c              BEQ      |L1.2952|
000b0e  2100              MOVS     r1,#0                 ;201
                  |L1.2832|
000b10  20ea              MOVS     r0,#0xea              ;201
000b12  f7fffffe          BL       lc640_write_int
000b16  48ca              LDR      r0,|L1.3648|
000b18  f9b00000          LDRSH    r0,[r0,#0]            ;203  ; main_cnt
000b1c  2803              CMP      r0,#3                 ;203
000b1e  dd03              BLE      |L1.2856|
000b20  2000              MOVS     r0,#0                 ;205
000b22  7028              STRB     r0,[r5,#0]            ;205
000b24  f7fffffe          BL       restart_off
                  |L1.2856|
000b28  f89ac000          LDRB     r12,[r10,#0]          ;209  ; tumbler_stat
000b2c  f886c000          STRB     r12,[r6,#0]           ;209
000b30  4640              MOV      r0,r8                 ;215
000b32  f8983005          LDRB     r3,[r8,#5]            ;215  ; modbus_cmnd
000b36  f8df830c          LDR      r8,|L1.3652|
000b3a  260a              MOVS     r6,#0xa               ;125
000b3c  46d6              MOV      lr,r10                ;209
000b3e  f44f717a          MOV      r1,#0x3e8             ;217
000b42  2b3d              CMP      r3,#0x3d              ;215
000b44  d022              BEQ      |L1.2956|
000b46  2b3e              CMP      r3,#0x3e              ;225
000b48  d039              BEQ      |L1.3006|
000b4a  2b3f              CMP      r3,#0x3f              ;233
000b4c  d048              BEQ      |L1.3040|
000b4e  2b40              CMP      r3,#0x40              ;242
000b50  d054              BEQ      |L1.3068|
000b52  f8df82f4          LDR      r8,|L1.3656|
000b56  2b47              CMP      r3,#0x47              ;251
000b58  d062              BEQ      |L1.3104|
000b5a  2b48              CMP      r3,#0x48              ;259
000b5c  d069              BEQ      |L1.3122|
000b5e  2b49              CMP      r3,#0x49              ;267
000b60  d074              BEQ      |L1.3148|
000b62  2b4a              CMP      r3,#0x4a              ;275
000b64  d06f              BEQ      |L1.3142|
000b66  49b9              LDR      r1,|L1.3660|
;;;292    							T_PROC_GS_block_cnt=10;
000b68  4ab9              LDR      r2,|L1.3664|
;;;293    							}
;;;294    						else
;;;295    							{
;;;296    							T_PROC_GS++;
;;;297    							T_PROC_GS_block_cnt=10;
;;;298    							}
;;;299    				
;;;300    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;301    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;302    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;303    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;304    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;305    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;306    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;307    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;308    							}												//(T_PROC_GS_MODE=0)
;;;309    					
;;;310    						else if(T_PROC_GS<30)
;;;311    							{
;;;312    							T_PROC_GS=29;
;;;313    							if(T_PROC_GS_MODE!=1)
;;;314    								{
;;;315    								T_PROC_GS_MODE=1;
;;;316    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;317    								}
;;;318    							}
;;;319    						else 
;;;320    							{
;;;321    							if(T_PROC_GS_MODE!=0)
;;;322    								{
;;;323    								T_PROC_GS_MODE=0;
;;;324    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;325    								}
;;;326    							}			
;;;327    						}
;;;328    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;329    						{
;;;330    						if(TIME_VISION_PULT)
;;;331    							{
;;;332    							T_PROC_PS=(((T_PROC_PS/60L)+1L)*60L);
;;;333    							T_PROC_PS_block_cnt=10;
000b6a  f8dfa2e8          LDR      r10,|L1.3668|
000b6e  f8df82e8          LDR      r8,|L1.3672|
000b72  2b33              CMP      r3,#0x33              ;284
000b74  d068              BEQ      |L1.3144|
;;;334    							}
;;;335    						else
;;;336    							{
;;;337    							T_PROC_PS++;
;;;338    							T_PROC_PS_block_cnt=10;
;;;339    							}
;;;340    				
;;;341    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;342    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;343    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;344    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;345    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;346    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;347    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;348    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;349    							}												//(T_PROC_PS_MODE=0)
;;;350    					
;;;351    						else if(T_PROC_PS<30)
;;;352    							{
;;;353    							T_PROC_PS=29;
;;;354    							if(T_PROC_PS_MODE!=1)
;;;355    								{
;;;356    								T_PROC_PS_MODE=1;
;;;357    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;358    								}
;;;359    							}
;;;360    						else 
;;;361    							{
;;;362    							if(T_PROC_PS_MODE!=0)
;;;363    								{
;;;364    								T_PROC_PS_MODE=0;
;;;365    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;366    								}
;;;367    							}			
;;;368    						}
;;;369    					}
;;;370    				else if((modbus_cmnd==53)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ++
000b76  2b35              CMP      r3,#0x35
000b78  d067              BEQ      |L1.3146|
;;;371    					{
;;;372    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;373    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;374    						{
;;;375    						if(TIME_VISION_PULT)
;;;376    							{
;;;377    							T_PROC_GS=(((T_PROC_GS/600L)+1L)*600L);
;;;378    							T_PROC_GS_block_cnt=10;
;;;379    							}
;;;380    						else
;;;381    							{
;;;382    							T_PROC_GS=(((T_PROC_GS/10L)+1L)*10L);
;;;383    							T_PROC_GS_block_cnt=10;
;;;384    							}
;;;385    				
;;;386    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;387    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;388    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;389    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;390    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;391    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;392    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;393    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;394    							}												//(T_PROC_GS_MODE=0)
;;;395    					
;;;396    						else if(T_PROC_GS<30)
;;;397    							{
;;;398    							T_PROC_GS=29;
;;;399    							if(T_PROC_GS_MODE!=1)
;;;400    								{
;;;401    								T_PROC_GS_MODE=1;
;;;402    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;403    								}
;;;404    							}
;;;405    						else 
;;;406    							{
;;;407    							if(T_PROC_GS_MODE!=0)
;;;408    								{
;;;409    								T_PROC_GS_MODE=0;
;;;410    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;411    								}
;;;412    							}			
;;;413    						}
;;;414    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;415    						{
;;;416    						if(TIME_VISION_PULT)
;;;417    							{
;;;418    							T_PROC_PS=(((T_PROC_PS/600L)+1L)*600L);
;;;419    							T_PROC_PS_block_cnt=10;
;;;420    							}
;;;421    						else
;;;422    							{
;;;423    							T_PROC_PS=(((T_PROC_PS/10L)+1L)*10L);
;;;424    							T_PROC_PS_block_cnt=10;
;;;425    							}
;;;426    				
;;;427    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;428    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;429    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;430    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;431    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;432    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;433    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;434    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;435    							}												//(T_PROC_PS_MODE=0)
;;;436    					
;;;437    						else if(T_PROC_PS<30)
;;;438    							{
;;;439    							T_PROC_PS=29;
;;;440    							if(T_PROC_PS_MODE!=1)
;;;441    								{
;;;442    								T_PROC_PS_MODE=1;
;;;443    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;444    								}
;;;445    							}
;;;446    						else 
;;;447    							{
;;;448    							if(T_PROC_PS_MODE!=0)
;;;449    								{
;;;450    								T_PROC_PS_MODE=0;
;;;451    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;452    								}
;;;453    							}				
;;;454    						}
;;;455    					}
;;;456    				
;;;457    				else if((modbus_cmnd==52)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ-
000b7a  2b34              CMP      r3,#0x34
000b7c  d072              BEQ      |L1.3172|
;;;458    					{
;;;459    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;460    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;461    						{
;;;462    						if(TIME_VISION_PULT)
;;;463    							{
;;;464    							T_PROC_GS=(((T_PROC_GS/60L)-1L)*60L);
;;;465    							T_PROC_GS_block_cnt=10;
;;;466    							}
;;;467    						else
;;;468    							{
;;;469    							T_PROC_GS--;
;;;470    							T_PROC_GS_block_cnt=10;
;;;471    							}
;;;472    				
;;;473    							
;;;474    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;475    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;476    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;477    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;478    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;479    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;480    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;481    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;482    							}												//(T_PROC_GS_MODE=0)
;;;483    					
;;;484    						else if(T_PROC_GS<30)
;;;485    							{
;;;486    							T_PROC_GS=29;
;;;487    							if(T_PROC_GS_MODE!=1)
;;;488    								{
;;;489    								T_PROC_GS_MODE=1;
;;;490    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;491    								}
;;;492    							}
;;;493    						else 
;;;494    							{
;;;495    							if(T_PROC_GS_MODE!=0)
;;;496    								{
;;;497    								T_PROC_GS_MODE=0;
;;;498    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;499    								}
;;;500    							}
;;;501    							
;;;502    						}
;;;503    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;504    						{
;;;505    						if(TIME_VISION_PULT)
;;;506    							{
;;;507    							T_PROC_PS=(((T_PROC_PS/60L)-1L)*60L);
;;;508    							T_PROC_PS_block_cnt=10;
;;;509    							}
;;;510    						else
;;;511    							{
;;;512    							T_PROC_PS--;
;;;513    							T_PROC_PS_block_cnt=10;
;;;514    							}
;;;515    				
;;;516    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;517    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;518    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;519    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;520    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;521    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;522    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;523    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;524    							}												//(T_PROC_PS_MODE=0)
;;;525    					
;;;526    						else if(T_PROC_PS<30)
;;;527    							{
;;;528    							T_PROC_PS=29;
;;;529    							if(T_PROC_PS_MODE!=1)
;;;530    								{
;;;531    								T_PROC_PS_MODE=1;
;;;532    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;533    								}
;;;534    							}
;;;535    						else 
;;;536    							{
;;;537    							if(T_PROC_PS_MODE!=0)
;;;538    								{
;;;539    								T_PROC_PS_MODE=0;
;;;540    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;541    								}
;;;542    							}			
;;;543    						}
;;;544    					}
;;;545    				else if((modbus_cmnd==54)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ--
000b7e  2b36              CMP      r3,#0x36
000b80  d071              BEQ      |L1.3174|
;;;546    					{
;;;547    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;548    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;549    						{
;;;550    						if(TIME_VISION_PULT)
;;;551    							{
;;;552    							T_PROC_GS=(((T_PROC_GS/600L)-1L)*600L);
;;;553    							T_PROC_GS_block_cnt=10;
;;;554    							}
;;;555    						else
;;;556    							{
;;;557    							T_PROC_GS=(((T_PROC_GS/10L)-1L)*10L);
;;;558    							T_PROC_GS_block_cnt=10;
;;;559    							}
;;;560    				
;;;561    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;562    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;563    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;564    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;565    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;566    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;567    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;568    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;569    							}												//(T_PROC_GS_MODE=0)
;;;570    					
;;;571    						else if(T_PROC_GS<30)
;;;572    							{
;;;573    							T_PROC_GS=29;
;;;574    							if(T_PROC_GS_MODE!=1)
;;;575    								{
;;;576    								T_PROC_GS_MODE=1;
;;;577    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;578    								}
;;;579    							}
;;;580    						else 
;;;581    							{
;;;582    							if(T_PROC_GS_MODE!=0)
;;;583    								{
;;;584    								T_PROC_GS_MODE=0;
;;;585    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;586    								}
;;;587    							}
;;;588    										
;;;589    						}
;;;590    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;591    						{
;;;592    						if(TIME_VISION_PULT)
;;;593    							{
;;;594    							T_PROC_PS=(((T_PROC_PS/600L)-1L)*600L);
;;;595    							T_PROC_PS_block_cnt=10;
;;;596    							}
;;;597    						else
;;;598    							{
;;;599    							T_PROC_PS=(((T_PROC_PS/10L)-1L)*10L);
;;;600    							T_PROC_PS_block_cnt=10;
;;;601    							}
;;;602    				
;;;603    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;604    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;605    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;606    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;607    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;608    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;609    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;610    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;611    							}												//(T_PROC_PS_MODE=0)
;;;612    					
;;;613    						else if(T_PROC_PS<30)
;;;614    							{
;;;615    							T_PROC_PS=29;
;;;616    							if(T_PROC_PS_MODE!=1)
;;;617    								{
;;;618    								T_PROC_PS_MODE=1;
;;;619    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;620    								}
;;;621    							}
;;;622    						else 
;;;623    							{
;;;624    							if(T_PROC_PS_MODE!=0)
;;;625    								{
;;;626    								T_PROC_PS_MODE=0;
;;;627    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;628    								}
;;;629    							}	
;;;630    						}
;;;631    					}
;;;632    				
;;;633    				
;;;634    			//	else if((modbus_rx_arg1>>8)==90)
;;;635    			else if((modbus_cmnd==1)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
000b82  2b01              CMP      r3,#1
000b84  d070              BEQ      |L1.3176|
                  |L1.2950|
000b86  e1fc              B        |L1.3970|
                  |L1.2952|
000b88  2101              MOVS     r1,#1                 ;199
000b8a  e7c1              B        |L1.2832|
                  |L1.2956|
000b8c  4682              MOV      r10,r0                ;215
000b8e  7902              LDRB     r2,[r0,#4]            ;215  ; modbus_cmnd_cnt
000b90  7800              LDRB     r0,[r0,#0]            ;215  ; modbus_self_cmnd_cnt
000b92  4282              CMP      r2,r0                 ;215
000b94  d0a8              BEQ      |L1.2792|
000b96  48b1              LDR      r0,|L1.3676|
000b98  f9b02000          LDRSH    r2,[r0,#0]            ;217  ; I_ug
000b9c  428a              CMP      r2,r1                 ;217
000b9e  da02              BGE      |L1.2982|
000ba0  1c52              ADDS     r2,r2,#1              ;217
000ba2  e017              B        |L1.3028|
                  |L1.2980|
000ba4  e24e              B        |L1.4164|
                  |L1.2982|
000ba6  fb92f1f6          SDIV     r1,r2,r6              ;218
000baa  1c49              ADDS     r1,r1,#1              ;218
000bac  e033              B        |L1.3094|
000bae  bf00              NOP                            ;219
                  |L1.2992|
000bb0  48ab              LDR      r0,|L1.3680|
000bb2  f9bb2000          LDRSH    r2,[r11,#0]           ;219  ; I_MAX_IPS
000bb6  f9b01000          LDRSH    r1,[r0,#0]            ;219  ; I_MIN_IPS
000bba  48a8              LDR      r0,|L1.3676|
000bbc  e06b              B        |L1.3222|
                  |L1.3006|
000bbe  4682              MOV      r10,r0                ;225
000bc0  7902              LDRB     r2,[r0,#4]            ;225  ; modbus_cmnd_cnt
000bc2  7800              LDRB     r0,[r0,#0]            ;225  ; modbus_self_cmnd_cnt
000bc4  4282              CMP      r2,r0                 ;225
000bc6  d08f              BEQ      |L1.2792|
000bc8  48a4              LDR      r0,|L1.3676|
000bca  f9b02000          LDRSH    r2,[r0,#0]            ;227  ; I_ug
000bce  428a              CMP      r2,r1                 ;227
000bd0  da02              BGE      |L1.3032|
000bd2  1e52              SUBS     r2,r2,#1              ;227
                  |L1.3028|
000bd4  8002              STRH     r2,[r0,#0]            ;227
000bd6  e7eb              B        |L1.2992|
                  |L1.3032|
000bd8  fb92f1f6          SDIV     r1,r2,r6              ;228
000bdc  1e49              SUBS     r1,r1,#1              ;228
000bde  e01a              B        |L1.3094|
                  |L1.3040|
000be0  4682              MOV      r10,r0                ;233
000be2  7902              LDRB     r2,[r0,#4]            ;233  ; modbus_cmnd_cnt
000be4  7800              LDRB     r0,[r0,#0]            ;233  ; modbus_self_cmnd_cnt
000be6  4282              CMP      r2,r0                 ;233
000be8  d0cd              BEQ      |L1.2950|
000bea  489c              LDR      r0,|L1.3676|
000bec  f9b02000          LDRSH    r2,[r0,#0]            ;235  ; I_ug
000bf0  428a              CMP      r2,r1                 ;235
000bf2  dbd8              BLT      |L1.2982|
000bf4  fb92f1f6          SDIV     r1,r2,r6              ;236
000bf8  1d49              ADDS     r1,r1,#5              ;236
000bfa  e00c              B        |L1.3094|
                  |L1.3068|
000bfc  4682              MOV      r10,r0                ;242
000bfe  7902              LDRB     r2,[r0,#4]            ;242  ; modbus_cmnd_cnt
000c00  7800              LDRB     r0,[r0,#0]            ;242  ; modbus_self_cmnd_cnt
000c02  4282              CMP      r2,r0                 ;242
000c04  d0bf              BEQ      |L1.2950|
000c06  4895              LDR      r0,|L1.3676|
000c08  f9b02000          LDRSH    r2,[r0,#0]            ;244  ; I_ug
000c0c  428a              CMP      r2,r1                 ;244
000c0e  dbe3              BLT      |L1.3032|
000c10  fb92f1f6          SDIV     r1,r2,r6              ;245
000c14  1f49              SUBS     r1,r1,#5              ;245
                  |L1.3094|
000c16  eb010181          ADD      r1,r1,r1,LSL #2       ;245
000c1a  0049              LSLS     r1,r1,#1              ;245
000c1c  8001              STRH     r1,[r0,#0]            ;245
000c1e  e7c7              B        |L1.2992|
                  |L1.3104|
000c20  4682              MOV      r10,r0                ;251
000c22  7901              LDRB     r1,[r0,#4]            ;251  ; modbus_cmnd_cnt
000c24  7800              LDRB     r0,[r0,#0]            ;251  ; modbus_self_cmnd_cnt
000c26  4281              CMP      r1,r0                 ;251
000c28  d0ad              BEQ      |L1.2950|
000c2a  488e              LDR      r0,|L1.3684|
000c2c  8801              LDRH     r1,[r0,#0]            ;253  ; U_up
000c2e  1c49              ADDS     r1,r1,#1              ;253
000c30  e029              B        |L1.3206|
                  |L1.3122|
000c32  4682              MOV      r10,r0                ;259
000c34  7901              LDRB     r1,[r0,#4]            ;259  ; modbus_cmnd_cnt
000c36  7800              LDRB     r0,[r0,#0]            ;259  ; modbus_self_cmnd_cnt
000c38  4281              CMP      r1,r0                 ;259
000c3a  d0a4              BEQ      |L1.2950|
000c3c  4889              LDR      r0,|L1.3684|
000c3e  8801              LDRH     r1,[r0,#0]            ;261  ; U_up
000c40  1e49              SUBS     r1,r1,#1              ;261
000c42  e020              B        |L1.3206|
000c44  e002              B        |L1.3148|
                  |L1.3142|
000c46  e010              B        |L1.3178|
                  |L1.3144|
000c48  e02e              B        |L1.3240|
                  |L1.3146|
000c4a  e078              B        |L1.3390|
                  |L1.3148|
000c4c  4682              MOV      r10,r0                ;267
000c4e  7901              LDRB     r1,[r0,#4]            ;267  ; modbus_cmnd_cnt
000c50  7800              LDRB     r0,[r0,#0]            ;267  ; modbus_self_cmnd_cnt
000c52  4281              CMP      r1,r0                 ;267
000c54  d097              BEQ      |L1.2950|
000c56  4883              LDR      r0,|L1.3684|
000c58  f9b01000          LDRSH    r1,[r0,#0]            ;269  ; U_up
000c5c  fb91f1f6          SDIV     r1,r1,r6              ;269
000c60  1c49              ADDS     r1,r1,#1              ;269
000c62  e00d              B        |L1.3200|
                  |L1.3172|
000c64  e0a2              B        |L1.3500|
                  |L1.3174|
000c66  e0cf              B        |L1.3592|
                  |L1.3176|
000c68  e154              B        |L1.3860|
                  |L1.3178|
000c6a  4682              MOV      r10,r0                ;275
000c6c  7901              LDRB     r1,[r0,#4]            ;275  ; modbus_cmnd_cnt
000c6e  7800              LDRB     r0,[r0,#0]            ;275  ; modbus_self_cmnd_cnt
000c70  4281              CMP      r1,r0                 ;275
000c72  d088              BEQ      |L1.2950|
000c74  487b              LDR      r0,|L1.3684|
000c76  f9b01000          LDRSH    r1,[r0,#0]            ;277  ; U_up
000c7a  fb91f1f6          SDIV     r1,r1,r6              ;277
000c7e  1e49              SUBS     r1,r1,#1              ;277
                  |L1.3200|
000c80  eb010181          ADD      r1,r1,r1,LSL #2       ;277
000c84  0049              LSLS     r1,r1,#1              ;277
                  |L1.3206|
000c86  8001              STRH     r1,[r0,#0]            ;277
000c88  4877              LDR      r0,|L1.3688|
000c8a  f9b02000          LDRSH    r2,[r0,#0]            ;278  ; U_MAX
000c8e  4877              LDR      r0,|L1.3692|
000c90  f9b01000          LDRSH    r1,[r0,#0]            ;278  ; U_MIN
000c94  4873              LDR      r0,|L1.3684|
                  |L1.3222|
000c96  f7fffffe          BL       gran
000c9a  f8a86000          STRH     r6,[r8,#0]            ;279
000c9e  f89a1004          LDRB     r1,[r10,#4]           ;280  ; modbus_cmnd_cnt
000ca2  f88a1000          STRB     r1,[r10,#0]           ;280
                  |L1.3238|
000ca6  e16c              B        |L1.3970|
                  |L1.3240|
000ca8  7903              LDRB     r3,[r0,#4]            ;284  ; modbus_cmnd_cnt
000caa  f890c000          LDRB     r12,[r0,#0]           ;284  ; modbus_self_cmnd_cnt
000cae  4563              CMP      r3,r12                ;284
000cb0  d0f9              BEQ      |L1.3238|
000cb2  7003              STRB     r3,[r0,#0]            ;286
000cb4  f8980000          LDRB     r0,[r8,#0]            ;287  ; main_menu_mode
000cb8  782b              LDRB     r3,[r5,#0]            ;287  ; work_stat
000cba  ea500c03          ORRS     r12,r0,r3             ;287
000cbe  d002              BEQ      |L1.3270|
000cc0  2801              CMP      r0,#1                 ;328
000cc2  d01c              BEQ      |L1.3326|
000cc4  e15d              B        |L1.3970|
                  |L1.3270|
000cc6  8808              LDRH     r0,[r1,#0]            ;289  ; TIME_VISION_PULT
000cc8  2800              CMP      r0,#0                 ;289
000cca  4869              LDR      r0,|L1.3696|
000ccc  d004              BEQ      |L1.3288|
000cce  6803              LDR      r3,[r0,#0]            ;291  ; T_PROC_GS
000cd0  fb93f1f9          SDIV     r1,r3,r9              ;291
000cd4  1c49              ADDS     r1,r1,#1              ;291
000cd6  e080              B        |L1.3546|
                  |L1.3288|
000cd8  6801              LDR      r1,[r0,#0]            ;296  ; T_PROC_GS
000cda  1c49              ADDS     r1,r1,#1              ;296
                  |L1.3292|
000cdc  6001              STR      r1,[r0,#0]            ;296  ; T_PROC_GS
000cde  e0dc              B        |L1.3738|
                  |L1.3296|
000ce0  6001              STR      r1,[r0,#0]            ;313  ; T_PROC_GS
000ce2  4864              LDR      r0,|L1.3700|
000ce4  8801              LDRH     r1,[r0,#0]            ;313  ; T_PROC_GS_MODE
000ce6  2901              CMP      r1,#1                 ;313
000ce8  d0dd              BEQ      |L1.3238|
000cea  2101              MOVS     r1,#1                 ;566
000cec  e004              B        |L1.3320|
                  |L1.3310|
000cee  4861              LDR      r0,|L1.3700|
000cf0  8801              LDRH     r1,[r0,#0]            ;321  ; T_PROC_GS_MODE
000cf2  2900              CMP      r1,#0                 ;321
000cf4  d0d7              BEQ      |L1.3238|
000cf6  2100              MOVS     r1,#0                 ;584
                  |L1.3320|
000cf8  8001              STRH     r1,[r0,#0]            ;305
000cfa  20ee              MOVS     r0,#0xee              ;306
000cfc  e01c              B        |L1.3384|
                  |L1.3326|
000cfe  2b00              CMP      r3,#0                 ;328
000d00  d11c              BNE      |L1.3388|
000d02  8808              LDRH     r0,[r1,#0]            ;330  ; TIME_VISION_PULT
000d04  2800              CMP      r0,#0                 ;330
000d06  485c              LDR      r0,|L1.3704|
000d08  d004              BEQ      |L1.3348|
000d0a  6802              LDR      r2,[r0,#0]            ;332  ; T_PROC_PS
000d0c  fb92f1f9          SDIV     r1,r2,r9              ;332
000d10  1c49              ADDS     r1,r1,#1              ;332
000d12  e072              B        |L1.3578|
                  |L1.3348|
000d14  6801              LDR      r1,[r0,#0]            ;337  ; T_PROC_PS
000d16  1c49              ADDS     r1,r1,#1              ;337
                  |L1.3352|
000d18  6001              STR      r1,[r0,#0]            ;337  ; T_PROC_PS
000d1a  e0e3              B        |L1.3812|
                  |L1.3356|
000d1c  6001              STR      r1,[r0,#0]            ;354  ; T_PROC_PS
000d1e  4857              LDR      r0,|L1.3708|
000d20  8801              LDRH     r1,[r0,#0]            ;354  ; T_PROC_PS_MODE
000d22  2901              CMP      r1,#1                 ;354
000d24  d00a              BEQ      |L1.3388|
000d26  2101              MOVS     r1,#1                 ;608
000d28  e004              B        |L1.3380|
                  |L1.3370|
000d2a  4854              LDR      r0,|L1.3708|
000d2c  8801              LDRH     r1,[r0,#0]            ;362  ; T_PROC_PS_MODE
000d2e  2900              CMP      r1,#0                 ;362
000d30  d004              BEQ      |L1.3388|
000d32  2100              MOVS     r1,#0                 ;626
                  |L1.3380|
000d34  8001              STRH     r1,[r0,#0]            ;364
000d36  20f0              MOVS     r0,#0xf0              ;365
                  |L1.3384|
000d38  f7fffffe          BL       lc640_write_int
                  |L1.3388|
000d3c  e121              B        |L1.3970|
                  |L1.3390|
000d3e  7903              LDRB     r3,[r0,#4]            ;370  ; modbus_cmnd_cnt
000d40  f890c000          LDRB     r12,[r0,#0]           ;370  ; modbus_self_cmnd_cnt
000d44  4563              CMP      r3,r12                ;370
000d46  d008              BEQ      |L1.3418|
000d48  7003              STRB     r3,[r0,#0]            ;372
000d4a  f8980000          LDRB     r0,[r8,#0]            ;373  ; main_menu_mode
000d4e  782b              LDRB     r3,[r5,#0]            ;373  ; work_stat
000d50  ea500c03          ORRS     r12,r0,r3             ;373
000d54  d002              BEQ      |L1.3420|
000d56  2801              CMP      r0,#1                 ;414
000d58  d013              BEQ      |L1.3458|
                  |L1.3418|
000d5a  e112              B        |L1.3970|
                  |L1.3420|
000d5c  8808              LDRH     r0,[r1,#0]            ;375  ; TIME_VISION_PULT
000d5e  2800              CMP      r0,#0                 ;375
000d60  4843              LDR      r0,|L1.3696|
000d62  d009              BEQ      |L1.3448|
000d64  6803              LDR      r3,[r0,#0]            ;377  ; T_PROC_GS
000d66  f44f7116          MOV      r1,#0x258             ;377
000d6a  fb93f1f1          SDIV     r1,r3,r1              ;377
000d6e  1c49              ADDS     r1,r1,#1              ;377
000d70  f44f7316          MOV      r3,#0x258             ;377
000d74  4359              MULS     r1,r3,r1              ;377
000d76  e7b1              B        |L1.3292|
                  |L1.3448|
000d78  6801              LDR      r1,[r0,#0]            ;382  ; T_PROC_GS
000d7a  fb91f1f6          SDIV     r1,r1,r6              ;382
000d7e  1c49              ADDS     r1,r1,#1              ;382
000d80  e099              B        |L1.3766|
                  |L1.3458|
000d82  2b00              CMP      r3,#0                 ;414
000d84  d120              BNE      |L1.3528|
000d86  8808              LDRH     r0,[r1,#0]            ;416  ; TIME_VISION_PULT
000d88  2800              CMP      r0,#0                 ;416
000d8a  483b              LDR      r0,|L1.3704|
000d8c  d009              BEQ      |L1.3490|
000d8e  6802              LDR      r2,[r0,#0]            ;418  ; T_PROC_PS
000d90  f44f7116          MOV      r1,#0x258             ;418
000d94  fb92f1f1          SDIV     r1,r2,r1              ;418
000d98  1c49              ADDS     r1,r1,#1              ;418
000d9a  f44f7216          MOV      r2,#0x258             ;418
000d9e  4351              MULS     r1,r2,r1              ;418
000da0  e7ba              B        |L1.3352|
                  |L1.3490|
000da2  6801              LDR      r1,[r0,#0]            ;423  ; T_PROC_PS
000da4  fb91f1f6          SDIV     r1,r1,r6              ;423
000da8  1c49              ADDS     r1,r1,#1              ;423
000daa  e0aa              B        |L1.3842|
                  |L1.3500|
000dac  7903              LDRB     r3,[r0,#4]            ;457  ; modbus_cmnd_cnt
000dae  f890c000          LDRB     r12,[r0,#0]           ;457  ; modbus_self_cmnd_cnt
000db2  4563              CMP      r3,r12                ;457
000db4  d008              BEQ      |L1.3528|
000db6  7003              STRB     r3,[r0,#0]            ;459
000db8  f8980000          LDRB     r0,[r8,#0]            ;460  ; main_menu_mode
000dbc  782b              LDRB     r3,[r5,#0]            ;460  ; work_stat
000dbe  ea500c03          ORRS     r12,r0,r3             ;460
000dc2  d002              BEQ      |L1.3530|
000dc4  2801              CMP      r0,#1                 ;503
000dc6  d00f              BEQ      |L1.3560|
                  |L1.3528|
000dc8  e0db              B        |L1.3970|
                  |L1.3530|
000dca  8808              LDRH     r0,[r1,#0]            ;462  ; TIME_VISION_PULT
000dcc  2800              CMP      r0,#0                 ;462
000dce  4828              LDR      r0,|L1.3696|
000dd0  d007              BEQ      |L1.3554|
000dd2  6803              LDR      r3,[r0,#0]            ;464  ; T_PROC_GS
000dd4  fb93f1f9          SDIV     r1,r3,r9              ;464
000dd8  1e49              SUBS     r1,r1,#1              ;464
                  |L1.3546|
000dda  ebc11101          RSB      r1,r1,r1,LSL #4       ;464
000dde  0089              LSLS     r1,r1,#2              ;464
000de0  e77c              B        |L1.3292|
                  |L1.3554|
000de2  6801              LDR      r1,[r0,#0]            ;469  ; T_PROC_GS
000de4  1e49              SUBS     r1,r1,#1              ;469
000de6  e779              B        |L1.3292|
                  |L1.3560|
000de8  b9eb              CBNZ     r3,|L1.3622|
000dea  8808              LDRH     r0,[r1,#0]            ;505  ; TIME_VISION_PULT
000dec  2800              CMP      r0,#0                 ;505
000dee  4822              LDR      r0,|L1.3704|
000df0  d007              BEQ      |L1.3586|
000df2  6802              LDR      r2,[r0,#0]            ;507  ; T_PROC_PS
000df4  fb92f1f9          SDIV     r1,r2,r9              ;507
000df8  1e49              SUBS     r1,r1,#1              ;507
                  |L1.3578|
000dfa  ebc11101          RSB      r1,r1,r1,LSL #4       ;507
000dfe  0089              LSLS     r1,r1,#2              ;507
000e00  e78a              B        |L1.3352|
                  |L1.3586|
000e02  6801              LDR      r1,[r0,#0]            ;512  ; T_PROC_PS
000e04  1e49              SUBS     r1,r1,#1              ;512
000e06  e787              B        |L1.3352|
                  |L1.3592|
000e08  7903              LDRB     r3,[r0,#4]            ;545  ; modbus_cmnd_cnt
000e0a  f890c000          LDRB     r12,[r0,#0]           ;545  ; modbus_self_cmnd_cnt
000e0e  4563              CMP      r3,r12                ;545
000e10  d009              BEQ      |L1.3622|
000e12  7003              STRB     r3,[r0,#0]            ;547
000e14  f8980000          LDRB     r0,[r8,#0]            ;548  ; main_menu_mode
000e18  782b              LDRB     r3,[r5,#0]            ;548  ; work_stat
000e1a  ea500c03          ORRS     r12,r0,r3             ;548
000e1e  d02f              BEQ      |L1.3712|
000e20  2801              CMP      r0,#1                 ;590
000e22  d051              BEQ      |L1.3784|
000e24  e0ad              B        |L1.3970|
                  |L1.3622|
000e26  e08f              B        |L1.3912|
                  |L1.3624|
                          DCD      i
                  |L1.3628|
                          DCD      ||area_number.4||+0x1e
                  |L1.3632|
                          DCD      I_MAX_IPS
                  |L1.3636|
                          DCD      work_stat
                  |L1.3640|
                          DCD      tumbler_stat
                  |L1.3644|
                          DCD      tumbler_stat_old
                  |L1.3648|
                          DCD      main_cnt
                  |L1.3652|
                          DCD      I_ug_block_cnt
                  |L1.3656|
                          DCD      U_up_block_cnt
                  |L1.3660|
                          DCD      TIME_VISION_PULT
                  |L1.3664|
                          DCD      T_PROC_GS_block_cnt
                  |L1.3668|
                          DCD      T_PROC_PS_block_cnt
                  |L1.3672|
                          DCD      main_menu_mode
                  |L1.3676|
                          DCD      I_ug
                  |L1.3680|
                          DCD      I_MIN_IPS
                  |L1.3684|
                          DCD      U_up
                  |L1.3688|
                          DCD      U_MAX
                  |L1.3692|
                          DCD      U_MIN
                  |L1.3696|
                          DCD      T_PROC_GS
                  |L1.3700|
                          DCD      T_PROC_GS_MODE
                  |L1.3704|
                          DCD      T_PROC_PS
                  |L1.3708|
                          DCD      T_PROC_PS_MODE
                  |L1.3712|
000e80  8808              LDRH     r0,[r1,#0]            ;550  ; TIME_VISION_PULT
000e82  b198              CBZ      r0,|L1.3756|
000e84  49f8              LDR      r1,|L1.4712|
000e86  f44f7016          MOV      r0,#0x258             ;552
000e8a  680b              LDR      r3,[r1,#0]            ;552  ; T_PROC_GS
000e8c  fb93f0f0          SDIV     r0,r3,r0              ;552
000e90  1e40              SUBS     r0,r0,#1              ;552
000e92  f44f7316          MOV      r3,#0x258             ;552
000e96  4358              MULS     r0,r3,r0              ;552
000e98  6008              STR      r0,[r1,#0]            ;552  ; T_PROC_GS
                  |L1.3738|
000e9a  48f3              LDR      r0,|L1.4712|
000e9c  49f3              LDR      r1,|L1.4716|
000e9e  8016              STRH     r6,[r2,#0]            ;558
000ea0  6802              LDR      r2,[r0,#0]            ;300  ; T_PROC_GS
000ea2  6809              LDR      r1,[r1,#0]            ;300  ; T_PROC_MAX
000ea4  428a              CMP      r2,r1                 ;300
000ea6  dd0a              BLE      |L1.3774|
000ea8  1c49              ADDS     r1,r1,#1              ;563
000eaa  e719              B        |L1.3296|
                  |L1.3756|
000eac  48ee              LDR      r0,|L1.4712|
000eae  6801              LDR      r1,[r0,#0]            ;557  ; T_PROC_GS
000eb0  fb91f1f6          SDIV     r1,r1,r6              ;557
000eb4  1e49              SUBS     r1,r1,#1              ;557
                  |L1.3766|
000eb6  eb010181          ADD      r1,r1,r1,LSL #2       ;557
000eba  0049              LSLS     r1,r1,#1              ;557
000ebc  e70e              B        |L1.3292|
                  |L1.3774|
000ebe  2a1e              CMP      r2,#0x1e              ;571
000ec0  f6bfaf15          BGE      |L1.3310|
000ec4  211d              MOVS     r1,#0x1d              ;573
000ec6  e70b              B        |L1.3296|
                  |L1.3784|
000ec8  bbf3              CBNZ     r3,|L1.3912|
000eca  8808              LDRH     r0,[r1,#0]            ;592  ; TIME_VISION_PULT
000ecc  b1a0              CBZ      r0,|L1.3832|
000ece  49e8              LDR      r1,|L1.4720|
000ed0  f44f7016          MOV      r0,#0x258             ;594
000ed4  680a              LDR      r2,[r1,#0]            ;594  ; T_PROC_PS
000ed6  fb92f0f0          SDIV     r0,r2,r0              ;594
000eda  1e40              SUBS     r0,r0,#1              ;594
000edc  f44f7216          MOV      r2,#0x258             ;594
000ee0  4350              MULS     r0,r2,r0              ;594
000ee2  6008              STR      r0,[r1,#0]            ;594  ; T_PROC_PS
                  |L1.3812|
000ee4  48e2              LDR      r0,|L1.4720|
000ee6  49e1              LDR      r1,|L1.4716|
000ee8  f8aa6000          STRH     r6,[r10,#0]           ;600
000eec  6802              LDR      r2,[r0,#0]            ;341  ; T_PROC_PS
000eee  6809              LDR      r1,[r1,#0]            ;341  ; T_PROC_MAX
000ef0  428a              CMP      r2,r1                 ;341
000ef2  dd0a              BLE      |L1.3850|
000ef4  1c49              ADDS     r1,r1,#1              ;605
000ef6  e711              B        |L1.3356|
                  |L1.3832|
000ef8  48dd              LDR      r0,|L1.4720|
000efa  6801              LDR      r1,[r0,#0]            ;599  ; T_PROC_PS
000efc  fb91f1f6          SDIV     r1,r1,r6              ;599
000f00  1e49              SUBS     r1,r1,#1              ;599
                  |L1.3842|
000f02  eb010181          ADD      r1,r1,r1,LSL #2       ;599
000f06  0049              LSLS     r1,r1,#1              ;599
000f08  e706              B        |L1.3352|
                  |L1.3850|
000f0a  2a1e              CMP      r2,#0x1e              ;613
000f0c  f6bfaf0d          BGE      |L1.3370|
000f10  211d              MOVS     r1,#0x1d              ;615
000f12  e703              B        |L1.3356|
                  |L1.3860|
000f14  7901              LDRB     r1,[r0,#4]  ; modbus_cmnd_cnt
000f16  7802              LDRB     r2,[r0,#0]  ; modbus_self_cmnd_cnt
000f18  4291              CMP      r1,r2
000f1a  d032              BEQ      |L1.3970|
;;;636    					{
;;;637    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;638    					if(tumbler_stat==tsI)
;;;639    						{
;;;640    						if(work_stat!=wsGS)
;;;641    							{
;;;642    							work_stat=wsGS;
;;;643    							time_proc=0;
;;;644    							time_proc_remain=T_PROC_GS;
;;;645    							index_set=0;
000f1c  4ed5              LDR      r6,|L1.4724|
000f1e  7001              STRB     r1,[r0,#0]            ;637
000f20  46f0              MOV      r8,lr                 ;638
000f22  f1bc0f00          CMP      r12,#0                ;638
000f26  d114              BNE      |L1.3922|
000f28  7828              LDRB     r0,[r5,#0]            ;640  ; work_stat
000f2a  2801              CMP      r0,#1                 ;640
000f2c  d00d              BEQ      |L1.3914|
000f2e  2001              MOVS     r0,#1                 ;642
000f30  49d1              LDR      r1,|L1.4728|
000f32  7028              STRB     r0,[r5,#0]            ;642
000f34  2000              MOVS     r0,#0                 ;643
000f36  6008              STR      r0,[r1,#0]            ;644  ; time_proc
000f38  49cb              LDR      r1,|L1.4712|
000f3a  680a              LDR      r2,[r1,#0]            ;644  ; T_PROC_GS
000f3c  49cf              LDR      r1,|L1.4732|
000f3e  600a              STR      r2,[r1,#0]  ; time_proc_remain
000f40  7130              STRB     r0,[r6,#4]
;;;646    							restart_on_GS();
000f42  f7fffffe          BL       restart_on_GS
000f46  e004              B        |L1.3922|
                  |L1.3912|
000f48  e016              B        |L1.3960|
                  |L1.3914|
;;;647    							}			
;;;648    						else 
;;;649    							{
;;;650    							work_stat=wsOFF;
000f4a  2000              MOVS     r0,#0
000f4c  7028              STRB     r0,[r5,#0]
;;;651    							restart_off();
000f4e  f7fffffe          BL       restart_off
                  |L1.3922|
;;;652    							}
;;;653    						}
;;;654    				
;;;655    					if(tumbler_stat==tsU)
000f52  f8980000          LDRB     r0,[r8,#0]  ; tumbler_stat
000f56  2801              CMP      r0,#1
000f58  d113              BNE      |L1.3970|
;;;656    						{
;;;657    						if(work_stat!=wsPS)
000f5a  7828              LDRB     r0,[r5,#0]  ; work_stat
000f5c  2802              CMP      r0,#2
000f5e  d00c              BEQ      |L1.3962|
;;;658    							{
;;;659    							work_stat=wsPS;
000f60  2002              MOVS     r0,#2
;;;660    							time_proc=0;
000f62  49c5              LDR      r1,|L1.4728|
000f64  7028              STRB     r0,[r5,#0]            ;659
000f66  2000              MOVS     r0,#0
;;;661    							time_proc_remain=T_PROC_PS;
000f68  6008              STR      r0,[r1,#0]  ; time_proc
000f6a  49c1              LDR      r1,|L1.4720|
000f6c  680a              LDR      r2,[r1,#0]  ; T_PROC_PS
000f6e  49c3              LDR      r1,|L1.4732|
;;;662    							index_set=0;
000f70  600a              STR      r2,[r1,#0]  ; time_proc_remain
000f72  7130              STRB     r0,[r6,#4]
;;;663    							restart_on_PS();
000f74  f7fffffe          BL       restart_on_PS
                  |L1.3960|
000f78  e003              B        |L1.3970|
                  |L1.3962|
;;;664    							}			
;;;665    						else
;;;666    							{
;;;667    							work_stat=wsOFF;
000f7a  2000              MOVS     r0,#0
000f7c  7028              STRB     r0,[r5,#0]
;;;668    							restart_off();
000f7e  f7fffffe          BL       restart_off
                  |L1.3970|
;;;669    							}
;;;670    						}
;;;671    					}
;;;672    				}
;;;673    			}
;;;674    		}
;;;675    
;;;676    	if(modbus_an_buffer[0]==MODBUS_ADRESS)
000f82  48bf              LDR      r0,|L1.4736|
000f84  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
000f86  48bf              LDR      r0,|L1.4740|
000f88  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
000f8c  4281              CMP      r1,r0
000f8e  d159              BNE      |L1.4164|
;;;677    		{
;;;678    		if(modbus_func==3)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ
000f90  9901              LDR      r1,[sp,#4]
000f92  2903              CMP      r1,#3
000f94  d04a              BEQ      |L1.4140|
;;;679    			{
;;;680    			if((modbus_rx_arg0>=50)&&(modbus_rx_arg0<80)) modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func, modbus_rx_arg0,modbus_rx_arg1, MODBUS_RTU_PROT);
;;;681    			}
;;;682    		else if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ	βυξδξβ
000f96  2904              CMP      r1,#4
000f98  d057              BEQ      |L1.4170|
;;;683    			{
;;;684    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0, modbus_rx_arg1, MODBUS_RTU_PROT);
;;;685    			}
;;;686    
;;;687    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπΰ
000f9a  2906              CMP      r1,#6
000f9c  d152              BNE      |L1.4164|
;;;688    			{
;;;689    			if(modbus_rx_arg0==50)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000f9e  2f32              CMP      r7,#0x32
000fa0  d05c              BEQ      |L1.4188|
;;;690    				{
;;;691    				I_ug=modbus_rx_arg1;
;;;692    				lc640_write_int(EE_I_UG,I_ug);
;;;693    				}
;;;694    			if(modbus_rx_arg0==51)		//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
000fa2  2f33              CMP      r7,#0x33
000fa4  d05f              BEQ      |L1.4198|
;;;695    				{
;;;696    				U_up=modbus_rx_arg1;
;;;697    				lc640_write_int(EE_U_UP,U_up);
;;;698    				}
;;;699    			if(modbus_rx_arg0==52)		//μΰκρθμΰολόνξε νΰοπζενθε δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fa6  2f34              CMP      r7,#0x34
000fa8  d062              BEQ      |L1.4208|
;;;700    				{
;;;701    				U_maxg=modbus_rx_arg1;
;;;702    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;703    				}
;;;704    			if(modbus_rx_arg0==53)		//μΰκρθμΰλόνϋι ςξκ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
000faa  2f35              CMP      r7,#0x35
000fac  d065              BEQ      |L1.4218|
;;;705    				{
;;;706    				I_maxp=modbus_rx_arg1;
;;;707    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;708    				}								
;;;709    			if(modbus_rx_arg0==54)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.ρεκσνδϋ
;;;710    				{
;;;711    				signed long sec,min,hour;
;;;712    				sec=(signed long)modbus_rx_arg1;
;;;713    				min=(T_PROC_GS/60L)%60L;
;;;714    				hour=T_PROC_GS/3600L;
000fae  f44f6061          MOV      r0,#0xe10
000fb2  2f36              CMP      r7,#0x36              ;709
000fb4  d066              BEQ      |L1.4228|
;;;715    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;716    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;717    				}
;;;718    			if(modbus_rx_arg0==55)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.μθνσςϋ
000fb6  2f37              CMP      r7,#0x37
000fb8  d078              BEQ      |L1.4268|
;;;719    				{
;;;720    				signed long sec,min,hour;
;;;721    				sec=T_PROC_GS%60L;
;;;722    				min=(signed long)modbus_rx_arg1;
;;;723    				hour=T_PROC_GS/3600L;
;;;724    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;725    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;726    				}
;;;727    			if(modbus_rx_arg0==56)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.χΰρϋ
000fba  2f38              CMP      r7,#0x38
000fbc  d077              BEQ      |L1.4270|
;;;728    				{
;;;729    				signed long sec,min,hour;
;;;730    				sec=T_PROC_GS%60L;
;;;731    				min=(T_PROC_GS/60L)%60L;
;;;732    				hour=(signed long)modbus_rx_arg1;
;;;733    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;734    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;735    				}
;;;736    			if(modbus_rx_arg0==57)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.ρεκσνδϋ
000fbe  2f39              CMP      r7,#0x39
000fc0  d076              BEQ      |L1.4272|
;;;737    				{
;;;738    				signed long sec,min,hour;
;;;739    				sec=(signed long)modbus_rx_arg1;
;;;740    				min=(T_PROC_PS/60L)%60L;
;;;741    				hour=T_PROC_PS/3600L;
;;;742    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;743    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;744    				}
;;;745    
;;;746    			if(modbus_rx_arg0==58)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.μθνσςϋ
000fc2  2f3a              CMP      r7,#0x3a
000fc4  d075              BEQ      |L1.4274|
;;;747    				{
;;;748    				signed long sec,min,hour;
;;;749    				sec=T_PROC_PS%60L;
;;;750    				min=(signed long)modbus_rx_arg1;
;;;751    				hour=T_PROC_PS/3600L;
;;;752    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;753    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;754    				}
;;;755    
;;;756    			if(modbus_rx_arg0==59)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.χΰρϋ
000fc6  2f3b              CMP      r7,#0x3b
000fc8  d074              BEQ      |L1.4276|
;;;757    				{
;;;758    				signed long sec,min,hour;
;;;759    				sec=T_PROC_PS%60L;
;;;760    				min=(T_PROC_PS/60L)%60L;
;;;761    				hour=(signed long)modbus_rx_arg1;
;;;762    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;763    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;764    				}
;;;765    
;;;766    			if(modbus_rx_arg0==60)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
000fca  2f3c              CMP      r7,#0x3c
000fcc  d073              BEQ      |L1.4278|
;;;767    				{
;;;768    				if(modbus_rx_arg1==1)
;;;769    					{
;;;770    					if(work_stat!=wsPS)
;;;771    						{
;;;772    						work_stat=wsPS;
;;;773    						time_proc=0;
;;;774    						time_proc_remain=T_PROC_PS;
;;;775    						restart_on_PS();
;;;776    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;777    						}
;;;778    					}
;;;779    				if(modbus_rx_arg1==0)
;;;780    					{
;;;781    					if(work_stat==wsPS)
;;;782    						{
;;;783    						work_stat=wsOFF;
;;;784    						restart_off();
;;;785    						}
;;;786    					}
;;;787    				}
;;;788    			if(modbus_rx_arg0==61)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
000fce  2f3d              CMP      r7,#0x3d
000fd0  d072              BEQ      |L1.4280|
;;;789    				{
;;;790    				if(modbus_rx_arg1==1)
;;;791    					{
;;;792    					if(work_stat!=wsGS)
;;;793    						{
;;;794    						work_stat=wsGS;
;;;795    						time_proc=0;
;;;796    						time_proc_remain=T_PROC_GS;
;;;797    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;798    						}
;;;799    					}
;;;800    				if(modbus_rx_arg1==0)
;;;801    					{
;;;802    					if(work_stat==wsGS)
;;;803    						{
;;;804    						work_stat=wsOFF;
;;;805    						restart_off();
;;;806    						}
;;;807    					}
;;;808    				}
;;;809    
;;;810    			if(modbus_rx_arg0==62)		//οεπεκλώχενθε πελε πεβεπρΰ
000fd2  2f3e              CMP      r7,#0x3e
000fd4  d071              BEQ      |L1.4282|
;;;811    				{
;;;812    					{
;;;813    					if(work_stat==wsOFF)
;;;814    						{
;;;815    						if(modbus_rx_arg1==0)REV_STAT=rsFF;
;;;816    						if(modbus_rx_arg1==1)REV_STAT=rsREW;
;;;817    						}
;;;818    					}
;;;819    				}
;;;820    			if(modbus_rx_arg0==63)		//βκλώχενθε-βϋκλώχενθε ΰβςξπεβεπρΰ
000fd6  2f3f              CMP      r7,#0x3f
000fd8  d070              BEQ      |L1.4284|
;;;821    				{
;;;822    					{
;;;823    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;824    						{
;;;825    						if(modbus_rx_arg1==1)AVT_REV_IS_ON=1;
;;;826    						if(modbus_rx_arg1==0)AVT_REV_IS_ON=0;
;;;827    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;828    						}
;;;829    					}
;;;830    				}
;;;831    			if(modbus_rx_arg0==64)		//ΐβςξπεβεπρ, βπεμ πΰαξςϋ οπμξε, ρεκ
000fda  2f40              CMP      r7,#0x40
000fdc  d06f              BEQ      |L1.4286|
;;;832    				{
;;;833    				if(work_stat==wsOFF)
;;;834    					{
;;;835    					AVT_REV_TIME_FF=modbus_rx_arg1;
;;;836    					gran(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;837    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;838    					}
;;;839    				}
;;;840    			if(modbus_rx_arg0==65)		//ΐβςξπεβεπρ, βπεμ πΰαξςϋ ξαπΰςνξε, ρεκ
000fde  2f41              CMP      r7,#0x41
000fe0  d06e              BEQ      |L1.4288|
;;;841    				{
;;;842    				if(work_stat==wsOFF)
;;;843    					{
;;;844    					AVT_REV_TIME_REW=modbus_rx_arg1;
;;;845    					gran(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;846    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;847    					}
;;;848    				}
;;;849    			if(modbus_rx_arg0==66)		//ΐβςξπεβεπρ, βπεμ οΰσηϋ οπθ οεπεκλώχενθθ, ρεκ
000fe2  2f42              CMP      r7,#0x42
000fe4  d06d              BEQ      |L1.4290|
;;;850    				{
;;;851    				if(work_stat==wsOFF)
;;;852    					{
;;;853    					AVT_REV_TIME_PAUSE=modbus_rx_arg1;
;;;854    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;855    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;856    					}
;;;857    				}
;;;858    
;;;859    			if(modbus_rx_arg0==67)		//ΐβςξπεβεπρ, ςξκ ρςΰαθλθηΰφθθ οπμξι, 0.1ΐ
000fe6  2f43              CMP      r7,#0x43
000fe8  d06c              BEQ      |L1.4292|
;;;860    				{
;;;861    				if(work_stat==wsOFF)
;;;862    					{
;;;863    					AVT_REV_I_NOM_FF=modbus_rx_arg1;
;;;864    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;865    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;866    					}
;;;867    				}
;;;868    
;;;869    			if(modbus_rx_arg0==68)		//ΐβςξπεβεπρ, ςξκ ρςΰαθλθηΰφθθ ξαπΰςνϋι, 0.1ΐ
000fea  2f44              CMP      r7,#0x44
000fec  d06b              BEQ      |L1.4294|
;;;870    				{
;;;871    				if(work_stat==wsOFF)
;;;872    					{
;;;873    					AVT_REV_I_NOM_REW=modbus_rx_arg1;
;;;874    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;875    					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;876    					}
;;;877    				}
;;;878    			if(modbus_rx_arg0==69)		//ΐβςξπεβεπρ, νΰοπζενθε ρςΰαθλθηΰφθθ οπμξε, 0.1Β 
000fee  2f45              CMP      r7,#0x45
000ff0  d06a              BEQ      |L1.4296|
;;;879    				{
;;;880    				if(work_stat==wsOFF)
;;;881    					{
;;;882    					AVT_REV_U_NOM_FF=modbus_rx_arg1;
;;;883    		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;884    					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;885    					}
;;;886    				}
;;;887    
;;;888    			if(modbus_rx_arg0==70)		//ΐβςξπεβεπρ, νΰοπζενθε ρςΰαθλθηΰφθθ ξαπΰςνξε, 0.1Β
000ff2  2f46              CMP      r7,#0x46
000ff4  d069              BEQ      |L1.4298|
;;;889    				{
;;;890    				if(work_stat==wsOFF)
;;;891    					{
;;;892    					AVT_REV_U_NOM_REW=modbus_rx_arg1;
;;;893    		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;894    					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;895    					}
;;;896    				}
;;;897    
;;;898    			if(modbus_rx_arg0==71)		//Βπεμ ηΰπδΰ θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;899    				{
;;;900    				if(work_stat==wsOFF)
;;;901    					{
;;;902    					CAP_ZAR_TIME=modbus_rx_arg1;
000ff6  4ea4              LDR      r6,|L1.4744|
;;;903    		    			gran(&CAP_ZAR_TIME,10,9999);
000ff8  f242720f          MOV      r2,#0x270f
000ffc  2f47              CMP      r7,#0x47              ;898
000ffe  d078              BEQ      |L1.4338|
;;;904    					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;905    					}
;;;906    				}
;;;907    			if(modbus_rx_arg0==72)		//Βπεμ οΰσηϋ1 θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;908    				{
;;;909    				if(work_stat==wsOFF)
;;;910    					{
;;;911    					CAP_PAUSE1_TIME=modbus_rx_arg1;
001000  f8df8288          LDR      r8,|L1.4748|
001004  2f48              CMP      r7,#0x48              ;907
001006  d075              BEQ      |L1.4340|
;;;912    		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;913    					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;914    					}
;;;915    				}
;;;916    			if(modbus_rx_arg0==73)		//Βπεμ πΰηπδΰ θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;917    				{
;;;918    				if(work_stat==wsOFF)
;;;919    					{
;;;920    					CAP_RAZR_TIME=modbus_rx_arg1;
001008  f8df9284          LDR      r9,|L1.4752|
00100c  2f49              CMP      r7,#0x49              ;916
00100e  d072              BEQ      |L1.4342|
;;;921    		    			gran(&CAP_RAZR_TIME,10,9999);
;;;922    					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;923    					}
;;;924    				}
;;;925    			if(modbus_rx_arg0==74)		//Βπεμ οΰσηϋ2 θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;926    				{
;;;927    				if(work_stat==wsOFF)
;;;928    					{
;;;929    					CAP_PAUSE2_TIME=modbus_rx_arg1;
001010  f8dfb280          LDR      r11,|L1.4756|
001014  2f4a              CMP      r7,#0x4a              ;925
001016  d06f              BEQ      |L1.4344|
;;;930    		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;931    					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;932    					}
;;;933    				}
;;;934    
;;;935    			if(modbus_rx_arg0==75)		//Μΰκρθμΰλόνξε νΰοπζενθε θροϋςΰςελόνξγξ φθκλΰ, 1Β  
;;;936    				{
;;;937    				if(work_stat==wsOFF)
;;;938    					{
;;;939    					CAP_MAX_VOLT=modbus_rx_arg1;
001018  489f              LDR      r0,|L1.4760|
00101a  2f4b              CMP      r7,#0x4b              ;935
00101c  d06d              BEQ      |L1.4346|
;;;940    		    			gran(&CAP_MAX_VOLT,1,100);
;;;941    					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;942    					}
;;;943    				}
;;;944    			if(modbus_rx_arg0==76)		//Πΰαξχθι ςξκ θροϋςΰςελόνξγξ φθκλΰ, 1ΐ 
;;;945    				{
;;;946    				if(work_stat==wsOFF)
;;;947    					{
;;;948    					CAP_WRK_CURR=modbus_rx_arg1;
00101e  f8dfa27c          LDR      r10,|L1.4764|
001022  2f4c              CMP      r7,#0x4c              ;944
001024  d06a              BEQ      |L1.4348|
;;;949    		    			gran(&CAP_WRK_CURR,1,150);
;;;950    					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;951    					}
;;;952    				}
;;;953    
;;;954    			if(modbus_rx_arg0==77)		//Πεγθρςπ δλ ηΰοθρθ κξμΰνδ 
001026  2f4d              CMP      r7,#0x4d
001028  d069              BEQ      |L1.4350|
00102a  e281              B        |L1.5424|
                  |L1.4140|
00102c  f1a70132          SUB      r1,r7,#0x32           ;680
001030  291e              CMP      r1,#0x1e              ;680
001032  d207              BCS      |L1.4164|
001034  2100              MOVS     r1,#0                 ;680
001036  9100              STR      r1,[sp,#0]            ;680
001038  4623              MOV      r3,r4                 ;680
00103a  463a              MOV      r2,r7                 ;680
00103c  b2c0              UXTB     r0,r0                 ;680
00103e  9901              LDR      r1,[sp,#4]            ;680
001040  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.4164|
;;;955    				{
;;;956    				if(modbus_rx_arg1==0x11)
;;;957    					{
;;;958    					start_CAP();
;;;959    					}
;;;960    				if(modbus_rx_arg1==0x12)
;;;961    					{
;;;962    					pause_CAP();
;;;963    					}
;;;964    				if(modbus_rx_arg1==0x13)
;;;965    					{
;;;966    					stop_CAP();
;;;967    					}
;;;968    				if(modbus_rx_arg1==0x14)
;;;969    					{
;;;970    					reset_CAP();
;;;971    					}
;;;972    
;;;973    				if(modbus_rx_arg1==0x21)
;;;974    					{
;;;975    					if(work_stat==wsOFF)
;;;976    						{
;;;977    						CAP_ZAR_TIME++;
;;;978    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;979    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;980    						}
;;;981    					}
;;;982    				if(modbus_rx_arg1==0x22)
;;;983    					{
;;;984    					if(work_stat==wsOFF)
;;;985    						{
;;;986    						CAP_ZAR_TIME--;
;;;987    		    				gran(&CAP_ZAR_TIME,10,9999);
;;;988    						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;989    						}
;;;990    					}
;;;991    
;;;992    				if(modbus_rx_arg1==0x31)
;;;993    					{
;;;994    					if(work_stat==wsOFF)
;;;995    						{
;;;996    						CAP_PAUSE1_TIME++;
;;;997    		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;998    						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;999    						}
;;;1000   					}
;;;1001   				if(modbus_rx_arg1==0x32)
;;;1002   					{
;;;1003   					if(work_stat==wsOFF)
;;;1004   						{
;;;1005   						CAP_PAUSE1_TIME--;
;;;1006   		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;1007   						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1008   						}
;;;1009   					}
;;;1010   
;;;1011   				if(modbus_rx_arg1==0x41)
;;;1012   					{
;;;1013   					if(work_stat==wsOFF)
;;;1014   						{
;;;1015   						CAP_RAZR_TIME++;
;;;1016   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1017   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1018   						}
;;;1019   					}
;;;1020   				if(modbus_rx_arg1==0x42)
;;;1021   					{
;;;1022   					if(work_stat==wsOFF)
;;;1023   						{
;;;1024   						CAP_RAZR_TIME--;
;;;1025   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1026   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1027   						}
;;;1028   					}
;;;1029   
;;;1030   				if(modbus_rx_arg1==0x51)
;;;1031   					{
;;;1032   					if(work_stat==wsOFF)
;;;1033   						{
;;;1034   						CAP_PAUSE2_TIME++;
;;;1035   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1036   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1037   						}
;;;1038   					}
;;;1039   				if(modbus_rx_arg1==0x52)
;;;1040   					{
;;;1041   					if(work_stat==wsOFF)
;;;1042   						{
;;;1043   						CAP_PAUSE2_TIME--;
;;;1044   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1045   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1046   						}
;;;1047   					}
;;;1048   
;;;1049   				if(modbus_rx_arg1==0x61)
;;;1050   					{
;;;1051   					if(work_stat==wsOFF)
;;;1052   						{
;;;1053   						CAP_MAX_VOLT++;
;;;1054   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1055   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1056   						}
;;;1057   					}
;;;1058   				if(modbus_rx_arg1==0x62)
;;;1059   					{
;;;1060   					if(work_stat==wsOFF)
;;;1061   						{
;;;1062   						CAP_MAX_VOLT--;
;;;1063   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1064   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1065   						}
;;;1066   					}
;;;1067   
;;;1068   				if(modbus_rx_arg1==0x71)
;;;1069   					{
;;;1070   					if(work_stat==wsOFF)
;;;1071   						{
;;;1072   						CAP_WRK_CURR++;
;;;1073   		    				gran(&CAP_WRK_CURR,1,150);
;;;1074   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1075   						}
;;;1076   					}
;;;1077   				if(modbus_rx_arg1==0x72)
;;;1078   					{
;;;1079   					if(work_stat==wsOFF)
;;;1080   						{
;;;1081   						CAP_WRK_CURR--;
;;;1082   		    				gran(&CAP_WRK_CURR,1,150);
;;;1083   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1084   						}
;;;1085   					}
;;;1086   
;;;1087   				}
;;;1088   
;;;1089   			
;;;1090   			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;1091   				{
;;;1092   				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;1093   				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;1094   				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;1095   				T_PROC_GS_MODE=1;	
;;;1096   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1097   				}
;;;1098   			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;1099   				{
;;;1100   				T_PROC_GS_MODE=0;	
;;;1101   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1102   				}
;;;1103   			
;;;1104   			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;1105   				{
;;;1106   				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;1107   				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;1108   				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;1109   				T_PROC_PS_MODE=1;	
;;;1110   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1111   				}
;;;1112   			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;1113   				{
;;;1114   				T_PROC_PS_MODE=0;	
;;;1115   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1116   				}
;;;1117   
;;;1118   			modbus_hold_register_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0);
;;;1119   
;;;1120   
;;;1121   			//modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,2);
;;;1122   
;;;1123   
;;;1124   			}
;;;1125   		} 
;;;1126   	//;
;;;1127   	}
;;;1128   // modbus_plazma++;
;;;1129   
;;;1130   }
001044  b009              ADD      sp,sp,#0x24
001046  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.4170|
00104a  2100              MOVS     r1,#0                 ;684
00104c  9100              STR      r1,[sp,#0]            ;684
00104e  4623              MOV      r3,r4                 ;684
001050  463a              MOV      r2,r7                 ;684
001052  b2c0              UXTB     r0,r0                 ;684
001054  9901              LDR      r1,[sp,#4]            ;684
001056  f7fffffe          BL       modbus_input_registers_transmit
00105a  e7f3              B        |L1.4164|
                  |L1.4188|
00105c  4890              LDR      r0,|L1.4768|
00105e  b221              SXTH     r1,r4                 ;691
001060  8001              STRH     r1,[r0,#0]            ;691
001062  2020              MOVS     r0,#0x20              ;692
001064  e25f              B        |L1.5414|
                  |L1.4198|
001066  488f              LDR      r0,|L1.4772|
001068  b221              SXTH     r1,r4                 ;696
00106a  8001              STRH     r1,[r0,#0]            ;696
00106c  2022              MOVS     r0,#0x22              ;697
00106e  e25a              B        |L1.5414|
                  |L1.4208|
001070  488d              LDR      r0,|L1.4776|
001072  b221              SXTH     r1,r4                 ;701
001074  8001              STRH     r1,[r0,#0]            ;701
001076  2076              MOVS     r0,#0x76              ;702
001078  e255              B        |L1.5414|
                  |L1.4218|
00107a  488c              LDR      r0,|L1.4780|
00107c  b221              SXTH     r1,r4                 ;706
00107e  8001              STRH     r1,[r0,#0]            ;706
001080  2078              MOVS     r0,#0x78              ;707
001082  e250              B        |L1.5414|
                  |L1.4228|
001084  4a78              LDR      r2,|L1.4712|
001086  4649              MOV      r1,r9                 ;713
001088  6813              LDR      r3,[r2,#0]            ;713  ; T_PROC_GS
00108a  fb93f5f1          SDIV     r5,r3,r1              ;713
00108e  fb95f6f9          SDIV     r6,r5,r9              ;713
001092  fb93f0f0          SDIV     r0,r3,r0              ;714
001096  fb095116          MLS      r1,r9,r6,r5           ;713
00109a  f44f6361          MOV      r3,#0xe10             ;715
00109e  4358              MULS     r0,r3,r0              ;715
0010a0  ebc11101          RSB      r1,r1,r1,LSL #4       ;715
0010a4  eb000081          ADD      r0,r0,r1,LSL #2       ;715
0010a8  1901              ADDS     r1,r0,r4              ;715
0010aa  e01f              B        |L1.4332|
                  |L1.4268|
0010ac  e00e              B        |L1.4300|
                  |L1.4270|
0010ae  e027              B        |L1.4352|
                  |L1.4272|
0010b0  e03a              B        |L1.4392|
                  |L1.4274|
0010b2  e04d              B        |L1.4432|
                  |L1.4276|
0010b4  e05d              B        |L1.4466|
                  |L1.4278|
0010b6  e074              B        |L1.4514|
                  |L1.4280|
0010b8  e08b              B        |L1.4562|
                  |L1.4282|
0010ba  e0a5              B        |L1.4616|
                  |L1.4284|
0010bc  e0b0              B        |L1.4640|
                  |L1.4286|
0010be  e0c2              B        |L1.4678|
                  |L1.4288|
0010c0  e0fe              B        |L1.4800|
                  |L1.4290|
0010c2  e10d              B        |L1.4832|
                  |L1.4292|
0010c4  e11b              B        |L1.4862|
                  |L1.4294|
0010c6  e12b              B        |L1.4896|
                  |L1.4296|
0010c8  e13c              B        |L1.4932|
                  |L1.4298|
0010ca  e14d              B        |L1.4968|
                  |L1.4300|
0010cc  4a66              LDR      r2,|L1.4712|
0010ce  6813              LDR      r3,[r2,#0]            ;721  ; T_PROC_GS
0010d0  fb93f5f9          SDIV     r5,r3,r9              ;721
0010d4  fb93f0f0          SDIV     r0,r3,r0              ;723
0010d8  fb093115          MLS      r1,r9,r5,r3           ;721
0010dc  f44f6361          MOV      r3,#0xe10             ;724
0010e0  4358              MULS     r0,r3,r0              ;724
0010e2  ebc41304          RSB      r3,r4,r4,LSL #4       ;724
0010e6  eb000083          ADD      r0,r0,r3,LSL #2       ;724
0010ea  4401              ADD      r1,r1,r0              ;724
                  |L1.4332|
0010ec  20d8              MOVS     r0,#0xd8              ;716
0010ee  6011              STR      r1,[r2,#0]            ;716  ; T_PROC_GS
0010f0  e054              B        |L1.4508|
                  |L1.4338|
0010f2  e14b              B        |L1.5004|
                  |L1.4340|
0010f4  e14e              B        |L1.5012|
                  |L1.4342|
0010f6  e152              B        |L1.5022|
                  |L1.4344|
0010f8  e157              B        |L1.5034|
                  |L1.4346|
0010fa  e15b              B        |L1.5044|
                  |L1.4348|
0010fc  e166              B        |L1.5068|
                  |L1.4350|
0010fe  e16a              B        |L1.5078|
                  |L1.4352|
001100  4a59              LDR      r2,|L1.4712|
001102  4649              MOV      r1,r9                 ;730
001104  6813              LDR      r3,[r2,#0]            ;730  ; T_PROC_GS
001106  fb93f0f1          SDIV     r0,r3,r1              ;730
00110a  fb90f5f9          SDIV     r5,r0,r9              ;731
00110e  fb093310          MLS      r3,r9,r0,r3           ;730
001112  fb090015          MLS      r0,r9,r5,r0           ;731
001116  f44f6161          MOV      r1,#0xe10             ;733
00111a  434c              MULS     r4,r1,r4              ;733
00111c  ebc01000          RSB      r0,r0,r0,LSL #4       ;733
001120  eb040080          ADD      r0,r4,r0,LSL #2       ;733
001124  18c1              ADDS     r1,r0,r3              ;733
001126  e7e1              B        |L1.4332|
                  |L1.4392|
001128  4a51              LDR      r2,|L1.4720|
00112a  4649              MOV      r1,r9                 ;740
00112c  6813              LDR      r3,[r2,#0]            ;740  ; T_PROC_PS
00112e  fb93f5f1          SDIV     r5,r3,r1              ;740
001132  fb95f6f9          SDIV     r6,r5,r9              ;740
001136  fb93f0f0          SDIV     r0,r3,r0              ;741
00113a  fb095116          MLS      r1,r9,r6,r5           ;740
00113e  f44f6361          MOV      r3,#0xe10             ;742
001142  4358              MULS     r0,r3,r0              ;742
001144  ebc11101          RSB      r1,r1,r1,LSL #4       ;742
001148  eb000081          ADD      r0,r0,r1,LSL #2       ;742
00114c  1901              ADDS     r1,r0,r4              ;742
00114e  e023              B        |L1.4504|
                  |L1.4432|
001150  4a47              LDR      r2,|L1.4720|
001152  6813              LDR      r3,[r2,#0]            ;749  ; T_PROC_PS
001154  fb93f5f9          SDIV     r5,r3,r9              ;749
001158  fb93f0f0          SDIV     r0,r3,r0              ;751
00115c  fb093115          MLS      r1,r9,r5,r3           ;749
001160  f44f6361          MOV      r3,#0xe10             ;752
001164  4358              MULS     r0,r3,r0              ;752
001166  ebc41304          RSB      r3,r4,r4,LSL #4       ;752
00116a  eb000083          ADD      r0,r0,r3,LSL #2       ;752
00116e  4401              ADD      r1,r1,r0              ;752
001170  e012              B        |L1.4504|
                  |L1.4466|
001172  4a3f              LDR      r2,|L1.4720|
001174  4648              MOV      r0,r9                 ;759
001176  6813              LDR      r3,[r2,#0]            ;759  ; T_PROC_PS
001178  fb93f1f0          SDIV     r1,r3,r0              ;759
00117c  fb91f5f9          SDIV     r5,r1,r9              ;760
001180  fb091015          MLS      r0,r9,r5,r1           ;760
001184  fb093311          MLS      r3,r9,r1,r3           ;759
001188  f44f6161          MOV      r1,#0xe10             ;762
00118c  434c              MULS     r4,r1,r4              ;762
00118e  ebc01000          RSB      r0,r0,r0,LSL #4       ;762
001192  eb040080          ADD      r0,r4,r0,LSL #2       ;762
001196  18c1              ADDS     r1,r0,r3              ;762
                  |L1.4504|
001198  20dc              MOVS     r0,#0xdc              ;763
00119a  6011              STR      r1,[r2,#0]            ;763  ; T_PROC_PS
                  |L1.4508|
00119c  f7fffffe          BL       lc640_write_long
0011a0  e1c6              B        |L1.5424|
                  |L1.4514|
0011a2  2c01              CMP      r4,#1                 ;768
0011a4  d001              BEQ      |L1.4522|
0011a6  b184              CBZ      r4,|L1.4554|
0011a8  e1c2              B        |L1.5424|
                  |L1.4522|
0011aa  7828              LDRB     r0,[r5,#0]            ;770  ; work_stat
0011ac  2802              CMP      r0,#2                 ;770
0011ae  d00f              BEQ      |L1.4560|
0011b0  2002              MOVS     r0,#2                 ;772
0011b2  4931              LDR      r1,|L1.4728|
0011b4  7028              STRB     r0,[r5,#0]            ;772
0011b6  2000              MOVS     r0,#0                 ;773
0011b8  6008              STR      r0,[r1,#0]            ;774  ; time_proc
0011ba  482d              LDR      r0,|L1.4720|
0011bc  6801              LDR      r1,[r0,#0]            ;774  ; T_PROC_PS
0011be  482f              LDR      r0,|L1.4732|
0011c0  6001              STR      r1,[r0,#0]            ;775  ; time_proc_remain
0011c2  f7fffffe          BL       restart_on_PS
0011c6  2101              MOVS     r1,#1                 ;776
0011c8  e014              B        |L1.4596|
                  |L1.4554|
0011ca  7828              LDRB     r0,[r5,#0]            ;781  ; work_stat
0011cc  2802              CMP      r0,#2                 ;781
0011ce  d016              BEQ      |L1.4606|
                  |L1.4560|
0011d0  e1ae              B        |L1.5424|
                  |L1.4562|
0011d2  2c01              CMP      r4,#1                 ;790
0011d4  d001              BEQ      |L1.4570|
0011d6  b17c              CBZ      r4,|L1.4600|
0011d8  e1aa              B        |L1.5424|
                  |L1.4570|
0011da  7828              LDRB     r0,[r5,#0]            ;792  ; work_stat
0011dc  2801              CMP      r0,#1                 ;792
0011de  d012              BEQ      |L1.4614|
0011e0  2001              MOVS     r0,#1                 ;794
0011e2  4925              LDR      r1,|L1.4728|
0011e4  7028              STRB     r0,[r5,#0]            ;794
0011e6  2000              MOVS     r0,#0                 ;795
0011e8  6008              STR      r0,[r1,#0]            ;796  ; time_proc
0011ea  481f              LDR      r0,|L1.4712|
0011ec  6801              LDR      r1,[r0,#0]            ;796  ; T_PROC_GS
0011ee  4823              LDR      r0,|L1.4732|
0011f0  6001              STR      r1,[r0,#0]            ;797  ; time_proc_remain
0011f2  2100              MOVS     r1,#0                 ;797
                  |L1.4596|
0011f4  20ea              MOVS     r0,#0xea              ;776
0011f6  e196              B        |L1.5414|
                  |L1.4600|
0011f8  7828              LDRB     r0,[r5,#0]            ;802  ; work_stat
0011fa  2801              CMP      r0,#1                 ;802
0011fc  d103              BNE      |L1.4614|
                  |L1.4606|
0011fe  2000              MOVS     r0,#0                 ;804
001200  7028              STRB     r0,[r5,#0]            ;804
001202  f7fffffe          BL       restart_off
                  |L1.4614|
001206  e193              B        |L1.5424|
                  |L1.4616|
001208  7828              LDRB     r0,[r5,#0]            ;813  ; work_stat
00120a  bb60              CBNZ     r0,|L1.4710|
00120c  4828              LDR      r0,|L1.4784|
00120e  b114              CBZ      r4,|L1.4630|
001210  2c01              CMP      r4,#1                 ;816
001212  d002              BEQ      |L1.4634|
001214  e18c              B        |L1.5424|
                  |L1.4630|
001216  2101              MOVS     r1,#1                 ;815
001218  e000              B        |L1.4636|
                  |L1.4634|
00121a  2100              MOVS     r1,#0                 ;816
                  |L1.4636|
00121c  7001              STRB     r1,[r0,#0]            ;816
00121e  e187              B        |L1.5424|
                  |L1.4640|
001220  7828              LDRB     r0,[r5,#0]            ;823  ; work_stat
001222  bb00              CBNZ     r0,|L1.4710|
001224  4823              LDR      r0,|L1.4788|
001226  8800              LDRH     r0,[r0,#0]            ;823  ; REV_IS_ON
001228  b1e8              CBZ      r0,|L1.4710|
00122a  4a23              LDR      r2,|L1.4792|
00122c  f44f7084          MOV      r0,#0x108             ;827
001230  2c01              CMP      r4,#1                 ;825
001232  d003              BEQ      |L1.4668|
001234  b124              CBZ      r4,|L1.4672|
001236  f9b21000          LDRSH    r1,[r2,#0]            ;827  ; AVT_REV_IS_ON
00123a  e174              B        |L1.5414|
                  |L1.4668|
00123c  2101              MOVS     r1,#1                 ;825
00123e  e000              B        |L1.4674|
                  |L1.4672|
001240  2100              MOVS     r1,#0                 ;826
                  |L1.4674|
001242  8011              STRH     r1,[r2,#0]            ;825
001244  e16f              B        |L1.5414|
                  |L1.4678|
001246  7828              LDRB     r0,[r5,#0]            ;833  ; work_stat
001248  b968              CBNZ     r0,|L1.4710|
00124a  4d1c              LDR      r5,|L1.4796|
00124c  4807              LDR      r0,|L1.4716|
00124e  211e              MOVS     r1,#0x1e              ;836
001250  802c              STRH     r4,[r5,#0]            ;835
001252  6800              LDR      r0,[r0,#0]            ;836  ; T_PROC_MAX
001254  b202              SXTH     r2,r0                 ;836
001256  4628              MOV      r0,r5                 ;836
001258  f7fffffe          BL       gran
00125c  f9b51000          LDRSH    r1,[r5,#0]            ;837  ; AVT_REV_TIME_FF
001260  f44f7085          MOV      r0,#0x10a             ;837
001264  e15f              B        |L1.5414|
                  |L1.4710|
001266  e06c              B        |L1.4930|
                  |L1.4712|
                          DCD      T_PROC_GS
                  |L1.4716|
                          DCD      T_PROC_MAX
                  |L1.4720|
                          DCD      T_PROC_PS
                  |L1.4724|
                          DCD      a_ind
                  |L1.4728|
                          DCD      time_proc
                  |L1.4732|
                          DCD      time_proc_remain
                  |L1.4736|
                          DCD      ||area_number.4||+0x1e
                  |L1.4740|
                          DCD      MODBUS_ADRESS
                  |L1.4744|
                          DCD      CAP_ZAR_TIME
                  |L1.4748|
                          DCD      CAP_PAUSE1_TIME
                  |L1.4752|
                          DCD      CAP_RAZR_TIME
                  |L1.4756|
                          DCD      CAP_PAUSE2_TIME
                  |L1.4760|
                          DCD      CAP_MAX_VOLT
                  |L1.4764|
                          DCD      CAP_WRK_CURR
                  |L1.4768|
                          DCD      I_ug
                  |L1.4772|
                          DCD      U_up
                  |L1.4776|
                          DCD      U_maxg
                  |L1.4780|
                          DCD      I_maxp
                  |L1.4784|
                          DCD      REV_STAT
                  |L1.4788|
                          DCD      REV_IS_ON
                  |L1.4792|
                          DCD      AVT_REV_IS_ON
                  |L1.4796|
                          DCD      AVT_REV_TIME_FF
                  |L1.4800|
0012c0  7828              LDRB     r0,[r5,#0]            ;842  ; work_stat
0012c2  bbf0              CBNZ     r0,|L1.4930|
0012c4  4dce              LDR      r5,|L1.5632|
0012c6  48cf              LDR      r0,|L1.5636|
0012c8  211e              MOVS     r1,#0x1e              ;845
0012ca  802c              STRH     r4,[r5,#0]            ;844
0012cc  6800              LDR      r0,[r0,#0]            ;845  ; T_PROC_MAX
0012ce  b202              SXTH     r2,r0                 ;845
0012d0  4628              MOV      r0,r5                 ;845
0012d2  f7fffffe          BL       gran
0012d6  f9b51000          LDRSH    r1,[r5,#0]            ;846  ; AVT_REV_TIME_REW
0012da  f44f7086          MOV      r0,#0x10c             ;846
0012de  e122              B        |L1.5414|
                  |L1.4832|
0012e0  7828              LDRB     r0,[r5,#0]            ;851  ; work_stat
0012e2  bb70              CBNZ     r0,|L1.4930|
0012e4  4dc8              LDR      r5,|L1.5640|
0012e6  f44f7216          MOV      r2,#0x258             ;854
0012ea  2102              MOVS     r1,#2                 ;854
0012ec  802c              STRH     r4,[r5,#0]            ;853
0012ee  4628              MOV      r0,r5                 ;854
0012f0  f7fffffe          BL       gran
0012f4  f9b51000          LDRSH    r1,[r5,#0]            ;855  ; AVT_REV_TIME_PAUSE
0012f8  f44f7087          MOV      r0,#0x10e             ;855
0012fc  e113              B        |L1.5414|
                  |L1.4862|
0012fe  7828              LDRB     r0,[r5,#0]            ;861  ; work_stat
001300  b9f8              CBNZ     r0,|L1.4930|
001302  4dc2              LDR      r5,|L1.5644|
001304  48c2              LDR      r0,|L1.5648|
001306  802c              STRH     r4,[r5,#0]            ;863
001308  f9b01000          LDRSH    r1,[r0,#0]            ;864  ; I_MIN_IPS
00130c  f9bb2000          LDRSH    r2,[r11,#0]           ;864  ; I_MAX_IPS
001310  4628              MOV      r0,r5                 ;864
001312  f7fffffe          BL       gran
001316  f9b51000          LDRSH    r1,[r5,#0]            ;865  ; AVT_REV_I_NOM_FF
00131a  f44f7088          MOV      r0,#0x110             ;865
00131e  e102              B        |L1.5414|
                  |L1.4896|
001320  7828              LDRB     r0,[r5,#0]            ;871  ; work_stat
001322  b970              CBNZ     r0,|L1.4930|
001324  4dbb              LDR      r5,|L1.5652|
001326  48ba              LDR      r0,|L1.5648|
001328  802c              STRH     r4,[r5,#0]            ;873
00132a  f9b01000          LDRSH    r1,[r0,#0]            ;874  ; I_MIN_IPS
00132e  f9bb2000          LDRSH    r2,[r11,#0]           ;874  ; I_MAX_IPS
001332  4628              MOV      r0,r5                 ;874
001334  f7fffffe          BL       gran
001338  f9b51000          LDRSH    r1,[r5,#0]            ;875  ; AVT_REV_I_NOM_REW
00133c  f44f7089          MOV      r0,#0x112             ;875
001340  e0f1              B        |L1.5414|
                  |L1.4930|
001342  e031              B        |L1.5032|
                  |L1.4932|
001344  7828              LDRB     r0,[r5,#0]            ;880  ; work_stat
001346  bb78              CBNZ     r0,|L1.5032|
001348  4db3              LDR      r5,|L1.5656|
00134a  48b4              LDR      r0,|L1.5660|
00134c  802c              STRH     r4,[r5,#0]            ;882
00134e  f9b02000          LDRSH    r2,[r0,#0]            ;883  ; U_MAX
001352  48b3              LDR      r0,|L1.5664|
001354  f9b01000          LDRSH    r1,[r0,#0]            ;883  ; U_MIN
001358  4628              MOV      r0,r5                 ;883
00135a  f7fffffe          BL       gran
00135e  f9b51000          LDRSH    r1,[r5,#0]            ;884  ; AVT_REV_U_NOM_FF
001362  f44f708a          MOV      r0,#0x114             ;884
001366  e0de              B        |L1.5414|
                  |L1.4968|
001368  7828              LDRB     r0,[r5,#0]            ;890  ; work_stat
00136a  b9e8              CBNZ     r0,|L1.5032|
00136c  4dad              LDR      r5,|L1.5668|
00136e  48ab              LDR      r0,|L1.5660|
001370  802c              STRH     r4,[r5,#0]            ;892
001372  f9b02000          LDRSH    r2,[r0,#0]            ;893  ; U_MAX
001376  48aa              LDR      r0,|L1.5664|
001378  f9b01000          LDRSH    r1,[r0,#0]            ;893  ; U_MIN
00137c  4628              MOV      r0,r5                 ;893
00137e  f7fffffe          BL       gran
001382  f9b51000          LDRSH    r1,[r5,#0]            ;894  ; AVT_REV_U_NOM_REW
001386  f44f708b          MOV      r0,#0x116             ;894
00138a  e0cc              B        |L1.5414|
                  |L1.5004|
00138c  7828              LDRB     r0,[r5,#0]            ;900  ; work_stat
00138e  b958              CBNZ     r0,|L1.5032|
001390  8034              STRH     r4,[r6,#0]            ;902
001392  e052              B        |L1.5178|
                  |L1.5012|
001394  7828              LDRB     r0,[r5,#0]            ;909  ; work_stat
001396  b938              CBNZ     r0,|L1.5032|
001398  f8a84000          STRH     r4,[r8,#0]            ;911
00139c  e062              B        |L1.5220|
                  |L1.5022|
00139e  7828              LDRB     r0,[r5,#0]            ;918  ; work_stat
0013a0  b910              CBNZ     r0,|L1.5032|
0013a2  f8a94000          STRH     r4,[r9,#0]            ;920
0013a6  e074              B        |L1.5266|
                  |L1.5032|
0013a8  e035              B        |L1.5142|
                  |L1.5034|
0013aa  7828              LDRB     r0,[r5,#0]            ;927  ; work_stat
0013ac  bb98              CBNZ     r0,|L1.5142|
0013ae  f8ab4000          STRH     r4,[r11,#0]           ;929
0013b2  e086              B        |L1.5314|
                  |L1.5044|
0013b4  7829              LDRB     r1,[r5,#0]            ;937  ; work_stat
0013b6  bb71              CBNZ     r1,|L1.5142|
0013b8  4605              MOV      r5,r0                 ;939
0013ba  8004              STRH     r4,[r0,#0]            ;939
0013bc  2264              MOVS     r2,#0x64              ;940
0013be  2101              MOVS     r1,#1                 ;940
0013c0  4899              LDR      r0,|L1.5672|
0013c2  f7fffffe          BL       gran
0013c6  f9b51000          LDRSH    r1,[r5,#0]            ;941  ; CAP_MAX_VOLT
0013ca  e094              B        |L1.5366|
                  |L1.5068|
0013cc  7828              LDRB     r0,[r5,#0]            ;946  ; work_stat
0013ce  bb10              CBNZ     r0,|L1.5142|
0013d0  f8aa4000          STRH     r4,[r10,#0]           ;948
0013d4  e0be              B        |L1.5460|
                  |L1.5078|
0013d6  2c11              CMP      r4,#0x11              ;956
0013d8  d01e              BEQ      |L1.5144|
0013da  2c12              CMP      r4,#0x12              ;960
0013dc  d01f              BEQ      |L1.5150|
0013de  2c13              CMP      r4,#0x13              ;964
0013e0  d020              BEQ      |L1.5156|
0013e2  2c14              CMP      r4,#0x14              ;968
0013e4  d021              BEQ      |L1.5162|
0013e6  2c21              CMP      r4,#0x21              ;973
0013e8  d022              BEQ      |L1.5168|
0013ea  2c22              CMP      r4,#0x22              ;982
0013ec  d02e              BEQ      |L1.5196|
0013ee  2c31              CMP      r4,#0x31              ;992
0013f0  d032              BEQ      |L1.5208|
0013f2  2c32              CMP      r4,#0x32              ;1001
0013f4  d03f              BEQ      |L1.5238|
0013f6  2c41              CMP      r4,#0x41              ;1011
0013f8  d045              BEQ      |L1.5254|
0013fa  2c42              CMP      r4,#0x42              ;1020
0013fc  d053              BEQ      |L1.5286|
0013fe  2c51              CMP      r4,#0x51              ;1030
001400  d059              BEQ      |L1.5302|
001402  2c52              CMP      r4,#0x52              ;1039
001404  d066              BEQ      |L1.5332|
001406  2c61              CMP      r4,#0x61              ;1049
001408  d06c              BEQ      |L1.5348|
00140a  2c62              CMP      r4,#0x62              ;1058
00140c  d076              BEQ      |L1.5372|
00140e  2c71              CMP      r4,#0x71              ;1068
001410  d06f              BEQ      |L1.5362|
001412  2c72              CMP      r4,#0x72              ;1077
001414  d06e              BEQ      |L1.5364|
                  |L1.5142|
001416  e08b              B        |L1.5424|
                  |L1.5144|
001418  f7fffffe          BL       start_CAP
00141c  e088              B        |L1.5424|
                  |L1.5150|
00141e  f7fffffe          BL       pause_CAP
001422  e085              B        |L1.5424|
                  |L1.5156|
001424  f7fffffe          BL       stop_CAP
001428  e082              B        |L1.5424|
                  |L1.5162|
00142a  f7fffffe          BL       reset_CAP
00142e  e07f              B        |L1.5424|
                  |L1.5168|
001430  7828              LDRB     r0,[r5,#0]            ;975  ; work_stat
001432  bbb8              CBNZ     r0,|L1.5284|
001434  8830              LDRH     r0,[r6,#0]            ;977  ; CAP_ZAR_TIME
001436  1c40              ADDS     r0,r0,#1              ;977
001438  e00c              B        |L1.5204|
                  |L1.5178|
00143a  210a              MOVS     r1,#0xa               ;903
00143c  487b              LDR      r0,|L1.5676|
00143e  f7fffffe          BL       gran
001442  f9b61000          LDRSH    r1,[r6,#0]            ;904  ; CAP_ZAR_TIME
001446  f44f70e9          MOV      r0,#0x1d2             ;904
00144a  e06c              B        |L1.5414|
                  |L1.5196|
00144c  7828              LDRB     r0,[r5,#0]            ;984  ; work_stat
00144e  bb48              CBNZ     r0,|L1.5284|
001450  8830              LDRH     r0,[r6,#0]            ;986  ; CAP_ZAR_TIME
001452  1e40              SUBS     r0,r0,#1              ;986
                  |L1.5204|
001454  8030              STRH     r0,[r6,#0]            ;986
001456  e7f0              B        |L1.5178|
                  |L1.5208|
001458  7828              LDRB     r0,[r5,#0]            ;994  ; work_stat
00145a  bb18              CBNZ     r0,|L1.5284|
00145c  f8b80000          LDRH     r0,[r8,#0]            ;996  ; CAP_PAUSE1_TIME
001460  1c40              ADDS     r0,r0,#1              ;996
001462  e00d              B        |L1.5248|
                  |L1.5220|
001464  210a              MOVS     r1,#0xa               ;912
001466  4872              LDR      r0,|L1.5680|
001468  f7fffffe          BL       gran
00146c  f9b81000          LDRSH    r1,[r8,#0]            ;913  ; CAP_PAUSE1_TIME
001470  f44f70ea          MOV      r0,#0x1d4             ;913
001474  e057              B        |L1.5414|
                  |L1.5238|
001476  7828              LDRB     r0,[r5,#0]            ;1003  ; work_stat
001478  b9a0              CBNZ     r0,|L1.5284|
00147a  f8b80000          LDRH     r0,[r8,#0]            ;1005  ; CAP_PAUSE1_TIME
00147e  1e40              SUBS     r0,r0,#1              ;1005
                  |L1.5248|
001480  f8a80000          STRH     r0,[r8,#0]            ;1005
001484  e7ee              B        |L1.5220|
                  |L1.5254|
001486  7828              LDRB     r0,[r5,#0]            ;1013  ; work_stat
001488  b960              CBNZ     r0,|L1.5284|
00148a  f8b90000          LDRH     r0,[r9,#0]            ;1015  ; CAP_RAZR_TIME
00148e  1c40              ADDS     r0,r0,#1              ;1015
001490  e00e              B        |L1.5296|
                  |L1.5266|
001492  210a              MOVS     r1,#0xa               ;921
001494  4867              LDR      r0,|L1.5684|
001496  f7fffffe          BL       gran
00149a  f9b91000          LDRSH    r1,[r9,#0]            ;922  ; CAP_RAZR_TIME
00149e  f44f70eb          MOV      r0,#0x1d6             ;922
0014a2  e040              B        |L1.5414|
                  |L1.5284|
0014a4  e038              B        |L1.5400|
                  |L1.5286|
0014a6  7828              LDRB     r0,[r5,#0]            ;1022  ; work_stat
0014a8  bbb0              CBNZ     r0,|L1.5400|
0014aa  f8b90000          LDRH     r0,[r9,#0]            ;1024  ; CAP_RAZR_TIME
0014ae  1e40              SUBS     r0,r0,#1              ;1024
                  |L1.5296|
0014b0  f8a90000          STRH     r0,[r9,#0]            ;1024
0014b4  e7ed              B        |L1.5266|
                  |L1.5302|
0014b6  7828              LDRB     r0,[r5,#0]            ;1032  ; work_stat
0014b8  bb70              CBNZ     r0,|L1.5400|
0014ba  f8bb0000          LDRH     r0,[r11,#0]           ;1034  ; CAP_PAUSE2_TIME
0014be  1c40              ADDS     r0,r0,#1              ;1034
0014c0  e00d              B        |L1.5342|
                  |L1.5314|
0014c2  210a              MOVS     r1,#0xa               ;930
0014c4  485c              LDR      r0,|L1.5688|
0014c6  f7fffffe          BL       gran
0014ca  f9bb1000          LDRSH    r1,[r11,#0]           ;931  ; CAP_PAUSE2_TIME
0014ce  f44f70ec          MOV      r0,#0x1d8             ;931
0014d2  e028              B        |L1.5414|
                  |L1.5332|
0014d4  7828              LDRB     r0,[r5,#0]            ;1041  ; work_stat
0014d6  b9f8              CBNZ     r0,|L1.5400|
0014d8  f8bb0000          LDRH     r0,[r11,#0]           ;1043  ; CAP_PAUSE2_TIME
0014dc  1e40              SUBS     r0,r0,#1              ;1043
                  |L1.5342|
0014de  f8ab0000          STRH     r0,[r11,#0]           ;1043
0014e2  e7ee              B        |L1.5314|
                  |L1.5348|
0014e4  7829              LDRB     r1,[r5,#0]            ;1051  ; work_stat
0014e6  b9b9              CBNZ     r1,|L1.5400|
0014e8  4604              MOV      r4,r0                 ;1053
0014ea  8800              LDRH     r0,[r0,#0]            ;1053  ; CAP_MAX_VOLT
0014ec  1c40              ADDS     r0,r0,#1              ;1053
0014ee  e00a              B        |L1.5382|
0014f0  e004              B        |L1.5372|
                  |L1.5362|
0014f2  e012              B        |L1.5402|
                  |L1.5364|
0014f4  e01a              B        |L1.5420|
                  |L1.5366|
0014f6  f44f70ed          MOV      r0,#0x1da             ;941
0014fa  e014              B        |L1.5414|
                  |L1.5372|
0014fc  7829              LDRB     r1,[r5,#0]            ;1060  ; work_stat
0014fe  b959              CBNZ     r1,|L1.5400|
001500  4604              MOV      r4,r0                 ;1062
001502  8800              LDRH     r0,[r0,#0]            ;1062  ; CAP_MAX_VOLT
001504  1e40              SUBS     r0,r0,#1              ;1062
                  |L1.5382|
001506  8020              STRH     r0,[r4,#0]            ;1062
001508  2264              MOVS     r2,#0x64              ;1063
00150a  2101              MOVS     r1,#1                 ;1063
00150c  4846              LDR      r0,|L1.5672|
00150e  f7fffffe          BL       gran
001512  f9b41000          LDRSH    r1,[r4,#0]            ;1064  ; CAP_MAX_VOLT
001516  e7ee              B        |L1.5366|
                  |L1.5400|
001518  e00a              B        |L1.5424|
                  |L1.5402|
00151a  7828              LDRB     r0,[r5,#0]            ;1070  ; work_stat
00151c  b940              CBNZ     r0,|L1.5424|
00151e  f8ba0000          LDRH     r0,[r10,#0]           ;1072  ; CAP_WRK_CURR
001522  1c40              ADDS     r0,r0,#1              ;1072
001524  e014              B        |L1.5456|
                  |L1.5414|
001526  f7fffffe          BL       lc640_write_int
00152a  e001              B        |L1.5424|
                  |L1.5420|
00152c  7828              LDRB     r0,[r5,#0]            ;1079  ; work_stat
00152e  b160              CBZ      r0,|L1.5450|
                  |L1.5424|
001530  4c42              LDR      r4,|L1.5692|
001532  4d34              LDR      r5,|L1.5636|
001534  6820              LDR      r0,[r4,#0]            ;1090  ; T_PROC_GS
001536  6829              LDR      r1,[r5,#0]            ;1090  ; T_PROC_MAX
001538  4288              CMP      r0,r1                 ;1090
00153a  dc01              BGT      |L1.5440|
00153c  281e              CMP      r0,#0x1e              ;1090
00153e  da22              BGE      |L1.5510|
                  |L1.5440|
001540  4288              CMP      r0,r1                 ;1092
001542  dd11              BLE      |L1.5480|
001544  1c49              ADDS     r1,r1,#1              ;1092
001546  6021              STR      r1,[r4,#0]            ;1092  ; T_PROC_GS
001548  e012              B        |L1.5488|
                  |L1.5450|
00154a  f8ba0000          LDRH     r0,[r10,#0]           ;1081  ; CAP_WRK_CURR
00154e  1e40              SUBS     r0,r0,#1              ;1081
                  |L1.5456|
001550  f8aa0000          STRH     r0,[r10,#0]           ;1072
                  |L1.5460|
001554  2296              MOVS     r2,#0x96              ;1082
001556  2101              MOVS     r1,#1                 ;1082
001558  4839              LDR      r0,|L1.5696|
00155a  f7fffffe          BL       gran
00155e  f9ba1000          LDRSH    r1,[r10,#0]           ;1083  ; CAP_WRK_CURR
001562  f44f70ee          MOV      r0,#0x1dc             ;1083
001566  e7de              B        |L1.5414|
                  |L1.5480|
001568  281e              CMP      r0,#0x1e              ;1093
00156a  da01              BGE      |L1.5488|
00156c  201d              MOVS     r0,#0x1d              ;1093
00156e  6020              STR      r0,[r4,#0]            ;1093  ; T_PROC_GS
                  |L1.5488|
001570  6820              LDR      r0,[r4,#0]            ;1094  ; T_PROC_GS
001572  b201              SXTH     r1,r0                 ;1094
001574  20d8              MOVS     r0,#0xd8              ;1094
001576  f7fffffe          BL       lc640_write_int
00157a  4832              LDR      r0,|L1.5700|
00157c  2101              MOVS     r1,#1                 ;1095
00157e  8001              STRH     r1,[r0,#0]            ;1095
001580  20ee              MOVS     r0,#0xee              ;1096
001582  f7fffffe          BL       lc640_write_int
                  |L1.5510|
001586  6820              LDR      r0,[r4,#0]            ;1098  ; T_PROC_GS
001588  6829              LDR      r1,[r5,#0]            ;1098  ; T_PROC_MAX
00158a  4288              CMP      r0,r1                 ;1098
00158c  dc07              BGT      |L1.5534|
00158e  281e              CMP      r0,#0x1e              ;1098
001590  db05              BLT      |L1.5534|
001592  482c              LDR      r0,|L1.5700|
001594  2100              MOVS     r1,#0                 ;1100
001596  8001              STRH     r1,[r0,#0]            ;1100
001598  20ee              MOVS     r0,#0xee              ;1101
00159a  f7fffffe          BL       lc640_write_int
                  |L1.5534|
00159e  4c2a              LDR      r4,|L1.5704|
0015a0  6829              LDR      r1,[r5,#0]            ;1104  ; T_PROC_MAX
0015a2  6820              LDR      r0,[r4,#0]            ;1104  ; T_PROC_PS
0015a4  4288              CMP      r0,r1                 ;1104
0015a6  dc01              BGT      |L1.5548|
0015a8  281e              CMP      r0,#0x1e              ;1104
0015aa  da13              BGE      |L1.5588|
                  |L1.5548|
0015ac  4288              CMP      r0,r1                 ;1106
0015ae  dd02              BLE      |L1.5558|
0015b0  1c49              ADDS     r1,r1,#1              ;1106
0015b2  6021              STR      r1,[r4,#0]            ;1106  ; T_PROC_PS
0015b4  e003              B        |L1.5566|
                  |L1.5558|
0015b6  281e              CMP      r0,#0x1e              ;1107
0015b8  da01              BGE      |L1.5566|
0015ba  201d              MOVS     r0,#0x1d              ;1107
0015bc  6020              STR      r0,[r4,#0]            ;1107  ; T_PROC_PS
                  |L1.5566|
0015be  6820              LDR      r0,[r4,#0]            ;1108  ; T_PROC_PS
0015c0  b201              SXTH     r1,r0                 ;1108
0015c2  20dc              MOVS     r0,#0xdc              ;1108
0015c4  f7fffffe          BL       lc640_write_int
0015c8  4820              LDR      r0,|L1.5708|
0015ca  2101              MOVS     r1,#1                 ;1109
0015cc  8001              STRH     r1,[r0,#0]            ;1109
0015ce  20f0              MOVS     r0,#0xf0              ;1110
0015d0  f7fffffe          BL       lc640_write_int
                  |L1.5588|
0015d4  6820              LDR      r0,[r4,#0]            ;1112  ; T_PROC_PS
0015d6  6829              LDR      r1,[r5,#0]            ;1112  ; T_PROC_MAX
0015d8  4288              CMP      r0,r1                 ;1112
0015da  dc07              BGT      |L1.5612|
0015dc  281e              CMP      r0,#0x1e              ;1112
0015de  db05              BLT      |L1.5612|
0015e0  481a              LDR      r0,|L1.5708|
0015e2  2100              MOVS     r1,#0                 ;1114
0015e4  8001              STRH     r1,[r0,#0]            ;1114
0015e6  20f0              MOVS     r0,#0xf0              ;1115
0015e8  f7fffffe          BL       lc640_write_int
                  |L1.5612|
0015ec  4818              LDR      r0,|L1.5712|
0015ee  9901              LDR      r1,[sp,#4]            ;1118
0015f0  463a              MOV      r2,r7                 ;1118
0015f2  8800              LDRH     r0,[r0,#0]            ;1118  ; MODBUS_ADRESS
0015f4  b009              ADD      sp,sp,#0x24           ;1118
0015f6  b2c0              UXTB     r0,r0                 ;1118
0015f8  e8bd4ff0          POP      {r4-r11,lr}           ;1118
0015fc  f7ffbffe          B.W      modbus_hold_register_transmit
;;;1131   
                          ENDP

                  |L1.5632|
                          DCD      AVT_REV_TIME_REW
                  |L1.5636|
                          DCD      T_PROC_MAX
                  |L1.5640|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.5644|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.5648|
                          DCD      I_MIN_IPS
                  |L1.5652|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.5656|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.5660|
                          DCD      U_MAX
                  |L1.5664|
                          DCD      U_MIN
                  |L1.5668|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.5672|
                          DCD      CAP_MAX_VOLT
                  |L1.5676|
                          DCD      CAP_ZAR_TIME
                  |L1.5680|
                          DCD      CAP_PAUSE1_TIME
                  |L1.5684|
                          DCD      CAP_RAZR_TIME
                  |L1.5688|
                          DCD      CAP_PAUSE2_TIME
                  |L1.5692|
                          DCD      T_PROC_GS
                  |L1.5696|
                          DCD      CAP_WRK_CURR
                  |L1.5700|
                          DCD      T_PROC_GS_MODE
                  |L1.5704|
                          DCD      T_PROC_PS
                  |L1.5708|
                          DCD      T_PROC_PS_MODE
                  |L1.5712|
                          DCD      MODBUS_ADRESS

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_registers
                          %        200

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_self_cmnd_cnt
000000  21                DCB      0x21
                  bMODBUS_TIMEOUT
000001  00                DCB      0x00
                  modbus_rx_buffer_ptr
000002  00                DCB      0x00
                  modbus_rx_counter
000003  00                DCB      0x00
                  modbus_cmnd_cnt
000004  00                DCB      0x00
                  modbus_cmnd
000005  00                DCB      0x00
                  modbus_plazma
000006  0000              DCB      0x00,0x00
                  modbus_plazma1
000008  0000              DCB      0x00,0x00
                  modbus_plazma2
00000a  0000              DCB      0x00,0x00
                  modbus_plazma3
00000c  0000              DCB      0x00,0x00

                          AREA ||area_number.7||, DATA, ALIGN=1

                          EXPORTAS ||area_number.7||, ||.data||
                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.8||, DATA, ALIGN=0

                          EXPORTAS ||area_number.8||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.9||, DATA, ALIGN=1

                          EXPORTAS ||area_number.9||, ||.data||
                  modbusTimeoutInMills
000000  0000              DCB      0x00,0x00
