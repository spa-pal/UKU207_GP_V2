; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU2071x_GALV_IBv2.fed --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;38     //-----------------------------------------------
;;;39     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;40     {
000002  4604              MOV      r4,r0
;;;41     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;42     short pos;
;;;43     short i;
;;;44     
;;;45     for (pos = 0; pos < len; pos++)
000008  2200              MOVS     r2,#0
;;;46       	{
;;;47         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;48     
;;;49         	for ( i = 8; i != 0; i--) 
;;;50     		{    // Loop over each bit
;;;51           	if ((crc & 0x0001) != 0) 
;;;52     			{      // If the LSB is set
;;;53             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;54             		crc ^= 0xA001;
00000a  f24a0501          MOV      r5,#0xa001
00000e  e00d              B        |L1.44|
                  |L1.16|
000010  5ca3              LDRB     r3,[r4,r2]            ;47
000012  4058              EORS     r0,r0,r3              ;47
000014  2308              MOVS     r3,#8                 ;49
                  |L1.22|
000016  07c6              LSLS     r6,r0,#31             ;51
;;;55           		}
;;;56           	else  crc >>= 1;                    // Just shift right
000018  ea4f0050          LSR      r0,r0,#1
00001c  d000              BEQ      |L1.32|
00001e  4068              EORS     r0,r0,r5              ;54
                  |L1.32|
000020  1e5b              SUBS     r3,r3,#1              ;49
000022  b21b              SXTH     r3,r3                 ;49
000024  2b00              CMP      r3,#0                 ;49
000026  d1f6              BNE      |L1.22|
000028  1c52              ADDS     r2,r2,#1              ;45
00002a  b212              SXTH     r2,r2                 ;45
                  |L1.44|
00002c  428a              CMP      r2,r1                 ;45
00002e  dbef              BLT      |L1.16|
;;;57         		}
;;;58       	}
;;;59       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;60     return crc;
;;;61     }
000030  bd70              POP      {r4-r6,pc}
;;;62     
                          ENDP

                  modbus_hold_register_answer_transmit PROC
;;;1860   //-----------------------------------------------
;;;1861   void modbus_hold_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;1862   {
;;;1863   char modbus_registers[120];
;;;1864   char modbus_tx_buff[100];
;;;1865   unsigned short crc_temp;
;;;1866   char i;
;;;1867   
;;;1868   modbus_registers[0]=(char)(I_ug/256);					//Πεγ50
;;;1869   modbus_registers[1]=(char)(I_ug%256);
;;;1870   modbus_registers[2]=(char)(U_up/256);					//Πεγ51
000032  b530              PUSH     {r4,r5,lr}
;;;1871   modbus_registers[3]=(char)(U_up%256);
000034  b099              SUB      sp,sp,#0x64
000036  f88d0000          STRB     r0,[sp,#0]
;;;1872   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
00003a  f88d1001          STRB     r1,[sp,#1]
00003e  0a10              LSRS     r0,r2,#8
000040  f88d0002          STRB     r0,[sp,#2]
000044  0a18              LSRS     r0,r3,#8
000046  f88d0004          STRB     r0,[sp,#4]
;;;1873   modbus_registers[5]=(char)(U_maxg%256);
00004a  f88d2003          STRB     r2,[sp,#3]
;;;1874   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
00004e  f88d3005          STRB     r3,[sp,#5]
000052  2106              MOVS     r1,#6
000054  4668              MOV      r0,sp
000056  f7fffffe          BL       CRC16_2
00005a  f88d0006          STRB     r0,[sp,#6]
00005e  0a00              LSRS     r0,r0,#8
;;;1875   modbus_registers[7]=(char)(I_maxp%256);
000060  f88d0007          STRB     r0,[sp,#7]
;;;1876   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
000064  2400              MOVS     r4,#0
000066  466d              MOV      r5,sp
                  |L1.104|
000068  5d28              LDRB     r0,[r5,r4]
00006a  f7fffffe          BL       putchar0
00006e  1c64              ADDS     r4,r4,#1
000070  b2e4              UXTB     r4,r4
000072  2c08              CMP      r4,#8
000074  d3f8              BCC      |L1.104|
000076  2400              MOVS     r4,#0
                  |L1.120|
000078  5d28              LDRB     r0,[r5,r4]
00007a  f7fffffe          BL       putchar_sc16is700
;;;1877   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
00007e  1c64              ADDS     r4,r4,#1
000080  b2e4              UXTB     r4,r4
;;;1878   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
000082  2c08              CMP      r4,#8
000084  d3f8              BCC      |L1.120|
000086  b019              ADD      sp,sp,#0x64
000088  bd30              POP      {r4,r5,pc}
;;;1879   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;1880   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
;;;1881   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
;;;1882   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
;;;1883   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
;;;1884   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
;;;1885   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
;;;1886   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
;;;1887   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
;;;1888   modbus_registers[20]=0;								//Πεγ60
;;;1889   modbus_registers[21]=0;
;;;1890   if(work_stat==wsPS)modbus_registers[21]=1;
;;;1891   modbus_registers[22]=0;								//Πεγ61
;;;1892   modbus_registers[23]=0;
;;;1893   if(work_stat==wsGS)modbus_registers[23]=1;
;;;1894   modbus_registers[24]=0;								//Πεγ62
;;;1895   modbus_registers[25]=0;
;;;1896   if(REV_STAT==rsREW)modbus_registers[25]=1;
;;;1897   modbus_registers[26]=0;								//Πεγ63
;;;1898   modbus_registers[27]=0;
;;;1899   if(AVT_REV_IS_ON)modbus_registers[27]=1;
;;;1900   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
;;;1901   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
;;;1902   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
;;;1903   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
;;;1904   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
;;;1905   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
;;;1906   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
;;;1907   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
;;;1908   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
;;;1909   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
;;;1910   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
;;;1911   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
;;;1912   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
;;;1913   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
;;;1914   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
;;;1915   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
;;;1916   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
;;;1917   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
;;;1918   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
;;;1919   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
;;;1920   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
;;;1921   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
;;;1922   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
;;;1923   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
;;;1924   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
;;;1925   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
;;;1926   
;;;1927   modbus_tx_buff[0]=adr;
;;;1928   modbus_tx_buff[1]=func;
;;;1929   modbus_tx_buff[2]=(char)(reg_adr/256);
;;;1930   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;1931   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;1932   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;1933   
;;;1934   
;;;1935   memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
;;;1936   
;;;1937   crc_temp=CRC16_2(modbus_tx_buff,6);
;;;1938   
;;;1939   modbus_tx_buff[6]=crc_temp%256;
;;;1940   modbus_tx_buff[7]=crc_temp/256;
;;;1941   
;;;1942   for (i=0;i<8;i++)
;;;1943   	{
;;;1944   	putchar0(modbus_tx_buff[i]);
;;;1945   	}
;;;1946   for (i=0;i<8;i++)
;;;1947   	{
;;;1948   	putchar_sc16is700(modbus_tx_buff[i]);
;;;1949   	}
;;;1950   }	
;;;1951   
                          ENDP

                  modbus_input_registers_transmit PROC
;;;1860   //-----------------------------------------------
;;;1861   void modbus_hold_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;1862   {
;;;1863   char modbus_registers[120];
;;;1864   char modbus_tx_buff[100];
;;;1865   unsigned short crc_temp;
;;;1866   char i;
;;;1867   
;;;1868   modbus_registers[0]=(char)(I_ug/256);					//Πεγ50
;;;1869   modbus_registers[1]=(char)(I_ug%256);
;;;1870   modbus_registers[2]=(char)(U_up/256);					//Πεγ51
;;;1871   modbus_registers[3]=(char)(U_up%256);
;;;1872   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
;;;1873   modbus_registers[5]=(char)(U_maxg%256);
;;;1874   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
;;;1875   modbus_registers[7]=(char)(I_maxp%256);
;;;1876   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
;;;1877   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;1878   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
00008a  e92d4ff0          PUSH     {r4-r11,lr}
00008e  b0b3              SUB      sp,sp,#0xcc
000090  4683              MOV      r11,r0
000092  468e              MOV      lr,r1
000094  4692              MOV      r10,r2
;;;1879   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
000096  461c              MOV      r4,r3
000098  48ff              LDR      r0,|L1.1176|
;;;1880   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
00009a  f8ddc0f0          LDR      r12,[sp,#0xf0]
00009e  f44f2961          MOV      r9,#0xe1000
0000a2  f9b01000          LDRSH    r1,[r0,#0]  ; load_U
;;;1881   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
0000a6  f44f6861          MOV      r8,#0xe10
0000aa  17c8              ASRS     r0,r1,#31
0000ac  eb016210          ADD      r2,r1,r0,LSR #24
;;;1882   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
0000b0  48fa              LDR      r0,|L1.1180|
0000b2  1213              ASRS     r3,r2,#8
0000b4  7003              STRB     r3,[r0,#0]
0000b6  7041              STRB     r1,[r0,#1]
0000b8  49f9              LDR      r1,|L1.1184|
0000ba  f9b11000          LDRSH    r1,[r1,#0]  ; load_I
0000be  17ca              ASRS     r2,r1,#31
0000c0  eb016212          ADD      r2,r1,r2,LSR #24
0000c4  1213              ASRS     r3,r2,#8
0000c6  7083              STRB     r3,[r0,#2]
;;;1883   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0000c8  70c1              STRB     r1,[r0,#3]
0000ca  49f6              LDR      r1,|L1.1188|
;;;1884   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
0000cc  223c              MOVS     r2,#0x3c
0000ce  680b              LDR      r3,[r1,#0]  ; time_proc
0000d0  fb93f5f2          SDIV     r5,r3,r2
0000d4  fb023115          MLS      r1,r2,r5,r3
0000d8  17ce              ASRS     r6,r1,#31
0000da  eb016716          ADD      r7,r1,r6,LSR #24
0000de  123e              ASRS     r6,r7,#8
;;;1885   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
0000e0  7106              STRB     r6,[r0,#4]
0000e2  7141              STRB     r1,[r0,#5]
;;;1886   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
0000e4  fb95f1f2          SDIV     r1,r5,r2
0000e8  fb025111          MLS      r1,r2,r1,r5
;;;1887   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
0000ec  17cd              ASRS     r5,r1,#31
0000ee  eb016515          ADD      r5,r1,r5,LSR #24
0000f2  122e              ASRS     r6,r5,#8
;;;1888   modbus_registers[20]=0;								//Πεγ60
0000f4  7186              STRB     r6,[r0,#6]
;;;1889   modbus_registers[21]=0;
;;;1890   if(work_stat==wsPS)modbus_registers[21]=1;
0000f6  71c1              STRB     r1,[r0,#7]
0000f8  fb93f1f9          SDIV     r1,r3,r9              ;1888
0000fc  7201              STRB     r1,[r0,#8]            ;1889
0000fe  fb93f1f8          SDIV     r1,r3,r8              ;1889
000102  7241              STRB     r1,[r0,#9]
000104  49e8              LDR      r1,|L1.1192|
000106  680b              LDR      r3,[r1,#0]  ; time_proc_remain
000108  fb93f7f2          SDIV     r7,r3,r2
;;;1891   modbus_registers[22]=0;								//Πεγ61
00010c  fb023117          MLS      r1,r2,r7,r3
;;;1892   modbus_registers[23]=0;
000110  17cd              ASRS     r5,r1,#31
000112  eb016515          ADD      r5,r1,r5,LSR #24
;;;1893   if(work_stat==wsGS)modbus_registers[23]=1;
000116  122e              ASRS     r6,r5,#8
000118  7286              STRB     r6,[r0,#0xa]
00011a  72c1              STRB     r1,[r0,#0xb]
;;;1894   modbus_registers[24]=0;								//Πεγ62
;;;1895   modbus_registers[25]=0;
;;;1896   if(REV_STAT==rsREW)modbus_registers[25]=1;
00011c  fb97f1f2          SDIV     r1,r7,r2
000120  fb027111          MLS      r1,r2,r1,r7           ;1894
000124  17ca              ASRS     r2,r1,#31             ;1895
000126  eb016212          ADD      r2,r1,r2,LSR #24
00012a  1215              ASRS     r5,r2,#8
00012c  7305              STRB     r5,[r0,#0xc]
;;;1897   modbus_registers[26]=0;								//Πεγ63
00012e  7341              STRB     r1,[r0,#0xd]
000130  fb93f1f9          SDIV     r1,r3,r9
;;;1898   modbus_registers[27]=0;
000134  7381              STRB     r1,[r0,#0xe]
;;;1899   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000136  fb93f1f8          SDIV     r1,r3,r8
00013a  73c1              STRB     r1,[r0,#0xf]
00013c  49db              LDR      r1,|L1.1196|
00013e  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_COUNTER
;;;1900   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
000142  17ca              ASRS     r2,r1,#31
000144  eb016212          ADD      r2,r1,r2,LSR #24
000148  1213              ASRS     r3,r2,#8
00014a  7403              STRB     r3,[r0,#0x10]
00014c  7441              STRB     r1,[r0,#0x11]
00014e  49d8              LDR      r1,|L1.1200|
000150  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_SEC
;;;1901   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
000154  17ca              ASRS     r2,r1,#31
;;;1902   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
000156  eb016212          ADD      r2,r1,r2,LSR #24
00015a  1213              ASRS     r3,r2,#8
00015c  7483              STRB     r3,[r0,#0x12]
00015e  74c1              STRB     r1,[r0,#0x13]
000160  49d4              LDR      r1,|L1.1204|
000162  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_MIN
000166  17ca              ASRS     r2,r1,#31
;;;1903   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
000168  eb016212          ADD      r2,r1,r2,LSR #24
;;;1904   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
00016c  1213              ASRS     r3,r2,#8
00016e  7503              STRB     r3,[r0,#0x14]
000170  7541              STRB     r1,[r0,#0x15]
000172  49d1              LDR      r1,|L1.1208|
000174  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_HOUR
000178  17ca              ASRS     r2,r1,#31
00017a  eb016212          ADD      r2,r1,r2,LSR #24
;;;1905   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
00017e  1213              ASRS     r3,r2,#8
000180  7583              STRB     r3,[r0,#0x16]
;;;1906   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
000182  75c1              STRB     r1,[r0,#0x17]
000184  2200              MOVS     r2,#0
000186  49cd              LDR      r1,|L1.1212|
000188  7602              STRB     r2,[r0,#0x18]
00018a  7642              STRB     r2,[r0,#0x19]
00018c  780b              LDRB     r3,[r1,#0]  ; bVOLT_IS_NOT_DOWN
00018e  2101              MOVS     r1,#1
000190  b103              CBZ      r3,|L1.404|
000192  7641              STRB     r1,[r0,#0x19]
                  |L1.404|
;;;1907   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
000194  4bca              LDR      r3,|L1.1216|
000196  7682              STRB     r2,[r0,#0x1a]
;;;1908   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
000198  76c2              STRB     r2,[r0,#0x1b]
00019a  781b              LDRB     r3,[r3,#0]  ; bVOLT_IS_NOT_UP
00019c  b103              CBZ      r3,|L1.416|
00019e  76c1              STRB     r1,[r0,#0x1b]
                  |L1.416|
0001a0  49c8              LDR      r1,|L1.1220|
0001a2  698b              LDR      r3,[r1,#0x18]  ; bps
0001a4  121d              ASRS     r5,r3,#8
0001a6  f8005f2a          STRB     r5,[r0,#0x2a]!
;;;1909   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
0001aa  7043              STRB     r3,[r0,#1]
0001ac  6a0b              LDR      r3,[r1,#0x20]  ; bps
;;;1910   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
0001ae  121d              ASRS     r5,r3,#8
0001b0  7085              STRB     r5,[r0,#2]
0001b2  70c3              STRB     r3,[r0,#3]
0001b4  6a4b              LDR      r3,[r1,#0x24]  ; bps
0001b6  121d              ASRS     r5,r3,#8
0001b8  7105              STRB     r5,[r0,#4]
0001ba  7143              STRB     r3,[r0,#5]
0001bc  7182              STRB     r2,[r0,#6]
0001be  784b              LDRB     r3,[r1,#1]  ; bps
;;;1911   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
0001c0  71c3              STRB     r3,[r0,#7]
0001c2  6ecb              LDR      r3,[r1,#0x6c]  ; bps
;;;1912   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
0001c4  121d              ASRS     r5,r3,#8
0001c6  7205              STRB     r5,[r0,#8]
0001c8  7243              STRB     r3,[r0,#9]
0001ca  6f4b              LDR      r3,[r1,#0x74]  ; bps
0001cc  121d              ASRS     r5,r3,#8
0001ce  7285              STRB     r5,[r0,#0xa]
0001d0  72c3              STRB     r3,[r0,#0xb]
0001d2  6f8b              LDR      r3,[r1,#0x78]  ; bps
0001d4  121d              ASRS     r5,r3,#8
;;;1913   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
0001d6  7305              STRB     r5,[r0,#0xc]
0001d8  7343              STRB     r3,[r0,#0xd]
;;;1914   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
0001da  7382              STRB     r2,[r0,#0xe]
0001dc  f8913055          LDRB     r3,[r1,#0x55]  ; bps
0001e0  73c3              STRB     r3,[r0,#0xf]
0001e2  f8513fc0          LDR      r3,[r1,#0xc0]!  ; bps
0001e6  121d              ASRS     r5,r3,#8
0001e8  7405              STRB     r5,[r0,#0x10]
0001ea  7443              STRB     r3,[r0,#0x11]
;;;1915   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
0001ec  688b              LDR      r3,[r1,#8]  ; bps
0001ee  121d              ASRS     r5,r3,#8
;;;1916   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
0001f0  7485              STRB     r5,[r0,#0x12]
0001f2  74c3              STRB     r3,[r0,#0x13]
0001f4  68cb              LDR      r3,[r1,#0xc]  ; bps
0001f6  f1010138          ADD      r1,r1,#0x38
0001fa  121d              ASRS     r5,r3,#8
0001fc  7505              STRB     r5,[r0,#0x14]
0001fe  7543              STRB     r3,[r0,#0x15]
000200  7582              STRB     r2,[r0,#0x16]
;;;1917   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
000202  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
;;;1918   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
000206  75c3              STRB     r3,[r0,#0x17]
000208  69cb              LDR      r3,[r1,#0x1c]  ; bps
00020a  ea4f2523          ASR      r5,r3,#8
00020e  7605              STRB     r5,[r0,#0x18]
000210  7643              STRB     r3,[r0,#0x19]
000212  6a4b              LDR      r3,[r1,#0x24]  ; bps
000214  ea4f2523          ASR      r5,r3,#8
;;;1919   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
000218  7685              STRB     r5,[r0,#0x1a]
00021a  76c3              STRB     r3,[r0,#0x1b]
;;;1920   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
00021c  6a8b              LDR      r3,[r1,#0x28]  ; bps
00021e  ea4f2523          ASR      r5,r3,#8
000222  7705              STRB     r5,[r0,#0x1c]
000224  7743              STRB     r3,[r0,#0x1d]
000226  7782              STRB     r2,[r0,#0x1e]
000228  794b              LDRB     r3,[r1,#5]  ; bps
00022a  77c3              STRB     r3,[r0,#0x1f]
00022c  6f0b              LDR      r3,[r1,#0x70]  ; bps
;;;1921   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
00022e  ea4f2523          ASR      r5,r3,#8
;;;1922   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
000232  f8805020          STRB     r5,[r0,#0x20]
000236  f8803021          STRB     r3,[r0,#0x21]
00023a  6f8b              LDR      r3,[r1,#0x78]  ; bps
00023c  ea4f2523          ASR      r5,r3,#8
000240  f8805022          STRB     r5,[r0,#0x22]
;;;1923   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
000244  f8803023          STRB     r3,[r0,#0x23]
;;;1924   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
000248  6fcb              LDR      r3,[r1,#0x7c]  ; bps
00024a  ea4f2523          ASR      r5,r3,#8
;;;1925   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
;;;1926   
;;;1927   modbus_tx_buff[0]=adr;
00024e  f8805024          STRB     r5,[r0,#0x24]
000252  f8803025          STRB     r3,[r0,#0x25]         ;1924
000256  f8802026          STRB     r2,[r0,#0x26]         ;1924
00025a  f8913059          LDRB     r3,[r1,#0x59]         ;1924  ; bps
00025e  f8803027          STRB     r3,[r0,#0x27]         ;1925
;;;1928   modbus_tx_buff[1]=func;
000262  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
;;;1929   modbus_tx_buff[2]=(char)(reg_adr/256);
000266  ea4f2523          ASR      r5,r3,#8
00026a  f8805028          STRB     r5,[r0,#0x28]
;;;1930   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;1931   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;1932   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;1933   
;;;1934   
;;;1935   memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00026e  f8803029          STRB     r3,[r0,#0x29]
000272  688b              LDR      r3,[r1,#8]            ;1930  ; bps
000274  ea4f2523          ASR      r5,r3,#8              ;1930
000278  f880502a          STRB     r5,[r0,#0x2a]
00027c  f880302b          STRB     r3,[r0,#0x2b]
;;;1936   
;;;1937   crc_temp=CRC16_2(modbus_tx_buff,6);
000280  68cb              LDR      r3,[r1,#0xc]  ; bps
000282  f1010138          ADD      r1,r1,#0x38
;;;1938   
;;;1939   modbus_tx_buff[6]=crc_temp%256;
000286  ea4f2523          ASR      r5,r3,#8
;;;1940   modbus_tx_buff[7]=crc_temp/256;
00028a  f880502c          STRB     r5,[r0,#0x2c]
00028e  f880302d          STRB     r3,[r0,#0x2d]
000292  f880202e          STRB     r2,[r0,#0x2e]         ;1864
;;;1941   
;;;1942   for (i=0;i<8;i++)
;;;1943   	{
;;;1944   	putchar0(modbus_tx_buff[i]);
000296  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
00029a  f880302f          STRB     r3,[r0,#0x2f]         ;1942
00029e  69cb              LDR      r3,[r1,#0x1c]         ;1942  ; bps
0002a0  ea4f2523          ASR      r5,r3,#8              ;1942
;;;1945   	}
;;;1946   for (i=0;i<8;i++)
;;;1947   	{
;;;1948   	putchar_sc16is700(modbus_tx_buff[i]);
0002a4  f8805030          STRB     r5,[r0,#0x30]
0002a8  f8803031          STRB     r3,[r0,#0x31]
0002ac  6a4b              LDR      r3,[r1,#0x24]         ;1946  ; bps
0002ae  ea4f2523          ASR      r5,r3,#8              ;1946
;;;1949   	}
;;;1950   }	
0002b2  f8805032          STRB     r5,[r0,#0x32]
0002b6  f8803033          STRB     r3,[r0,#0x33]
0002ba  6a8b              LDR      r3,[r1,#0x28]  ; bps
0002bc  ea4f2523          ASR      r5,r3,#8
0002c0  f8805034          STRB     r5,[r0,#0x34]
0002c4  f8803035          STRB     r3,[r0,#0x35]
0002c8  f8802036          STRB     r2,[r0,#0x36]
0002cc  794b              LDRB     r3,[r1,#5]  ; bps
0002ce  f8803037          STRB     r3,[r0,#0x37]
0002d2  6f0b              LDR      r3,[r1,#0x70]  ; bps
0002d4  ea4f2523          ASR      r5,r3,#8
0002d8  f8805038          STRB     r5,[r0,#0x38]
0002dc  f8803039          STRB     r3,[r0,#0x39]
0002e0  6f8b              LDR      r3,[r1,#0x78]  ; bps
0002e2  ea4f2523          ASR      r5,r3,#8
0002e6  f880503a          STRB     r5,[r0,#0x3a]
0002ea  f880303b          STRB     r3,[r0,#0x3b]
0002ee  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0002f0  ea4f2523          ASR      r5,r3,#8
0002f4  f880503c          STRB     r5,[r0,#0x3c]
0002f8  f880303d          STRB     r3,[r0,#0x3d]
0002fc  f880203e          STRB     r2,[r0,#0x3e]
000300  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000304  f880303f          STRB     r3,[r0,#0x3f]
000308  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00030c  ea4f2523          ASR      r5,r3,#8
000310  f8805040          STRB     r5,[r0,#0x40]
000314  f8803041          STRB     r3,[r0,#0x41]
000318  688b              LDR      r3,[r1,#8]  ; bps
00031a  ea4f2523          ASR      r5,r3,#8
00031e  f8805042          STRB     r5,[r0,#0x42]
000322  f8803043          STRB     r3,[r0,#0x43]
000326  68cb              LDR      r3,[r1,#0xc]  ; bps
000328  f1a10118          SUB      r1,r1,#0x18
00032c  ea4f2523          ASR      r5,r3,#8
000330  f8805044          STRB     r5,[r0,#0x44]
000334  f8803045          STRB     r3,[r0,#0x45]
000338  f8802046          STRB     r2,[r0,#0x46]
00033c  784b              LDRB     r3,[r1,#1]  ; bps
00033e  f8803047          STRB     r3,[r0,#0x47]
000342  6ecb              LDR      r3,[r1,#0x6c]  ; bps
000344  ea4f2523          ASR      r5,r3,#8
000348  f8805048          STRB     r5,[r0,#0x48]
00034c  f8803049          STRB     r3,[r0,#0x49]
000350  6f4b              LDR      r3,[r1,#0x74]  ; bps
000352  ea4f2523          ASR      r5,r3,#8
000356  f880504a          STRB     r5,[r0,#0x4a]
00035a  f8003f4b          STRB     r3,[r0,#0x4b]!
00035e  6f8b              LDR      r3,[r1,#0x78]  ; bps
000360  ea4f2523          ASR      r5,r3,#8
000364  7045              STRB     r5,[r0,#1]
000366  7083              STRB     r3,[r0,#2]
000368  f10101a4          ADD      r1,r1,#0xa4
00036c  f8002f03          STRB     r2,[r0,#3]!
000370  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000374  7043              STRB     r3,[r0,#1]
000376  69cb              LDR      r3,[r1,#0x1c]  ; bps
000378  ea4f2523          ASR      r5,r3,#8
00037c  7085              STRB     r5,[r0,#2]
00037e  70c3              STRB     r3,[r0,#3]
000380  6a4b              LDR      r3,[r1,#0x24]  ; bps
000382  ea4f2523          ASR      r5,r3,#8
000386  7105              STRB     r5,[r0,#4]
000388  7143              STRB     r3,[r0,#5]
00038a  6a8b              LDR      r3,[r1,#0x28]  ; bps
00038c  ea4f2523          ASR      r5,r3,#8
000390  7185              STRB     r5,[r0,#6]
000392  71c3              STRB     r3,[r0,#7]
000394  7202              STRB     r2,[r0,#8]
000396  794b              LDRB     r3,[r1,#5]  ; bps
000398  7243              STRB     r3,[r0,#9]
00039a  6f0b              LDR      r3,[r1,#0x70]  ; bps
00039c  ea4f2523          ASR      r5,r3,#8
0003a0  7285              STRB     r5,[r0,#0xa]
0003a2  72c3              STRB     r3,[r0,#0xb]
0003a4  6f8b              LDR      r3,[r1,#0x78]  ; bps
0003a6  ea4f2523          ASR      r5,r3,#8
0003aa  7305              STRB     r5,[r0,#0xc]
0003ac  7343              STRB     r3,[r0,#0xd]
0003ae  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0003b0  ea4f2523          ASR      r5,r3,#8
0003b4  7385              STRB     r5,[r0,#0xe]
0003b6  73c3              STRB     r3,[r0,#0xf]
0003b8  7402              STRB     r2,[r0,#0x10]
0003ba  f8913059          LDRB     r3,[r1,#0x59]  ; bps
0003be  7443              STRB     r3,[r0,#0x11]
0003c0  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
0003c4  ea4f2523          ASR      r5,r3,#8
0003c8  7485              STRB     r5,[r0,#0x12]
0003ca  74c3              STRB     r3,[r0,#0x13]
0003cc  688b              LDR      r3,[r1,#8]  ; bps
0003ce  ea4f2523          ASR      r5,r3,#8
0003d2  7505              STRB     r5,[r0,#0x14]
0003d4  7543              STRB     r3,[r0,#0x15]
0003d6  68cb              LDR      r3,[r1,#0xc]  ; bps
0003d8  f1010138          ADD      r1,r1,#0x38
0003dc  ea4f2523          ASR      r5,r3,#8
0003e0  7585              STRB     r5,[r0,#0x16]
0003e2  75c3              STRB     r3,[r0,#0x17]
0003e4  7602              STRB     r2,[r0,#0x18]
0003e6  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
0003ea  7643              STRB     r3,[r0,#0x19]
0003ec  69cb              LDR      r3,[r1,#0x1c]  ; bps
0003ee  ea4f2523          ASR      r5,r3,#8
0003f2  7685              STRB     r5,[r0,#0x1a]
0003f4  76c3              STRB     r3,[r0,#0x1b]
0003f6  6a4b              LDR      r3,[r1,#0x24]  ; bps
0003f8  ea4f2523          ASR      r5,r3,#8
0003fc  7705              STRB     r5,[r0,#0x1c]
0003fe  7743              STRB     r3,[r0,#0x1d]
000400  6a8b              LDR      r3,[r1,#0x28]  ; bps
000402  ea4f2523          ASR      r5,r3,#8
000406  7785              STRB     r5,[r0,#0x1e]
000408  77c3              STRB     r3,[r0,#0x1f]
00040a  f8802020          STRB     r2,[r0,#0x20]
00040e  794b              LDRB     r3,[r1,#5]  ; bps
000410  f8803021          STRB     r3,[r0,#0x21]
000414  6f0b              LDR      r3,[r1,#0x70]  ; bps
000416  ea4f2523          ASR      r5,r3,#8
00041a  f8805022          STRB     r5,[r0,#0x22]
00041e  f8803023          STRB     r3,[r0,#0x23]
000422  6f8b              LDR      r3,[r1,#0x78]  ; bps
000424  ea4f2523          ASR      r5,r3,#8
000428  f8805024          STRB     r5,[r0,#0x24]
00042c  f8803025          STRB     r3,[r0,#0x25]
000430  6fcb              LDR      r3,[r1,#0x7c]  ; bps
000432  ea4f2523          ASR      r5,r3,#8
000436  f8805026          STRB     r5,[r0,#0x26]
00043a  f8803027          STRB     r3,[r0,#0x27]
00043e  f8802028          STRB     r2,[r0,#0x28]
000442  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000446  f8803029          STRB     r3,[r0,#0x29]
00044a  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00044e  ea4f2523          ASR      r5,r3,#8
000452  f880502a          STRB     r5,[r0,#0x2a]
000456  f880302b          STRB     r3,[r0,#0x2b]
00045a  688b              LDR      r3,[r1,#8]  ; bps
00045c  ea4f2523          ASR      r5,r3,#8
000460  f880502c          STRB     r5,[r0,#0x2c]
000464  f880302d          STRB     r3,[r0,#0x2d]
000468  68cb              LDR      r3,[r1,#0xc]  ; bps
00046a  f1010138          ADD      r1,r1,#0x38
00046e  ea4f2523          ASR      r5,r3,#8
000472  f880502e          STRB     r5,[r0,#0x2e]
000476  f880302f          STRB     r3,[r0,#0x2f]
00047a  f8802030          STRB     r2,[r0,#0x30]
00047e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000482  f8803031          STRB     r3,[r0,#0x31]
000486  69cb              LDR      r3,[r1,#0x1c]  ; bps
000488  ea4f2523          ASR      r5,r3,#8
00048c  f8805032          STRB     r5,[r0,#0x32]
000490  f8803033          STRB     r3,[r0,#0x33]
000494  6a4b              LDR      r3,[r1,#0x24]  ; bps
000496  e017              B        |L1.1224|
                  |L1.1176|
                          DCD      load_U
                  |L1.1180|
                          DCD      ||area_number.5||+0x3c
                  |L1.1184|
                          DCD      load_I
                  |L1.1188|
                          DCD      time_proc
                  |L1.1192|
                          DCD      time_proc_remain
                  |L1.1196|
                          DCD      CAP_COUNTER
                  |L1.1200|
                          DCD      CAP_TIME_SEC
                  |L1.1204|
                          DCD      CAP_TIME_MIN
                  |L1.1208|
                          DCD      CAP_TIME_HOUR
                  |L1.1212|
                          DCD      bVOLT_IS_NOT_DOWN
                  |L1.1216|
                          DCD      bVOLT_IS_NOT_UP
                  |L1.1220|
                          DCD      bps
                  |L1.1224|
0004c8  ea4f2523          ASR      r5,r3,#8
0004cc  f8805034          STRB     r5,[r0,#0x34]
0004d0  f8803035          STRB     r3,[r0,#0x35]
0004d4  6a8b              LDR      r3,[r1,#0x28]  ; bps
0004d6  4616              MOV      r6,r2
0004d8  ea4f2523          ASR      r5,r3,#8
0004dc  f8805036          STRB     r5,[r0,#0x36]
0004e0  f8803037          STRB     r3,[r0,#0x37]
0004e4  f8802038          STRB     r2,[r0,#0x38]
0004e8  794b              LDRB     r3,[r1,#5]  ; bps
0004ea  f8803039          STRB     r3,[r0,#0x39]
0004ee  6f0b              LDR      r3,[r1,#0x70]  ; bps
0004f0  ea4f2523          ASR      r5,r3,#8
0004f4  f880503a          STRB     r5,[r0,#0x3a]
0004f8  f880303b          STRB     r3,[r0,#0x3b]
0004fc  6f8b              LDR      r3,[r1,#0x78]  ; bps
0004fe  ea4f2523          ASR      r5,r3,#8
000502  f880503c          STRB     r5,[r0,#0x3c]
000506  f880303d          STRB     r3,[r0,#0x3d]
00050a  6fcb              LDR      r3,[r1,#0x7c]  ; bps
00050c  ea4f2523          ASR      r5,r3,#8
000510  f880503e          STRB     r5,[r0,#0x3e]
000514  f880303f          STRB     r3,[r0,#0x3f]
000518  f8802040          STRB     r2,[r0,#0x40]
00051c  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000520  f8803041          STRB     r3,[r0,#0x41]
000524  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
000528  ea4f2523          ASR      r5,r3,#8
00052c  f8805042          STRB     r5,[r0,#0x42]
000530  f8803043          STRB     r3,[r0,#0x43]
000534  688b              LDR      r3,[r1,#8]  ; bps
000536  ea4f2523          ASR      r5,r3,#8
00053a  f8805044          STRB     r5,[r0,#0x44]
00053e  f8803045          STRB     r3,[r0,#0x45]
000542  68cb              LDR      r3,[r1,#0xc]  ; bps
000544  f1a10118          SUB      r1,r1,#0x18
000548  ea4f2523          ASR      r5,r3,#8
00054c  f8805046          STRB     r5,[r0,#0x46]
000550  f8803047          STRB     r3,[r0,#0x47]
000554  f8802048          STRB     r2,[r0,#0x48]
000558  784b              LDRB     r3,[r1,#1]  ; bps
00055a  f8803049          STRB     r3,[r0,#0x49]
00055e  6ecb              LDR      r3,[r1,#0x6c]  ; bps
000560  ea4f2523          ASR      r5,r3,#8
000564  f880504a          STRB     r5,[r0,#0x4a]
000568  f880304b          STRB     r3,[r0,#0x4b]
00056c  6f4b              LDR      r3,[r1,#0x74]  ; bps
00056e  ea4f2523          ASR      r5,r3,#8
000572  f880504c          STRB     r5,[r0,#0x4c]
000576  f880304d          STRB     r3,[r0,#0x4d]
00057a  6f8b              LDR      r3,[r1,#0x78]  ; bps
00057c  f10101a4          ADD      r1,r1,#0xa4
000580  ea4f2523          ASR      r5,r3,#8
000584  f880504e          STRB     r5,[r0,#0x4e]
000588  f8003f4f          STRB     r3,[r0,#0x4f]!
00058c  7042              STRB     r2,[r0,#1]
00058e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000592  7083              STRB     r3,[r0,#2]
000594  69cb              LDR      r3,[r1,#0x1c]  ; bps
000596  ea4f2523          ASR      r5,r3,#8
00059a  70c5              STRB     r5,[r0,#3]
00059c  7103              STRB     r3,[r0,#4]
00059e  6a4b              LDR      r3,[r1,#0x24]  ; bps
0005a0  ea4f2523          ASR      r5,r3,#8
0005a4  7145              STRB     r5,[r0,#5]
0005a6  7183              STRB     r3,[r0,#6]
0005a8  6a8b              LDR      r3,[r1,#0x28]  ; bps
0005aa  ea4f2523          ASR      r5,r3,#8
0005ae  71c5              STRB     r5,[r0,#7]
0005b0  7203              STRB     r3,[r0,#8]
0005b2  7242              STRB     r2,[r0,#9]
0005b4  794b              LDRB     r3,[r1,#5]  ; bps
0005b6  7283              STRB     r3,[r0,#0xa]
0005b8  6f0b              LDR      r3,[r1,#0x70]  ; bps
0005ba  ea4f2523          ASR      r5,r3,#8
0005be  72c5              STRB     r5,[r0,#0xb]
0005c0  7303              STRB     r3,[r0,#0xc]
0005c2  6f8b              LDR      r3,[r1,#0x78]  ; bps
0005c4  ea4f2523          ASR      r5,r3,#8
0005c8  7345              STRB     r5,[r0,#0xd]
0005ca  7383              STRB     r3,[r0,#0xe]
0005cc  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0005ce  ea4f2523          ASR      r5,r3,#8
0005d2  73c5              STRB     r5,[r0,#0xf]
0005d4  7403              STRB     r3,[r0,#0x10]
0005d6  7442              STRB     r2,[r0,#0x11]
0005d8  f8913059          LDRB     r3,[r1,#0x59]  ; bps
0005dc  7483              STRB     r3,[r0,#0x12]
0005de  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
0005e2  ea4f2523          ASR      r5,r3,#8
0005e6  74c5              STRB     r5,[r0,#0x13]
0005e8  7503              STRB     r3,[r0,#0x14]
0005ea  688b              LDR      r3,[r1,#8]  ; bps
0005ec  ea4f2523          ASR      r5,r3,#8
0005f0  7545              STRB     r5,[r0,#0x15]
0005f2  7583              STRB     r3,[r0,#0x16]
0005f4  68cb              LDR      r3,[r1,#0xc]  ; bps
0005f6  f1010138          ADD      r1,r1,#0x38
0005fa  ea4f2523          ASR      r5,r3,#8
0005fe  75c5              STRB     r5,[r0,#0x17]
000600  7603              STRB     r3,[r0,#0x18]
000602  7642              STRB     r2,[r0,#0x19]
000604  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000608  7683              STRB     r3,[r0,#0x1a]
00060a  69cb              LDR      r3,[r1,#0x1c]  ; bps
00060c  ea4f2523          ASR      r5,r3,#8
000610  76c5              STRB     r5,[r0,#0x1b]
000612  7703              STRB     r3,[r0,#0x1c]
000614  6a4b              LDR      r3,[r1,#0x24]  ; bps
000616  ea4f2523          ASR      r5,r3,#8
00061a  7745              STRB     r5,[r0,#0x1d]
00061c  7783              STRB     r3,[r0,#0x1e]
00061e  6a8b              LDR      r3,[r1,#0x28]  ; bps
000620  ea4f2523          ASR      r5,r3,#8
000624  77c5              STRB     r5,[r0,#0x1f]
000626  f8803020          STRB     r3,[r0,#0x20]
00062a  f8802021          STRB     r2,[r0,#0x21]
00062e  794b              LDRB     r3,[r1,#5]  ; bps
000630  f8803022          STRB     r3,[r0,#0x22]
000634  6f0b              LDR      r3,[r1,#0x70]  ; bps
000636  ea4f2523          ASR      r5,r3,#8
00063a  f8805023          STRB     r5,[r0,#0x23]
00063e  f8803024          STRB     r3,[r0,#0x24]
000642  6f8b              LDR      r3,[r1,#0x78]  ; bps
000644  ea4f2523          ASR      r5,r3,#8
000648  f8805025          STRB     r5,[r0,#0x25]
00064c  f8803026          STRB     r3,[r0,#0x26]
000650  6fcb              LDR      r3,[r1,#0x7c]  ; bps
000652  ea4f2523          ASR      r5,r3,#8
000656  f8805027          STRB     r5,[r0,#0x27]
00065a  f8803028          STRB     r3,[r0,#0x28]
00065e  f8802029          STRB     r2,[r0,#0x29]
000662  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000666  f880302a          STRB     r3,[r0,#0x2a]
00066a  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00066e  ea4f2523          ASR      r5,r3,#8
000672  f880502b          STRB     r5,[r0,#0x2b]
000676  f880302c          STRB     r3,[r0,#0x2c]
00067a  688b              LDR      r3,[r1,#8]  ; bps
00067c  ea4f2523          ASR      r5,r3,#8
000680  f880502d          STRB     r5,[r0,#0x2d]
000684  f880302e          STRB     r3,[r0,#0x2e]
000688  68cb              LDR      r3,[r1,#0xc]  ; bps
00068a  f1010138          ADD      r1,r1,#0x38
00068e  ea4f2523          ASR      r5,r3,#8
000692  f880502f          STRB     r5,[r0,#0x2f]
000696  f8803030          STRB     r3,[r0,#0x30]
00069a  f8802031          STRB     r2,[r0,#0x31]
00069e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
0006a2  f8803032          STRB     r3,[r0,#0x32]
0006a6  69cb              LDR      r3,[r1,#0x1c]  ; bps
0006a8  f1bc0f00          CMP      r12,#0
0006ac  ea4f2523          ASR      r5,r3,#8
0006b0  f8805033          STRB     r5,[r0,#0x33]
0006b4  f8803034          STRB     r3,[r0,#0x34]
0006b8  6a4b              LDR      r3,[r1,#0x24]  ; bps
0006ba  ea4f2523          ASR      r5,r3,#8
0006be  f8805035          STRB     r5,[r0,#0x35]
0006c2  f8803036          STRB     r3,[r0,#0x36]
0006c6  6a8b              LDR      r3,[r1,#0x28]  ; bps
0006c8  ea4f2523          ASR      r5,r3,#8
0006cc  f8805037          STRB     r5,[r0,#0x37]
0006d0  f8803038          STRB     r3,[r0,#0x38]
0006d4  f8802039          STRB     r2,[r0,#0x39]
0006d8  794b              LDRB     r3,[r1,#5]  ; bps
0006da  f880303a          STRB     r3,[r0,#0x3a]
0006de  6f0b              LDR      r3,[r1,#0x70]  ; bps
0006e0  ea4f2523          ASR      r5,r3,#8
0006e4  f880503b          STRB     r5,[r0,#0x3b]
0006e8  f880303c          STRB     r3,[r0,#0x3c]
0006ec  6f8b              LDR      r3,[r1,#0x78]  ; bps
0006ee  ea4f2523          ASR      r5,r3,#8
0006f2  f880503d          STRB     r5,[r0,#0x3d]
0006f6  f880303e          STRB     r3,[r0,#0x3e]
0006fa  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0006fc  ea4f2523          ASR      r5,r3,#8
000700  f880503f          STRB     r5,[r0,#0x3f]
000704  f8803040          STRB     r3,[r0,#0x40]
000708  f8802041          STRB     r2,[r0,#0x41]
00070c  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000710  f8803042          STRB     r3,[r0,#0x42]
000714  f8d130c4          LDR      r3,[r1,#0xc4]  ; bps
000718  ea4f2523          ASR      r5,r3,#8
00071c  f8805043          STRB     r5,[r0,#0x43]
000720  f8803044          STRB     r3,[r0,#0x44]
000724  f8d130cc          LDR      r3,[r1,#0xcc]  ; bps
000728  ea4f2523          ASR      r5,r3,#8
00072c  f8805045          STRB     r5,[r0,#0x45]
000730  f8803046          STRB     r3,[r0,#0x46]
000734  f8d130d0          LDR      r3,[r1,#0xd0]  ; bps
000738  ea4f2523          ASR      r5,r3,#8
00073c  f8805047          STRB     r5,[r0,#0x47]
000740  f8803048          STRB     r3,[r0,#0x48]
000744  f8802049          STRB     r2,[r0,#0x49]
000748  f89120ad          LDRB     r2,[r1,#0xad]  ; bps
00074c  f880204a          STRB     r2,[r0,#0x4a]
000750  f8d12118          LDR      r2,[r1,#0x118]  ; bps
000754  ea4f2322          ASR      r3,r2,#8
000758  f880304b          STRB     r3,[r0,#0x4b]
00075c  f8002f4c          STRB     r2,[r0,#0x4c]!
000760  f8d12120          LDR      r2,[r1,#0x120]  ; bps
000764  f6a10184          SUB      r1,r1,#0x884
000768  ea4f2322          ASR      r3,r2,#8
00076c  7043              STRB     r3,[r0,#1]
00076e  7082              STRB     r2,[r0,#2]
000770  f8d129a8          LDR      r2,[r1,#0x9a8]  ; bps
000774  ea4f2322          ASR      r3,r2,#8
000778  f8003f03          STRB     r3,[r0,#3]!
00077c  7042              STRB     r2,[r0,#1]
00077e  7086              STRB     r6,[r0,#2]
000780  f8911985          LDRB     r1,[r1,#0x985]  ; bps
000784  70c1              STRB     r1,[r0,#3]
000786  49fe              LDR      r1,|L1.2944|
000788  eb01014a          ADD      r1,r1,r10,LSL #1
00078c  d008              BEQ      |L1.1952|
00078e  f1bc0f01          CMP      r12,#1
000792  d102              BNE      |L1.1946|
000794  48fb              LDR      r0,|L1.2948|
000796  1e89              SUBS     r1,r1,#2
000798  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.1946|
00079a  b033              ADD      sp,sp,#0xcc
                  |L1.1948|
00079c  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.1952|
0007a0  f88db000          STRB     r11,[sp,#0]
0007a4  f88de001          STRB     lr,[sp,#1]
0007a8  0062              LSLS     r2,r4,#1
0007aa  466d              MOV      r5,sp
0007ac  f88d2002          STRB     r2,[sp,#2]
0007b0  1e89              SUBS     r1,r1,#2
0007b2  1ce8              ADDS     r0,r5,#3
0007b4  f7fffffe          BL       __aeabi_memcpy
0007b8  2003              MOVS     r0,#3
0007ba  eb000044          ADD      r0,r0,r4,LSL #1
0007be  b201              SXTH     r1,r0
0007c0  4668              MOV      r0,sp
0007c2  f7fffffe          BL       CRC16_2
0007c6  eb050144          ADD      r1,r5,r4,LSL #1
0007ca  2600              MOVS     r6,#0
0007cc  70c8              STRB     r0,[r1,#3]
0007ce  0a00              LSRS     r0,r0,#8
0007d0  7108              STRB     r0,[r1,#4]
0007d2  2005              MOVS     r0,#5
0007d4  eb000744          ADD      r7,r0,r4,LSL #1
0007d8  e004              B        |L1.2020|
                  |L1.2010|
0007da  5da8              LDRB     r0,[r5,r6]
0007dc  f7fffffe          BL       putchar0
0007e0  1c76              ADDS     r6,r6,#1
0007e2  b2f6              UXTB     r6,r6
                  |L1.2020|
0007e4  42b7              CMP      r7,r6
0007e6  d8f8              BHI      |L1.2010|
0007e8  2400              MOVS     r4,#0
0007ea  e004              B        |L1.2038|
                  |L1.2028|
0007ec  5d28              LDRB     r0,[r5,r4]
0007ee  f7fffffe          BL       putchar_sc16is700
0007f2  1c64              ADDS     r4,r4,#1
0007f4  b2e4              UXTB     r4,r4
                  |L1.2038|
0007f6  42a7              CMP      r7,r4
0007f8  d8f8              BHI      |L1.2028|
0007fa  e7ce              B        |L1.1946|
;;;1951   
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;2046   //-----------------------------------------------
;;;2047   void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short reg_quantity, char prot)
0007fc  e92d4fff          PUSH     {r0-r11,lr}
;;;2048   {
000800  b0b3              SUB      sp,sp,#0xcc
000802  4682              MOV      r10,r0
000804  4693              MOV      r11,r2
000806  461d              MOV      r5,r3
;;;2049   //char modbus_registers[110];
;;;2050   char modbus_tx_buff[200];
;;;2051   unsigned short crc_temp;
;;;2052   char i;
;;;2053   
;;;2054   //reg_adr=45;
;;;2055   //I_ug=reg_adr;
;;;2056   //U_up=5678;
;;;2057   
;;;2058   modbus_registers[0]=(char)(lc640_read_int(EE_I_UG)/256);//Πεγ50
000808  2020              MOVS     r0,#0x20
00080a  f8dd9100          LDR      r9,[sp,#0x100]
00080e  f7fffffe          BL       lc640_read_int
000812  17c1              ASRS     r1,r0,#31
000814  4cda              LDR      r4,|L1.2944|
000816  eb006011          ADD      r0,r0,r1,LSR #24
00081a  1200              ASRS     r0,r0,#8
00081c  7020              STRB     r0,[r4,#0]
;;;2059   modbus_registers[1]=(char)(lc640_read_int(EE_I_UG)%256);
00081e  2020              MOVS     r0,#0x20
000820  f7fffffe          BL       lc640_read_int
000824  7060              STRB     r0,[r4,#1]
;;;2060   modbus_registers[2]=(char)(lc640_read_int(EE_U_UP)/256);//Πεγ51
000826  2022              MOVS     r0,#0x22
000828  f7fffffe          BL       lc640_read_int
00082c  17c1              ASRS     r1,r0,#31
00082e  eb006011          ADD      r0,r0,r1,LSR #24
000832  1200              ASRS     r0,r0,#8
000834  70a0              STRB     r0,[r4,#2]
;;;2061   modbus_registers[3]=(char)(lc640_read_int(EE_U_UP)%256);
000836  2022              MOVS     r0,#0x22
000838  f7fffffe          BL       lc640_read_int
00083c  70e0              STRB     r0,[r4,#3]
;;;2062   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
00083e  48d2              LDR      r0,|L1.2952|
;;;2063   modbus_registers[5]=(char)(U_maxg%256);
;;;2064   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
;;;2065   modbus_registers[7]=(char)(I_maxp%256);
;;;2066   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
;;;2067   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;2068   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
;;;2069   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;2070   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
000840  f44f2861          MOV      r8,#0xe1000
;;;2071   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
000844  f44f6c61          MOV      r12,#0xe10
000848  f9b00000          LDRSH    r0,[r0,#0]            ;2062  ; U_maxg
00084c  17c1              ASRS     r1,r0,#31             ;2062
00084e  eb006111          ADD      r1,r0,r1,LSR #24      ;2062
000852  120a              ASRS     r2,r1,#8              ;2062
000854  7122              STRB     r2,[r4,#4]            ;2062
000856  7160              STRB     r0,[r4,#5]            ;2063
000858  48cc              LDR      r0,|L1.2956|
00085a  f9b00000          LDRSH    r0,[r0,#0]            ;2064  ; I_maxp
00085e  17c1              ASRS     r1,r0,#31             ;2064
000860  eb006111          ADD      r1,r0,r1,LSR #24      ;2064
000864  120a              ASRS     r2,r1,#8              ;2064
000866  71a2              STRB     r2,[r4,#6]            ;2064
000868  71e0              STRB     r0,[r4,#7]            ;2065
00086a  48c9              LDR      r0,|L1.2960|
00086c  213c              MOVS     r1,#0x3c              ;2066
00086e  6802              LDR      r2,[r0,#0]            ;2066  ; T_PROC_GS
000870  fb92f7f1          SDIV     r7,r2,r1              ;2066
000874  fb012017          MLS      r0,r1,r7,r2           ;2066
000878  17c3              ASRS     r3,r0,#31             ;2066
00087a  eb006313          ADD      r3,r0,r3,LSR #24      ;2066
00087e  121e              ASRS     r6,r3,#8              ;2066
000880  7226              STRB     r6,[r4,#8]            ;2066
000882  7260              STRB     r0,[r4,#9]            ;2067
000884  fb97f0f1          SDIV     r0,r7,r1              ;2068
000888  fb017010          MLS      r0,r1,r0,r7           ;2068
00088c  17c3              ASRS     r3,r0,#31             ;2068
00088e  eb006313          ADD      r3,r0,r3,LSR #24      ;2068
000892  121e              ASRS     r6,r3,#8              ;2068
000894  72a6              STRB     r6,[r4,#0xa]          ;2068
000896  72e0              STRB     r0,[r4,#0xb]          ;2069
000898  fb92f0f8          SDIV     r0,r2,r8              ;2070
00089c  7320              STRB     r0,[r4,#0xc]          ;2070
00089e  fb92f0fc          SDIV     r0,r2,r12
0008a2  7360              STRB     r0,[r4,#0xd]
;;;2072   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
0008a4  48bb              LDR      r0,|L1.2964|
0008a6  6802              LDR      r2,[r0,#0]  ; T_PROC_PS
0008a8  fb92f7f1          SDIV     r7,r2,r1
0008ac  fb012017          MLS      r0,r1,r7,r2
0008b0  17c3              ASRS     r3,r0,#31
0008b2  eb006313          ADD      r3,r0,r3,LSR #24
0008b6  121e              ASRS     r6,r3,#8
0008b8  73a6              STRB     r6,[r4,#0xe]
;;;2073   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0008ba  73e0              STRB     r0,[r4,#0xf]
;;;2074   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
0008bc  fb97f0f1          SDIV     r0,r7,r1
0008c0  fb017010          MLS      r0,r1,r0,r7
0008c4  17c1              ASRS     r1,r0,#31
0008c6  eb006111          ADD      r1,r0,r1,LSR #24
0008ca  120b              ASRS     r3,r1,#8
0008cc  7423              STRB     r3,[r4,#0x10]
;;;2075   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
0008ce  7460              STRB     r0,[r4,#0x11]
;;;2076   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
0008d0  fb92f0f8          SDIV     r0,r2,r8
0008d4  74a0              STRB     r0,[r4,#0x12]
;;;2077   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
0008d6  fb92f0fc          SDIV     r0,r2,r12
0008da  74e0              STRB     r0,[r4,#0x13]
;;;2078   modbus_registers[20]=0;								//Πεγ60
0008dc  2700              MOVS     r7,#0
;;;2079   modbus_registers[21]=0;
;;;2080   if(work_stat==wsPS)modbus_registers[21]=1;
0008de  48ae              LDR      r0,|L1.2968|
0008e0  7527              STRB     r7,[r4,#0x14]         ;2078
0008e2  7567              STRB     r7,[r4,#0x15]         ;2079
0008e4  7801              LDRB     r1,[r0,#0]  ; work_stat
0008e6  2001              MOVS     r0,#1
0008e8  2902              CMP      r1,#2
0008ea  d100              BNE      |L1.2286|
0008ec  7560              STRB     r0,[r4,#0x15]
                  |L1.2286|
;;;2081   modbus_registers[22]=0;								//Πεγ61
0008ee  75a7              STRB     r7,[r4,#0x16]
;;;2082   modbus_registers[23]=0;
0008f0  75e7              STRB     r7,[r4,#0x17]
;;;2083   if(work_stat==wsGS)modbus_registers[23]=1;
0008f2  2901              CMP      r1,#1
0008f4  d100              BNE      |L1.2296|
0008f6  75e0              STRB     r0,[r4,#0x17]
                  |L1.2296|
;;;2084   modbus_registers[24]=0;								//Πεγ62
;;;2085   modbus_registers[25]=0;
;;;2086   if(REV_STAT==rsREW)modbus_registers[25]=1;
0008f8  4aa8              LDR      r2,|L1.2972|
0008fa  7627              STRB     r7,[r4,#0x18]         ;2084
0008fc  7667              STRB     r7,[r4,#0x19]         ;2085
0008fe  7812              LDRB     r2,[r2,#0]  ; REV_STAT
000900  b902              CBNZ     r2,|L1.2308|
000902  7660              STRB     r0,[r4,#0x19]
                  |L1.2308|
;;;2087   modbus_registers[26]=0;								//Πεγ63
;;;2088   modbus_registers[27]=0;
;;;2089   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000904  4aa6              LDR      r2,|L1.2976|
000906  76a7              STRB     r7,[r4,#0x1a]         ;2087
000908  76e7              STRB     r7,[r4,#0x1b]         ;2088
00090a  8812              LDRH     r2,[r2,#0]  ; AVT_REV_IS_ON
00090c  b102              CBZ      r2,|L1.2320|
00090e  76e0              STRB     r0,[r4,#0x1b]
                  |L1.2320|
;;;2090   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
000910  4aa4              LDR      r2,|L1.2980|
000912  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_TIME_FF
000916  17d3              ASRS     r3,r2,#31
000918  eb026313          ADD      r3,r2,r3,LSR #24
00091c  121e              ASRS     r6,r3,#8
00091e  f8046f1c          STRB     r6,[r4,#0x1c]!
;;;2091   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
000922  7062              STRB     r2,[r4,#1]
;;;2092   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
000924  4aa0              LDR      r2,|L1.2984|
000926  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_TIME_REW
00092a  17d3              ASRS     r3,r2,#31
00092c  eb026313          ADD      r3,r2,r3,LSR #24
000930  121e              ASRS     r6,r3,#8
000932  70a6              STRB     r6,[r4,#2]
;;;2093   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
000934  70e2              STRB     r2,[r4,#3]
;;;2094   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
000936  4a9d              LDR      r2,|L1.2988|
000938  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_TIME_PAUSE
00093c  17d3              ASRS     r3,r2,#31
00093e  eb026313          ADD      r3,r2,r3,LSR #24
000942  121e              ASRS     r6,r3,#8
000944  7126              STRB     r6,[r4,#4]
;;;2095   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
000946  7162              STRB     r2,[r4,#5]
;;;2096   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
000948  4a99              LDR      r2,|L1.2992|
00094a  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_I_NOM_FF
00094e  17d3              ASRS     r3,r2,#31
000950  eb026313          ADD      r3,r2,r3,LSR #24
000954  121e              ASRS     r6,r3,#8
000956  71a6              STRB     r6,[r4,#6]
;;;2097   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
000958  71e2              STRB     r2,[r4,#7]
;;;2098   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
00095a  4a96              LDR      r2,|L1.2996|
00095c  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_I_NOM_REW
000960  17d3              ASRS     r3,r2,#31
000962  eb026313          ADD      r3,r2,r3,LSR #24
000966  121e              ASRS     r6,r3,#8
000968  7226              STRB     r6,[r4,#8]
;;;2099   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
00096a  7262              STRB     r2,[r4,#9]
;;;2100   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
00096c  4a92              LDR      r2,|L1.3000|
00096e  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_U_NOM_FF
000972  17d3              ASRS     r3,r2,#31
000974  eb026313          ADD      r3,r2,r3,LSR #24
000978  121e              ASRS     r6,r3,#8
00097a  72a6              STRB     r6,[r4,#0xa]
;;;2101   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
00097c  72e2              STRB     r2,[r4,#0xb]
;;;2102   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
00097e  4a8f              LDR      r2,|L1.3004|
000980  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_U_NOM_REW
000984  17d3              ASRS     r3,r2,#31
000986  eb026313          ADD      r3,r2,r3,LSR #24
00098a  121e              ASRS     r6,r3,#8
00098c  7326              STRB     r6,[r4,#0xc]
;;;2103   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
00098e  7362              STRB     r2,[r4,#0xd]
;;;2104   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
000990  4a8b              LDR      r2,|L1.3008|
000992  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_ZAR_TIME
000996  17d3              ASRS     r3,r2,#31
000998  eb026313          ADD      r3,r2,r3,LSR #24
00099c  121e              ASRS     r6,r3,#8
00099e  73a6              STRB     r6,[r4,#0xe]
;;;2105   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
0009a0  73e2              STRB     r2,[r4,#0xf]
;;;2106   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
0009a2  4a88              LDR      r2,|L1.3012|
0009a4  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_PAUSE1_TIME
0009a8  17d3              ASRS     r3,r2,#31
0009aa  eb026313          ADD      r3,r2,r3,LSR #24
0009ae  121e              ASRS     r6,r3,#8
0009b0  7426              STRB     r6,[r4,#0x10]
;;;2107   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
0009b2  7462              STRB     r2,[r4,#0x11]
;;;2108   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
0009b4  4a84              LDR      r2,|L1.3016|
0009b6  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_RAZR_TIME
0009ba  17d3              ASRS     r3,r2,#31
0009bc  eb026313          ADD      r3,r2,r3,LSR #24
0009c0  121e              ASRS     r6,r3,#8
0009c2  74a6              STRB     r6,[r4,#0x12]
;;;2109   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
0009c4  74e2              STRB     r2,[r4,#0x13]
;;;2110   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
0009c6  4a81              LDR      r2,|L1.3020|
0009c8  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_PAUSE2_TIME
0009cc  17d3              ASRS     r3,r2,#31
0009ce  eb026313          ADD      r3,r2,r3,LSR #24
0009d2  121e              ASRS     r6,r3,#8
0009d4  7526              STRB     r6,[r4,#0x14]
;;;2111   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
0009d6  7562              STRB     r2,[r4,#0x15]
;;;2112   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
0009d8  4a7d              LDR      r2,|L1.3024|
0009da  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_MAX_VOLT
0009de  17d3              ASRS     r3,r2,#31
0009e0  eb026313          ADD      r3,r2,r3,LSR #24
0009e4  121e              ASRS     r6,r3,#8
0009e6  75a6              STRB     r6,[r4,#0x16]
;;;2113   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
0009e8  75e2              STRB     r2,[r4,#0x17]
;;;2114   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
0009ea  4a7a              LDR      r2,|L1.3028|
0009ec  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_WRK_CURR
0009f0  17d3              ASRS     r3,r2,#31
0009f2  eb026313          ADD      r3,r2,r3,LSR #24
0009f6  121e              ASRS     r6,r3,#8
0009f8  7626              STRB     r6,[r4,#0x18]
;;;2115   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
0009fa  7662              STRB     r2,[r4,#0x19]
;;;2116   
;;;2117   modbus_registers[60]=(char)((pwm_u_reg)/256);			//Πεγ80
0009fc  4a76              LDR      r2,|L1.3032|
0009fe  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_u_reg
000a02  17d3              ASRS     r3,r2,#31
000a04  eb026313          ADD      r3,r2,r3,LSR #24
000a08  121e              ASRS     r6,r3,#8
000a0a  f8846020          STRB     r6,[r4,#0x20]
;;;2118   modbus_registers[61]=(char)((pwm_u_reg)%256);
000a0e  f8842021          STRB     r2,[r4,#0x21]
;;;2119   modbus_registers[62]=(char)((pwm_i_reg)/256);			//Πεγ81
000a12  4a72              LDR      r2,|L1.3036|
000a14  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_i_reg
000a18  17d3              ASRS     r3,r2,#31
000a1a  eb026313          ADD      r3,r2,r3,LSR #24
000a1e  121e              ASRS     r6,r3,#8
000a20  f8846022          STRB     r6,[r4,#0x22]
;;;2120   modbus_registers[63]=(char)((pwm_i_reg)%256);
000a24  f8842023          STRB     r2,[r4,#0x23]
;;;2121   modbus_registers[64]=(char)((pwm_t_reg/10)/256);			//Πεγ82
000a28  4a6d              LDR      r2,|L1.3040|
000a2a  f44f6320          MOV      r3,#0xa00
000a2e  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_t_reg
000a32  fb92f3f3          SDIV     r3,r2,r3
000a36  f8843024          STRB     r3,[r4,#0x24]
;;;2122   modbus_registers[65]=(char)((pwm_t_reg/10)%256);
000a3a  230a              MOVS     r3,#0xa
000a3c  fb92f2f3          SDIV     r2,r2,r3
000a40  f8842025          STRB     r2,[r4,#0x25]
;;;2123   
;;;2124   modbus_registers[80]=(char)((I_ug_ram)/256);			//Πεγ90
000a44  4a67              LDR      r2,|L1.3044|
000a46  f9b22000          LDRSH    r2,[r2,#0]  ; I_ug_ram
000a4a  17d3              ASRS     r3,r2,#31
000a4c  eb026313          ADD      r3,r2,r3,LSR #24
000a50  121e              ASRS     r6,r3,#8
000a52  f8846034          STRB     r6,[r4,#0x34]
;;;2125   modbus_registers[81]=(char)((I_ug_ram)%256);
000a56  f8042f35          STRB     r2,[r4,#0x35]!
;;;2126   modbus_registers[82]=(char)((U_up_ram)/256);			//Πεγ91
000a5a  4a63              LDR      r2,|L1.3048|
000a5c  f9b22000          LDRSH    r2,[r2,#0]  ; U_up_ram
000a60  17d3              ASRS     r3,r2,#31
000a62  eb026313          ADD      r3,r2,r3,LSR #24
000a66  121e              ASRS     r6,r3,#8
000a68  7066              STRB     r6,[r4,#1]
;;;2127   modbus_registers[83]=(char)((U_up_ram)%256);
000a6a  70a2              STRB     r2,[r4,#2]
;;;2128   modbus_registers[84]=0;									//Πεγ92
000a6c  70e7              STRB     r7,[r4,#3]
;;;2129   modbus_registers[85]=0;
000a6e  7127              STRB     r7,[r4,#4]
000a70  f1a40451          SUB      r4,r4,#0x51
;;;2130   if(work_stat==wsPS)modbus_registers[85]=1;
000a74  2902              CMP      r1,#2
000a76  d101              BNE      |L1.2684|
000a78  f8840055          STRB     r0,[r4,#0x55]
                  |L1.2684|
;;;2131   modbus_registers[86]=0;									//Πεγ93
000a7c  f8847056          STRB     r7,[r4,#0x56]
;;;2132   modbus_registers[87]=0;
000a80  f8847057          STRB     r7,[r4,#0x57]
;;;2133   if(work_stat==wsGS)modbus_registers[87]=1;
000a84  2901              CMP      r1,#1
000a86  d101              BNE      |L1.2700|
000a88  f8840057          STRB     r0,[r4,#0x57]
                  |L1.2700|
000a8c  4a3c              LDR      r2,|L1.2944|
;;;2134   
;;;2135   if(prot==MODBUS_RTU_PROT)
;;;2136   	{
;;;2137   	modbus_tx_buff[0]=adr;
;;;2138   	modbus_tx_buff[1]=func;
;;;2139   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;2140   	
;;;2141   	memcpy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-50)*2],reg_quantity*2);
000a8e  eb02014b          ADD      r1,r2,r11,LSL #1
000a92  3964              SUBS     r1,r1,#0x64
000a94  f1b90f00          CMP      r9,#0                 ;2135
000a98  d006              BEQ      |L1.2728|
;;;2142   							   
;;;2143   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;2144   	
;;;2145   	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;2146   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;2147   	
;;;2148   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;2149   		{
;;;2150   		putchar0(modbus_tx_buff[i]);
;;;2151   		}
;;;2152   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;2153   		{
;;;2154   		putchar_sc16is700(modbus_tx_buff[i]);
;;;2155   		}
;;;2156   	}
;;;2157   else if(prot==MODBUS_TCP_PROT)
000a9a  f1b90f01          CMP      r9,#1
000a9e  d101              BNE      |L1.2724|
;;;2158   	{
;;;2159   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
000aa0  4838              LDR      r0,|L1.2948|
000aa2  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.2724|
;;;2160   	}
;;;2161   // modbus_tcp_out_ptr=(char*)(&modbus_registers[0]);
;;;2162   //modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
;;;2163   }
000aa4  b037              ADD      sp,sp,#0xdc
000aa6  e679              B        |L1.1948|
                  |L1.2728|
000aa8  f88da000          STRB     r10,[sp,#0]           ;2137
000aac  9834              LDR      r0,[sp,#0xd0]         ;2138
000aae  f88d0001          STRB     r0,[sp,#1]            ;2138
000ab2  006a              LSLS     r2,r5,#1              ;2139
000ab4  466c              MOV      r4,sp                 ;2141
000ab6  f88d2002          STRB     r2,[sp,#2]            ;2139
000aba  1ce0              ADDS     r0,r4,#3              ;2141
000abc  f7fffffe          BL       __aeabi_memcpy
000ac0  2003              MOVS     r0,#3                 ;2143
000ac2  eb000045          ADD      r0,r0,r5,LSL #1       ;2143
000ac6  b201              SXTH     r1,r0                 ;2143
000ac8  4668              MOV      r0,sp                 ;2143
000aca  f7fffffe          BL       CRC16_2
000ace  eb040145          ADD      r1,r4,r5,LSL #1       ;2145
000ad2  2600              MOVS     r6,#0                 ;2148
000ad4  70c8              STRB     r0,[r1,#3]            ;2145
000ad6  0a00              LSRS     r0,r0,#8              ;2146
000ad8  7108              STRB     r0,[r1,#4]            ;2146
000ada  2005              MOVS     r0,#5                 ;2148
000adc  eb000745          ADD      r7,r0,r5,LSL #1       ;2148
000ae0  e004              B        |L1.2796|
                  |L1.2786|
000ae2  5da0              LDRB     r0,[r4,r6]            ;2150
000ae4  f7fffffe          BL       putchar0
000ae8  1c76              ADDS     r6,r6,#1              ;2148
000aea  b2f6              UXTB     r6,r6                 ;2148
                  |L1.2796|
000aec  42b7              CMP      r7,r6                 ;2148
000aee  d8f8              BHI      |L1.2786|
000af0  2500              MOVS     r5,#0                 ;2152
000af2  e004              B        |L1.2814|
                  |L1.2804|
000af4  5d60              LDRB     r0,[r4,r5]            ;2154
000af6  f7fffffe          BL       putchar_sc16is700
000afa  1c6d              ADDS     r5,r5,#1              ;2152
000afc  b2ed              UXTB     r5,r5                 ;2152
                  |L1.2814|
000afe  42af              CMP      r7,r5                 ;2152
000b00  d8f8              BHI      |L1.2804|
000b02  e7cf              B        |L1.2724|
;;;2164   
                          ENDP

                  modbus_for_pult_registers_transmit PROC
;;;1726   //-----------------------------------------------
;;;1727   void modbus_for_pult_registers_transmit(unsigned short reg_quantity)
000b04  b570              PUSH     {r4-r6,lr}
;;;1728   {
000b06  4606              MOV      r6,r0
;;;1729   char modbus_registers[20];
;;;1730   char modbus_tx_buff[30];
;;;1731   unsigned short crc_temp;
;;;1732   char i;
;;;1733   //char reg_quantity=4;
;;;1734   
;;;1735   //pult_time_set=0xffff;
;;;1736   
;;;1737   modbus_registers[0]=(char)(pult_u%256);
000b08  4838              LDR      r0,|L1.3052|
000b0a  b090              SUB      sp,sp,#0x40           ;1728
000b0c  f9b00000          LDRSH    r0,[r0,#0]  ; pult_u
000b10  f88d0024          STRB     r0,[sp,#0x24]
000b14  17c1              ASRS     r1,r0,#31
000b16  eb006111          ADD      r1,r0,r1,LSR #24
;;;1738   modbus_registers[1]=(char)(pult_u/256);					//Πεγ1
000b1a  1208              ASRS     r0,r1,#8
000b1c  f88d0025          STRB     r0,[sp,#0x25]
;;;1739   modbus_registers[2]=(char)(pult_i%256);
000b20  4833              LDR      r0,|L1.3056|
000b22  f9b00000          LDRSH    r0,[r0,#0]  ; pult_i
000b26  f88d0026          STRB     r0,[sp,#0x26]
000b2a  17c1              ASRS     r1,r0,#31
000b2c  eb006111          ADD      r1,r0,r1,LSR #24
;;;1740   modbus_registers[3]=(char)(pult_i/256);					//Πεγ2
000b30  1208              ASRS     r0,r1,#8
000b32  f88d0027          STRB     r0,[sp,#0x27]
;;;1741   modbus_registers[4]=(char)(pult_work_stat%256);
000b36  482f              LDR      r0,|L1.3060|
000b38  7800              LDRB     r0,[r0,#0]  ; pult_work_stat
000b3a  f88d0028          STRB     r0,[sp,#0x28]
;;;1742   modbus_registers[5]=(char)(pult_work_stat/256);			//Πεγ3
000b3e  2000              MOVS     r0,#0
000b40  f88d0029          STRB     r0,[sp,#0x29]
;;;1743   modbus_registers[6]=(char)(pult_u_set%256);
000b44  482c              LDR      r0,|L1.3064|
000b46  f9b00000          LDRSH    r0,[r0,#0]  ; pult_u_set
000b4a  f88d002a          STRB     r0,[sp,#0x2a]
000b4e  17c1              ASRS     r1,r0,#31
000b50  eb006111          ADD      r1,r0,r1,LSR #24
;;;1744   modbus_registers[7]=(char)(pult_u_set/256);				//Πεγ4
000b54  1208              ASRS     r0,r1,#8
000b56  f88d002b          STRB     r0,[sp,#0x2b]
;;;1745   modbus_registers[8]=(char)(pult_time%256);
000b5a  4828              LDR      r0,|L1.3068|
000b5c  f9b00000          LDRSH    r0,[r0,#0]  ; pult_time
000b60  f88d002c          STRB     r0,[sp,#0x2c]
000b64  17c1              ASRS     r1,r0,#31
000b66  eb006111          ADD      r1,r0,r1,LSR #24
;;;1746   modbus_registers[9]=(char)(pult_time/256);				//Πεγ5
000b6a  1208              ASRS     r0,r1,#8
000b6c  f88d002d          STRB     r0,[sp,#0x2d]
;;;1747   modbus_registers[10]=(char)(pult_time_set%256);		 	
000b70  4823              LDR      r0,|L1.3072|
000b72  8800              LDRH     r0,[r0,#0]  ; pult_time_set
000b74  f88d002e          STRB     r0,[sp,#0x2e]
;;;1748   modbus_registers[11]=(char)(pult_time_set/256);			//Πεγ6
000b78  0a00              LSRS     r0,r0,#8
000b7a  f88d002f          STRB     r0,[sp,#0x2f]
;;;1749   modbus_registers[12]=(char)(pult_i_set%256);
000b7e  e041              B        |L1.3076|
                  |L1.2944|
                          DCD      ||area_number.5||+0x3c
                  |L1.2948|
                          DCD      modbus_tcp_out_ptr
                  |L1.2952|
                          DCD      U_maxg
                  |L1.2956|
                          DCD      I_maxp
                  |L1.2960|
                          DCD      T_PROC_GS
                  |L1.2964|
                          DCD      T_PROC_PS
                  |L1.2968|
                          DCD      work_stat
                  |L1.2972|
                          DCD      REV_STAT
                  |L1.2976|
                          DCD      AVT_REV_IS_ON
                  |L1.2980|
                          DCD      AVT_REV_TIME_FF
                  |L1.2984|
                          DCD      AVT_REV_TIME_REW
                  |L1.2988|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2992|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2996|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.3000|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.3004|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.3008|
                          DCD      CAP_ZAR_TIME
                  |L1.3012|
                          DCD      CAP_PAUSE1_TIME
                  |L1.3016|
                          DCD      CAP_RAZR_TIME
                  |L1.3020|
                          DCD      CAP_PAUSE2_TIME
                  |L1.3024|
                          DCD      CAP_MAX_VOLT
                  |L1.3028|
                          DCD      CAP_WRK_CURR
                  |L1.3032|
                          DCD      pwm_u_reg
                  |L1.3036|
                          DCD      pwm_i_reg
                  |L1.3040|
                          DCD      pwm_t_reg
                  |L1.3044|
                          DCD      I_ug_ram
                  |L1.3048|
                          DCD      U_up_ram
                  |L1.3052|
                          DCD      pult_u
                  |L1.3056|
                          DCD      pult_i
                  |L1.3060|
                          DCD      pult_work_stat
                  |L1.3064|
                          DCD      pult_u_set
                  |L1.3068|
                          DCD      pult_time
                  |L1.3072|
                          DCD      pult_time_set
                  |L1.3076|
000c04  48ff              LDR      r0,|L1.4100|
;;;1750   modbus_registers[13]=(char)(pult_i_set/256);				//Πεγ7
;;;1751   
;;;1752   
;;;1753   modbus_tx_buff[0]=201;
;;;1754   modbus_tx_buff[1]=4;
;;;1755   modbus_tx_buff[2]=(char)(reg_quantity*2);
000c06  0072              LSLS     r2,r6,#1
;;;1756   
;;;1757   memcpy((char*)&modbus_tx_buff[3],(char*)modbus_registers,reg_quantity*2);
000c08  466c              MOV      r4,sp
000c0a  f9b00000          LDRSH    r0,[r0,#0]            ;1749  ; pult_i_set
000c0e  f88d0030          STRB     r0,[sp,#0x30]         ;1749
000c12  17c1              ASRS     r1,r0,#31             ;1749
000c14  eb006111          ADD      r1,r0,r1,LSR #24      ;1749
000c18  1208              ASRS     r0,r1,#8              ;1750
000c1a  f88d0031          STRB     r0,[sp,#0x31]         ;1750
000c1e  20c9              MOVS     r0,#0xc9              ;1753
000c20  f88d0000          STRB     r0,[sp,#0]            ;1753
000c24  2004              MOVS     r0,#4                 ;1754
000c26  f88d0001          STRB     r0,[sp,#1]            ;1754
000c2a  f88d2002          STRB     r2,[sp,#2]            ;1755
000c2e  a909              ADD      r1,sp,#0x24
000c30  1ce0              ADDS     r0,r4,#3
000c32  f7fffffe          BL       __aeabi_memcpy
;;;1758   
;;;1759   crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
000c36  2003              MOVS     r0,#3
000c38  eb000046          ADD      r0,r0,r6,LSL #1
000c3c  b201              SXTH     r1,r0
000c3e  4668              MOV      r0,sp
000c40  f7fffffe          BL       CRC16_2
;;;1760   
;;;1761   modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
000c44  eb040146          ADD      r1,r4,r6,LSL #1
;;;1762   modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1763   
;;;1764   for (i=0;i<(5+(reg_quantity*2));i++)
000c48  2500              MOVS     r5,#0
000c4a  70c8              STRB     r0,[r1,#3]            ;1761
000c4c  0a00              LSRS     r0,r0,#8              ;1762
000c4e  7108              STRB     r0,[r1,#4]            ;1762
000c50  2005              MOVS     r0,#5
000c52  eb000646          ADD      r6,r0,r6,LSL #1
000c56  e004              B        |L1.3170|
                  |L1.3160|
;;;1765   	{
;;;1766   	putchar0(modbus_tx_buff[i]);
000c58  5d60              LDRB     r0,[r4,r5]
000c5a  f7fffffe          BL       putchar0
000c5e  1c6d              ADDS     r5,r5,#1              ;1764
000c60  b2ed              UXTB     r5,r5                 ;1764
                  |L1.3170|
000c62  42ae              CMP      r6,r5                 ;1764
000c64  d8f8              BHI      |L1.3160|
;;;1767   	}
;;;1768   for (i=0;i<(5+(reg_quantity*2));i++)
000c66  2500              MOVS     r5,#0
000c68  e004              B        |L1.3188|
                  |L1.3178|
;;;1769   	{
;;;1770   	putchar_sc16is700(modbus_tx_buff[i]);
000c6a  5d60              LDRB     r0,[r4,r5]
000c6c  f7fffffe          BL       putchar_sc16is700
000c70  1c6d              ADDS     r5,r5,#1              ;1768
000c72  b2ed              UXTB     r5,r5                 ;1768
                  |L1.3188|
000c74  42ae              CMP      r6,r5                 ;1768
000c76  d8f8              BHI      |L1.3178|
;;;1771   	}
;;;1772   //modbus_plazma1++;
;;;1773   }
000c78  b010              ADD      sp,sp,#0x40
000c7a  bd70              POP      {r4-r6,pc}
;;;1774   
                          ENDP

                  modbus_in PROC
;;;63     //-----------------------------------------------
;;;64     void modbus_in(void)
000c7c  e92d4ff0          PUSH     {r4-r11,lr}
;;;65     {
;;;66     short crc16_calculated;		//βϋχθρλεμΰ θη οπθνςϋυ δΰννϋυ CRC
;;;67     short crc16_incapsulated;	//βρςπξενννΰ β οξρϋλκσ CRC
;;;68     unsigned short modbus_rx_arg0;		//βρςπξεννϋι β οξρϋλκσ οεπβϋι ΰπγσμενς
;;;69     unsigned short modbus_rx_arg1;		//βρςπξεννϋι β οξρϋλκσ βςξπξι ΰπγσμενς
;;;70     //unsigned short modbus_rx_arg2;		//βρςπξεννϋι β οξρϋλκσ ςπεςθι ΰπγσμενς
;;;71     //unsigned short modbus_rx_arg3;		//βρςπξεννϋι β οξρϋλκσ χεςβεπςϋι ΰπγσμενς
;;;72     unsigned char modbus_func;			//βρςπξεννϋι β οξρϋλκσ κξδ τσνκφθθ
;;;73     
;;;74     //modbus_plazma++;
;;;75     
;;;76     memcpy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000c80  4ce1              LDR      r4,|L1.4104|
000c82  49e2              LDR      r1,|L1.4108|
000c84  b08b              SUB      sp,sp,#0x2c           ;65
000c86  78a2              LDRB     r2,[r4,#2]  ; modbus_rx_buffer_ptr
000c88  f101001e          ADD      r0,r1,#0x1e
000c8c  4615              MOV      r5,r2
000c8e  f7fffffe          BL       __aeabi_memcpy
;;;77     modbus_rx_counter=modbus_rx_buffer_ptr;
000c92  70e5              STRB     r5,[r4,#3]
;;;78     modbus_rx_buffer_ptr=0;
000c94  2600              MOVS     r6,#0
;;;79     bMODBUS_TIMEOUT=0;
;;;80     
;;;81     	
;;;82     crc16_calculated  = CRC16_2((char*)modbus_an_buffer, modbus_rx_counter-2);
000c96  48dd              LDR      r0,|L1.4108|
000c98  70a6              STRB     r6,[r4,#2]            ;78
000c9a  7066              STRB     r6,[r4,#1]            ;79
000c9c  1ea9              SUBS     r1,r5,#2
000c9e  301e              ADDS     r0,r0,#0x1e
000ca0  f7fffffe          BL       CRC16_2
000ca4  b200              SXTH     r0,r0
000ca6  4681              MOV      r9,r0
;;;83     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000ca8  4dd8              LDR      r5,|L1.4108|
000caa  78e0              LDRB     r0,[r4,#3]  ; modbus_rx_counter
000cac  351e              ADDS     r5,r5,#0x1e
000cae  4428              ADD      r0,r0,r5
;;;84     
;;;85     //modbus_plazma=modbus_rx_counter;
;;;86     //modbus_plazma2=crc16_calculated;
;;;87     //modbus_plazma3=crc16_incapsulated;
;;;88     
;;;89     pvlk=0;
000cb0  f8df835c          LDR      r8,|L1.4112|
000cb4  f9300c02          LDRSH    r0,[r0,#-2]           ;83
;;;90     
;;;91     
;;;92     if(modbus_an_buffer[0]=='r')
;;;93     	{
;;;94     	pvlk=1;
;;;95     	if(modbus_an_buffer[1]=='e')
;;;96     		{
;;;97     		pvlk=2;
;;;98     		if(modbus_an_buffer[2]=='a')
;;;99     			{
;;;100    			pvlk=3;
;;;101    			if(modbus_an_buffer[3]=='d')
;;;102    				{
;;;103    				pvlk=4;
;;;104    				/*if(modbus_an_buffer[6]==crc_87(modbus_an_buffer,6))
;;;105    					{
;;;106    					pvlk=5;
;;;107    					if(modbus_an_buffer[7]==crc_95(modbus_an_buffer,6))
;;;108    						{
;;;109    						pvlk=6;*/	
;;;110    
;;;111    							{
;;;112    							unsigned short ptr;
;;;113    							unsigned long data1,data2;
;;;114    							char temp_out[20];
;;;115    							pvlk++;
;;;116    							ptr=modbus_an_buffer[4]+(modbus_an_buffer[5]*256U);
;;;117    							data1=lc640_read_long(ptr);
;;;118    							data2=lc640_read_long(ptr+4);
;;;119    							temp_out[0]='r';
;;;120    							temp_out[1]='e';
;;;121    							temp_out[2]='a';
;;;122    							temp_out[3]='d';
;;;123    							temp_out[4]=*((char*)&ptr);
;;;124    							temp_out[5]=*(((char*)&ptr)+1);	
;;;125    							temp_out[6]=*((char*)&data1);
;;;126    							temp_out[7]=*(((char*)&data1)+1);		
;;;127    							temp_out[8]=*(((char*)&data1)+2);	
;;;128    							temp_out[9]=*(((char*)&data1)+3);		
;;;129    							temp_out[10]=*((char*)&data2);
;;;130    							temp_out[11]=*(((char*)&data2)+1);		
;;;131    							temp_out[12]=*(((char*)&data2)+2);	
;;;132    							temp_out[13]=*(((char*)&data2)+3);	
;;;133    							temp_out[14]=crc_87(temp_out,14);	
;;;134    							temp_out[15]=crc_95(temp_out,14);			
;;;135    							
;;;136    							temp_out[17]=0;
;;;137    							for (i=0;i<16;i++)
000cb8  4cd6              LDR      r4,|L1.4116|
000cba  4682              MOV      r10,r0                ;83
000cbc  f8a86000          STRH     r6,[r8,#0]            ;89
000cc0  7828              LDRB     r0,[r5,#0]            ;92  ; modbus_an_buffer
000cc2  f04f0b05          MOV      r11,#5                ;115
000cc6  2872              CMP      r0,#0x72              ;92
000cc8  d17d              BNE      |L1.3526|
000cca  2101              MOVS     r1,#1                 ;94
000ccc  f8a81000          STRH     r1,[r8,#0]            ;94
000cd0  7869              LDRB     r1,[r5,#1]            ;95  ; modbus_an_buffer
000cd2  4640              MOV      r0,r8                 ;94
000cd4  2965              CMP      r1,#0x65              ;95
                  |L1.3286|
000cd6  d177              BNE      |L1.3528|
000cd8  2102              MOVS     r1,#2                 ;97
000cda  8001              STRH     r1,[r0,#0]            ;97
000cdc  78a9              LDRB     r1,[r5,#2]            ;98  ; modbus_an_buffer
000cde  2961              CMP      r1,#0x61              ;98
000ce0  d1f9              BNE      |L1.3286|
000ce2  2103              MOVS     r1,#3                 ;100
000ce4  8001              STRH     r1,[r0,#0]            ;100
000ce6  78e9              LDRB     r1,[r5,#3]            ;101  ; modbus_an_buffer
000ce8  2964              CMP      r1,#0x64              ;101
000cea  d1f4              BNE      |L1.3286|
000cec  f8a8b000          STRH     r11,[r8,#0]           ;115
000cf0  7928              LDRB     r0,[r5,#4]            ;116  ; modbus_an_buffer
000cf2  7969              LDRB     r1,[r5,#5]            ;116  ; modbus_an_buffer
000cf4  eb002001          ADD      r0,r0,r1,LSL #8       ;116
000cf8  b280              UXTH     r0,r0                 ;116
000cfa  f8ad0014          STRH     r0,[sp,#0x14]         ;116
000cfe  4607              MOV      r7,r0                 ;116
000d00  f7fffffe          BL       lc640_read_long
000d04  9009              STR      r0,[sp,#0x24]         ;118
000d06  1d38              ADDS     r0,r7,#4              ;118
000d08  f7fffffe          BL       lc640_read_long
000d0c  9008              STR      r0,[sp,#0x20]         ;119
000d0e  2072              MOVS     r0,#0x72              ;119
000d10  f88d0000          STRB     r0,[sp,#0]            ;119
000d14  2065              MOVS     r0,#0x65              ;120
000d16  f88d0001          STRB     r0,[sp,#1]            ;120
000d1a  2061              MOVS     r0,#0x61              ;121
000d1c  f88d0002          STRB     r0,[sp,#2]            ;121
000d20  2064              MOVS     r0,#0x64              ;122
000d22  f88d0003          STRB     r0,[sp,#3]            ;122
000d26  f89d0014          LDRB     r0,[sp,#0x14]         ;123
000d2a  f88d0004          STRB     r0,[sp,#4]            ;123
000d2e  f89d0015          LDRB     r0,[sp,#0x15]         ;124
000d32  f88d0005          STRB     r0,[sp,#5]            ;124
000d36  f89d0024          LDRB     r0,[sp,#0x24]         ;125
000d3a  f88d0006          STRB     r0,[sp,#6]            ;125
000d3e  f89d0025          LDRB     r0,[sp,#0x25]         ;126
000d42  f88d0007          STRB     r0,[sp,#7]            ;126
000d46  f89d0026          LDRB     r0,[sp,#0x26]         ;127
000d4a  f88d0008          STRB     r0,[sp,#8]            ;127
000d4e  f89d0027          LDRB     r0,[sp,#0x27]         ;128
000d52  f88d0009          STRB     r0,[sp,#9]            ;128
000d56  f89d0020          LDRB     r0,[sp,#0x20]         ;129
000d5a  f88d000a          STRB     r0,[sp,#0xa]          ;129
000d5e  f89d0021          LDRB     r0,[sp,#0x21]         ;130
000d62  f88d000b          STRB     r0,[sp,#0xb]          ;130
000d66  f89d0022          LDRB     r0,[sp,#0x22]         ;131
000d6a  f88d000c          STRB     r0,[sp,#0xc]          ;131
000d6e  f89d0023          LDRB     r0,[sp,#0x23]         ;132
000d72  f88d000d          STRB     r0,[sp,#0xd]          ;132
000d76  210e              MOVS     r1,#0xe               ;133
000d78  4668              MOV      r0,sp                 ;133
000d7a  f7fffffe          BL       crc_87
000d7e  f88d000e          STRB     r0,[sp,#0xe]          ;133
000d82  210e              MOVS     r1,#0xe               ;134
000d84  4668              MOV      r0,sp                 ;134
000d86  f7fffffe          BL       crc_95
000d8a  f88d000f          STRB     r0,[sp,#0xf]          ;134
000d8e  f88d6011          STRB     r6,[sp,#0x11]         ;136
000d92  7026              STRB     r6,[r4,#0]
000d94  466f              MOV      r7,sp                 ;114
                  |L1.3478|
;;;138    								{
;;;139    								putchar_sc16is700(temp_out[i]);
000d96  7820              LDRB     r0,[r4,#0]  ; i
000d98  5c38              LDRB     r0,[r7,r0]
000d9a  f7fffffe          BL       putchar_sc16is700
;;;140    								temp_out[17]^=temp_out[i];
000d9e  7820              LDRB     r0,[r4,#0]  ; i
000da0  f89d1011          LDRB     r1,[sp,#0x11]
000da4  5c3a              LDRB     r2,[r7,r0]
000da6  1c40              ADDS     r0,r0,#1              ;137
000da8  4051              EORS     r1,r1,r2
000daa  b2c0              UXTB     r0,r0                 ;137
000dac  f88d1011          STRB     r1,[sp,#0x11]
000db0  7020              STRB     r0,[r4,#0]            ;137
000db2  2810              CMP      r0,#0x10              ;137
000db4  d3ef              BCC      |L1.3478|
;;;141    								}
;;;142    							putchar_sc16is700(16);
000db6  2010              MOVS     r0,#0x10
000db8  f7fffffe          BL       putchar_sc16is700
;;;143    							putchar_sc16is700(temp_out[17]^16);
000dbc  f89d0011          LDRB     r0,[sp,#0x11]
000dc0  f0800010          EOR      r0,r0,#0x10
000dc4  e001              B        |L1.3530|
                  |L1.3526|
000dc6  e005              B        |L1.3540|
                  |L1.3528|
000dc8  e086              B        |L1.3800|
                  |L1.3530|
000dca  f7fffffe          BL       putchar_sc16is700
;;;144    							putchar_sc16is700(0x0a);
000dce  200a              MOVS     r0,#0xa
000dd0  f7fffffe          BL       putchar_sc16is700
                  |L1.3540|
;;;145    							}
;;;146    						}
;;;147    					}
;;;148    				}/*
;;;149    			} 
;;;150    		}*/	 
;;;151    	} 
;;;152    
;;;153    if(modbus_an_buffer[0]=='w')
000dd4  7828              LDRB     r0,[r5,#0]  ; modbus_an_buffer
000dd6  2877              CMP      r0,#0x77
000dd8  d17e              BNE      |L1.3800|
;;;154    	{
;;;155    	pvlk=1;
000dda  2001              MOVS     r0,#1
000ddc  f8a80000          STRH     r0,[r8,#0]
;;;156    	if(modbus_an_buffer[1]=='r')
000de0  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
000de2  4647              MOV      r7,r8                 ;155
000de4  2872              CMP      r0,#0x72
000de6  d177              BNE      |L1.3800|
;;;157    		{
;;;158    		pvlk=2;
000de8  2002              MOVS     r0,#2
000dea  8038              STRH     r0,[r7,#0]
;;;159    		if(modbus_an_buffer[2]=='i')
000dec  78a8              LDRB     r0,[r5,#2]  ; modbus_an_buffer
000dee  2869              CMP      r0,#0x69
000df0  d172              BNE      |L1.3800|
;;;160    			{
;;;161    			pvlk=3;
000df2  2003              MOVS     r0,#3
000df4  8038              STRH     r0,[r7,#0]
;;;162    			if(modbus_an_buffer[3]=='t')
000df6  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
000df8  2874              CMP      r0,#0x74
000dfa  d16d              BNE      |L1.3800|
;;;163    				{
;;;164    				pvlk=4;
000dfc  2004              MOVS     r0,#4
000dfe  8038              STRH     r0,[r7,#0]
;;;165    				if(modbus_an_buffer[4]=='e')
000e00  7928              LDRB     r0,[r5,#4]  ; modbus_an_buffer
000e02  2865              CMP      r0,#0x65
000e04  d168              BNE      |L1.3800|
;;;166    					{
;;;167    					pvlk=5;
;;;168    					if(modbus_an_buffer[15]==crc_87(modbus_an_buffer,15))
000e06  4881              LDR      r0,|L1.4108|
000e08  f8a7b000          STRH     r11,[r7,#0]           ;167
000e0c  210f              MOVS     r1,#0xf
000e0e  301e              ADDS     r0,r0,#0x1e
000e10  f7fffffe          BL       crc_87
000e14  7be9              LDRB     r1,[r5,#0xf]  ; modbus_an_buffer
000e16  4288              CMP      r0,r1
000e18  d177              BNE      |L1.3850|
;;;169    						{
;;;170    						pvlk=6;
000e1a  2006              MOVS     r0,#6
000e1c  8038              STRH     r0,[r7,#0]
;;;171    						if(modbus_an_buffer[16]==crc_95(modbus_an_buffer,15))
000e1e  487b              LDR      r0,|L1.4108|
000e20  210f              MOVS     r1,#0xf
000e22  301e              ADDS     r0,r0,#0x1e
000e24  f7fffffe          BL       crc_95
000e28  7c29              LDRB     r1,[r5,#0x10]  ; modbus_an_buffer
000e2a  4288              CMP      r0,r1
000e2c  d16d              BNE      |L1.3850|
;;;172    
;;;173    							{
;;;174    							unsigned short ptr;
;;;175    							unsigned long data1,data2;
;;;176    							char temp_out[20];
;;;177    							pvlk=7;
000e2e  2007              MOVS     r0,#7
000e30  8038              STRH     r0,[r7,#0]
;;;178    							ptr=modbus_an_buffer[5]+(modbus_an_buffer[6]*256U);
000e32  7968              LDRB     r0,[r5,#5]  ; modbus_an_buffer
000e34  79a9              LDRB     r1,[r5,#6]  ; modbus_an_buffer
000e36  eb002001          ADD      r0,r0,r1,LSL #8
000e3a  b287              UXTH     r7,r0
000e3c  f8ad7020          STRH     r7,[sp,#0x20]
;;;179    							*((char*)&data1)=modbus_an_buffer[7];
000e40  79e8              LDRB     r0,[r5,#7]  ; modbus_an_buffer
000e42  f88d0024          STRB     r0,[sp,#0x24]
;;;180    							*(((char*)&data1)+1)=modbus_an_buffer[8];
000e46  7a28              LDRB     r0,[r5,#8]  ; modbus_an_buffer
000e48  f88d0025          STRB     r0,[sp,#0x25]
;;;181    							*(((char*)&data1)+2)=modbus_an_buffer[9];
000e4c  7a68              LDRB     r0,[r5,#9]  ; modbus_an_buffer
000e4e  f88d0026          STRB     r0,[sp,#0x26]
;;;182    							*(((char*)&data1)+3)=modbus_an_buffer[10];
000e52  7aa8              LDRB     r0,[r5,#0xa]  ; modbus_an_buffer
000e54  f88d0027          STRB     r0,[sp,#0x27]
;;;183    							*((char*)&data2)=modbus_an_buffer[11];
000e58  7ae8              LDRB     r0,[r5,#0xb]  ; modbus_an_buffer
000e5a  f88d0028          STRB     r0,[sp,#0x28]
;;;184    							*(((char*)&data2)+1)=modbus_an_buffer[12];
000e5e  7b28              LDRB     r0,[r5,#0xc]  ; modbus_an_buffer
000e60  f88d0029          STRB     r0,[sp,#0x29]
;;;185    							*(((char*)&data2)+2)=modbus_an_buffer[13];
000e64  7b68              LDRB     r0,[r5,#0xd]  ; modbus_an_buffer
000e66  f88d002a          STRB     r0,[sp,#0x2a]
;;;186    							*(((char*)&data2)+3)=modbus_an_buffer[14];	
000e6a  7ba8              LDRB     r0,[r5,#0xe]  ; modbus_an_buffer
000e6c  f88d002b          STRB     r0,[sp,#0x2b]
;;;187    							lc640_write_long(ptr,data1);
000e70  4638              MOV      r0,r7
000e72  9909              LDR      r1,[sp,#0x24]
000e74  f7fffffe          BL       lc640_write_long
;;;188    							lc640_write_long(ptr+4,data2);
000e78  1d38              ADDS     r0,r7,#4
000e7a  990a              LDR      r1,[sp,#0x28]
000e7c  f7fffffe          BL       lc640_write_long
;;;189    							
;;;190    							//data1=lc640_read_long(ptr);
;;;191    							//data2=lc640_read_long(ptr+4);
;;;192    							temp_out[0]='w';
000e80  2077              MOVS     r0,#0x77
000e82  f88d0000          STRB     r0,[sp,#0]
;;;193    							temp_out[1]='r';
000e86  2072              MOVS     r0,#0x72
000e88  f88d0001          STRB     r0,[sp,#1]
;;;194    							temp_out[2]='i';
000e8c  2069              MOVS     r0,#0x69
000e8e  f88d0002          STRB     r0,[sp,#2]
;;;195    							temp_out[3]='t';
000e92  2074              MOVS     r0,#0x74
000e94  f88d0003          STRB     r0,[sp,#3]
;;;196    							temp_out[4]='e';
000e98  2065              MOVS     r0,#0x65
000e9a  f88d0004          STRB     r0,[sp,#4]
;;;197    							temp_out[5]=*((char*)&ptr);
000e9e  f89d0020          LDRB     r0,[sp,#0x20]
000ea2  f88d0005          STRB     r0,[sp,#5]
;;;198    							temp_out[6]=*(((char*)&ptr)+1);	
000ea6  f89d0021          LDRB     r0,[sp,#0x21]
000eaa  f88d0006          STRB     r0,[sp,#6]
;;;199    						
;;;200    							temp_out[7]=crc_87(temp_out,7);	
000eae  2107              MOVS     r1,#7
000eb0  4668              MOV      r0,sp
000eb2  f7fffffe          BL       crc_87
000eb6  f88d0007          STRB     r0,[sp,#7]
;;;201    							temp_out[8]=crc_95(temp_out,7);			
000eba  2107              MOVS     r1,#7
000ebc  4668              MOV      r0,sp
000ebe  f7fffffe          BL       crc_95
000ec2  f88d0008          STRB     r0,[sp,#8]
;;;202    							
;;;203    							temp_out[10]=0;
000ec6  f88d600a          STRB     r6,[sp,#0xa]
;;;204    							for (i=0;i<9;i++)
000eca  7026              STRB     r6,[r4,#0]
000ecc  466f              MOV      r7,sp                 ;176
                  |L1.3790|
;;;205    								{
;;;206    								putchar_sc16is700(temp_out[i]);
000ece  7820              LDRB     r0,[r4,#0]  ; i
000ed0  5c38              LDRB     r0,[r7,r0]
000ed2  f7fffffe          BL       putchar_sc16is700
;;;207    								temp_out[10]^=temp_out[i];
000ed6  e000              B        |L1.3802|
                  |L1.3800|
000ed8  e017              B        |L1.3850|
                  |L1.3802|
000eda  7820              LDRB     r0,[r4,#0]  ; i
000edc  f89d100a          LDRB     r1,[sp,#0xa]
000ee0  5c3a              LDRB     r2,[r7,r0]
000ee2  1c40              ADDS     r0,r0,#1              ;204
000ee4  4051              EORS     r1,r1,r2
000ee6  b2c0              UXTB     r0,r0                 ;204
000ee8  f88d100a          STRB     r1,[sp,#0xa]
000eec  7020              STRB     r0,[r4,#0]            ;204
000eee  2809              CMP      r0,#9                 ;204
000ef0  d3ed              BCC      |L1.3790|
;;;208    								}
;;;209    							putchar_sc16is700(9);
000ef2  2009              MOVS     r0,#9
000ef4  f7fffffe          BL       putchar_sc16is700
;;;210    							putchar_sc16is700(temp_out[10]^9);
000ef8  f89d000a          LDRB     r0,[sp,#0xa]
000efc  f0800009          EOR      r0,r0,#9
000f00  f7fffffe          BL       putchar_sc16is700
;;;211    							putchar_sc16is700(0x0a);
000f04  200a              MOVS     r0,#0xa
000f06  f7fffffe          BL       putchar_sc16is700
                  |L1.3850|
;;;212    							}
;;;213    						}
;;;214    					}
;;;215    				}
;;;216    		   	}
;;;217    		}
;;;218    	}
;;;219    
;;;220    modbus_func=modbus_an_buffer[1];
000f0a  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
;;;221    modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000f0c  9003              STR      r0,[sp,#0xc]
000f0e  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
000f10  78a9              LDRB     r1,[r5,#2]  ; modbus_an_buffer
;;;222    modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
;;;223    //modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;224    //modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;225    modbus_cmnd=(modbus_rx_arg1>>8)&0x7f;
;;;226    modbus_cmnd_cnt=(modbus_rx_arg1)&0x0f;
;;;227    
;;;228    modbus_plazma3=modbus_cmnd;
;;;229    modbus_plazma2=modbus_cmnd_cnt;
;;;230    modbus_plazma1=modbus_self_cmnd_cnt;
;;;231    
;;;232    if(crc16_calculated==crc16_incapsulated)
000f12  45d1              CMP      r9,r10
000f14  eb002001          ADD      r0,r0,r1,LSL #8       ;221
000f18  b287              UXTH     r7,r0                 ;221
000f1a  7968              LDRB     r0,[r5,#5]            ;222  ; modbus_an_buffer
000f1c  7929              LDRB     r1,[r5,#4]            ;222  ; modbus_an_buffer
000f1e  eb002001          ADD      r0,r0,r1,LSL #8       ;222
000f22  b284              UXTH     r4,r0                 ;222
000f24  4838              LDR      r0,|L1.4104|
000f26  f3c42206          UBFX     r2,r4,#8,#7           ;225
000f2a  f004010f          AND      r1,r4,#0xf            ;226
000f2e  7142              STRB     r2,[r0,#5]            ;225
000f30  7101              STRB     r1,[r0,#4]            ;226
000f32  8182              STRH     r2,[r0,#0xc]          ;228
000f34  8141              STRH     r1,[r0,#0xa]          ;229
000f36  7802              LDRB     r2,[r0,#0]            ;230  ; modbus_self_cmnd_cnt
000f38  8102              STRH     r2,[r0,#8]            ;230
000f3a  d162              BNE      |L1.4098|
;;;233    	{
;;;234    	if(modbus_self_cmnd_cnt==33)modbus_self_cmnd_cnt=modbus_cmnd_cnt;
000f3c  2a21              CMP      r2,#0x21
000f3e  d100              BNE      |L1.3906|
000f40  7001              STRB     r1,[r0,#0]
                  |L1.3906|
;;;235    	modbus_plazma=modbus_an_buffer[0];
000f42  4932              LDR      r1,|L1.4108|
;;;236    	if(modbus_an_buffer[0]==200)	 //ερλθ ηΰοπξρ ξς οσλόςΰ
;;;237    		{
;;;238    		if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ
;;;239    			{
;;;240    			modbus_for_pult_registers_transmit(7);
;;;241    			}
;;;242    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπΰ
;;;243    			{
;;;244    			//if(modbus_rx_arg0==1)		//
;;;245    				{
;;;246    				modbus_for_pult_registers_transmit(7);
;;;247    				tumbler_stat=(enum_tumbler_stat)(modbus_rx_arg1>>15);
;;;248    				if((tumbler_stat!=tumbler_stat_old))
;;;249    					{
;;;250    					if(tumbler_stat==tsU)
;;;251    						{
;;;252    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;253    						}
;;;254    					else lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;255    					
;;;256    					if(main_cnt>3)
;;;257    						{
;;;258    						work_stat=wsOFF;
000f44  4d34              LDR      r5,|L1.4120|
000f46  311e              ADDS     r1,r1,#0x1e           ;235
000f48  4681              MOV      r9,r0                 ;235
000f4a  7809              LDRB     r1,[r1,#0]            ;235  ; modbus_an_buffer
000f4c  80c1              STRH     r1,[r0,#6]            ;235
;;;259    						restart_off();
;;;260    						}
;;;261    					}
;;;262    				tumbler_stat_old=tumbler_stat;
;;;263    				
;;;264    				}
;;;265    			 //else if(modbus_rx_arg0==0)
;;;266    			 	{
;;;267    				//modbus_plazma++;		
;;;268    				if((modbus_cmnd==61)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;269    					{
;;;270    					if(I_ug<1000)I_ug++;
;;;271    					else I_ug=((I_ug/10)+1)*10;
;;;272    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;273    					I_ug_block_cnt=10;
;;;274    					//lc640_write_int(EE_I_UG,I_ug);
;;;275    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;276    					}
;;;277    				
;;;278    				else if((modbus_cmnd==62)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;279    					{
;;;280    					if(I_ug<1000)I_ug--;
;;;281    					else I_ug=((I_ug/10)-1)*10;
;;;282    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;283    					I_ug_block_cnt=10;
;;;284    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;285    					}
;;;286    				else if((modbus_cmnd==63)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;287    					{
;;;288    					if(I_ug<1000)I_ug=((I_ug/10)+1)*10;
;;;289    					else I_ug=((I_ug/10)+5)*10;
;;;290    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;291    					I_ug_block_cnt=10;
;;;292    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;293    					}
;;;294    				
;;;295    				else if((modbus_cmnd==64)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;296    					{
;;;297    					if(I_ug<1000)I_ug=((I_ug/10)-1)*10;
;;;298    					else I_ug=((I_ug/10)-5)*10;
;;;299    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;300    					I_ug_block_cnt=10;
;;;301    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;302    					}
;;;303    				
;;;304    				else if((modbus_cmnd==71)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;305    					{
;;;306    					U_up++;
;;;307    					gran(&U_up,U_MIN,U_MAX);
;;;308    					U_up_block_cnt=10;
;;;309    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;310    					}
;;;311    				
;;;312    				else if((modbus_cmnd==72)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;313    					{
;;;314    					U_up--;
;;;315    					gran(&U_up,U_MIN,U_MAX);
;;;316    					U_up_block_cnt=10;
;;;317    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;318    				
;;;319    					}
;;;320    				else if((modbus_cmnd==73)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;321    					{
;;;322    					U_up=((U_up/10)+1)*10;
;;;323    					gran(&U_up,U_MIN,U_MAX);
;;;324    					U_up_block_cnt=10;
;;;325    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;326    					}
;;;327    				
;;;328    				else if((modbus_cmnd==74)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;329    					{
;;;330    					U_up=((U_up/10)-1)*10;
;;;331    					gran(&U_up,U_MIN,U_MAX);
;;;332    					U_up_block_cnt=10;
;;;333    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;334    					}
;;;335    				
;;;336    				
;;;337    				else if((modbus_cmnd==51)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ+
;;;338    					{
;;;339    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;340    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;341    						{
;;;342    						if(TIME_VISION_PULT)
;;;343    							{
;;;344    							T_PROC_GS=(((T_PROC_GS/60L)+1L)*60L);
000f4e  f04f0a3c          MOV      r10,#0x3c
000f52  29c8              CMP      r1,#0xc8              ;236
000f54  d104              BNE      |L1.3936|
000f56  9803              LDR      r0,[sp,#0xc]          ;238
000f58  2804              CMP      r0,#4                 ;238
000f5a  d002              BEQ      |L1.3938|
000f5c  2806              CMP      r0,#6                 ;242
000f5e  d004              BEQ      |L1.3946|
                  |L1.3936|
000f60  e262              B        |L1.5160|
                  |L1.3938|
000f62  2007              MOVS     r0,#7                 ;240
000f64  f7fffffe          BL       modbus_for_pult_registers_transmit
000f68  e25e              B        |L1.5160|
                  |L1.3946|
000f6a  2007              MOVS     r0,#7                 ;246
000f6c  f7fffffe          BL       modbus_for_pult_registers_transmit
000f70  f8df80a8          LDR      r8,|L1.4124|
000f74  f8dfb0a8          LDR      r11,|L1.4128|
000f78  0be0              LSRS     r0,r4,#15             ;247
000f7a  f8880000          STRB     r0,[r8,#0]            ;247
000f7e  f89b1000          LDRB     r1,[r11,#0]           ;248  ; tumbler_stat_old
000f82  4288              CMP      r0,r1                 ;248
000f84  d00d              BEQ      |L1.4002|
000f86  2801              CMP      r0,#1                 ;250
000f88  d05c              BEQ      |L1.4164|
000f8a  2100              MOVS     r1,#0                 ;254
                  |L1.3980|
000f8c  20ea              MOVS     r0,#0xea              ;254
000f8e  f7fffffe          BL       lc640_write_int
000f92  4824              LDR      r0,|L1.4132|
000f94  f9b00000          LDRSH    r0,[r0,#0]            ;256  ; main_cnt
000f98  2803              CMP      r0,#3                 ;256
000f9a  dd02              BLE      |L1.4002|
000f9c  702e              STRB     r6,[r5,#0]            ;258
000f9e  f7fffffe          BL       restart_off
                  |L1.4002|
000fa2  f898c000          LDRB     r12,[r8,#0]           ;262  ; tumbler_stat
000fa6  f88bc000          STRB     r12,[r11,#0]          ;262
000faa  46c6              MOV      lr,r8                 ;262
000fac  f8993005          LDRB     r3,[r9,#5]            ;268  ; modbus_cmnd
000fb0  4648              MOV      r0,r9                 ;268
000fb2  f8df8074          LDR      r8,|L1.4136|
000fb6  f44f717a          MOV      r1,#0x3e8             ;270
000fba  f04f090a          MOV      r9,#0xa               ;144
000fbe  2b3d              CMP      r3,#0x3d              ;268
000fc0  d042              BEQ      |L1.4168|
000fc2  2b3e              CMP      r3,#0x3e              ;278
000fc4  d058              BEQ      |L1.4216|
000fc6  2b3f              CMP      r3,#0x3f              ;286
000fc8  d067              BEQ      |L1.4250|
000fca  2b40              CMP      r3,#0x40              ;295
000fcc  d078              BEQ      |L1.4288|
000fce  f8df805c          LDR      r8,|L1.4140|
000fd2  2b47              CMP      r3,#0x47              ;304
000fd4  d070              BEQ      |L1.4280|
000fd6  2b48              CMP      r3,#0x48              ;312
000fd8  d06f              BEQ      |L1.4282|
000fda  2b49              CMP      r3,#0x49              ;320
000fdc  d06e              BEQ      |L1.4284|
000fde  2b4a              CMP      r3,#0x4a              ;328
000fe0  d06d              BEQ      |L1.4286|
000fe2  4913              LDR      r1,|L1.4144|
;;;345    							T_PROC_GS_block_cnt=10;
000fe4  4a13              LDR      r2,|L1.4148|
;;;346    							}
;;;347    						else
;;;348    							{
;;;349    							T_PROC_GS++;
;;;350    							T_PROC_GS_block_cnt=10;
;;;351    							}
;;;352    				
;;;353    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;354    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;355    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;356    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;357    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;358    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;359    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;360    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;361    							}												//(T_PROC_GS_MODE=0)
;;;362    					
;;;363    						else if(T_PROC_GS<30)
;;;364    							{
;;;365    							T_PROC_GS=29;
;;;366    							if(T_PROC_GS_MODE!=1)
;;;367    								{
;;;368    								T_PROC_GS_MODE=1;
;;;369    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;370    								}
;;;371    							}
;;;372    						else 
;;;373    							{
;;;374    							if(T_PROC_GS_MODE!=0)
;;;375    								{
;;;376    								T_PROC_GS_MODE=0;
;;;377    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;378    								}
;;;379    							}			
;;;380    						}
;;;381    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;382    						{
;;;383    						if(TIME_VISION_PULT)
;;;384    							{
;;;385    							T_PROC_PS=(((T_PROC_PS/60L)+1L)*60L);
;;;386    							T_PROC_PS_block_cnt=10;
000fe6  f8dfb050          LDR      r11,|L1.4152|
000fea  f8df8050          LDR      r8,|L1.4156|
000fee  2b33              CMP      r3,#0x33              ;337
000ff0  d078              BEQ      |L1.4324|
;;;387    							}
;;;388    						else
;;;389    							{
;;;390    							T_PROC_PS++;
;;;391    							T_PROC_PS_block_cnt=10;
;;;392    							}
;;;393    				
;;;394    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;395    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;396    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;397    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;398    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;399    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;400    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;401    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;402    							}												//(T_PROC_PS_MODE=0)
;;;403    					
;;;404    						else if(T_PROC_PS<30)
;;;405    							{
;;;406    							T_PROC_PS=29;
;;;407    							if(T_PROC_PS_MODE!=1)
;;;408    								{
;;;409    								T_PROC_PS_MODE=1;
;;;410    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;411    								}
;;;412    							}
;;;413    						else 
;;;414    							{
;;;415    							if(T_PROC_PS_MODE!=0)
;;;416    								{
;;;417    								T_PROC_PS_MODE=0;
;;;418    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;419    								}
;;;420    							}			
;;;421    						}
;;;422    					}
;;;423    				else if((modbus_cmnd==53)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ++
000ff2  2b35              CMP      r3,#0x35
000ff4  d077              BEQ      |L1.4326|
;;;424    					{
;;;425    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;426    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;427    						{
;;;428    						if(TIME_VISION_PULT)
;;;429    							{
;;;430    							T_PROC_GS=(((T_PROC_GS/600L)+1L)*600L);
;;;431    							T_PROC_GS_block_cnt=10;
;;;432    							}
;;;433    						else
;;;434    							{
;;;435    							T_PROC_GS=(((T_PROC_GS/10L)+1L)*10L);
;;;436    							T_PROC_GS_block_cnt=10;
;;;437    							}
;;;438    				
;;;439    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;440    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;441    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;442    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;443    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;444    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;445    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;446    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;447    							}												//(T_PROC_GS_MODE=0)
;;;448    					
;;;449    						else if(T_PROC_GS<30)
;;;450    							{
;;;451    							T_PROC_GS=29;
;;;452    							if(T_PROC_GS_MODE!=1)
;;;453    								{
;;;454    								T_PROC_GS_MODE=1;
;;;455    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;456    								}
;;;457    							}
;;;458    						else 
;;;459    							{
;;;460    							if(T_PROC_GS_MODE!=0)
;;;461    								{
;;;462    								T_PROC_GS_MODE=0;
;;;463    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;464    								}
;;;465    							}			
;;;466    						}
;;;467    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;468    						{
;;;469    						if(TIME_VISION_PULT)
;;;470    							{
;;;471    							T_PROC_PS=(((T_PROC_PS/600L)+1L)*600L);
;;;472    							T_PROC_PS_block_cnt=10;
;;;473    							}
;;;474    						else
;;;475    							{
;;;476    							T_PROC_PS=(((T_PROC_PS/10L)+1L)*10L);
;;;477    							T_PROC_PS_block_cnt=10;
;;;478    							}
;;;479    				
;;;480    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;481    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;482    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;483    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;484    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;485    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;486    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;487    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;488    							}												//(T_PROC_PS_MODE=0)
;;;489    					
;;;490    						else if(T_PROC_PS<30)
;;;491    							{
;;;492    							T_PROC_PS=29;
;;;493    							if(T_PROC_PS_MODE!=1)
;;;494    								{
;;;495    								T_PROC_PS_MODE=1;
;;;496    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;497    								}
;;;498    							}
;;;499    						else 
;;;500    							{
;;;501    							if(T_PROC_PS_MODE!=0)
;;;502    								{
;;;503    								T_PROC_PS_MODE=0;
;;;504    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;505    								}
;;;506    							}				
;;;507    						}
;;;508    					}
;;;509    				
;;;510    				else if((modbus_cmnd==52)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ-
000ff6  2b34              CMP      r3,#0x34
000ff8  d076              BEQ      |L1.4328|
;;;511    					{
;;;512    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;513    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;514    						{
;;;515    						if(TIME_VISION_PULT)
;;;516    							{
;;;517    							T_PROC_GS=(((T_PROC_GS/60L)-1L)*60L);
;;;518    							T_PROC_GS_block_cnt=10;
;;;519    							}
;;;520    						else
;;;521    							{
;;;522    							T_PROC_GS--;
;;;523    							T_PROC_GS_block_cnt=10;
;;;524    							}
;;;525    				
;;;526    							
;;;527    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;528    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;529    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;530    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;531    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;532    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;533    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;534    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;535    							}												//(T_PROC_GS_MODE=0)
;;;536    					
;;;537    						else if(T_PROC_GS<30)
;;;538    							{
;;;539    							T_PROC_GS=29;
;;;540    							if(T_PROC_GS_MODE!=1)
;;;541    								{
;;;542    								T_PROC_GS_MODE=1;
;;;543    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;544    								}
;;;545    							}
;;;546    						else 
;;;547    							{
;;;548    							if(T_PROC_GS_MODE!=0)
;;;549    								{
;;;550    								T_PROC_GS_MODE=0;
;;;551    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;552    								}
;;;553    							}
;;;554    							
;;;555    						}
;;;556    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;557    						{
;;;558    						if(TIME_VISION_PULT)
;;;559    							{
;;;560    							T_PROC_PS=(((T_PROC_PS/60L)-1L)*60L);
;;;561    							T_PROC_PS_block_cnt=10;
;;;562    							}
;;;563    						else
;;;564    							{
;;;565    							T_PROC_PS--;
;;;566    							T_PROC_PS_block_cnt=10;
;;;567    							}
;;;568    				
;;;569    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;570    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;571    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;572    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;573    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;574    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;575    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;576    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;577    							}												//(T_PROC_PS_MODE=0)
;;;578    					
;;;579    						else if(T_PROC_PS<30)
;;;580    							{
;;;581    							T_PROC_PS=29;
;;;582    							if(T_PROC_PS_MODE!=1)
;;;583    								{
;;;584    								T_PROC_PS_MODE=1;
;;;585    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;586    								}
;;;587    							}
;;;588    						else 
;;;589    							{
;;;590    							if(T_PROC_PS_MODE!=0)
;;;591    								{
;;;592    								T_PROC_PS_MODE=0;
;;;593    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;594    								}
;;;595    							}			
;;;596    						}
;;;597    					}
;;;598    				else if((modbus_cmnd==54)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//βπεμ--
000ffa  2b36              CMP      r3,#0x36
000ffc  d075              BEQ      |L1.4330|
;;;599    					{
;;;600    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;601    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;602    						{
;;;603    						if(TIME_VISION_PULT)
;;;604    							{
;;;605    							T_PROC_GS=(((T_PROC_GS/600L)-1L)*600L);
;;;606    							T_PROC_GS_block_cnt=10;
;;;607    							}
;;;608    						else
;;;609    							{
;;;610    							T_PROC_GS=(((T_PROC_GS/10L)-1L)*10L);
;;;611    							T_PROC_GS_block_cnt=10;
;;;612    							}
;;;613    				
;;;614    						if(T_PROC_GS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;615    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;616    							T_PROC_GS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;617    							if(T_PROC_GS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;618    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;619    								T_PROC_GS_MODE=1;								//πΰαξςϋ(T_PROC_GS_MODE=1), οπθ οξοϋςκε
;;;620    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;621    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;622    							}												//(T_PROC_GS_MODE=0)
;;;623    					
;;;624    						else if(T_PROC_GS<30)
;;;625    							{
;;;626    							T_PROC_GS=29;
;;;627    							if(T_PROC_GS_MODE!=1)
;;;628    								{
;;;629    								T_PROC_GS_MODE=1;
;;;630    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;631    								}
;;;632    							}
;;;633    						else 
;;;634    							{
;;;635    							if(T_PROC_GS_MODE!=0)
;;;636    								{
;;;637    								T_PROC_GS_MODE=0;
;;;638    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;639    								}
;;;640    							}
;;;641    										
;;;642    						}
;;;643    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;644    						{
;;;645    						if(TIME_VISION_PULT)
;;;646    							{
;;;647    							T_PROC_PS=(((T_PROC_PS/600L)-1L)*600L);
;;;648    							T_PROC_PS_block_cnt=10;
;;;649    							}
;;;650    						else
;;;651    							{
;;;652    							T_PROC_PS=(((T_PROC_PS/10L)-1L)*10L);
;;;653    							T_PROC_PS_block_cnt=10;
;;;654    							}
;;;655    				
;;;656    						if(T_PROC_PS>T_PROC_MAX)								 	//Ερλθ σρςΰνΰβλθβΰεμ βπμ οπξφερρΰ
;;;657    							{												//δλ θρςξχνθκΰ ςξκΰ αξλόψε χεμ 
;;;658    							T_PROC_PS=T_PROC_MAX+1;								//μΰκρθμΰλόνξε βπεμ οπξφερρξβ
;;;659    							if(T_PROC_PS_MODE!=1)								//(θη γλΰβνϋυ σρςΰνξβξκ) ςξ 
;;;660    								{											//σρςΰνΰβλθβΰεςρ πεζθμ νεοπεπϋβνξι 
;;;661    								T_PROC_PS_MODE=1;								//πΰαξςϋ(T_PROC_PS_MODE=1), οπθ οξοϋςκε
;;;662    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//βεπνσςό βπεμ β πΰηπεψεννϋι θνςεπΰβΰλ - 
;;;663    								}											//πεζθμ νεοπεπϋβνξι πΰαξςϋ ρνθμΰεςρ 
;;;664    							}												//(T_PROC_PS_MODE=0)
;;;665    					
;;;666    						else if(T_PROC_PS<30)
;;;667    							{
;;;668    							T_PROC_PS=29;
;;;669    							if(T_PROC_PS_MODE!=1)
;;;670    								{
;;;671    								T_PROC_PS_MODE=1;
;;;672    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;673    								}
;;;674    							}
;;;675    						else 
;;;676    							{
;;;677    							if(T_PROC_PS_MODE!=0)
;;;678    								{
;;;679    								T_PROC_PS_MODE=0;
;;;680    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;681    								}
;;;682    							}	
;;;683    						}
;;;684    					}
;;;685    				
;;;686    				
;;;687    			//	else if((modbus_rx_arg1>>8)==90)
;;;688    			else if((modbus_cmnd==1)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
000ffe  2b01              CMP      r3,#1
001000  e01e              B        |L1.4160|
                  |L1.4098|
001002  e24b              B        |L1.5276|
                  |L1.4100|
                          DCD      pult_i_set
                  |L1.4104|
                          DCD      ||.data||
                  |L1.4108|
                          DCD      ||area_number.5||
                  |L1.4112|
                          DCD      pvlk
                  |L1.4116|
                          DCD      i
                  |L1.4120|
                          DCD      work_stat
                  |L1.4124|
                          DCD      tumbler_stat
                  |L1.4128|
                          DCD      tumbler_stat_old
                  |L1.4132|
                          DCD      main_cnt
                  |L1.4136|
                          DCD      I_ug_block_cnt
                  |L1.4140|
                          DCD      U_up_block_cnt
                  |L1.4144|
                          DCD      TIME_VISION_PULT
                  |L1.4148|
                          DCD      T_PROC_GS_block_cnt
                  |L1.4152|
                          DCD      T_PROC_PS_block_cnt
                  |L1.4156|
                          DCD      main_menu_mode
                  |L1.4160|
001040  d072              BEQ      |L1.4392|
                  |L1.4162|
001042  e1f1              B        |L1.5160|
                  |L1.4164|
001044  2101              MOVS     r1,#1                 ;252
001046  e7a1              B        |L1.3980|
                  |L1.4168|
001048  4683              MOV      r11,r0                ;268
00104a  7902              LDRB     r2,[r0,#4]            ;268  ; modbus_cmnd_cnt
00104c  7800              LDRB     r0,[r0,#0]            ;268  ; modbus_self_cmnd_cnt
00104e  4282              CMP      r2,r0                 ;268
001050  d086              BEQ      |L1.3936|
001052  48ff              LDR      r0,|L1.5200|
001054  f9b02000          LDRSH    r2,[r0,#0]            ;270  ; I_ug
001058  428a              CMP      r2,r1                 ;270
00105a  da01              BGE      |L1.4192|
00105c  1c52              ADDS     r2,r2,#1              ;270
00105e  e016              B        |L1.4238|
                  |L1.4192|
001060  fb92f1f9          SDIV     r1,r2,r9              ;271
001064  1c49              ADDS     r1,r1,#1              ;271
001066  e038              B        |L1.4314|
                  |L1.4200|
001068  48fa              LDR      r0,|L1.5204|
00106a  f9b02000          LDRSH    r2,[r0,#0]            ;272  ; I_MAX_IPS
00106e  48fa              LDR      r0,|L1.5208|
001070  f9b01000          LDRSH    r1,[r0,#0]            ;272  ; I_MIN_IPS
001074  48f6              LDR      r0,|L1.5200|
001076  e06e              B        |L1.4438|
                  |L1.4216|
001078  4683              MOV      r11,r0                ;278
00107a  7902              LDRB     r2,[r0,#4]            ;278  ; modbus_cmnd_cnt
00107c  7800              LDRB     r0,[r0,#0]            ;278  ; modbus_self_cmnd_cnt
00107e  4282              CMP      r2,r0                 ;278
001080  d0df              BEQ      |L1.4162|
001082  48f3              LDR      r0,|L1.5200|
001084  f9b02000          LDRSH    r2,[r0,#0]            ;280  ; I_ug
001088  428a              CMP      r2,r1                 ;280
00108a  da02              BGE      |L1.4242|
00108c  1e52              SUBS     r2,r2,#1              ;280
                  |L1.4238|
00108e  8002              STRH     r2,[r0,#0]            ;280
001090  e7ea              B        |L1.4200|
                  |L1.4242|
001092  fb92f1f9          SDIV     r1,r2,r9              ;281
001096  1e49              SUBS     r1,r1,#1              ;281
001098  e01f              B        |L1.4314|
                  |L1.4250|
00109a  4683              MOV      r11,r0                ;286
00109c  7902              LDRB     r2,[r0,#4]            ;286  ; modbus_cmnd_cnt
00109e  7800              LDRB     r0,[r0,#0]            ;286  ; modbus_self_cmnd_cnt
0010a0  4282              CMP      r2,r0                 ;286
0010a2  d0ce              BEQ      |L1.4162|
0010a4  48ea              LDR      r0,|L1.5200|
0010a6  f9b02000          LDRSH    r2,[r0,#0]            ;288  ; I_ug
0010aa  428a              CMP      r2,r1                 ;288
0010ac  dbd8              BLT      |L1.4192|
0010ae  fb92f1f9          SDIV     r1,r2,r9              ;289
0010b2  1d49              ADDS     r1,r1,#5              ;289
0010b4  e011              B        |L1.4314|
0010b6  e003              B        |L1.4288|
                  |L1.4280|
0010b8  e018              B        |L1.4332|
                  |L1.4282|
0010ba  e020              B        |L1.4350|
                  |L1.4284|
0010bc  e028              B        |L1.4368|
                  |L1.4286|
0010be  e034              B        |L1.4394|
                  |L1.4288|
0010c0  4683              MOV      r11,r0                ;295
0010c2  7902              LDRB     r2,[r0,#4]            ;295  ; modbus_cmnd_cnt
0010c4  7800              LDRB     r0,[r0,#0]            ;295  ; modbus_self_cmnd_cnt
0010c6  4282              CMP      r2,r0                 ;295
0010c8  d0bb              BEQ      |L1.4162|
0010ca  48e1              LDR      r0,|L1.5200|
0010cc  f9b02000          LDRSH    r2,[r0,#0]            ;297  ; I_ug
0010d0  428a              CMP      r2,r1                 ;297
0010d2  dbde              BLT      |L1.4242|
0010d4  fb92f1f9          SDIV     r1,r2,r9              ;298
0010d8  1f49              SUBS     r1,r1,#5              ;298
                  |L1.4314|
0010da  eb010181          ADD      r1,r1,r1,LSL #2       ;298
0010de  0049              LSLS     r1,r1,#1              ;298
0010e0  8001              STRH     r1,[r0,#0]            ;298
0010e2  e7c1              B        |L1.4200|
                  |L1.4324|
0010e4  e040              B        |L1.4456|
                  |L1.4326|
0010e6  e08a              B        |L1.4606|
                  |L1.4328|
0010e8  e0be              B        |L1.4712|
                  |L1.4330|
0010ea  e0eb              B        |L1.4804|
                  |L1.4332|
0010ec  4683              MOV      r11,r0                ;304
0010ee  7901              LDRB     r1,[r0,#4]            ;304  ; modbus_cmnd_cnt
0010f0  7800              LDRB     r0,[r0,#0]            ;304  ; modbus_self_cmnd_cnt
0010f2  4281              CMP      r1,r0                 ;304
0010f4  d0a5              BEQ      |L1.4162|
0010f6  48d9              LDR      r0,|L1.5212|
0010f8  8801              LDRH     r1,[r0,#0]            ;306  ; U_up
0010fa  1c49              ADDS     r1,r1,#1              ;306
0010fc  e023              B        |L1.4422|
                  |L1.4350|
0010fe  4683              MOV      r11,r0                ;312
001100  7901              LDRB     r1,[r0,#4]            ;312  ; modbus_cmnd_cnt
001102  7800              LDRB     r0,[r0,#0]            ;312  ; modbus_self_cmnd_cnt
001104  4281              CMP      r1,r0                 ;312
001106  d09c              BEQ      |L1.4162|
001108  48d4              LDR      r0,|L1.5212|
00110a  8801              LDRH     r1,[r0,#0]            ;314  ; U_up
00110c  1e49              SUBS     r1,r1,#1              ;314
00110e  e01a              B        |L1.4422|
                  |L1.4368|
001110  4683              MOV      r11,r0                ;320
001112  7901              LDRB     r1,[r0,#4]            ;320  ; modbus_cmnd_cnt
001114  7800              LDRB     r0,[r0,#0]            ;320  ; modbus_self_cmnd_cnt
001116  4281              CMP      r1,r0                 ;320
001118  d093              BEQ      |L1.4162|
00111a  48d0              LDR      r0,|L1.5212|
00111c  f9b02000          LDRSH    r2,[r0,#0]            ;322  ; U_up
001120  fb92f1f9          SDIV     r1,r2,r9              ;322
001124  1c49              ADDS     r1,r1,#1              ;322
001126  e00b              B        |L1.4416|
                  |L1.4392|
001128  e126              B        |L1.4984|
                  |L1.4394|
00112a  4683              MOV      r11,r0                ;328
00112c  7901              LDRB     r1,[r0,#4]            ;328  ; modbus_cmnd_cnt
00112e  7800              LDRB     r0,[r0,#0]            ;328  ; modbus_self_cmnd_cnt
001130  4281              CMP      r1,r0                 ;328
001132  d086              BEQ      |L1.4162|
001134  48c9              LDR      r0,|L1.5212|
001136  f9b02000          LDRSH    r2,[r0,#0]            ;330  ; U_up
00113a  fb92f1f9          SDIV     r1,r2,r9              ;330
00113e  1e49              SUBS     r1,r1,#1              ;330
                  |L1.4416|
001140  eb010181          ADD      r1,r1,r1,LSL #2       ;330
001144  0049              LSLS     r1,r1,#1              ;330
                  |L1.4422|
001146  8001              STRH     r1,[r0,#0]            ;330
001148  48c5              LDR      r0,|L1.5216|
00114a  f9b02000          LDRSH    r2,[r0,#0]            ;331  ; U_MAX
00114e  48c5              LDR      r0,|L1.5220|
001150  f9b01000          LDRSH    r1,[r0,#0]            ;331  ; U_MIN
001154  48c1              LDR      r0,|L1.5212|
                  |L1.4438|
001156  f7fffffe          BL       gran
00115a  f8a89000          STRH     r9,[r8,#0]            ;332
00115e  f89b1004          LDRB     r1,[r11,#4]           ;333  ; modbus_cmnd_cnt
001162  f88b1000          STRB     r1,[r11,#0]           ;333
                  |L1.4454|
001166  e15f              B        |L1.5160|
                  |L1.4456|
001168  7903              LDRB     r3,[r0,#4]            ;337  ; modbus_cmnd_cnt
00116a  f890c000          LDRB     r12,[r0,#0]           ;337  ; modbus_self_cmnd_cnt
00116e  4563              CMP      r3,r12                ;337
001170  d0f9              BEQ      |L1.4454|
001172  7003              STRB     r3,[r0,#0]            ;339
001174  f8980000          LDRB     r0,[r8,#0]            ;340  ; main_menu_mode
001178  782b              LDRB     r3,[r5,#0]            ;340  ; work_stat
00117a  ea500c03          ORRS     r12,r0,r3             ;340
00117e  d002              BEQ      |L1.4486|
001180  2801              CMP      r0,#1                 ;381
001182  d01c              BEQ      |L1.4542|
001184  e150              B        |L1.5160|
                  |L1.4486|
001186  8808              LDRH     r0,[r1,#0]            ;342  ; TIME_VISION_PULT
001188  2800              CMP      r0,#0                 ;342
00118a  48b7              LDR      r0,|L1.5224|
00118c  d004              BEQ      |L1.4504|
00118e  6803              LDR      r3,[r0,#0]            ;344  ; T_PROC_GS
001190  fb93f1fa          SDIV     r1,r3,r10             ;344
001194  1c49              ADDS     r1,r1,#1              ;344
001196  e07e              B        |L1.4758|
                  |L1.4504|
001198  6801              LDR      r1,[r0,#0]            ;349  ; T_PROC_GS
00119a  1c49              ADDS     r1,r1,#1              ;349
                  |L1.4508|
00119c  6001              STR      r1,[r0,#0]            ;349  ; T_PROC_GS
00119e  e0b6              B        |L1.4878|
                  |L1.4512|
0011a0  6001              STR      r1,[r0,#0]            ;366  ; T_PROC_GS
0011a2  48b2              LDR      r0,|L1.5228|
0011a4  8801              LDRH     r1,[r0,#0]            ;366  ; T_PROC_GS_MODE
0011a6  2901              CMP      r1,#1                 ;366
0011a8  d0dd              BEQ      |L1.4454|
0011aa  2101              MOVS     r1,#1                 ;619
0011ac  e004              B        |L1.4536|
                  |L1.4526|
0011ae  48af              LDR      r0,|L1.5228|
0011b0  8801              LDRH     r1,[r0,#0]            ;374  ; T_PROC_GS_MODE
0011b2  2900              CMP      r1,#0                 ;374
0011b4  d0d7              BEQ      |L1.4454|
0011b6  4631              MOV      r1,r6                 ;637
                  |L1.4536|
0011b8  8001              STRH     r1,[r0,#0]            ;358
0011ba  20ee              MOVS     r0,#0xee              ;359
0011bc  e01c              B        |L1.4600|
                  |L1.4542|
0011be  2b00              CMP      r3,#0                 ;381
0011c0  d1d1              BNE      |L1.4454|
0011c2  8808              LDRH     r0,[r1,#0]            ;383  ; TIME_VISION_PULT
0011c4  2800              CMP      r0,#0                 ;383
0011c6  48aa              LDR      r0,|L1.5232|
0011c8  d004              BEQ      |L1.4564|
0011ca  6802              LDR      r2,[r0,#0]            ;385  ; T_PROC_PS
0011cc  fb92f1fa          SDIV     r1,r2,r10             ;385
0011d0  1c49              ADDS     r1,r1,#1              ;385
0011d2  e070              B        |L1.4790|
                  |L1.4564|
0011d4  6801              LDR      r1,[r0,#0]            ;390  ; T_PROC_PS
0011d6  1c49              ADDS     r1,r1,#1              ;390
                  |L1.4568|
0011d8  6001              STR      r1,[r0,#0]            ;390  ; T_PROC_PS
0011da  e0be              B        |L1.4954|
                  |L1.4572|
0011dc  6001              STR      r1,[r0,#0]            ;407  ; T_PROC_PS
0011de  48a5              LDR      r0,|L1.5236|
0011e0  8801              LDRH     r1,[r0,#0]            ;407  ; T_PROC_PS_MODE
0011e2  2901              CMP      r1,#1                 ;407
0011e4  d00a              BEQ      |L1.4604|
0011e6  2101              MOVS     r1,#1                 ;661
0011e8  e004              B        |L1.4596|
                  |L1.4586|
0011ea  48a2              LDR      r0,|L1.5236|
0011ec  8801              LDRH     r1,[r0,#0]            ;415  ; T_PROC_PS_MODE
0011ee  2900              CMP      r1,#0                 ;415
0011f0  d004              BEQ      |L1.4604|
0011f2  4631              MOV      r1,r6                 ;679
                  |L1.4596|
0011f4  8001              STRH     r1,[r0,#0]            ;417
0011f6  20f0              MOVS     r0,#0xf0              ;418
                  |L1.4600|
0011f8  f7fffffe          BL       lc640_write_int
                  |L1.4604|
0011fc  e114              B        |L1.5160|
                  |L1.4606|
0011fe  7903              LDRB     r3,[r0,#4]            ;423  ; modbus_cmnd_cnt
001200  f890c000          LDRB     r12,[r0,#0]           ;423  ; modbus_self_cmnd_cnt
001204  4563              CMP      r3,r12                ;423
001206  d008              BEQ      |L1.4634|
001208  7003              STRB     r3,[r0,#0]            ;425
00120a  f8980000          LDRB     r0,[r8,#0]            ;426  ; main_menu_mode
00120e  782b              LDRB     r3,[r5,#0]            ;426  ; work_stat
001210  ea500c03          ORRS     r12,r0,r3             ;426
001214  d002              BEQ      |L1.4636|
001216  2801              CMP      r0,#1                 ;467
001218  d010              BEQ      |L1.4668|
                  |L1.4634|
00121a  e105              B        |L1.5160|
                  |L1.4636|
00121c  8808              LDRH     r0,[r1,#0]            ;428  ; TIME_VISION_PULT
00121e  b138              CBZ      r0,|L1.4656|
001220  4891              LDR      r0,|L1.5224|
001222  f44f7116          MOV      r1,#0x258             ;430
001226  6803              LDR      r3,[r0,#0]            ;430  ; T_PROC_GS
001228  fb93f1f1          SDIV     r1,r3,r1              ;430
00122c  1c49              ADDS     r1,r1,#1              ;430
00122e  e061              B        |L1.4852|
                  |L1.4656|
001230  498d              LDR      r1,|L1.5224|
001232  680b              LDR      r3,[r1,#0]            ;435  ; T_PROC_GS
001234  fb93f3f9          SDIV     r3,r3,r9              ;435
001238  1c5b              ADDS     r3,r3,#1              ;435
00123a  e064              B        |L1.4870|
                  |L1.4668|
00123c  2b00              CMP      r3,#0                 ;467
00123e  d121              BNE      |L1.4740|
001240  8808              LDRH     r0,[r1,#0]            ;469  ; TIME_VISION_PULT
001242  b138              CBZ      r0,|L1.4692|
001244  498a              LDR      r1,|L1.5232|
001246  f44f7016          MOV      r0,#0x258             ;471
00124a  680a              LDR      r2,[r1,#0]            ;471  ; T_PROC_PS
00124c  fb92f0f0          SDIV     r0,r2,r0              ;471
001250  1c40              ADDS     r0,r0,#1              ;471
001252  e076              B        |L1.4930|
                  |L1.4692|
001254  4886              LDR      r0,|L1.5232|
001256  6802              LDR      r2,[r0,#0]            ;476  ; T_PROC_PS
001258  fb92f2f9          SDIV     r2,r2,r9              ;476
00125c  1c52              ADDS     r2,r2,#1              ;476
00125e  eb020282          ADD      r2,r2,r2,LSL #2       ;476
001262  0052              LSLS     r2,r2,#1              ;476
001264  6002              STR      r2,[r0,#0]            ;477  ; T_PROC_PS
001266  e078              B        |L1.4954|
                  |L1.4712|
001268  7903              LDRB     r3,[r0,#4]            ;510  ; modbus_cmnd_cnt
00126a  f890c000          LDRB     r12,[r0,#0]           ;510  ; modbus_self_cmnd_cnt
00126e  4563              CMP      r3,r12                ;510
001270  d008              BEQ      |L1.4740|
001272  7003              STRB     r3,[r0,#0]            ;512
001274  f8980000          LDRB     r0,[r8,#0]            ;513  ; main_menu_mode
001278  782b              LDRB     r3,[r5,#0]            ;513  ; work_stat
00127a  ea500c03          ORRS     r12,r0,r3             ;513
00127e  d002              BEQ      |L1.4742|
001280  2801              CMP      r0,#1                 ;556
001282  d00f              BEQ      |L1.4772|
                  |L1.4740|
001284  e0d0              B        |L1.5160|
                  |L1.4742|
001286  8808              LDRH     r0,[r1,#0]            ;515  ; TIME_VISION_PULT
001288  2800              CMP      r0,#0                 ;515
00128a  4877              LDR      r0,|L1.5224|
00128c  d007              BEQ      |L1.4766|
00128e  6803              LDR      r3,[r0,#0]            ;517  ; T_PROC_GS
001290  fb93f1fa          SDIV     r1,r3,r10             ;517
001294  1e49              SUBS     r1,r1,#1              ;517
                  |L1.4758|
001296  ebc11101          RSB      r1,r1,r1,LSL #4       ;517
00129a  0089              LSLS     r1,r1,#2              ;517
00129c  e77e              B        |L1.4508|
                  |L1.4766|
00129e  6801              LDR      r1,[r0,#0]            ;522  ; T_PROC_GS
0012a0  1e49              SUBS     r1,r1,#1              ;522
0012a2  e77b              B        |L1.4508|
                  |L1.4772|
0012a4  bbeb              CBNZ     r3,|L1.4898|
0012a6  8808              LDRH     r0,[r1,#0]            ;558  ; TIME_VISION_PULT
0012a8  2800              CMP      r0,#0                 ;558
0012aa  4871              LDR      r0,|L1.5232|
0012ac  d007              BEQ      |L1.4798|
0012ae  6802              LDR      r2,[r0,#0]            ;560  ; T_PROC_PS
0012b0  fb92f1fa          SDIV     r1,r2,r10             ;560
0012b4  1e49              SUBS     r1,r1,#1              ;560
                  |L1.4790|
0012b6  ebc11101          RSB      r1,r1,r1,LSL #4       ;560
0012ba  0089              LSLS     r1,r1,#2              ;560
0012bc  e78c              B        |L1.4568|
                  |L1.4798|
0012be  6801              LDR      r1,[r0,#0]            ;565  ; T_PROC_PS
0012c0  1e49              SUBS     r1,r1,#1              ;565
0012c2  e789              B        |L1.4568|
                  |L1.4804|
0012c4  7903              LDRB     r3,[r0,#4]            ;598  ; modbus_cmnd_cnt
0012c6  f890c000          LDRB     r12,[r0,#0]           ;598  ; modbus_self_cmnd_cnt
0012ca  4563              CMP      r3,r12                ;598
0012cc  d029              BEQ      |L1.4898|
0012ce  7003              STRB     r3,[r0,#0]            ;600
0012d0  f8980000          LDRB     r0,[r8,#0]            ;601  ; main_menu_mode
0012d4  782b              LDRB     r3,[r5,#0]            ;601  ; work_stat
0012d6  ea500c03          ORRS     r12,r0,r3             ;601
0012da  d002              BEQ      |L1.4834|
0012dc  2801              CMP      r0,#1                 ;643
0012de  d026              BEQ      |L1.4910|
0012e0  e0a2              B        |L1.5160|
                  |L1.4834|
0012e2  8808              LDRH     r0,[r1,#0]            ;603  ; TIME_VISION_PULT
0012e4  b150              CBZ      r0,|L1.4860|
0012e6  4860              LDR      r0,|L1.5224|
0012e8  f44f7116          MOV      r1,#0x258             ;605
0012ec  6803              LDR      r3,[r0,#0]            ;605  ; T_PROC_GS
0012ee  fb93f1f1          SDIV     r1,r3,r1              ;605
0012f2  1e49              SUBS     r1,r1,#1              ;605
                  |L1.4852|
0012f4  f44f7316          MOV      r3,#0x258             ;605
0012f8  4359              MULS     r1,r3,r1              ;605
0012fa  e74f              B        |L1.4508|
                  |L1.4860|
0012fc  495a              LDR      r1,|L1.5224|
0012fe  680b              LDR      r3,[r1,#0]            ;610  ; T_PROC_GS
001300  fb93f3f9          SDIV     r3,r3,r9              ;610
001304  1e5b              SUBS     r3,r3,#1              ;610
                  |L1.4870|
001306  eb030383          ADD      r3,r3,r3,LSL #2       ;435
00130a  005b              LSLS     r3,r3,#1              ;435
00130c  600b              STR      r3,[r1,#0]            ;435  ; T_PROC_GS
                  |L1.4878|
00130e  4856              LDR      r0,|L1.5224|
001310  4959              LDR      r1,|L1.5240|
001312  f8a29000          STRH     r9,[r2,#0]            ;611
001316  6802              LDR      r2,[r0,#0]            ;353  ; T_PROC_GS
001318  6809              LDR      r1,[r1,#0]            ;353  ; T_PROC_MAX
00131a  428a              CMP      r2,r1                 ;353
00131c  dd02              BLE      |L1.4900|
00131e  1c49              ADDS     r1,r1,#1              ;616
001320  e73e              B        |L1.4512|
                  |L1.4898|
001322  e044              B        |L1.5038|
                  |L1.4900|
001324  2a1e              CMP      r2,#0x1e              ;624
001326  f6bfaf42          BGE      |L1.4526|
00132a  211d              MOVS     r1,#0x1d              ;626
00132c  e738              B        |L1.4512|
                  |L1.4910|
00132e  bbf3              CBNZ     r3,|L1.5038|
001330  8808              LDRH     r0,[r1,#0]            ;645  ; TIME_VISION_PULT
001332  494f              LDR      r1,|L1.5232|
001334  680a              LDR      r2,[r1,#0]            ;645  ; T_PROC_PS
001336  b148              CBZ      r0,|L1.4940|
001338  f44f7016          MOV      r0,#0x258             ;647
00133c  fb92f0f0          SDIV     r0,r2,r0              ;647
001340  1e40              SUBS     r0,r0,#1              ;647
                  |L1.4930|
001342  f44f7216          MOV      r2,#0x258             ;471
001346  4350              MULS     r0,r2,r0              ;471
001348  6008              STR      r0,[r1,#0]            ;471  ; T_PROC_PS
00134a  e006              B        |L1.4954|
                  |L1.4940|
00134c  fb92f2f9          SDIV     r2,r2,r9              ;652
001350  1e52              SUBS     r2,r2,#1              ;652
001352  eb020282          ADD      r2,r2,r2,LSL #2       ;652
001356  0052              LSLS     r2,r2,#1              ;652
001358  600a              STR      r2,[r1,#0]            ;652  ; T_PROC_PS
                  |L1.4954|
00135a  4845              LDR      r0,|L1.5232|
00135c  4946              LDR      r1,|L1.5240|
00135e  f8ab9000          STRH     r9,[r11,#0]           ;653
001362  6802              LDR      r2,[r0,#0]            ;394  ; T_PROC_PS
001364  6809              LDR      r1,[r1,#0]            ;394  ; T_PROC_MAX
001366  428a              CMP      r2,r1                 ;394
001368  dd01              BLE      |L1.4974|
00136a  1c49              ADDS     r1,r1,#1              ;658
00136c  e736              B        |L1.4572|
                  |L1.4974|
00136e  2a1e              CMP      r2,#0x1e              ;666
001370  f6bfaf3b          BGE      |L1.4586|
001374  211d              MOVS     r1,#0x1d              ;668
001376  e731              B        |L1.4572|
                  |L1.4984|
001378  7901              LDRB     r1,[r0,#4]  ; modbus_cmnd_cnt
00137a  7802              LDRB     r2,[r0,#0]  ; modbus_self_cmnd_cnt
00137c  4291              CMP      r1,r2
00137e  d053              BEQ      |L1.5160|
;;;689    					{
;;;690    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;691    					if(tumbler_stat==tsI)
;;;692    						{
;;;693    						if(work_stat!=wsGS)
;;;694    							{
;;;695    							if(SK_START==2)
;;;696    								{
;;;697    								if(SK_START_LEV)
;;;698    									{
;;;699    									if(sk_in_drv_stat==1)
;;;700    										{
;;;701    										return;
;;;702    										}
;;;703    									}
;;;704    								if(!SK_START_LEV)
;;;705    									{
;;;706    									if(sk_in_drv_stat==-1)
;;;707    										{
;;;708    										return;
;;;709    										}
;;;710    									}
;;;711    								}
;;;712    							work_stat=wsGS;
;;;713    							time_proc=0;
;;;714    							time_proc_remain=T_PROC_GS;
;;;715    							index_set=0;
001380  f8df80f8          LDR      r8,|L1.5244|
001384  7001              STRB     r1,[r0,#0]            ;690
001386  46f1              MOV      r9,lr                 ;691
001388  f1bc0f00          CMP      r12,#0                ;691
00138c  d124              BNE      |L1.5080|
00138e  7828              LDRB     r0,[r5,#0]            ;693  ; work_stat
001390  2801              CMP      r0,#1                 ;693
001392  d01e              BEQ      |L1.5074|
001394  483a              LDR      r0,|L1.5248|
001396  8800              LDRH     r0,[r0,#0]            ;695  ; SK_START
001398  2802              CMP      r0,#2                 ;695
00139a  d10d              BNE      |L1.5048|
00139c  4839              LDR      r0,|L1.5252|
00139e  8800              LDRH     r0,[r0,#0]            ;697  ; SK_START_LEV
0013a0  2800              CMP      r0,#0                 ;697
0013a2  4839              LDR      r0,|L1.5256|
0013a4  d004              BEQ      |L1.5040|
0013a6  8800              LDRH     r0,[r0,#0]            ;699  ; sk_in_drv_stat
0013a8  2801              CMP      r0,#1                 ;699
                  |L1.5034|
0013aa  d077              BEQ      |L1.5276|
0013ac  e004              B        |L1.5048|
                  |L1.5038|
0013ae  e037              B        |L1.5152|
                  |L1.5040|
0013b0  f9b00000          LDRSH    r0,[r0,#0]            ;706  ; sk_in_drv_stat
0013b4  1c40              ADDS     r0,r0,#1              ;706
0013b6  d0f8              BEQ      |L1.5034|
                  |L1.5048|
0013b8  2001              MOVS     r0,#1                 ;712
0013ba  7028              STRB     r0,[r5,#0]            ;712
0013bc  4833              LDR      r0,|L1.5260|
0013be  6006              STR      r6,[r0,#0]            ;714  ; time_proc
0013c0  4829              LDR      r0,|L1.5224|
0013c2  6801              LDR      r1,[r0,#0]            ;714  ; T_PROC_GS
0013c4  4832              LDR      r0,|L1.5264|
0013c6  6001              STR      r1,[r0,#0]  ; time_proc_remain
0013c8  f8886004          STRB     r6,[r8,#4]
;;;716    							restart_on_GS();
0013cc  f7fffffe          BL       restart_on_GS
0013d0  e002              B        |L1.5080|
                  |L1.5074|
;;;717    							}			
;;;718    						else 
;;;719    							{
;;;720    							work_stat=wsOFF;
0013d2  702e              STRB     r6,[r5,#0]
;;;721    							restart_off();
0013d4  f7fffffe          BL       restart_off
                  |L1.5080|
;;;722    							}
;;;723    						}
;;;724    				
;;;725    					if(tumbler_stat==tsU)
0013d8  f8990000          LDRB     r0,[r9,#0]  ; tumbler_stat
0013dc  2801              CMP      r0,#1
0013de  d123              BNE      |L1.5160|
;;;726    						{
;;;727    						if(work_stat!=wsPS)
0013e0  7828              LDRB     r0,[r5,#0]  ; work_stat
0013e2  2802              CMP      r0,#2
0013e4  d01d              BEQ      |L1.5154|
;;;728    							{
;;;729    							if(SK_START==2)
0013e6  4826              LDR      r0,|L1.5248|
0013e8  8800              LDRH     r0,[r0,#0]  ; SK_START
0013ea  2802              CMP      r0,#2
0013ec  d10c              BNE      |L1.5128|
;;;730    								{
;;;731    								if(SK_START_LEV)
0013ee  4825              LDR      r0,|L1.5252|
0013f0  8800              LDRH     r0,[r0,#0]  ; SK_START_LEV
0013f2  2800              CMP      r0,#0
;;;732    									{
;;;733    									if(sk_in_drv_stat==1)
;;;734    										{
;;;735    										return;
;;;736    										}
;;;737    									}
;;;738    								if(!SK_START_LEV)
;;;739    									{
;;;740    									if(sk_in_drv_stat==-1)
0013f4  4824              LDR      r0,|L1.5256|
0013f6  d003              BEQ      |L1.5120|
0013f8  8800              LDRH     r0,[r0,#0]            ;733  ; sk_in_drv_stat
0013fa  2801              CMP      r0,#1                 ;733
0013fc  d0d5              BEQ      |L1.5034|
0013fe  e003              B        |L1.5128|
                  |L1.5120|
001400  f9b00000          LDRSH    r0,[r0,#0]  ; sk_in_drv_stat
001404  1c40              ADDS     r0,r0,#1
001406  d0d0              BEQ      |L1.5034|
                  |L1.5128|
;;;741    										{
;;;742    										return;
;;;743    										}
;;;744    									}
;;;745    								}
;;;746    							work_stat=wsPS;
001408  2002              MOVS     r0,#2
00140a  7028              STRB     r0,[r5,#0]
;;;747    							time_proc=0;
00140c  481f              LDR      r0,|L1.5260|
;;;748    							time_proc_remain=T_PROC_PS;
00140e  6006              STR      r6,[r0,#0]  ; time_proc
001410  4817              LDR      r0,|L1.5232|
001412  6801              LDR      r1,[r0,#0]  ; T_PROC_PS
001414  481e              LDR      r0,|L1.5264|
;;;749    							index_set=0;
001416  6001              STR      r1,[r0,#0]  ; time_proc_remain
001418  f8886004          STRB     r6,[r8,#4]
;;;750    							restart_on_PS();
00141c  f7fffffe          BL       restart_on_PS
                  |L1.5152|
001420  e002              B        |L1.5160|
                  |L1.5154|
;;;751    							}			
;;;752    						else
;;;753    							{
;;;754    							work_stat=wsOFF;
001422  702e              STRB     r6,[r5,#0]
;;;755    							restart_off();
001424  f7fffffe          BL       restart_off
                  |L1.5160|
;;;756    							}
;;;757    						}
;;;758    					}
;;;759    				}
;;;760    			}
;;;761    		}
;;;762    
;;;763    	if(modbus_an_buffer[0]==MODBUS_ADRESS)
001428  481a              LDR      r0,|L1.5268|
00142a  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
00142c  481a              LDR      r0,|L1.5272|
00142e  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
001432  4281              CMP      r1,r0
                  |L1.5172|
001434  d132              BNE      |L1.5276|
;;;764    		{
;;;765    		if(modbus_func==3)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ
001436  9903              LDR      r1,[sp,#0xc]
001438  2903              CMP      r1,#3
00143a  d07e              BEQ      |L1.5434|
;;;766    			{
;;;767    			if((modbus_rx_arg0>=50)&&(modbus_rx_arg0<100)) modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func, modbus_rx_arg0,modbus_rx_arg1, MODBUS_RTU_PROT);
;;;768    			}
;;;769    		else if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ	βυξδξβ
00143c  2904              CMP      r1,#4
00143e  d07d              BEQ      |L1.5436|
;;;770    			{
;;;771    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0, modbus_rx_arg1, MODBUS_RTU_PROT);
;;;772    			}
;;;773    
;;;774    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπΰ
001440  2906              CMP      r1,#6
001442  d1f7              BNE      |L1.5172|
;;;775    			{
;;;776    			if(modbus_rx_arg0==50)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
001444  2f32              CMP      r7,#0x32
001446  d07a              BEQ      |L1.5438|
;;;777    				{
;;;778    				I_ug=modbus_rx_arg1;
;;;779    				lc640_write_int(EE_I_UG,I_ug);
;;;780    				}
;;;781    			if(modbus_rx_arg0==51)		//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
001448  2f33              CMP      r7,#0x33
00144a  d079              BEQ      |L1.5440|
;;;782    				{
;;;783    				U_up=modbus_rx_arg1;
;;;784    				lc640_write_int(EE_U_UP,U_up);
;;;785    				}
;;;786    			if(modbus_rx_arg0==52)		//μΰκρθμΰολόνξε νΰοπζενθε δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
00144c  2f34              CMP      r7,#0x34
00144e  e026              B        |L1.5278|
                  |L1.5200|
                          DCD      I_ug
                  |L1.5204|
                          DCD      I_MAX_IPS
                  |L1.5208|
                          DCD      I_MIN_IPS
                  |L1.5212|
                          DCD      U_up
                  |L1.5216|
                          DCD      U_MAX
                  |L1.5220|
                          DCD      U_MIN
                  |L1.5224|
                          DCD      T_PROC_GS
                  |L1.5228|
                          DCD      T_PROC_GS_MODE
                  |L1.5232|
                          DCD      T_PROC_PS
                  |L1.5236|
                          DCD      T_PROC_PS_MODE
                  |L1.5240|
                          DCD      T_PROC_MAX
                  |L1.5244|
                          DCD      a_ind
                  |L1.5248|
                          DCD      SK_START
                  |L1.5252|
                          DCD      SK_START_LEV
                  |L1.5256|
                          DCD      sk_in_drv_stat
                  |L1.5260|
                          DCD      time_proc
                  |L1.5264|
                          DCD      time_proc_remain
                  |L1.5268|
                          DCD      ||area_number.5||+0x1e
                  |L1.5272|
                          DCD      MODBUS_ADRESS
                  |L1.5276|
00149c  e064              B        |L1.5480|
                  |L1.5278|
00149e  d072              BEQ      |L1.5510|
;;;787    				{
;;;788    				U_maxg=modbus_rx_arg1;
;;;789    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;790    				}
;;;791    			if(modbus_rx_arg0==53)		//μΰκρθμΰλόνϋι ςξκ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
0014a0  2f35              CMP      r7,#0x35
0014a2  d071              BEQ      |L1.5512|
;;;792    				{
;;;793    				I_maxp=modbus_rx_arg1;
;;;794    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;795    				}								
;;;796    			if(modbus_rx_arg0==54)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.ρεκσνδϋ
;;;797    				{
;;;798    				signed long sec,min,hour;
;;;799    				sec=(signed long)modbus_rx_arg1;
;;;800    				min=(T_PROC_GS/60L)%60L;
;;;801    				hour=T_PROC_GS/3600L;
0014a4  f44f6061          MOV      r0,#0xe10
0014a8  2f36              CMP      r7,#0x36              ;796
0014aa  d06e              BEQ      |L1.5514|
;;;802    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;803    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;804    				}
;;;805    			if(modbus_rx_arg0==55)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.μθνσςϋ
0014ac  2f37              CMP      r7,#0x37
0014ae  d06d              BEQ      |L1.5516|
;;;806    				{
;;;807    				signed long sec,min,hour;
;;;808    				sec=T_PROC_GS%60L;
;;;809    				min=(signed long)modbus_rx_arg1;
;;;810    				hour=T_PROC_GS/3600L;
;;;811    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;812    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;813    				}
;;;814    			if(modbus_rx_arg0==56)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.ςξκΰ.χΰρϋ
0014b0  2f38              CMP      r7,#0x38
0014b2  d06c              BEQ      |L1.5518|
;;;815    				{
;;;816    				signed long sec,min,hour;
;;;817    				sec=T_PROC_GS%60L;
;;;818    				min=(T_PROC_GS/60L)%60L;
;;;819    				hour=(signed long)modbus_rx_arg1;
;;;820    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;821    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;822    				}
;;;823    			if(modbus_rx_arg0==57)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.ρεκσνδϋ
0014b4  2f39              CMP      r7,#0x39
0014b6  d06b              BEQ      |L1.5520|
;;;824    				{
;;;825    				signed long sec,min,hour;
;;;826    				sec=(signed long)modbus_rx_arg1;
;;;827    				min=(T_PROC_PS/60L)%60L;
;;;828    				hour=T_PROC_PS/3600L;
;;;829    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;830    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;831    				}
;;;832    
;;;833    			if(modbus_rx_arg0==58)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.μθνσςϋ
0014b8  2f3a              CMP      r7,#0x3a
0014ba  d06a              BEQ      |L1.5522|
;;;834    				{
;;;835    				signed long sec,min,hour;
;;;836    				sec=T_PROC_PS%60L;
;;;837    				min=(signed long)modbus_rx_arg1;
;;;838    				hour=T_PROC_PS/3600L;
;;;839    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;840    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;841    				}
;;;842    
;;;843    			if(modbus_rx_arg0==59)		//Σρςΰνξβκΰ βπεμενθ δλ θρς.νΰοπ.χΰρϋ
0014bc  2f3b              CMP      r7,#0x3b
0014be  d069              BEQ      |L1.5524|
;;;844    				{
;;;845    				signed long sec,min,hour;
;;;846    				sec=T_PROC_PS%60L;
;;;847    				min=(T_PROC_PS/60L)%60L;
;;;848    				hour=(signed long)modbus_rx_arg1;
;;;849    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;850    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;851    				}
;;;852    
;;;853    			if(modbus_rx_arg0==60)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
0014c0  2f3c              CMP      r7,#0x3c
0014c2  d068              BEQ      |L1.5526|
;;;854    				{
;;;855    				if(modbus_rx_arg1==1)
;;;856    					{
;;;857    					if(work_stat!=wsPS)
;;;858    						{
;;;859    							if(SK_START==2)
;;;860    								{
;;;861    								if(SK_START_LEV)
;;;862    									{
;;;863    									if(sk_in_drv_stat==1)
;;;864    										{
;;;865    										return;
;;;866    										}
;;;867    									}
;;;868    								if(!SK_START_LEV)
;;;869    									{
;;;870    									if(sk_in_drv_stat==-1)
;;;871    										{
;;;872    										return;
;;;873    										}
;;;874    									}
;;;875    								}
;;;876    						work_stat=wsPS;
;;;877    						time_proc=0;
;;;878    						time_proc_remain=T_PROC_PS;
;;;879    						restart_on_PS();
;;;880    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;881    						}
;;;882    					}
;;;883    				if(modbus_rx_arg1==0)
;;;884    					{
;;;885    					if(work_stat==wsPS)
;;;886    						{
;;;887    						work_stat=wsOFF;
;;;888    						restart_off();
;;;889    						}
;;;890    					}
;;;891    				}
;;;892    			if(modbus_rx_arg0==61)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
0014c4  2f3d              CMP      r7,#0x3d
0014c6  d067              BEQ      |L1.5528|
;;;893    				{
;;;894    				if(modbus_rx_arg1==1)
;;;895    					{
;;;896    					if(work_stat!=wsGS)
;;;897    						{
;;;898    							if(SK_START==2)
;;;899    								{
;;;900    								if(SK_START_LEV)
;;;901    									{
;;;902    									if(sk_in_drv_stat==1)
;;;903    										{
;;;904    										return;
;;;905    										}
;;;906    									}
;;;907    								if(!SK_START_LEV)
;;;908    									{
;;;909    									if(sk_in_drv_stat==-1)
;;;910    										{
;;;911    										return;
;;;912    										}
;;;913    									}
;;;914    								}
;;;915    						work_stat=wsGS;
;;;916    						time_proc=0;
;;;917    						time_proc_remain=T_PROC_GS;
;;;918    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;919    						}
;;;920    					}
;;;921    				if(modbus_rx_arg1==0)
;;;922    					{
;;;923    					if(work_stat==wsGS)
;;;924    						{
;;;925    						work_stat=wsOFF;
;;;926    						restart_off();
;;;927    						}
;;;928    					}
;;;929    				}
;;;930    
;;;931    			if(modbus_rx_arg0==62)		//οεπεκλώχενθε πελε πεβεπρΰ
0014c8  2f3e              CMP      r7,#0x3e
0014ca  d070              BEQ      |L1.5550|
;;;932    				{
;;;933    					{
;;;934    					if(work_stat==wsOFF)
;;;935    						{
;;;936    						if(modbus_rx_arg1==0)REV_STAT=rsFF;
;;;937    						if(modbus_rx_arg1==1)REV_STAT=rsREW;
;;;938    						}
;;;939    					}
;;;940    				}
;;;941    			if(modbus_rx_arg0==63)		//βκλώχενθε-βϋκλώχενθε ΰβςξπεβεπρΰ
0014cc  2f3f              CMP      r7,#0x3f
0014ce  d06f              BEQ      |L1.5552|
;;;942    				{
;;;943    					{
;;;944    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;945    						{
;;;946    						if(modbus_rx_arg1==1)AVT_REV_IS_ON=1;
;;;947    						if(modbus_rx_arg1==0)AVT_REV_IS_ON=0;
;;;948    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;949    						}
;;;950    					}
;;;951    				}
;;;952    			if(modbus_rx_arg0==64)		//ΐβςξπεβεπρ, βπεμ πΰαξςϋ οπμξε, ρεκ
0014d0  2f40              CMP      r7,#0x40
0014d2  d06e              BEQ      |L1.5554|
;;;953    				{
;;;954    				if(work_stat==wsOFF)
;;;955    					{
;;;956    					AVT_REV_TIME_FF=modbus_rx_arg1;
;;;957    					gran(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;958    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;959    					}
;;;960    				}
;;;961    			if(modbus_rx_arg0==65)		//ΐβςξπεβεπρ, βπεμ πΰαξςϋ ξαπΰςνξε, ρεκ
0014d4  2f41              CMP      r7,#0x41
0014d6  d06d              BEQ      |L1.5556|
;;;962    				{
;;;963    				if(work_stat==wsOFF)
;;;964    					{
;;;965    					AVT_REV_TIME_REW=modbus_rx_arg1;
;;;966    					gran(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;967    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;968    					}
;;;969    				}
;;;970    			if(modbus_rx_arg0==66)		//ΐβςξπεβεπρ, βπεμ οΰσηϋ οπθ οεπεκλώχενθθ, ρεκ
0014d8  2f42              CMP      r7,#0x42
0014da  d06c              BEQ      |L1.5558|
;;;971    				{
;;;972    				if(work_stat==wsOFF)
;;;973    					{
;;;974    					AVT_REV_TIME_PAUSE=modbus_rx_arg1;
;;;975    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;976    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;977    					}
;;;978    				}
;;;979    
;;;980    			if(modbus_rx_arg0==67)		//ΐβςξπεβεπρ, ςξκ ρςΰαθλθηΰφθθ οπμξι, 0.1ΐ
0014dc  2f43              CMP      r7,#0x43
0014de  d06b              BEQ      |L1.5560|
;;;981    				{
;;;982    				if(work_stat==wsOFF)
;;;983    					{
;;;984    					AVT_REV_I_NOM_FF=modbus_rx_arg1;
;;;985    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;986    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;987    					}
;;;988    				}
;;;989    
;;;990    			if(modbus_rx_arg0==68)		//ΐβςξπεβεπρ, ςξκ ρςΰαθλθηΰφθθ ξαπΰςνϋι, 0.1ΐ
0014e0  2f44              CMP      r7,#0x44
0014e2  d06a              BEQ      |L1.5562|
;;;991    				{
;;;992    				if(work_stat==wsOFF)
;;;993    					{
;;;994    					AVT_REV_I_NOM_REW=modbus_rx_arg1;
;;;995    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;996    					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;997    					}
;;;998    				}
;;;999    			if(modbus_rx_arg0==69)		//ΐβςξπεβεπρ, νΰοπζενθε ρςΰαθλθηΰφθθ οπμξε, 0.1Β 
0014e4  2f45              CMP      r7,#0x45
0014e6  d069              BEQ      |L1.5564|
;;;1000   				{
;;;1001   				if(work_stat==wsOFF)
;;;1002   					{
;;;1003   					AVT_REV_U_NOM_FF=modbus_rx_arg1;
;;;1004   		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;1005   					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;1006   					}
;;;1007   				}
;;;1008   
;;;1009   			if(modbus_rx_arg0==70)		//ΐβςξπεβεπρ, νΰοπζενθε ρςΰαθλθηΰφθθ ξαπΰςνξε, 0.1Β
0014e8  2f46              CMP      r7,#0x46
0014ea  d068              BEQ      |L1.5566|
;;;1010   				{
;;;1011   				if(work_stat==wsOFF)
;;;1012   					{
;;;1013   					AVT_REV_U_NOM_REW=modbus_rx_arg1;
;;;1014   		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;1015   					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;1016   					}
;;;1017   				}
;;;1018   
;;;1019   			if(modbus_rx_arg0==71)		//Βπεμ ηΰπδΰ θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;1020   				{
;;;1021   				if(work_stat==wsOFF)
;;;1022   					{
;;;1023   					CAP_ZAR_TIME=modbus_rx_arg1;
0014ec  48f8              LDR      r0,|L1.6352|
;;;1024   		    			gran(&CAP_ZAR_TIME,10,9999);
0014ee  f242720f          MOV      r2,#0x270f
0014f2  2f47              CMP      r7,#0x47              ;1019
0014f4  d07e              BEQ      |L1.5620|
;;;1025   					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1026   					}
;;;1027   				}
;;;1028   			if(modbus_rx_arg0==72)		//Βπεμ οΰσηϋ1 θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;1029   				{
;;;1030   				if(work_stat==wsOFF)
;;;1031   					{
;;;1032   					CAP_PAUSE1_TIME=modbus_rx_arg1;
0014f6  f8df83dc          LDR      r8,|L1.6356|
0014fa  2f48              CMP      r7,#0x48              ;1028
0014fc  d07b              BEQ      |L1.5622|
;;;1033   		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;1034   					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1035   					}
;;;1036   				}
;;;1037   			if(modbus_rx_arg0==73)		//Βπεμ πΰηπδΰ θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;1038   				{
;;;1039   				if(work_stat==wsOFF)
;;;1040   					{
;;;1041   					CAP_RAZR_TIME=modbus_rx_arg1;
0014fe  f8df93d8          LDR      r9,|L1.6360|
001502  2f49              CMP      r7,#0x49              ;1037
001504  d078              BEQ      |L1.5624|
;;;1042   		    			gran(&CAP_RAZR_TIME,10,9999);
;;;1043   					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1044   					}
;;;1045   				}
;;;1046   			if(modbus_rx_arg0==74)		//Βπεμ οΰσηϋ2 θροϋςΰςελόνξγξ φθκλΰ, 0.1Ρ 
;;;1047   				{
;;;1048   				if(work_stat==wsOFF)
;;;1049   					{
;;;1050   					CAP_PAUSE2_TIME=modbus_rx_arg1;
001506  f8dfb3d4          LDR      r11,|L1.6364|
00150a  2f4a              CMP      r7,#0x4a              ;1046
00150c  d075              BEQ      |L1.5626|
;;;1051   		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;1052   					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1053   					}
;;;1054   				}
;;;1055   
;;;1056   			if(modbus_rx_arg0==75)		//Μΰκρθμΰλόνξε νΰοπζενθε θροϋςΰςελόνξγξ φθκλΰ, 1Β  
;;;1057   				{
;;;1058   				if(work_stat==wsOFF)
;;;1059   					{
;;;1060   					CAP_MAX_VOLT=modbus_rx_arg1;
00150e  49f4              LDR      r1,|L1.6368|
001510  2f4b              CMP      r7,#0x4b              ;1056
001512  d073              BEQ      |L1.5628|
;;;1061   		    			gran(&CAP_MAX_VOLT,1,100);
;;;1062   					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1063   					}
;;;1064   				}
;;;1065   			if(modbus_rx_arg0==76)		//Πΰαξχθι ςξκ θροϋςΰςελόνξγξ φθκλΰ, 1ΐ 
;;;1066   				{
;;;1067   				if(work_stat==wsOFF)
;;;1068   					{
;;;1069   					CAP_WRK_CURR=modbus_rx_arg1;
001514  f8dfa3cc          LDR      r10,|L1.6372|
001518  2f4c              CMP      r7,#0x4c              ;1065
00151a  d070              BEQ      |L1.5630|
;;;1070   		    			gran(&CAP_WRK_CURR,1,150);
;;;1071   					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1072   					}
;;;1073   				}
;;;1074   
;;;1075   			if(modbus_rx_arg0==77)		//Πεγθρςπ δλ ηΰοθρθ κξμΰνδ 
00151c  2f4d              CMP      r7,#0x4d
00151e  d06f              BEQ      |L1.5632|
;;;1076   				{
;;;1077   				if(modbus_rx_arg1==0x11)
;;;1078   					{
;;;1079   					start_CAP();
;;;1080   					}
;;;1081   				if(modbus_rx_arg1==0x12)
;;;1082   					{
;;;1083   					pause_CAP();
;;;1084   					}
;;;1085   				if(modbus_rx_arg1==0x13)
;;;1086   					{
;;;1087   					stop_CAP();
;;;1088   					}
;;;1089   				if(modbus_rx_arg1==0x14)
;;;1090   					{
;;;1091   					reset_CAP();
;;;1092   					}
;;;1093   
;;;1094   				if(modbus_rx_arg1==0x21)
;;;1095   					{
;;;1096   					if(work_stat==wsOFF)
;;;1097   						{
;;;1098   						CAP_ZAR_TIME++;
;;;1099   		    				gran(&CAP_ZAR_TIME,10,9999);
;;;1100   						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1101   						}
;;;1102   					}
;;;1103   				if(modbus_rx_arg1==0x22)
;;;1104   					{
;;;1105   					if(work_stat==wsOFF)
;;;1106   						{
;;;1107   						CAP_ZAR_TIME--;
;;;1108   		    				gran(&CAP_ZAR_TIME,10,9999);
;;;1109   						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1110   						}
;;;1111   					}
;;;1112   
;;;1113   				if(modbus_rx_arg1==0x31)
;;;1114   					{
;;;1115   					if(work_stat==wsOFF)
;;;1116   						{
;;;1117   						CAP_PAUSE1_TIME++;
;;;1118   		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;1119   						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1120   						}
;;;1121   					}
;;;1122   				if(modbus_rx_arg1==0x32)
;;;1123   					{
;;;1124   					if(work_stat==wsOFF)
;;;1125   						{
;;;1126   						CAP_PAUSE1_TIME--;
;;;1127   		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;1128   						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1129   						}
;;;1130   					}
;;;1131   
;;;1132   				if(modbus_rx_arg1==0x41)
;;;1133   					{
;;;1134   					if(work_stat==wsOFF)
;;;1135   						{
;;;1136   						CAP_RAZR_TIME++;
;;;1137   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1138   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1139   						}
;;;1140   					}
;;;1141   				if(modbus_rx_arg1==0x42)
;;;1142   					{
;;;1143   					if(work_stat==wsOFF)
;;;1144   						{
;;;1145   						CAP_RAZR_TIME--;
;;;1146   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1147   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1148   						}
;;;1149   					}
;;;1150   
;;;1151   				if(modbus_rx_arg1==0x51)
;;;1152   					{
;;;1153   					if(work_stat==wsOFF)
;;;1154   						{
;;;1155   						CAP_PAUSE2_TIME++;
;;;1156   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1157   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1158   						}
;;;1159   					}
;;;1160   				if(modbus_rx_arg1==0x52)
;;;1161   					{
;;;1162   					if(work_stat==wsOFF)
;;;1163   						{
;;;1164   						CAP_PAUSE2_TIME--;
;;;1165   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1166   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1167   						}
;;;1168   					}
;;;1169   
;;;1170   				if(modbus_rx_arg1==0x61)
;;;1171   					{
;;;1172   					if(work_stat==wsOFF)
;;;1173   						{
;;;1174   						CAP_MAX_VOLT++;
;;;1175   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1176   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1177   						}
;;;1178   					}
;;;1179   				if(modbus_rx_arg1==0x62)
;;;1180   					{
;;;1181   					if(work_stat==wsOFF)
;;;1182   						{
;;;1183   						CAP_MAX_VOLT--;
;;;1184   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1185   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1186   						}
;;;1187   					}
;;;1188   
;;;1189   				if(modbus_rx_arg1==0x71)
;;;1190   					{
;;;1191   					if(work_stat==wsOFF)
;;;1192   						{
;;;1193   						CAP_WRK_CURR++;
;;;1194   		    				gran(&CAP_WRK_CURR,1,150);
;;;1195   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1196   						}
;;;1197   					}
;;;1198   				if(modbus_rx_arg1==0x72)
;;;1199   					{
;;;1200   					if(work_stat==wsOFF)
;;;1201   						{
;;;1202   						CAP_WRK_CURR--;
;;;1203   		    				gran(&CAP_WRK_CURR,1,150);
;;;1204   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1205   						}
;;;1206   					}
;;;1207   
;;;1208   				}
;;;1209   
;;;1210   			if(modbus_rx_arg0==80)		//Ψθμ νΰοπζενθ β πεζθμε νεοξρπεδρςβεννξγξ σοπΰβλενθ 
001520  2f50              CMP      r7,#0x50
001522  d06e              BEQ      |L1.5634|
;;;1211   				{
;;;1212   				pwm_u_reg = modbus_rx_arg1;
;;;1213   				}
;;;1214   
;;;1215   			if(modbus_rx_arg0==81)		//Ψθμ ςξκΰ β πεζθμε νεοξρπεδρςβεννξγξ σοπΰβλενθ 
001524  2f51              CMP      r7,#0x51
001526  d06d              BEQ      |L1.5636|
;;;1216   				{
;;;1217   				pwm_i_reg = modbus_rx_arg1;
;;;1218   				}
;;;1219   
;;;1220   			if(modbus_rx_arg0==82)		//Πεγθρςπ βπεμενθ β πεζθμε νεοξρπεδρςβεννξγξ σοπΰβλενθ 
001528  2f52              CMP      r7,#0x52
00152a  d06c              BEQ      |L1.5638|
;;;1221   				{
;;;1222   				pwm_t_reg = modbus_rx_arg1*10;
;;;1223   				}
;;;1224   
;;;1225   			if(modbus_rx_arg0==90)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ, β ΞΗΣ
;;;1226   				{
;;;1227   				I_ug_ram=modbus_rx_arg1;
;;;1228   				eepromRamSwitch=1;
00152c  48ee              LDR      r0,|L1.6376|
;;;1229   				ramModbusCnt=300;
00152e  f44f7896          MOV      r8,#0x12c
001532  f8df93b8          LDR      r9,|L1.6380|
001536  2f5a              CMP      r7,#0x5a              ;1225
001538  e003              B        |L1.5442|
                  |L1.5434|
00153a  e00a              B        |L1.5458|
                  |L1.5436|
00153c  e017              B        |L1.5486|
                  |L1.5438|
00153e  e01d              B        |L1.5500|
                  |L1.5440|
001540  e02b              B        |L1.5530|
                  |L1.5442|
001542  d076              BEQ      |L1.5682|
;;;1230   				}
;;;1231   
;;;1232   			if(modbus_rx_arg0==91)	//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ, β ΞΗΣ
001544  2f5b              CMP      r7,#0x5b
001546  d075              BEQ      |L1.5684|
;;;1233   				{
;;;1234   				U_up_ram=modbus_rx_arg1;
;;;1235   				eepromRamSwitch=1;
;;;1236   				ramModbusCnt=300;
;;;1237   				}
;;;1238   
;;;1239   			if(modbus_rx_arg0==92)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
001548  2f5c              CMP      r7,#0x5c
00154a  d074              BEQ      |L1.5686|
;;;1240   				{
;;;1241   				if(modbus_rx_arg1==1)
;;;1242   					{
;;;1243   					if(work_stat!=wsPS)
;;;1244   						{
;;;1245   							if(SK_START==2)
;;;1246   								{
;;;1247   								if(SK_START_LEV)
;;;1248   									{
;;;1249   									if(sk_in_drv_stat==1)
;;;1250   										{
;;;1251   										return;
;;;1252   										}
;;;1253   									}
;;;1254   								if(!SK_START_LEV)
;;;1255   									{
;;;1256   									if(sk_in_drv_stat==-1)
;;;1257   										{
;;;1258   										return;
;;;1259   										}
;;;1260   									}
;;;1261   								}
;;;1262   						work_stat=wsPS;
;;;1263   						time_proc=0;
;;;1264   						time_proc_remain=T_PROC_PS;
;;;1265   						restart_on_PS();
;;;1266   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;1267   						}
;;;1268   					}
;;;1269   				if(modbus_rx_arg1==0)
;;;1270   					{
;;;1271   					if(work_stat==wsPS)
;;;1272   						{
;;;1273   						work_stat=wsOFF;
;;;1274   						restart_off();
;;;1275   						}
;;;1276   					}
;;;1277   				ramModbusCnt=300;
;;;1278   				}
;;;1279   			if(modbus_rx_arg0==93)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
00154c  2f5d              CMP      r7,#0x5d
00154e  d073              BEQ      |L1.5688|
001550  e30f              B        |L1.7026|
                  |L1.5458|
001552  f1a70132          SUB      r1,r7,#0x32           ;767
001556  2932              CMP      r1,#0x32              ;767
001558  d206              BCS      |L1.5480|
00155a  4623              MOV      r3,r4                 ;767
00155c  463a              MOV      r2,r7                 ;767
00155e  9600              STR      r6,[sp,#0]            ;767
001560  b2c0              UXTB     r0,r0                 ;767
001562  9903              LDR      r1,[sp,#0xc]          ;767
001564  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.5480|
;;;1280   				{
;;;1281   				if(modbus_rx_arg1==1)
;;;1282   					{
;;;1283   					if(work_stat!=wsGS)
;;;1284   						{
;;;1285   							if(SK_START==2)
;;;1286   								{
;;;1287   								if(SK_START_LEV)
;;;1288   									{
;;;1289   									if(sk_in_drv_stat==1)
;;;1290   										{
;;;1291   										return;
;;;1292   										}
;;;1293   									}
;;;1294   								if(!SK_START_LEV)
;;;1295   									{
;;;1296   									if(sk_in_drv_stat==-1)
;;;1297   										{
;;;1298   										return;
;;;1299   										}
;;;1300   									}
;;;1301   								}
;;;1302   						work_stat=wsGS;
;;;1303   						time_proc=0;
;;;1304   						time_proc_remain=T_PROC_GS;
;;;1305   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;1306   						}
;;;1307   					}
;;;1308   				if(modbus_rx_arg1==0)
;;;1309   					{
;;;1310   					if(work_stat==wsGS)
;;;1311   						{
;;;1312   						work_stat=wsOFF;
;;;1313   						restart_off();
;;;1314   						}
;;;1315   					}
;;;1316   				ramModbusCnt=300;
;;;1317   				}
;;;1318   
;;;1319   											
;;;1320   			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;1321   				{
;;;1322   				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;1323   				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;1324   				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;1325   				T_PROC_GS_MODE=1;	
;;;1326   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1327   				}
;;;1328   			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;1329   				{
;;;1330   				T_PROC_GS_MODE=0;	
;;;1331   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1332   				}
;;;1333   			
;;;1334   			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;1335   				{
;;;1336   				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;1337   				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;1338   				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;1339   				T_PROC_PS_MODE=1;	
;;;1340   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1341   				}
;;;1342   			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;1343   				{
;;;1344   				T_PROC_PS_MODE=0;	
;;;1345   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1346   				}
;;;1347   
;;;1348   			modbus_hold_register_answer_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1);
;;;1349   
;;;1350   
;;;1351   			if((modbus_rx_arg0!=90)&&(modbus_rx_arg0!=91)&&(modbus_rx_arg0!=92)&&(modbus_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
;;;1352   //modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,2);
;;;1353   
;;;1354   
;;;1355   			}
;;;1356   		} 
;;;1357   	//;
;;;1358   	}
;;;1359   // modbus_plazma++;
;;;1360   
;;;1361   }
001568  b00b              ADD      sp,sp,#0x2c
00156a  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.5486|
00156e  4623              MOV      r3,r4                 ;771
001570  463a              MOV      r2,r7                 ;771
001572  b2c0              UXTB     r0,r0                 ;771
001574  9600              STR      r6,[sp,#0]            ;771
001576  f7fffffe          BL       modbus_input_registers_transmit
                  |L1.5498|
00157a  e7f5              B        |L1.5480|
                  |L1.5500|
00157c  48dc              LDR      r0,|L1.6384|
00157e  b221              SXTH     r1,r4                 ;778
001580  8001              STRH     r1,[r0,#0]            ;778
001582  2020              MOVS     r0,#0x20              ;779
001584  e2ae              B        |L1.6884|
                  |L1.5510|
001586  e00d              B        |L1.5540|
                  |L1.5512|
001588  e01a              B        |L1.5568|
                  |L1.5514|
00158a  e01e              B        |L1.5578|
                  |L1.5516|
00158c  e040              B        |L1.5648|
                  |L1.5518|
00158e  e056              B        |L1.5694|
                  |L1.5520|
001590  e06a              B        |L1.5736|
                  |L1.5522|
001592  e081              B        |L1.5784|
                  |L1.5524|
001594  e091              B        |L1.5818|
                  |L1.5526|
001596  e0a8              B        |L1.5866|
                  |L1.5528|
001598  e0d0              B        |L1.5948|
                  |L1.5530|
00159a  48d6              LDR      r0,|L1.6388|
00159c  b221              SXTH     r1,r4                 ;783
00159e  8001              STRH     r1,[r0,#0]            ;783
0015a0  2022              MOVS     r0,#0x22              ;784
0015a2  e29f              B        |L1.6884|
                  |L1.5540|
0015a4  48d4              LDR      r0,|L1.6392|
0015a6  b221              SXTH     r1,r4                 ;788
0015a8  8001              STRH     r1,[r0,#0]            ;788
0015aa  2076              MOVS     r0,#0x76              ;789
0015ac  e29a              B        |L1.6884|
                  |L1.5550|
0015ae  e0ef              B        |L1.6032|
                  |L1.5552|
0015b0  e0fb              B        |L1.6058|
                  |L1.5554|
0015b2  e10d              B        |L1.6096|
                  |L1.5556|
0015b4  e11c              B        |L1.6128|
                  |L1.5558|
0015b6  e12c              B        |L1.6162|
                  |L1.5560|
0015b8  e13a              B        |L1.6192|
                  |L1.5562|
0015ba  e14b              B        |L1.6228|
                  |L1.5564|
0015bc  e15d              B        |L1.6266|
                  |L1.5566|
0015be  e16e              B        |L1.6302|
                  |L1.5568|
0015c0  48ce              LDR      r0,|L1.6396|
0015c2  b221              SXTH     r1,r4                 ;793
0015c4  8001              STRH     r1,[r0,#0]            ;793
0015c6  2078              MOVS     r0,#0x78              ;794
0015c8  e28c              B        |L1.6884|
                  |L1.5578|
0015ca  f8dfc334          LDR      r12,|L1.6400|
0015ce  4651              MOV      r1,r10                ;800
0015d0  f8dc2000          LDR      r2,[r12,#0]           ;800  ; T_PROC_GS
0015d4  fb92f3f1          SDIV     r3,r2,r1              ;800
0015d8  fb93f5fa          SDIV     r5,r3,r10             ;800
0015dc  fb92f0f0          SDIV     r0,r2,r0              ;801
0015e0  fb0a3115          MLS      r1,r10,r5,r3          ;800
0015e4  f44f6261          MOV      r2,#0xe10             ;802
0015e8  4350              MULS     r0,r2,r0              ;802
0015ea  ebc11101          RSB      r1,r1,r1,LSL #4       ;802
0015ee  eb000081          ADD      r0,r0,r1,LSL #2       ;802
0015f2  e009              B        |L1.5640|
                  |L1.5620|
0015f4  e165              B        |L1.6338|
                  |L1.5622|
0015f6  e1af              B        |L1.6488|
                  |L1.5624|
0015f8  e1b3              B        |L1.6498|
                  |L1.5626|
0015fa  e1b7              B        |L1.6508|
                  |L1.5628|
0015fc  e1bb              B        |L1.6518|
                  |L1.5630|
0015fe  e1bf              B        |L1.6528|
                  |L1.5632|
001600  e1c3              B        |L1.6538|
                  |L1.5634|
001602  e27a              B        |L1.6906|
                  |L1.5636|
001604  e27b              B        |L1.6910|
                  |L1.5638|
001606  e27d              B        |L1.6916|
                  |L1.5640|
001608  1901              ADDS     r1,r0,r4              ;802
00160a  f8cc1000          STR      r1,[r12,#0]           ;804  ; T_PROC_GS
00160e  e014              B        |L1.5690|
                  |L1.5648|
001610  4abb              LDR      r2,|L1.6400|
001612  6811              LDR      r1,[r2,#0]            ;808  ; T_PROC_GS
001614  fb91f5fa          SDIV     r5,r1,r10             ;808
001618  fb91f0f0          SDIV     r0,r1,r0              ;810
00161c  fb0a1315          MLS      r3,r10,r5,r1          ;808
001620  f44f6161          MOV      r1,#0xe10             ;811
001624  4348              MULS     r0,r1,r0              ;811
001626  ebc41104          RSB      r1,r4,r4,LSL #4       ;811
00162a  eb000081          ADD      r0,r0,r1,LSL #2       ;811
00162e  18c1              ADDS     r1,r0,r3              ;811
001630  e018              B        |L1.5732|
                  |L1.5682|
001632  e26d              B        |L1.6928|
                  |L1.5684|
001634  e26e              B        |L1.6932|
                  |L1.5686|
001636  e272              B        |L1.6942|
                  |L1.5688|
001638  e2aa              B        |L1.7056|
                  |L1.5690|
00163a  20d8              MOVS     r0,#0xd8              ;803
00163c  e052              B        |L1.5860|
                  |L1.5694|
00163e  4ab0              LDR      r2,|L1.6400|
001640  4650              MOV      r0,r10                ;817
001642  6811              LDR      r1,[r2,#0]            ;817  ; T_PROC_GS
001644  fb91f3f0          SDIV     r3,r1,r0              ;817
001648  fb93f5fa          SDIV     r5,r3,r10             ;818
00164c  fb0a3015          MLS      r0,r10,r5,r3          ;818
001650  fb0a1113          MLS      r1,r10,r3,r1          ;817
001654  f44f6361          MOV      r3,#0xe10             ;820
001658  4363              MULS     r3,r4,r3              ;820
00165a  ebc01000          RSB      r0,r0,r0,LSL #4       ;820
00165e  eb030080          ADD      r0,r3,r0,LSL #2       ;820
001662  4401              ADD      r1,r1,r0              ;820
                  |L1.5732|
001664  6011              STR      r1,[r2,#0]            ;820  ; T_PROC_GS
001666  e7e8              B        |L1.5690|
                  |L1.5736|
001668  f8dfc298          LDR      r12,|L1.6404|
00166c  4651              MOV      r1,r10                ;827
00166e  f8dc2000          LDR      r2,[r12,#0]           ;827  ; T_PROC_PS
001672  fb92f3f1          SDIV     r3,r2,r1              ;827
001676  fb93f5fa          SDIV     r5,r3,r10             ;827
00167a  fb92f0f0          SDIV     r0,r2,r0              ;828
00167e  fb0a3115          MLS      r1,r10,r5,r3          ;827
001682  f44f6261          MOV      r2,#0xe10             ;829
001686  4350              MULS     r0,r2,r0              ;829
001688  ebc11101          RSB      r1,r1,r1,LSL #4       ;829
00168c  eb000081          ADD      r0,r0,r1,LSL #2       ;829
001690  1901              ADDS     r1,r0,r4              ;829
001692  f8cc1000          STR      r1,[r12,#0]           ;831  ; T_PROC_PS
001696  e024              B        |L1.5858|
                  |L1.5784|
001698  4a9a              LDR      r2,|L1.6404|
00169a  6811              LDR      r1,[r2,#0]            ;836  ; T_PROC_PS
00169c  fb91f5fa          SDIV     r5,r1,r10             ;836
0016a0  fb91f0f0          SDIV     r0,r1,r0              ;838
0016a4  fb0a1315          MLS      r3,r10,r5,r1          ;836
0016a8  f44f6161          MOV      r1,#0xe10             ;839
0016ac  4348              MULS     r0,r1,r0              ;839
0016ae  ebc41104          RSB      r1,r4,r4,LSL #4       ;839
0016b2  eb000081          ADD      r0,r0,r1,LSL #2       ;839
0016b6  18c1              ADDS     r1,r0,r3              ;839
0016b8  e012              B        |L1.5856|
                  |L1.5818|
0016ba  4a92              LDR      r2,|L1.6404|
0016bc  4650              MOV      r0,r10                ;846
0016be  6811              LDR      r1,[r2,#0]            ;846  ; T_PROC_PS
0016c0  fb91f3f0          SDIV     r3,r1,r0              ;846
0016c4  fb93f5fa          SDIV     r5,r3,r10             ;847
0016c8  fb0a3015          MLS      r0,r10,r5,r3          ;847
0016cc  fb0a1113          MLS      r1,r10,r3,r1          ;846
0016d0  f44f6361          MOV      r3,#0xe10             ;849
0016d4  4363              MULS     r3,r4,r3              ;849
0016d6  ebc01000          RSB      r0,r0,r0,LSL #4       ;849
0016da  eb030080          ADD      r0,r3,r0,LSL #2       ;849
0016de  4401              ADD      r1,r1,r0              ;849
                  |L1.5856|
0016e0  6011              STR      r1,[r2,#0]            ;849  ; T_PROC_PS
                  |L1.5858|
0016e2  20dc              MOVS     r0,#0xdc              ;850
                  |L1.5860|
0016e4  f7fffffe          BL       lc640_write_long
                  |L1.5864|
0016e8  e243              B        |L1.7026|
                  |L1.5866|
0016ea  2c01              CMP      r4,#1                 ;855
0016ec  d001              BEQ      |L1.5874|
0016ee  b30c              CBZ      r4,|L1.5940|
0016f0  e23f              B        |L1.7026|
                  |L1.5874|
0016f2  7828              LDRB     r0,[r5,#0]            ;857  ; work_stat
0016f4  2802              CMP      r0,#2                 ;857
0016f6  d0f7              BEQ      |L1.5864|
0016f8  4883              LDR      r0,|L1.6408|
0016fa  8800              LDRH     r0,[r0,#0]            ;859  ; SK_START
0016fc  2802              CMP      r0,#2                 ;859
0016fe  d10d              BNE      |L1.5916|
001700  4882              LDR      r0,|L1.6412|
001702  8800              LDRH     r0,[r0,#0]            ;861  ; SK_START_LEV
001704  2800              CMP      r0,#0                 ;861
001706  4882              LDR      r0,|L1.6416|
001708  d004              BEQ      |L1.5908|
00170a  8800              LDRH     r0,[r0,#0]            ;863  ; sk_in_drv_stat
00170c  2801              CMP      r0,#1                 ;863
                  |L1.5902|
00170e  f43faf34          BEQ      |L1.5498|
001712  e003              B        |L1.5916|
                  |L1.5908|
001714  f9b00000          LDRSH    r0,[r0,#0]            ;870  ; sk_in_drv_stat
001718  1c40              ADDS     r0,r0,#1              ;870
00171a  d0f8              BEQ      |L1.5902|
                  |L1.5916|
00171c  2002              MOVS     r0,#2                 ;876
00171e  7028              STRB     r0,[r5,#0]            ;876
001720  487c              LDR      r0,|L1.6420|
001722  6006              STR      r6,[r0,#0]            ;878  ; time_proc
001724  4877              LDR      r0,|L1.6404|
001726  6801              LDR      r1,[r0,#0]            ;878  ; T_PROC_PS
001728  487b              LDR      r0,|L1.6424|
00172a  6001              STR      r1,[r0,#0]            ;879  ; time_proc_remain
00172c  f7fffffe          BL       restart_on_PS
001730  2101              MOVS     r1,#1                 ;880
001732  e024              B        |L1.6014|
                  |L1.5940|
001734  7828              LDRB     r0,[r5,#0]            ;885  ; work_stat
001736  2802              CMP      r0,#2                 ;885
001738  d026              BEQ      |L1.6024|
00173a  e21a              B        |L1.7026|
                  |L1.5948|
00173c  2c01              CMP      r4,#1                 ;894
00173e  d001              BEQ      |L1.5956|
001740  b1fc              CBZ      r4,|L1.6018|
001742  e216              B        |L1.7026|
                  |L1.5956|
001744  7828              LDRB     r0,[r5,#0]            ;896  ; work_stat
001746  2801              CMP      r0,#1                 ;896
001748  d021              BEQ      |L1.6030|
00174a  486f              LDR      r0,|L1.6408|
00174c  8800              LDRH     r0,[r0,#0]            ;898  ; SK_START
00174e  2802              CMP      r0,#2                 ;898
001750  d10c              BNE      |L1.5996|
001752  486e              LDR      r0,|L1.6412|
001754  8800              LDRH     r0,[r0,#0]            ;900  ; SK_START_LEV
001756  2800              CMP      r0,#0                 ;900
001758  486d              LDR      r0,|L1.6416|
00175a  d003              BEQ      |L1.5988|
00175c  8800              LDRH     r0,[r0,#0]            ;902  ; sk_in_drv_stat
00175e  2801              CMP      r0,#1                 ;902
001760  d0d5              BEQ      |L1.5902|
001762  e003              B        |L1.5996|
                  |L1.5988|
001764  f9b00000          LDRSH    r0,[r0,#0]            ;909  ; sk_in_drv_stat
001768  1c40              ADDS     r0,r0,#1              ;909
00176a  d0d0              BEQ      |L1.5902|
                  |L1.5996|
00176c  2001              MOVS     r0,#1                 ;915
00176e  7028              STRB     r0,[r5,#0]            ;915
001770  4868              LDR      r0,|L1.6420|
001772  6006              STR      r6,[r0,#0]            ;917  ; time_proc
001774  4862              LDR      r0,|L1.6400|
001776  6801              LDR      r1,[r0,#0]            ;917  ; T_PROC_GS
001778  4867              LDR      r0,|L1.6424|
00177a  6001              STR      r1,[r0,#0]            ;918  ; time_proc_remain
00177c  2100              MOVS     r1,#0                 ;918
                  |L1.6014|
00177e  20ea              MOVS     r0,#0xea              ;880
001780  e1b0              B        |L1.6884|
                  |L1.6018|
001782  7828              LDRB     r0,[r5,#0]            ;923  ; work_stat
001784  2801              CMP      r0,#1                 ;923
001786  d102              BNE      |L1.6030|
                  |L1.6024|
001788  702e              STRB     r6,[r5,#0]            ;925
00178a  f7fffffe          BL       restart_off
                  |L1.6030|
00178e  e1f0              B        |L1.7026|
                  |L1.6032|
001790  7828              LDRB     r0,[r5,#0]            ;934  ; work_stat
001792  2800              CMP      r0,#0                 ;934
001794  d103              BNE      |L1.6046|
001796  4861              LDR      r0,|L1.6428|
001798  b114              CBZ      r4,|L1.6048|
00179a  2c01              CMP      r4,#1                 ;937
00179c  d003              BEQ      |L1.6054|
                  |L1.6046|
00179e  e1e8              B        |L1.7026|
                  |L1.6048|
0017a0  2101              MOVS     r1,#1                 ;936
0017a2  7001              STRB     r1,[r0,#0]            ;936
0017a4  e1e5              B        |L1.7026|
                  |L1.6054|
0017a6  7006              STRB     r6,[r0,#0]            ;937
0017a8  e1e3              B        |L1.7026|
                  |L1.6058|
0017aa  7828              LDRB     r0,[r5,#0]            ;944  ; work_stat
0017ac  bb80              CBNZ     r0,|L1.6160|
0017ae  485c              LDR      r0,|L1.6432|
0017b0  8800              LDRH     r0,[r0,#0]            ;944  ; REV_IS_ON
0017b2  b368              CBZ      r0,|L1.6160|
0017b4  4a5b              LDR      r2,|L1.6436|
0017b6  f44f7084          MOV      r0,#0x108             ;948
0017ba  2c01              CMP      r4,#1                 ;946
0017bc  d003              BEQ      |L1.6086|
0017be  b124              CBZ      r4,|L1.6090|
0017c0  f9b21000          LDRSH    r1,[r2,#0]            ;948  ; AVT_REV_IS_ON
0017c4  e18e              B        |L1.6884|
                  |L1.6086|
0017c6  2101              MOVS     r1,#1                 ;946
0017c8  e000              B        |L1.6092|
                  |L1.6090|
0017ca  4631              MOV      r1,r6                 ;947
                  |L1.6092|
0017cc  8011              STRH     r1,[r2,#0]            ;946
0017ce  e189              B        |L1.6884|
                  |L1.6096|
0017d0  7828              LDRB     r0,[r5,#0]            ;954  ; work_stat
0017d2  b9e8              CBNZ     r0,|L1.6160|
0017d4  4d54              LDR      r5,|L1.6440|
0017d6  4855              LDR      r0,|L1.6444|
0017d8  211e              MOVS     r1,#0x1e              ;957
0017da  802c              STRH     r4,[r5,#0]            ;956
0017dc  6800              LDR      r0,[r0,#0]            ;957  ; T_PROC_MAX
0017de  b202              SXTH     r2,r0                 ;957
0017e0  4628              MOV      r0,r5                 ;957
0017e2  f7fffffe          BL       gran
0017e6  f9b51000          LDRSH    r1,[r5,#0]            ;958  ; AVT_REV_TIME_FF
0017ea  f44f7085          MOV      r0,#0x10a             ;958
0017ee  e179              B        |L1.6884|
                  |L1.6128|
0017f0  7828              LDRB     r0,[r5,#0]            ;963  ; work_stat
0017f2  b968              CBNZ     r0,|L1.6160|
0017f4  4d4e              LDR      r5,|L1.6448|
0017f6  484d              LDR      r0,|L1.6444|
0017f8  211e              MOVS     r1,#0x1e              ;966
0017fa  802c              STRH     r4,[r5,#0]            ;965
0017fc  6800              LDR      r0,[r0,#0]            ;966  ; T_PROC_MAX
0017fe  b202              SXTH     r2,r0                 ;966
001800  4628              MOV      r0,r5                 ;966
001802  f7fffffe          BL       gran
001806  f9b51000          LDRSH    r1,[r5,#0]            ;967  ; AVT_REV_TIME_REW
00180a  f44f7086          MOV      r0,#0x10c             ;967
00180e  e169              B        |L1.6884|
                  |L1.6160|
001810  e032              B        |L1.6264|
                  |L1.6162|
001812  7828              LDRB     r0,[r5,#0]            ;972  ; work_stat
001814  bb80              CBNZ     r0,|L1.6264|
001816  4d47              LDR      r5,|L1.6452|
001818  f44f7216          MOV      r2,#0x258             ;975
00181c  2102              MOVS     r1,#2                 ;975
00181e  802c              STRH     r4,[r5,#0]            ;974
001820  4628              MOV      r0,r5                 ;975
001822  f7fffffe          BL       gran
001826  f9b51000          LDRSH    r1,[r5,#0]            ;976  ; AVT_REV_TIME_PAUSE
00182a  f44f7087          MOV      r0,#0x10e             ;976
00182e  e159              B        |L1.6884|
                  |L1.6192|
001830  7828              LDRB     r0,[r5,#0]            ;982  ; work_stat
001832  bb08              CBNZ     r0,|L1.6264|
001834  4d40              LDR      r5,|L1.6456|
001836  4841              LDR      r0,|L1.6460|
001838  802c              STRH     r4,[r5,#0]            ;984
00183a  f9b02000          LDRSH    r2,[r0,#0]            ;985  ; I_MAX_IPS
00183e  4840              LDR      r0,|L1.6464|
001840  f9b01000          LDRSH    r1,[r0,#0]            ;985  ; I_MIN_IPS
001844  4628              MOV      r0,r5                 ;985
001846  f7fffffe          BL       gran
00184a  f9b51000          LDRSH    r1,[r5,#0]            ;986  ; AVT_REV_I_NOM_FF
00184e  f44f7088          MOV      r0,#0x110             ;986
001852  e147              B        |L1.6884|
                  |L1.6228|
001854  7828              LDRB     r0,[r5,#0]            ;992  ; work_stat
001856  b978              CBNZ     r0,|L1.6264|
001858  4d3a              LDR      r5,|L1.6468|
00185a  4838              LDR      r0,|L1.6460|
00185c  802c              STRH     r4,[r5,#0]            ;994
00185e  f9b02000          LDRSH    r2,[r0,#0]            ;995  ; I_MAX_IPS
001862  4837              LDR      r0,|L1.6464|
001864  f9b01000          LDRSH    r1,[r0,#0]            ;995  ; I_MIN_IPS
001868  4628              MOV      r0,r5                 ;995
00186a  f7fffffe          BL       gran
00186e  f9b51000          LDRSH    r1,[r5,#0]            ;996  ; AVT_REV_I_NOM_REW
001872  f44f7089          MOV      r0,#0x112             ;996
001876  e135              B        |L1.6884|
                  |L1.6264|
001878  e028              B        |L1.6348|
                  |L1.6266|
00187a  7828              LDRB     r0,[r5,#0]            ;1001  ; work_stat
00187c  bb30              CBNZ     r0,|L1.6348|
00187e  4d32              LDR      r5,|L1.6472|
001880  4832              LDR      r0,|L1.6476|
001882  802c              STRH     r4,[r5,#0]            ;1003
001884  f9b02000          LDRSH    r2,[r0,#0]            ;1004  ; U_MAX
001888  4831              LDR      r0,|L1.6480|
00188a  f9b01000          LDRSH    r1,[r0,#0]            ;1004  ; U_MIN
00188e  4628              MOV      r0,r5                 ;1004
001890  f7fffffe          BL       gran
001894  f9b51000          LDRSH    r1,[r5,#0]            ;1005  ; AVT_REV_U_NOM_FF
001898  f44f708a          MOV      r0,#0x114             ;1005
00189c  e122              B        |L1.6884|
                  |L1.6302|
00189e  7828              LDRB     r0,[r5,#0]            ;1011  ; work_stat
0018a0  b9a0              CBNZ     r0,|L1.6348|
0018a2  4d2c              LDR      r5,|L1.6484|
0018a4  4829              LDR      r0,|L1.6476|
0018a6  802c              STRH     r4,[r5,#0]            ;1013
0018a8  f9b02000          LDRSH    r2,[r0,#0]            ;1014  ; U_MAX
0018ac  4828              LDR      r0,|L1.6480|
0018ae  f9b01000          LDRSH    r1,[r0,#0]            ;1014  ; U_MIN
0018b2  4628              MOV      r0,r5                 ;1014
0018b4  f7fffffe          BL       gran
0018b8  f9b51000          LDRSH    r1,[r5,#0]            ;1015  ; AVT_REV_U_NOM_REW
0018bc  f44f708b          MOV      r0,#0x116             ;1015
0018c0  e110              B        |L1.6884|
                  |L1.6338|
0018c2  7829              LDRB     r1,[r5,#0]            ;1021  ; work_stat
0018c4  b911              CBNZ     r1,|L1.6348|
0018c6  4605              MOV      r5,r0                 ;1023
0018c8  8004              STRH     r4,[r0,#0]            ;1023
0018ca  e097              B        |L1.6652|
                  |L1.6348|
0018cc  e07d              B        |L1.6602|
0018ce  0000              DCW      0x0000
                  |L1.6352|
                          DCD      CAP_ZAR_TIME
                  |L1.6356|
                          DCD      CAP_PAUSE1_TIME
                  |L1.6360|
                          DCD      CAP_RAZR_TIME
                  |L1.6364|
                          DCD      CAP_PAUSE2_TIME
                  |L1.6368|
                          DCD      CAP_MAX_VOLT
                  |L1.6372|
                          DCD      CAP_WRK_CURR
                  |L1.6376|
                          DCD      eepromRamSwitch
                  |L1.6380|
                          DCD      ramModbusCnt
                  |L1.6384|
                          DCD      I_ug
                  |L1.6388|
                          DCD      U_up
                  |L1.6392|
                          DCD      U_maxg
                  |L1.6396|
                          DCD      I_maxp
                  |L1.6400|
                          DCD      T_PROC_GS
                  |L1.6404|
                          DCD      T_PROC_PS
                  |L1.6408|
                          DCD      SK_START
                  |L1.6412|
                          DCD      SK_START_LEV
                  |L1.6416|
                          DCD      sk_in_drv_stat
                  |L1.6420|
                          DCD      time_proc
                  |L1.6424|
                          DCD      time_proc_remain
                  |L1.6428|
                          DCD      REV_STAT
                  |L1.6432|
                          DCD      REV_IS_ON
                  |L1.6436|
                          DCD      AVT_REV_IS_ON
                  |L1.6440|
                          DCD      AVT_REV_TIME_FF
                  |L1.6444|
                          DCD      T_PROC_MAX
                  |L1.6448|
                          DCD      AVT_REV_TIME_REW
                  |L1.6452|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.6456|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.6460|
                          DCD      I_MAX_IPS
                  |L1.6464|
                          DCD      I_MIN_IPS
                  |L1.6468|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.6472|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.6476|
                          DCD      U_MAX
                  |L1.6480|
                          DCD      U_MIN
                  |L1.6484|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.6488|
001958  7828              LDRB     r0,[r5,#0]            ;1030  ; work_stat
00195a  bbb0              CBNZ     r0,|L1.6602|
00195c  f8a84000          STRH     r4,[r8,#0]            ;1032
001960  e062              B        |L1.6696|
                  |L1.6498|
001962  7828              LDRB     r0,[r5,#0]            ;1039  ; work_stat
001964  bb88              CBNZ     r0,|L1.6602|
001966  f8a94000          STRH     r4,[r9,#0]            ;1041
00196a  e073              B        |L1.6740|
                  |L1.6508|
00196c  7828              LDRB     r0,[r5,#0]            ;1048  ; work_stat
00196e  bb60              CBNZ     r0,|L1.6602|
001970  f8ab4000          STRH     r4,[r11,#0]           ;1050
001974  e085              B        |L1.6786|
                  |L1.6518|
001976  7828              LDRB     r0,[r5,#0]            ;1058  ; work_stat
001978  bb38              CBNZ     r0,|L1.6602|
00197a  460d              MOV      r5,r1                 ;1060
00197c  800c              STRH     r4,[r1,#0]            ;1060
00197e  e095              B        |L1.6828|
                  |L1.6528|
001980  7828              LDRB     r0,[r5,#0]            ;1067  ; work_stat
001982  bb10              CBNZ     r0,|L1.6602|
001984  f8aa4000          STRH     r4,[r10,#0]           ;1069
001988  e0a3              B        |L1.6866|
                  |L1.6538|
00198a  2c11              CMP      r4,#0x11              ;1077
00198c  d01e              BEQ      |L1.6604|
00198e  2c12              CMP      r4,#0x12              ;1081
001990  d01f              BEQ      |L1.6610|
001992  2c13              CMP      r4,#0x13              ;1085
001994  d020              BEQ      |L1.6616|
001996  2c14              CMP      r4,#0x14              ;1089
001998  d021              BEQ      |L1.6622|
00199a  2c21              CMP      r4,#0x21              ;1094
00199c  d022              BEQ      |L1.6628|
00199e  2c22              CMP      r4,#0x22              ;1103
0019a0  d026              BEQ      |L1.6640|
0019a2  2c31              CMP      r4,#0x31              ;1113
0019a4  d033              BEQ      |L1.6670|
0019a6  2c32              CMP      r4,#0x32              ;1122
0019a8  d037              BEQ      |L1.6682|
0019aa  2c41              CMP      r4,#0x41              ;1132
0019ac  d045              BEQ      |L1.6714|
0019ae  2c42              CMP      r4,#0x42              ;1141
0019b0  d049              BEQ      |L1.6726|
0019b2  2c51              CMP      r4,#0x51              ;1151
0019b4  d058              BEQ      |L1.6760|
0019b6  2c52              CMP      r4,#0x52              ;1160
0019b8  d05c              BEQ      |L1.6772|
0019ba  2c61              CMP      r4,#0x61              ;1170
0019bc  d06a              BEQ      |L1.6804|
0019be  2c62              CMP      r4,#0x62              ;1179
0019c0  d06e              BEQ      |L1.6816|
0019c2  2c71              CMP      r4,#0x71              ;1189
0019c4  d07f              BEQ      |L1.6854|
0019c6  2c72              CMP      r4,#0x72              ;1198
0019c8  d07b              BEQ      |L1.6850|
                  |L1.6602|
0019ca  e0d2              B        |L1.7026|
                  |L1.6604|
0019cc  f7fffffe          BL       start_CAP
0019d0  e0cf              B        |L1.7026|
                  |L1.6610|
0019d2  f7fffffe          BL       pause_CAP
0019d6  e0cc              B        |L1.7026|
                  |L1.6616|
0019d8  f7fffffe          BL       stop_CAP
0019dc  e0c9              B        |L1.7026|
                  |L1.6622|
0019de  f7fffffe          BL       reset_CAP
0019e2  e0c6              B        |L1.7026|
                  |L1.6628|
0019e4  7829              LDRB     r1,[r5,#0]            ;1096  ; work_stat
0019e6  bbf1              CBNZ     r1,|L1.6758|
0019e8  4605              MOV      r5,r0                 ;1098
0019ea  8800              LDRH     r0,[r0,#0]            ;1098  ; CAP_ZAR_TIME
0019ec  1c40              ADDS     r0,r0,#1              ;1098
0019ee  e004              B        |L1.6650|
                  |L1.6640|
0019f0  7829              LDRB     r1,[r5,#0]            ;1105  ; work_stat
0019f2  bbc1              CBNZ     r1,|L1.6758|
0019f4  4605              MOV      r5,r0                 ;1107
0019f6  8800              LDRH     r0,[r0,#0]            ;1107  ; CAP_ZAR_TIME
0019f8  1e40              SUBS     r0,r0,#1              ;1107
                  |L1.6650|
0019fa  8028              STRH     r0,[r5,#0]            ;1098
                  |L1.6652|
0019fc  210a              MOVS     r1,#0xa               ;1024
0019fe  48aa              LDR      r0,|L1.7336|
001a00  f7fffffe          BL       gran
001a04  f9b51000          LDRSH    r1,[r5,#0]            ;1025  ; CAP_ZAR_TIME
001a08  f44f70e9          MOV      r0,#0x1d2             ;1025
001a0c  e06a              B        |L1.6884|
                  |L1.6670|
001a0e  7828              LDRB     r0,[r5,#0]            ;1115  ; work_stat
001a10  bb48              CBNZ     r0,|L1.6758|
001a12  f8b80000          LDRH     r0,[r8,#0]            ;1117  ; CAP_PAUSE1_TIME
001a16  1c40              ADDS     r0,r0,#1              ;1117
001a18  e004              B        |L1.6692|
                  |L1.6682|
001a1a  7828              LDRB     r0,[r5,#0]            ;1124  ; work_stat
001a1c  bb18              CBNZ     r0,|L1.6758|
001a1e  f8b80000          LDRH     r0,[r8,#0]            ;1126  ; CAP_PAUSE1_TIME
001a22  1e40              SUBS     r0,r0,#1              ;1126
                  |L1.6692|
001a24  f8a80000          STRH     r0,[r8,#0]            ;1117
                  |L1.6696|
001a28  210a              MOVS     r1,#0xa               ;1033
001a2a  48a0              LDR      r0,|L1.7340|
001a2c  f7fffffe          BL       gran
001a30  f9b81000          LDRSH    r1,[r8,#0]            ;1034  ; CAP_PAUSE1_TIME
001a34  f44f70ea          MOV      r0,#0x1d4             ;1034
001a38  e054              B        |L1.6884|
                  |L1.6714|
001a3a  7828              LDRB     r0,[r5,#0]            ;1134  ; work_stat
001a3c  b998              CBNZ     r0,|L1.6758|
001a3e  f8b90000          LDRH     r0,[r9,#0]            ;1136  ; CAP_RAZR_TIME
001a42  1c40              ADDS     r0,r0,#1              ;1136
001a44  e004              B        |L1.6736|
                  |L1.6726|
001a46  7828              LDRB     r0,[r5,#0]            ;1143  ; work_stat
001a48  b968              CBNZ     r0,|L1.6758|
001a4a  f8b90000          LDRH     r0,[r9,#0]            ;1145  ; CAP_RAZR_TIME
001a4e  1e40              SUBS     r0,r0,#1              ;1145
                  |L1.6736|
001a50  f8a90000          STRH     r0,[r9,#0]            ;1136
                  |L1.6740|
001a54  210a              MOVS     r1,#0xa               ;1042
001a56  4896              LDR      r0,|L1.7344|
001a58  f7fffffe          BL       gran
001a5c  f9b91000          LDRSH    r1,[r9,#0]            ;1043  ; CAP_RAZR_TIME
001a60  f44f70eb          MOV      r0,#0x1d6             ;1043
001a64  e03e              B        |L1.6884|
                  |L1.6758|
001a66  e02d              B        |L1.6852|
                  |L1.6760|
001a68  7828              LDRB     r0,[r5,#0]            ;1153  ; work_stat
001a6a  bb58              CBNZ     r0,|L1.6852|
001a6c  f8bb0000          LDRH     r0,[r11,#0]           ;1155  ; CAP_PAUSE2_TIME
001a70  1c40              ADDS     r0,r0,#1              ;1155
001a72  e004              B        |L1.6782|
                  |L1.6772|
001a74  7828              LDRB     r0,[r5,#0]            ;1162  ; work_stat
001a76  bb28              CBNZ     r0,|L1.6852|
001a78  f8bb0000          LDRH     r0,[r11,#0]           ;1164  ; CAP_PAUSE2_TIME
001a7c  1e40              SUBS     r0,r0,#1              ;1164
                  |L1.6782|
001a7e  f8ab0000          STRH     r0,[r11,#0]           ;1155
                  |L1.6786|
001a82  210a              MOVS     r1,#0xa               ;1051
001a84  488b              LDR      r0,|L1.7348|
001a86  f7fffffe          BL       gran
001a8a  f9bb1000          LDRSH    r1,[r11,#0]           ;1052  ; CAP_PAUSE2_TIME
001a8e  f44f70ec          MOV      r0,#0x1d8             ;1052
001a92  e027              B        |L1.6884|
                  |L1.6804|
001a94  7828              LDRB     r0,[r5,#0]            ;1172  ; work_stat
001a96  b9a8              CBNZ     r0,|L1.6852|
001a98  8808              LDRH     r0,[r1,#0]            ;1174  ; CAP_MAX_VOLT
001a9a  460d              MOV      r5,r1                 ;1174
001a9c  1c40              ADDS     r0,r0,#1              ;1174
001a9e  e004              B        |L1.6826|
                  |L1.6816|
001aa0  7828              LDRB     r0,[r5,#0]            ;1181  ; work_stat
001aa2  b978              CBNZ     r0,|L1.6852|
001aa4  8808              LDRH     r0,[r1,#0]            ;1183  ; CAP_MAX_VOLT
001aa6  460d              MOV      r5,r1                 ;1183
001aa8  1e40              SUBS     r0,r0,#1              ;1183
                  |L1.6826|
001aaa  8028              STRH     r0,[r5,#0]            ;1174
                  |L1.6828|
001aac  2264              MOVS     r2,#0x64              ;1061
001aae  2101              MOVS     r1,#1                 ;1061
001ab0  4881              LDR      r0,|L1.7352|
001ab2  f7fffffe          BL       gran
001ab6  f9b51000          LDRSH    r1,[r5,#0]            ;1062  ; CAP_MAX_VOLT
001aba  f44f70ed          MOV      r0,#0x1da             ;1062
001abe  e011              B        |L1.6884|
001ac0  e001              B        |L1.6854|
                  |L1.6850|
001ac2  e012              B        |L1.6890|
                  |L1.6852|
001ac4  e023              B        |L1.6926|
                  |L1.6854|
001ac6  7828              LDRB     r0,[r5,#0]            ;1191  ; work_stat
001ac8  bb08              CBNZ     r0,|L1.6926|
001aca  f8ba0000          LDRH     r0,[r10,#0]           ;1193  ; CAP_WRK_CURR
001ace  1c40              ADDS     r0,r0,#1              ;1193
001ad0  e010              B        |L1.6900|
                  |L1.6866|
001ad2  2296              MOVS     r2,#0x96              ;1070
001ad4  2101              MOVS     r1,#1                 ;1070
001ad6  4879              LDR      r0,|L1.7356|
001ad8  f7fffffe          BL       gran
001adc  f9ba1000          LDRSH    r1,[r10,#0]           ;1071  ; CAP_WRK_CURR
001ae0  f44f70ee          MOV      r0,#0x1dc             ;1071
                  |L1.6884|
001ae4  f7fffffe          BL       lc640_write_int
001ae8  e043              B        |L1.7026|
                  |L1.6890|
001aea  7828              LDRB     r0,[r5,#0]            ;1200  ; work_stat
001aec  b978              CBNZ     r0,|L1.6926|
001aee  f8ba0000          LDRH     r0,[r10,#0]           ;1202  ; CAP_WRK_CURR
001af2  1e40              SUBS     r0,r0,#1              ;1202
                  |L1.6900|
001af4  f8aa0000          STRH     r0,[r10,#0]           ;1202
001af8  e7eb              B        |L1.6866|
                  |L1.6906|
001afa  4871              LDR      r0,|L1.7360|
001afc  e000              B        |L1.6912|
                  |L1.6910|
001afe  4871              LDR      r0,|L1.7364|
                  |L1.6912|
001b00  8004              STRH     r4,[r0,#0]            ;1217
001b02  e036              B        |L1.7026|
                  |L1.6916|
001b04  4970              LDR      r1,|L1.7368|
001b06  eb040084          ADD      r0,r4,r4,LSL #2       ;1222
001b0a  0040              LSLS     r0,r0,#1              ;1222
001b0c  8008              STRH     r0,[r1,#0]            ;1222
                  |L1.6926|
001b0e  e030              B        |L1.7026|
                  |L1.6928|
001b10  496e              LDR      r1,|L1.7372|
001b12  e000              B        |L1.6934|
                  |L1.6932|
001b14  496e              LDR      r1,|L1.7376|
                  |L1.6934|
001b16  800c              STRH     r4,[r1,#0]            ;1227
001b18  2101              MOVS     r1,#1                 ;1228
001b1a  7001              STRB     r1,[r0,#0]            ;1228
001b1c  e027              B        |L1.7022|
                  |L1.6942|
001b1e  2c01              CMP      r4,#1                 ;1241
001b20  d001              BEQ      |L1.6950|
001b22  b30c              CBZ      r4,|L1.7016|
001b24  e023              B        |L1.7022|
                  |L1.6950|
001b26  7828              LDRB     r0,[r5,#0]            ;1243  ; work_stat
001b28  2802              CMP      r0,#2                 ;1243
001b2a  d020              BEQ      |L1.7022|
001b2c  4869              LDR      r0,|L1.7380|
001b2e  8800              LDRH     r0,[r0,#0]            ;1245  ; SK_START
001b30  2802              CMP      r0,#2                 ;1245
001b32  d10d              BNE      |L1.6992|
001b34  4868              LDR      r0,|L1.7384|
001b36  8800              LDRH     r0,[r0,#0]            ;1247  ; SK_START_LEV
001b38  2800              CMP      r0,#0                 ;1247
001b3a  4868              LDR      r0,|L1.7388|
001b3c  d004              BEQ      |L1.6984|
001b3e  8800              LDRH     r0,[r0,#0]            ;1249  ; sk_in_drv_stat
001b40  2801              CMP      r0,#1                 ;1249
                  |L1.6978|
001b42  f43fad1a          BEQ      |L1.5498|
001b46  e003              B        |L1.6992|
                  |L1.6984|
001b48  f9b00000          LDRSH    r0,[r0,#0]            ;1256  ; sk_in_drv_stat
001b4c  1c40              ADDS     r0,r0,#1              ;1256
001b4e  d0f8              BEQ      |L1.6978|
                  |L1.6992|
001b50  2002              MOVS     r0,#2                 ;1262
001b52  7028              STRB     r0,[r5,#0]            ;1262
001b54  4862              LDR      r0,|L1.7392|
001b56  6006              STR      r6,[r0,#0]            ;1264  ; time_proc
001b58  4862              LDR      r0,|L1.7396|
001b5a  6801              LDR      r1,[r0,#0]            ;1264  ; T_PROC_PS
001b5c  4862              LDR      r0,|L1.7400|
001b5e  6001              STR      r1,[r0,#0]            ;1265  ; time_proc_remain
001b60  f7fffffe          BL       restart_on_PS
001b64  2101              MOVS     r1,#1                 ;1266
001b66  e03b              B        |L1.7136|
                  |L1.7016|
001b68  7828              LDRB     r0,[r5,#0]            ;1271  ; work_stat
001b6a  2802              CMP      r0,#2                 ;1271
001b6c  d017              BEQ      |L1.7070|
                  |L1.7022|
001b6e  f8a98000          STRH     r8,[r9,#0]            ;1277
                  |L1.7026|
001b72  4d5e              LDR      r5,|L1.7404|
001b74  f8df8178          LDR      r8,|L1.7408|
001b78  6828              LDR      r0,[r5,#0]            ;1320  ; T_PROC_GS
001b7a  f8d81000          LDR      r1,[r8,#0]            ;1320  ; T_PROC_MAX
001b7e  4288              CMP      r0,r1                 ;1320
001b80  dc01              BGT      |L1.7046|
001b82  281e              CMP      r0,#0x1e              ;1320
001b84  da3f              BGE      |L1.7174|
                  |L1.7046|
001b86  4288              CMP      r0,r1                 ;1322
001b88  dd2e              BLE      |L1.7144|
001b8a  1c49              ADDS     r1,r1,#1              ;1322
001b8c  6029              STR      r1,[r5,#0]            ;1322  ; T_PROC_GS
001b8e  e02f              B        |L1.7152|
                  |L1.7056|
001b90  2c01              CMP      r4,#1                 ;1281
001b92  d008              BEQ      |L1.7078|
001b94  2c00              CMP      r4,#0                 ;1308
001b96  d1ea              BNE      |L1.7022|
001b98  7828              LDRB     r0,[r5,#0]            ;1310  ; work_stat
001b9a  2801              CMP      r0,#1                 ;1310
001b9c  d1e7              BNE      |L1.7022|
                  |L1.7070|
001b9e  702e              STRB     r6,[r5,#0]            ;1312
001ba0  f7fffffe          BL       restart_off
001ba4  e7e3              B        |L1.7022|
                  |L1.7078|
001ba6  7828              LDRB     r0,[r5,#0]            ;1283  ; work_stat
001ba8  2801              CMP      r0,#1                 ;1283
001baa  d0e0              BEQ      |L1.7022|
001bac  4849              LDR      r0,|L1.7380|
001bae  8800              LDRH     r0,[r0,#0]            ;1285  ; SK_START
001bb0  2802              CMP      r0,#2                 ;1285
001bb2  d10c              BNE      |L1.7118|
001bb4  4848              LDR      r0,|L1.7384|
001bb6  8800              LDRH     r0,[r0,#0]            ;1287  ; SK_START_LEV
001bb8  2800              CMP      r0,#0                 ;1287
001bba  4848              LDR      r0,|L1.7388|
001bbc  d003              BEQ      |L1.7110|
001bbe  8800              LDRH     r0,[r0,#0]            ;1289  ; sk_in_drv_stat
001bc0  2801              CMP      r0,#1                 ;1289
                  |L1.7106|
001bc2  d0be              BEQ      |L1.6978|
001bc4  e003              B        |L1.7118|
                  |L1.7110|
001bc6  f9b00000          LDRSH    r0,[r0,#0]            ;1296  ; sk_in_drv_stat
001bca  1c40              ADDS     r0,r0,#1              ;1296
001bcc  d0b9              BEQ      |L1.6978|
                  |L1.7118|
001bce  2001              MOVS     r0,#1                 ;1302
001bd0  7028              STRB     r0,[r5,#0]            ;1302
001bd2  4843              LDR      r0,|L1.7392|
001bd4  6006              STR      r6,[r0,#0]            ;1304  ; time_proc
001bd6  4845              LDR      r0,|L1.7404|
001bd8  6801              LDR      r1,[r0,#0]            ;1304  ; T_PROC_GS
001bda  4843              LDR      r0,|L1.7400|
001bdc  6001              STR      r1,[r0,#0]            ;1305  ; time_proc_remain
001bde  2100              MOVS     r1,#0                 ;1305
                  |L1.7136|
001be0  20ea              MOVS     r0,#0xea              ;1305
001be2  f7fffffe          BL       lc640_write_int
001be6  e7c2              B        |L1.7022|
                  |L1.7144|
001be8  281e              CMP      r0,#0x1e              ;1323
001bea  da01              BGE      |L1.7152|
001bec  201d              MOVS     r0,#0x1d              ;1323
001bee  6028              STR      r0,[r5,#0]            ;1323  ; T_PROC_GS
                  |L1.7152|
001bf0  6828              LDR      r0,[r5,#0]            ;1324  ; T_PROC_GS
001bf2  b201              SXTH     r1,r0                 ;1324
001bf4  20d8              MOVS     r0,#0xd8              ;1324
001bf6  f7fffffe          BL       lc640_write_int
001bfa  483e              LDR      r0,|L1.7412|
001bfc  2101              MOVS     r1,#1                 ;1325
001bfe  8001              STRH     r1,[r0,#0]            ;1325
001c00  20ee              MOVS     r0,#0xee              ;1326
001c02  f7fffffe          BL       lc640_write_int
                  |L1.7174|
001c06  6828              LDR      r0,[r5,#0]            ;1328  ; T_PROC_GS
001c08  f8d81000          LDR      r1,[r8,#0]            ;1328  ; T_PROC_MAX
001c0c  4288              CMP      r0,r1                 ;1328
001c0e  dc07              BGT      |L1.7200|
001c10  281e              CMP      r0,#0x1e              ;1328
001c12  db05              BLT      |L1.7200|
001c14  4837              LDR      r0,|L1.7412|
001c16  4631              MOV      r1,r6                 ;1330
001c18  8006              STRH     r6,[r0,#0]            ;1330
001c1a  20ee              MOVS     r0,#0xee              ;1331
001c1c  f7fffffe          BL       lc640_write_int
                  |L1.7200|
001c20  4d30              LDR      r5,|L1.7396|
001c22  f8d81000          LDR      r1,[r8,#0]            ;1334  ; T_PROC_MAX
001c26  6828              LDR      r0,[r5,#0]            ;1334  ; T_PROC_PS
001c28  4288              CMP      r0,r1                 ;1334
001c2a  dc01              BGT      |L1.7216|
001c2c  281e              CMP      r0,#0x1e              ;1334
001c2e  da13              BGE      |L1.7256|
                  |L1.7216|
001c30  4288              CMP      r0,r1                 ;1336
001c32  dd02              BLE      |L1.7226|
001c34  1c49              ADDS     r1,r1,#1              ;1336
001c36  6029              STR      r1,[r5,#0]            ;1336  ; T_PROC_PS
001c38  e003              B        |L1.7234|
                  |L1.7226|
001c3a  281e              CMP      r0,#0x1e              ;1337
001c3c  da01              BGE      |L1.7234|
001c3e  201d              MOVS     r0,#0x1d              ;1337
001c40  6028              STR      r0,[r5,#0]            ;1337  ; T_PROC_PS
                  |L1.7234|
001c42  6828              LDR      r0,[r5,#0]            ;1338  ; T_PROC_PS
001c44  b201              SXTH     r1,r0                 ;1338
001c46  20dc              MOVS     r0,#0xdc              ;1338
001c48  f7fffffe          BL       lc640_write_int
001c4c  482a              LDR      r0,|L1.7416|
001c4e  2101              MOVS     r1,#1                 ;1339
001c50  8001              STRH     r1,[r0,#0]            ;1339
001c52  20f0              MOVS     r0,#0xf0              ;1340
001c54  f7fffffe          BL       lc640_write_int
                  |L1.7256|
001c58  6828              LDR      r0,[r5,#0]            ;1342  ; T_PROC_PS
001c5a  f8d81000          LDR      r1,[r8,#0]            ;1342  ; T_PROC_MAX
001c5e  4288              CMP      r0,r1                 ;1342
001c60  dc07              BGT      |L1.7282|
001c62  281e              CMP      r0,#0x1e              ;1342
001c64  db05              BLT      |L1.7282|
001c66  4824              LDR      r0,|L1.7416|
001c68  4631              MOV      r1,r6                 ;1344
001c6a  8006              STRH     r6,[r0,#0]            ;1344
001c6c  20f0              MOVS     r0,#0xf0              ;1345
001c6e  f7fffffe          BL       lc640_write_int
                  |L1.7282|
001c72  4822              LDR      r0,|L1.7420|
001c74  4623              MOV      r3,r4                 ;1348
001c76  463a              MOV      r2,r7                 ;1348
001c78  8800              LDRH     r0,[r0,#0]            ;1348  ; MODBUS_ADRESS
001c7a  9903              LDR      r1,[sp,#0xc]          ;1348
001c7c  b2c0              UXTB     r0,r0                 ;1348
001c7e  f7fffffe          BL       modbus_hold_register_answer_transmit
001c82  2f5a              CMP      r7,#0x5a              ;1351
001c84  d09d              BEQ      |L1.7106|
001c86  2f5b              CMP      r7,#0x5b              ;1351
001c88  d09b              BEQ      |L1.7106|
001c8a  2f5c              CMP      r7,#0x5c              ;1351
001c8c  d099              BEQ      |L1.7106|
001c8e  2f5d              CMP      r7,#0x5d              ;1351
001c90  d097              BEQ      |L1.7106|
001c92  481b              LDR      r0,|L1.7424|
001c94  8800              LDRH     r0,[r0,#0]            ;1351  ; EE_WRITE_CNT
001c96  b00b              ADD      sp,sp,#0x2c           ;1351
001c98  1c40              ADDS     r0,r0,#1              ;1351
001c9a  e8bd4ff0          POP      {r4-r11,lr}           ;1351
001c9e  b201              SXTH     r1,r0                 ;1351
001ca0  204c              MOVS     r0,#0x4c              ;1351
001ca2  f7ffbffe          B.W      lc640_write_int
;;;1362   
                          ENDP

001ca6  0000              DCW      0x0000
                  |L1.7336|
                          DCD      CAP_ZAR_TIME
                  |L1.7340|
                          DCD      CAP_PAUSE1_TIME
                  |L1.7344|
                          DCD      CAP_RAZR_TIME
                  |L1.7348|
                          DCD      CAP_PAUSE2_TIME
                  |L1.7352|
                          DCD      CAP_MAX_VOLT
                  |L1.7356|
                          DCD      CAP_WRK_CURR
                  |L1.7360|
                          DCD      pwm_u_reg
                  |L1.7364|
                          DCD      pwm_i_reg
                  |L1.7368|
                          DCD      pwm_t_reg
                  |L1.7372|
                          DCD      I_ug_ram
                  |L1.7376|
                          DCD      U_up_ram
                  |L1.7380|
                          DCD      SK_START
                  |L1.7384|
                          DCD      SK_START_LEV
                  |L1.7388|
                          DCD      sk_in_drv_stat
                  |L1.7392|
                          DCD      time_proc
                  |L1.7396|
                          DCD      T_PROC_PS
                  |L1.7400|
                          DCD      time_proc_remain
                  |L1.7404|
                          DCD      T_PROC_GS
                  |L1.7408|
                          DCD      T_PROC_MAX
                  |L1.7412|
                          DCD      T_PROC_GS_MODE
                  |L1.7416|
                          DCD      T_PROC_PS_MODE
                  |L1.7420|
                          DCD      MODBUS_ADRESS
                  |L1.7424|
                          DCD      EE_WRITE_CNT

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  modbus_hold_register_transmit PROC
;;;1860   //-----------------------------------------------
;;;1861   void modbus_hold_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;1862   {
000004  4681              MOV      r9,r0
;;;1863   char modbus_registers[120];
;;;1864   char modbus_tx_buff[100];
;;;1865   unsigned short crc_temp;
;;;1866   char i;
;;;1867   
;;;1868   modbus_registers[0]=(char)(I_ug/256);					//Πεγ50
000006  48ac              LDR      r0,|L2.696|
000008  b0b7              SUB      sp,sp,#0xdc           ;1862
;;;1869   modbus_registers[1]=(char)(I_ug%256);
;;;1870   modbus_registers[2]=(char)(U_up/256);					//Πεγ51
;;;1871   modbus_registers[3]=(char)(U_up%256);
;;;1872   modbus_registers[4]=(char)(U_maxg/256);					//Πεγ52
;;;1873   modbus_registers[5]=(char)(U_maxg%256);
;;;1874   modbus_registers[6]=(char)(I_maxp/256);					//Πεγ53
;;;1875   modbus_registers[7]=(char)(I_maxp%256);
;;;1876   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Πεγ54
;;;1877   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;1878   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Πεγ55
;;;1879   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;1880   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Πεγ56
;;;1881   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
00000a  f44f6861          MOV      r8,#0xe10
00000e  f9b00000          LDRSH    r0,[r0,#0]            ;1868  ; I_ug
000012  17c3              ASRS     r3,r0,#31             ;1868
000014  eb006313          ADD      r3,r0,r3,LSR #24      ;1868
000018  121c              ASRS     r4,r3,#8              ;1868
00001a  f88d4000          STRB     r4,[sp,#0]            ;1868
00001e  f88d0001          STRB     r0,[sp,#1]            ;1869
000022  48a6              LDR      r0,|L2.700|
000024  f9b00000          LDRSH    r0,[r0,#0]            ;1870  ; U_up
000028  17c3              ASRS     r3,r0,#31             ;1870
00002a  eb006313          ADD      r3,r0,r3,LSR #24      ;1870
00002e  121c              ASRS     r4,r3,#8              ;1870
000030  f88d4002          STRB     r4,[sp,#2]            ;1870
000034  f88d0003          STRB     r0,[sp,#3]            ;1871
000038  48a1              LDR      r0,|L2.704|
00003a  f9b00000          LDRSH    r0,[r0,#0]            ;1872  ; U_maxg
00003e  17c3              ASRS     r3,r0,#31             ;1872
000040  eb006313          ADD      r3,r0,r3,LSR #24      ;1872
000044  121c              ASRS     r4,r3,#8              ;1872
000046  f88d4004          STRB     r4,[sp,#4]            ;1872
00004a  f88d0005          STRB     r0,[sp,#5]            ;1873
00004e  489d              LDR      r0,|L2.708|
000050  f9b00000          LDRSH    r0,[r0,#0]            ;1874  ; I_maxp
000054  17c3              ASRS     r3,r0,#31             ;1874
000056  eb006313          ADD      r3,r0,r3,LSR #24      ;1874
00005a  121c              ASRS     r4,r3,#8              ;1874
00005c  f88d4006          STRB     r4,[sp,#6]            ;1874
000060  f88d0007          STRB     r0,[sp,#7]            ;1875
000064  4898              LDR      r0,|L2.712|
000066  233c              MOVS     r3,#0x3c              ;1876
000068  6804              LDR      r4,[r0,#0]            ;1876  ; T_PROC_GS
00006a  fb94f5f3          SDIV     r5,r4,r3              ;1876
00006e  fb034015          MLS      r0,r3,r5,r4           ;1876
000072  17c6              ASRS     r6,r0,#31             ;1876
000074  eb006616          ADD      r6,r0,r6,LSR #24      ;1876
000078  1237              ASRS     r7,r6,#8              ;1876
00007a  f88d7008          STRB     r7,[sp,#8]            ;1876
00007e  f88d0009          STRB     r0,[sp,#9]            ;1877
000082  fb95f0f3          SDIV     r0,r5,r3              ;1878
000086  fb035010          MLS      r0,r3,r0,r5           ;1878
00008a  17c5              ASRS     r5,r0,#31             ;1878
00008c  eb006515          ADD      r5,r0,r5,LSR #24      ;1878
000090  122e              ASRS     r6,r5,#8              ;1878
000092  f88d600a          STRB     r6,[sp,#0xa]          ;1878
000096  f88d000b          STRB     r0,[sp,#0xb]          ;1879
00009a  f44f2761          MOV      r7,#0xe1000           ;1880
00009e  fb94f0f7          SDIV     r0,r4,r7              ;1880
0000a2  f88d000c          STRB     r0,[sp,#0xc]          ;1880
0000a6  fb94f0f8          SDIV     r0,r4,r8
0000aa  f88d000d          STRB     r0,[sp,#0xd]
;;;1882   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Πεγ57
0000ae  4887              LDR      r0,|L2.716|
0000b0  6804              LDR      r4,[r0,#0]  ; T_PROC_PS
0000b2  fb94f5f3          SDIV     r5,r4,r3
0000b6  fb034015          MLS      r0,r3,r5,r4
0000ba  17c6              ASRS     r6,r0,#31
0000bc  eb006616          ADD      r6,r0,r6,LSR #24
0000c0  ea4f2c26          ASR      r12,r6,#8
0000c4  f88dc00e          STRB     r12,[sp,#0xe]
;;;1883   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0000c8  f88d000f          STRB     r0,[sp,#0xf]
;;;1884   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Πεγ58
0000cc  fb95f0f3          SDIV     r0,r5,r3
0000d0  fb035010          MLS      r0,r3,r0,r5
0000d4  17c3              ASRS     r3,r0,#31
0000d6  eb006313          ADD      r3,r0,r3,LSR #24
0000da  121d              ASRS     r5,r3,#8
0000dc  f88d5010          STRB     r5,[sp,#0x10]
;;;1885   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
0000e0  f88d0011          STRB     r0,[sp,#0x11]
;;;1886   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Πεγ59
0000e4  fb94f0f7          SDIV     r0,r4,r7
0000e8  f88d0012          STRB     r0,[sp,#0x12]
;;;1887   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
0000ec  fb94f0f8          SDIV     r0,r4,r8
0000f0  f88d0013          STRB     r0,[sp,#0x13]
;;;1888   modbus_registers[20]=0;								//Πεγ60
0000f4  2000              MOVS     r0,#0
;;;1889   modbus_registers[21]=0;
;;;1890   if(work_stat==wsPS)modbus_registers[21]=1;
0000f6  4b76              LDR      r3,|L2.720|
0000f8  f88d0014          STRB     r0,[sp,#0x14]         ;1888
0000fc  f88d0015          STRB     r0,[sp,#0x15]         ;1889
000100  781c              LDRB     r4,[r3,#0]  ; work_stat
000102  2301              MOVS     r3,#1
000104  2c02              CMP      r4,#2
000106  d101              BNE      |L2.268|
000108  f88d3015          STRB     r3,[sp,#0x15]
                  |L2.268|
;;;1891   modbus_registers[22]=0;								//Πεγ61
00010c  f88d0016          STRB     r0,[sp,#0x16]
;;;1892   modbus_registers[23]=0;
000110  f88d0017          STRB     r0,[sp,#0x17]
;;;1893   if(work_stat==wsGS)modbus_registers[23]=1;
000114  2c01              CMP      r4,#1
000116  d101              BNE      |L2.284|
000118  f88d3017          STRB     r3,[sp,#0x17]
                  |L2.284|
;;;1894   modbus_registers[24]=0;								//Πεγ62
;;;1895   modbus_registers[25]=0;
;;;1896   if(REV_STAT==rsREW)modbus_registers[25]=1;
00011c  4c6d              LDR      r4,|L2.724|
00011e  f88d0018          STRB     r0,[sp,#0x18]         ;1894
000122  f88d0019          STRB     r0,[sp,#0x19]         ;1895
000126  7824              LDRB     r4,[r4,#0]  ; REV_STAT
000128  b90c              CBNZ     r4,|L2.302|
00012a  f88d3019          STRB     r3,[sp,#0x19]
                  |L2.302|
;;;1897   modbus_registers[26]=0;								//Πεγ63
00012e  f88d001a          STRB     r0,[sp,#0x1a]
;;;1898   modbus_registers[27]=0;
000132  f88d001b          STRB     r0,[sp,#0x1b]
;;;1899   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000136  4868              LDR      r0,|L2.728|
000138  8800              LDRH     r0,[r0,#0]  ; AVT_REV_IS_ON
00013a  b108              CBZ      r0,|L2.320|
00013c  f88d301b          STRB     r3,[sp,#0x1b]
                  |L2.320|
;;;1900   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Πεγ64
000140  4866              LDR      r0,|L2.732|
000142  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_FF
000146  17c3              ASRS     r3,r0,#31
000148  eb006313          ADD      r3,r0,r3,LSR #24
00014c  121c              ASRS     r4,r3,#8
00014e  f88d401c          STRB     r4,[sp,#0x1c]
;;;1901   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
000152  f88d001d          STRB     r0,[sp,#0x1d]
;;;1902   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Πεγ65
000156  4862              LDR      r0,|L2.736|
000158  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_REW
00015c  17c3              ASRS     r3,r0,#31
00015e  eb006313          ADD      r3,r0,r3,LSR #24
000162  121c              ASRS     r4,r3,#8
000164  f88d401e          STRB     r4,[sp,#0x1e]
;;;1903   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
000168  f88d001f          STRB     r0,[sp,#0x1f]
;;;1904   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Πεγ66
00016c  485d              LDR      r0,|L2.740|
00016e  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_TIME_PAUSE
000172  17c3              ASRS     r3,r0,#31
000174  eb006313          ADD      r3,r0,r3,LSR #24
000178  121c              ASRS     r4,r3,#8
00017a  f88d4020          STRB     r4,[sp,#0x20]
;;;1905   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
00017e  f88d0021          STRB     r0,[sp,#0x21]
;;;1906   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Πεγ67
000182  4859              LDR      r0,|L2.744|
000184  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_FF
000188  17c3              ASRS     r3,r0,#31
00018a  eb006313          ADD      r3,r0,r3,LSR #24
00018e  121c              ASRS     r4,r3,#8
000190  f88d4022          STRB     r4,[sp,#0x22]
;;;1907   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
000194  f88d0023          STRB     r0,[sp,#0x23]
;;;1908   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Πεγ68
000198  4854              LDR      r0,|L2.748|
00019a  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_I_NOM_REW
00019e  17c3              ASRS     r3,r0,#31
0001a0  eb006313          ADD      r3,r0,r3,LSR #24
0001a4  121c              ASRS     r4,r3,#8
0001a6  f88d4024          STRB     r4,[sp,#0x24]
;;;1909   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
0001aa  f88d0025          STRB     r0,[sp,#0x25]
;;;1910   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Πεγ69
0001ae  4850              LDR      r0,|L2.752|
0001b0  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_FF
0001b4  17c3              ASRS     r3,r0,#31
0001b6  eb006313          ADD      r3,r0,r3,LSR #24
0001ba  121c              ASRS     r4,r3,#8
0001bc  f88d4026          STRB     r4,[sp,#0x26]
;;;1911   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
0001c0  f88d0027          STRB     r0,[sp,#0x27]
;;;1912   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Πεγ70
0001c4  484b              LDR      r0,|L2.756|
0001c6  f9b00000          LDRSH    r0,[r0,#0]  ; AVT_REV_U_NOM_REW
0001ca  17c3              ASRS     r3,r0,#31
0001cc  eb006313          ADD      r3,r0,r3,LSR #24
0001d0  121c              ASRS     r4,r3,#8
0001d2  f88d4028          STRB     r4,[sp,#0x28]
;;;1913   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
0001d6  f88d0029          STRB     r0,[sp,#0x29]
;;;1914   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Πεγ71
0001da  4847              LDR      r0,|L2.760|
0001dc  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_ZAR_TIME
0001e0  17c3              ASRS     r3,r0,#31
0001e2  eb006313          ADD      r3,r0,r3,LSR #24
0001e6  121c              ASRS     r4,r3,#8
0001e8  f88d402a          STRB     r4,[sp,#0x2a]
;;;1915   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
0001ec  f88d002b          STRB     r0,[sp,#0x2b]
;;;1916   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Πεγ72
0001f0  4842              LDR      r0,|L2.764|
0001f2  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE1_TIME
0001f6  17c3              ASRS     r3,r0,#31
0001f8  eb006313          ADD      r3,r0,r3,LSR #24
0001fc  121c              ASRS     r4,r3,#8
0001fe  f88d402c          STRB     r4,[sp,#0x2c]
;;;1917   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
000202  f88d002d          STRB     r0,[sp,#0x2d]
;;;1918   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Πεγ73
000206  483e              LDR      r0,|L2.768|
000208  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_RAZR_TIME
00020c  17c3              ASRS     r3,r0,#31
00020e  eb006313          ADD      r3,r0,r3,LSR #24
000212  121c              ASRS     r4,r3,#8
000214  f88d402e          STRB     r4,[sp,#0x2e]
;;;1919   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
000218  f88d002f          STRB     r0,[sp,#0x2f]
;;;1920   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Πεγ74
00021c  4839              LDR      r0,|L2.772|
00021e  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_PAUSE2_TIME
000222  17c3              ASRS     r3,r0,#31
000224  eb006313          ADD      r3,r0,r3,LSR #24
000228  121c              ASRS     r4,r3,#8
00022a  f88d4030          STRB     r4,[sp,#0x30]
;;;1921   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
00022e  f88d0031          STRB     r0,[sp,#0x31]
;;;1922   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Πεγ75
000232  4835              LDR      r0,|L2.776|
000234  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_MAX_VOLT
000238  17c3              ASRS     r3,r0,#31
00023a  eb006313          ADD      r3,r0,r3,LSR #24
00023e  121c              ASRS     r4,r3,#8
000240  f88d4032          STRB     r4,[sp,#0x32]
;;;1923   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
000244  f88d0033          STRB     r0,[sp,#0x33]
;;;1924   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Πεγ76
000248  4830              LDR      r0,|L2.780|
00024a  f9b00000          LDRSH    r0,[r0,#0]  ; CAP_WRK_CURR
;;;1925   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
;;;1926   
;;;1927   modbus_tx_buff[0]=adr;
00024e  f88d9078          STRB     r9,[sp,#0x78]
000252  17c3              ASRS     r3,r0,#31             ;1924
000254  eb006313          ADD      r3,r0,r3,LSR #24      ;1924
000258  121c              ASRS     r4,r3,#8              ;1924
00025a  f88d4034          STRB     r4,[sp,#0x34]         ;1924
00025e  f88d0035          STRB     r0,[sp,#0x35]         ;1925
;;;1928   modbus_tx_buff[1]=func;
000262  f88d1079          STRB     r1,[sp,#0x79]
;;;1929   modbus_tx_buff[2]=(char)(reg_adr/256);
000266  0a10              LSRS     r0,r2,#8
000268  f88d007a          STRB     r0,[sp,#0x7a]
;;;1930   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;1931   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;1932   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;1933   
;;;1934   
;;;1935   memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00026c  4668              MOV      r0,sp
00026e  eb000042          ADD      r0,r0,r2,LSL #1
000272  f88d207b          STRB     r2,[sp,#0x7b]         ;1930
000276  f8300c02          LDRH     r0,[r0,#-2]
00027a  f8ad007c          STRH     r0,[sp,#0x7c]
;;;1936   
;;;1937   crc_temp=CRC16_2(modbus_tx_buff,6);
00027e  2106              MOVS     r1,#6
000280  a81e              ADD      r0,sp,#0x78
000282  f7fffffe          BL       CRC16_2
;;;1938   
;;;1939   modbus_tx_buff[6]=crc_temp%256;
000286  f88d007e          STRB     r0,[sp,#0x7e]
;;;1940   modbus_tx_buff[7]=crc_temp/256;
00028a  0a00              LSRS     r0,r0,#8
00028c  f88d007f          STRB     r0,[sp,#0x7f]
;;;1941   
;;;1942   for (i=0;i<8;i++)
000290  2400              MOVS     r4,#0
000292  ad1e              ADD      r5,sp,#0x78           ;1864
                  |L2.660|
;;;1943   	{
;;;1944   	putchar0(modbus_tx_buff[i]);
000294  5d28              LDRB     r0,[r5,r4]
000296  f7fffffe          BL       putchar0
00029a  1c64              ADDS     r4,r4,#1              ;1942
00029c  b2e4              UXTB     r4,r4                 ;1942
00029e  2c08              CMP      r4,#8                 ;1942
0002a0  d3f8              BCC      |L2.660|
;;;1945   	}
;;;1946   for (i=0;i<8;i++)
0002a2  2400              MOVS     r4,#0
                  |L2.676|
;;;1947   	{
;;;1948   	putchar_sc16is700(modbus_tx_buff[i]);
0002a4  5d28              LDRB     r0,[r5,r4]
0002a6  f7fffffe          BL       putchar_sc16is700
0002aa  1c64              ADDS     r4,r4,#1              ;1946
0002ac  b2e4              UXTB     r4,r4                 ;1946
0002ae  2c08              CMP      r4,#8                 ;1946
0002b0  d3f8              BCC      |L2.676|
;;;1949   	}
;;;1950   }	
0002b2  b037              ADD      sp,sp,#0xdc
0002b4  e8bd83f0          POP      {r4-r9,pc}
;;;1951   
                          ENDP

                  |L2.696|
                          DCD      I_ug
                  |L2.700|
                          DCD      U_up
                  |L2.704|
                          DCD      U_maxg
                  |L2.708|
                          DCD      I_maxp
                  |L2.712|
                          DCD      T_PROC_GS
                  |L2.716|
                          DCD      T_PROC_PS
                  |L2.720|
                          DCD      work_stat
                  |L2.724|
                          DCD      REV_STAT
                  |L2.728|
                          DCD      AVT_REV_IS_ON
                  |L2.732|
                          DCD      AVT_REV_TIME_FF
                  |L2.736|
                          DCD      AVT_REV_TIME_REW
                  |L2.740|
                          DCD      AVT_REV_TIME_PAUSE
                  |L2.744|
                          DCD      AVT_REV_I_NOM_FF
                  |L2.748|
                          DCD      AVT_REV_I_NOM_REW
                  |L2.752|
                          DCD      AVT_REV_U_NOM_FF
                  |L2.756|
                          DCD      AVT_REV_U_NOM_REW
                  |L2.760|
                          DCD      CAP_ZAR_TIME
                  |L2.764|
                          DCD      CAP_PAUSE1_TIME
                  |L2.768|
                          DCD      CAP_RAZR_TIME
                  |L2.772|
                          DCD      CAP_PAUSE2_TIME
                  |L2.776|
                          DCD      CAP_MAX_VOLT
                  |L2.780|
                          DCD      CAP_WRK_CURR

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.5||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.5||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_registers
                          %        300

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_self_cmnd_cnt
000000  21                DCB      0x21
                  bMODBUS_TIMEOUT
000001  00                DCB      0x00
                  modbus_rx_buffer_ptr
000002  00                DCB      0x00
                  modbus_rx_counter
000003  00                DCB      0x00
                  modbus_cmnd_cnt
000004  00                DCB      0x00
                  modbus_cmnd
000005  00                DCB      0x00
                  modbus_plazma
000006  0000              DCB      0x00,0x00
                  modbus_plazma1
000008  0000              DCB      0x00,0x00
                  modbus_plazma2
00000a  0000              DCB      0x00,0x00
                  modbus_plazma3
00000c  0000              DCB      0x00,0x00

                          AREA ||area_number.8||, DATA, ALIGN=1

                          EXPORTAS ||area_number.8||, ||.data||
                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.9||, DATA, ALIGN=0

                          EXPORTAS ||area_number.9||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.10||, DATA, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.data||
                  modbusTimeoutInMills
000000  0000              DCB      0x00,0x00
