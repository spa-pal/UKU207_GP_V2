; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 -DWG12232A --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;38     //-----------------------------------------------
;;;39     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;40     {
000002  4604              MOV      r4,r0
;;;41     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;42     short pos;
;;;43     short i;
;;;44     
;;;45     for (pos = 0; pos < len; pos++)
000008  2200              MOVS     r2,#0
;;;46       	{
;;;47         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;48     
;;;49         	for ( i = 8; i != 0; i--) 
;;;50     		{    // Loop over each bit
;;;51           	if ((crc & 0x0001) != 0) 
;;;52     			{      // If the LSB is set
;;;53             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;54             		crc ^= 0xA001;
00000a  f24a0501          MOV      r5,#0xa001
00000e  e00d              B        |L1.44|
                  |L1.16|
000010  5ca3              LDRB     r3,[r4,r2]            ;47
000012  4058              EORS     r0,r0,r3              ;47
000014  2308              MOVS     r3,#8                 ;49
                  |L1.22|
000016  07c6              LSLS     r6,r0,#31             ;51
;;;55           		}
;;;56           	else  crc >>= 1;                    // Just shift right
000018  ea4f0050          LSR      r0,r0,#1
00001c  d000              BEQ      |L1.32|
00001e  4068              EORS     r0,r0,r5              ;54
                  |L1.32|
000020  1e5b              SUBS     r3,r3,#1              ;49
000022  b21b              SXTH     r3,r3                 ;49
000024  2b00              CMP      r3,#0                 ;49
000026  d1f6              BNE      |L1.22|
000028  1c52              ADDS     r2,r2,#1              ;45
00002a  b212              SXTH     r2,r2                 ;45
                  |L1.44|
00002c  428a              CMP      r2,r1                 ;45
00002e  dbef              BLT      |L1.16|
;;;57         		}
;;;58       	}
;;;59       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;60     return crc;
;;;61     }
000030  bd70              POP      {r4-r6,pc}
;;;62     
                          ENDP

                  modbus_hold_register_answer_transmit PROC
;;;1996   //-----------------------------------------------
;;;1997   void modbus_hold_register_answer_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short answer)
000032  b530              PUSH     {r4,r5,lr}
;;;1998   {
000034  b099              SUB      sp,sp,#0x64
;;;1999   char modbus_registers[120];
;;;2000   char modbus_tx_buff[100];
;;;2001   unsigned short crc_temp;
;;;2002   char i;
;;;2003   
;;;2004   modbus_registers[0]=(char)(I_ug/256);					//Рег50
;;;2005   modbus_registers[1]=(char)(I_ug%256);
;;;2006   modbus_registers[2]=(char)(U_up/256);					//Рег51
;;;2007   modbus_registers[3]=(char)(U_up%256);
;;;2008   modbus_registers[4]=(char)(U_maxg/256);					//Рег52
;;;2009   modbus_registers[5]=(char)(U_maxg%256);
;;;2010   modbus_registers[6]=(char)(I_maxp/256);					//Рег53
;;;2011   modbus_registers[7]=(char)(I_maxp%256);
;;;2012   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Рег54
;;;2013   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;2014   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Рег55
;;;2015   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;2016   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Рег56
;;;2017   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
;;;2018   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Рег57
;;;2019   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
;;;2020   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Рег58
;;;2021   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
;;;2022   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Рег59
;;;2023   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
;;;2024   modbus_registers[20]=0;								//Рег60
;;;2025   modbus_registers[21]=0;
;;;2026   if(work_stat==wsPS)modbus_registers[21]=1;
;;;2027   modbus_registers[22]=0;								//Рег61
;;;2028   modbus_registers[23]=0;
;;;2029   if(work_stat==wsGS)modbus_registers[23]=1;
;;;2030   modbus_registers[24]=0;								//Рег62
;;;2031   modbus_registers[25]=0;
;;;2032   if(REV_STAT==rsREW)modbus_registers[25]=1;
;;;2033   modbus_registers[26]=0;								//Рег63
;;;2034   modbus_registers[27]=0;
;;;2035   if(AVT_REV_IS_ON)modbus_registers[27]=1;
;;;2036   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Рег64
;;;2037   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
;;;2038   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Рег65
;;;2039   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
;;;2040   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Рег66
;;;2041   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
;;;2042   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Рег67
;;;2043   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
;;;2044   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Рег68
;;;2045   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
;;;2046   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Рег69
;;;2047   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
;;;2048   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Рег70
;;;2049   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
;;;2050   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Рег71
;;;2051   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
;;;2052   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);			//Рег72
;;;2053   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
;;;2054   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Рег73
;;;2055   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
;;;2056   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);			//Рег74
;;;2057   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
;;;2058   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Рег75
;;;2059   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
;;;2060   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Рег76
;;;2061   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
;;;2062   modbus_registers[58]=(char)((REV_IS_ON)/256);				//Рег79
;;;2063   modbus_registers[59]=(char)((REV_IS_ON)%256);
;;;2064   
;;;2065   modbus_tx_buff[0]=adr;
000036  f88d0000          STRB     r0,[sp,#0]
;;;2066   modbus_tx_buff[1]=func;
00003a  f88d1001          STRB     r1,[sp,#1]
;;;2067   modbus_tx_buff[2]=(char)(reg_adr/256);
00003e  0a10              LSRS     r0,r2,#8
000040  f88d0002          STRB     r0,[sp,#2]
;;;2068   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;2069   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;2070   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;2071   
;;;2072   
;;;2073   //memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
;;;2074   modbus_tx_buff[4]=(char)(answer/256);
000044  0a18              LSRS     r0,r3,#8
000046  f88d0004          STRB     r0,[sp,#4]
00004a  f88d2003          STRB     r2,[sp,#3]            ;2068
;;;2075   modbus_tx_buff[5]=(char)(answer%256);
00004e  f88d3005          STRB     r3,[sp,#5]
;;;2076   
;;;2077   crc_temp=CRC16_2(modbus_tx_buff,6);
000052  2106              MOVS     r1,#6
000054  4668              MOV      r0,sp
000056  f7fffffe          BL       CRC16_2
;;;2078   
;;;2079   modbus_tx_buff[6]=crc_temp%256;
00005a  f88d0006          STRB     r0,[sp,#6]
;;;2080   modbus_tx_buff[7]=crc_temp/256;
00005e  0a00              LSRS     r0,r0,#8
000060  f88d0007          STRB     r0,[sp,#7]
;;;2081   
;;;2082   for (i=0;i<8;i++)
000064  2400              MOVS     r4,#0
000066  466d              MOV      r5,sp                 ;2000
                  |L1.104|
;;;2083   	{
;;;2084   	putchar0(modbus_tx_buff[i]);
000068  5d28              LDRB     r0,[r5,r4]
00006a  f7fffffe          BL       putchar0
00006e  1c64              ADDS     r4,r4,#1              ;2082
000070  b2e4              UXTB     r4,r4                 ;2082
000072  2c08              CMP      r4,#8                 ;2082
000074  d3f8              BCC      |L1.104|
;;;2085   	}
;;;2086   for (i=0;i<8;i++)
000076  2400              MOVS     r4,#0
                  |L1.120|
;;;2087   	{
;;;2088   	putchar_sc16is700(modbus_tx_buff[i]);
000078  5d28              LDRB     r0,[r5,r4]
00007a  f7fffffe          BL       putchar_sc16is700
00007e  1c64              ADDS     r4,r4,#1              ;2086
000080  b2e4              UXTB     r4,r4                 ;2086
000082  2c08              CMP      r4,#8                 ;2086
000084  d3f8              BCC      |L1.120|
;;;2089   	}
;;;2090   }	
000086  b019              ADD      sp,sp,#0x64
000088  bd30              POP      {r4,r5,pc}
;;;2091   
                          ENDP

                  modbus_input_registers_transmit PROC
;;;1395   //-----------------------------------------------
;;;1396   void modbus_input_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short reg_quantity, char prot)
00008a  e92d4ff0          PUSH     {r4-r11,lr}
;;;1397   {
00008e  b0b3              SUB      sp,sp,#0xcc
000090  4683              MOV      r11,r0
000092  468e              MOV      lr,r1
000094  4692              MOV      r10,r2
000096  461c              MOV      r4,r3
;;;1398   //char modbus_registers[110];
;;;1399   char modbus_tx_buff[200];
;;;1400   unsigned short crc_temp;
;;;1401   char i;
;;;1402   /*
;;;1403   load_U=1234;
;;;1404   load_I=5678;
;;;1405   time_proc=361233UL;//1357;
;;;1406   time_proc_remain=722444UL;//1357;
;;;1407   
;;;1408   bVOLT_IS_NOT_DOWN=0;
;;;1409   bVOLT_IS_NOT_UP=1;	
;;;1410   */
;;;1411   modbus_registers[0]=(char)(load_U/256);					//Рег1
000098  48ff              LDR      r0,|L1.1176|
00009a  f8ddc0f0          LDR      r12,[sp,#0xf0]
;;;1412   modbus_registers[1]=(char)(load_U%256);
;;;1413   modbus_registers[2]=(char)(load_I/256);					//Рег2
;;;1414   modbus_registers[3]=(char)(load_I%256);
;;;1415   modbus_registers[4]=(char)((time_proc%60)/256);			//Рег3
;;;1416   modbus_registers[5]=(char)((time_proc%60)%256);
;;;1417   modbus_registers[6]=(char)(((time_proc/60)%60)/256);		//Рег4
;;;1418   modbus_registers[7]=(char)(((time_proc/60)%60)%256);
;;;1419   modbus_registers[8]=(char)((time_proc/3600)/256);			//Рег5
00009e  f44f2961          MOV      r9,#0xe1000
0000a2  f9b01000          LDRSH    r1,[r0,#0]            ;1411  ; load_U
;;;1420   modbus_registers[9]=(char)((time_proc/3600)%256);		 	
0000a6  f44f6861          MOV      r8,#0xe10
0000aa  17c8              ASRS     r0,r1,#31             ;1411
0000ac  eb016210          ADD      r2,r1,r0,LSR #24      ;1411
0000b0  48fa              LDR      r0,|L1.1180|
0000b2  1213              ASRS     r3,r2,#8              ;1411
0000b4  7003              STRB     r3,[r0,#0]            ;1411
0000b6  7041              STRB     r1,[r0,#1]            ;1412
0000b8  49f9              LDR      r1,|L1.1184|
0000ba  f9b11000          LDRSH    r1,[r1,#0]            ;1413  ; load_I
0000be  17ca              ASRS     r2,r1,#31             ;1413
0000c0  eb016212          ADD      r2,r1,r2,LSR #24      ;1413
0000c4  1213              ASRS     r3,r2,#8              ;1413
0000c6  7083              STRB     r3,[r0,#2]            ;1413
0000c8  70c1              STRB     r1,[r0,#3]            ;1414
0000ca  49f6              LDR      r1,|L1.1188|
0000cc  223c              MOVS     r2,#0x3c              ;1415
0000ce  680b              LDR      r3,[r1,#0]            ;1415  ; time_proc
0000d0  fb93f5f2          SDIV     r5,r3,r2              ;1415
0000d4  fb023115          MLS      r1,r2,r5,r3           ;1415
0000d8  17ce              ASRS     r6,r1,#31             ;1415
0000da  eb016716          ADD      r7,r1,r6,LSR #24      ;1415
0000de  123e              ASRS     r6,r7,#8              ;1415
0000e0  7106              STRB     r6,[r0,#4]            ;1415
0000e2  7141              STRB     r1,[r0,#5]            ;1416
0000e4  fb95f1f2          SDIV     r1,r5,r2              ;1417
0000e8  fb025111          MLS      r1,r2,r1,r5           ;1417
0000ec  17cd              ASRS     r5,r1,#31             ;1417
0000ee  eb016515          ADD      r5,r1,r5,LSR #24      ;1417
0000f2  122e              ASRS     r6,r5,#8              ;1417
0000f4  7186              STRB     r6,[r0,#6]            ;1417
0000f6  71c1              STRB     r1,[r0,#7]            ;1418
0000f8  fb93f1f9          SDIV     r1,r3,r9              ;1419
0000fc  7201              STRB     r1,[r0,#8]            ;1419
0000fe  fb93f1f8          SDIV     r1,r3,r8
000102  7241              STRB     r1,[r0,#9]
;;;1421   modbus_registers[10]=(char)((time_proc_remain%60)/256);	//Рег6
000104  49e8              LDR      r1,|L1.1192|
000106  680b              LDR      r3,[r1,#0]  ; time_proc_remain
000108  fb93f7f2          SDIV     r7,r3,r2
00010c  fb023117          MLS      r1,r2,r7,r3
000110  17cd              ASRS     r5,r1,#31
000112  eb016515          ADD      r5,r1,r5,LSR #24
000116  122e              ASRS     r6,r5,#8
000118  7286              STRB     r6,[r0,#0xa]
;;;1422   modbus_registers[11]=(char)((time_proc_remain%60)%256);
00011a  72c1              STRB     r1,[r0,#0xb]
;;;1423   modbus_registers[12]=(char)(((time_proc_remain/60)%60)/256);//Рег7
00011c  fb97f1f2          SDIV     r1,r7,r2
000120  fb027111          MLS      r1,r2,r1,r7
000124  17ca              ASRS     r2,r1,#31
000126  eb016212          ADD      r2,r1,r2,LSR #24
00012a  1215              ASRS     r5,r2,#8
00012c  7305              STRB     r5,[r0,#0xc]
;;;1424   modbus_registers[13]=(char)(((time_proc_remain/60)%60)%256);
00012e  7341              STRB     r1,[r0,#0xd]
;;;1425   modbus_registers[14]=(char)((time_proc_remain/3600)/256);	//Рег8
000130  fb93f1f9          SDIV     r1,r3,r9
000134  7381              STRB     r1,[r0,#0xe]
;;;1426   modbus_registers[15]=(char)((time_proc_remain/3600)%256);
000136  fb93f1f8          SDIV     r1,r3,r8
00013a  73c1              STRB     r1,[r0,#0xf]
;;;1427   modbus_registers[16]=(char)((CAP_COUNTER)/256);			//Рег9
00013c  49db              LDR      r1,|L1.1196|
00013e  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_COUNTER
000142  17ca              ASRS     r2,r1,#31
000144  eb016212          ADD      r2,r1,r2,LSR #24
000148  1213              ASRS     r3,r2,#8
00014a  7403              STRB     r3,[r0,#0x10]
;;;1428   modbus_registers[17]=(char)((CAP_COUNTER)%256);
00014c  7441              STRB     r1,[r0,#0x11]
;;;1429   modbus_registers[18]=(char)((CAP_TIME_SEC)/256);			//Рег10
00014e  49d8              LDR      r1,|L1.1200|
000150  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_SEC
000154  17ca              ASRS     r2,r1,#31
000156  eb016212          ADD      r2,r1,r2,LSR #24
00015a  1213              ASRS     r3,r2,#8
00015c  7483              STRB     r3,[r0,#0x12]
;;;1430   modbus_registers[19]=(char)((CAP_TIME_SEC)%256);
00015e  74c1              STRB     r1,[r0,#0x13]
;;;1431   modbus_registers[20]=(char)((CAP_TIME_MIN)/256);			//Рег11
000160  49d4              LDR      r1,|L1.1204|
000162  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_MIN
000166  17ca              ASRS     r2,r1,#31
000168  eb016212          ADD      r2,r1,r2,LSR #24
00016c  1213              ASRS     r3,r2,#8
00016e  7503              STRB     r3,[r0,#0x14]
;;;1432   modbus_registers[21]=(char)((CAP_TIME_MIN)%256);
000170  7541              STRB     r1,[r0,#0x15]
;;;1433   modbus_registers[22]=(char)((CAP_TIME_HOUR)/256);			//Рег12
000172  49d1              LDR      r1,|L1.1208|
000174  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_TIME_HOUR
000178  17ca              ASRS     r2,r1,#31
00017a  eb016212          ADD      r2,r1,r2,LSR #24
00017e  1213              ASRS     r3,r2,#8
000180  7583              STRB     r3,[r0,#0x16]
;;;1434   modbus_registers[23]=(char)((CAP_TIME_HOUR)%256);
000182  75c1              STRB     r1,[r0,#0x17]
;;;1435   modbus_registers[24]=0;
000184  2200              MOVS     r2,#0
;;;1436   modbus_registers[25]=0;										//Рег13
;;;1437   if(bVOLT_IS_NOT_DOWN)	modbus_registers[25]=1;
000186  49cd              LDR      r1,|L1.1212|
000188  7602              STRB     r2,[r0,#0x18]         ;1435
00018a  7642              STRB     r2,[r0,#0x19]         ;1436
00018c  780b              LDRB     r3,[r1,#0]  ; bVOLT_IS_NOT_DOWN
00018e  2101              MOVS     r1,#1
000190  b103              CBZ      r3,|L1.404|
000192  7641              STRB     r1,[r0,#0x19]
                  |L1.404|
;;;1438   modbus_registers[26]=0;
;;;1439   modbus_registers[27]=0;										//Рег14
;;;1440   if(bVOLT_IS_NOT_UP)	modbus_registers[27]=1;
000194  4bca              LDR      r3,|L1.1216|
000196  7682              STRB     r2,[r0,#0x1a]         ;1438
000198  76c2              STRB     r2,[r0,#0x1b]         ;1439
00019a  781b              LDRB     r3,[r3,#0]  ; bVOLT_IS_NOT_UP
00019c  b103              CBZ      r3,|L1.416|
00019e  76c1              STRB     r1,[r0,#0x1b]
                  |L1.416|
;;;1441   /*
;;;1442   {
;;;1443   char i;
;;;1444   for (i=0;i<30;i++)
;;;1445   	{
;;;1446   	bps[i]._Uii=500+i;
;;;1447   	bps[i]._Ii=400+i;
;;;1448   	bps[i]._Ti=100+i;
;;;1449   	bps[i]._av=1+i;
;;;1450   	}
;;;1451   }*/
;;;1452   modbus_registers[42]=(signed char)(bps[0]._Uii>>8);			//Рег22	Выходное напряжение выпрямителя №1, 0.1В
0001a0  49c8              LDR      r1,|L1.1220|
0001a2  698b              LDR      r3,[r1,#0x18]  ; bps
0001a4  121d              ASRS     r5,r3,#8
0001a6  f8005f2a          STRB     r5,[r0,#0x2a]!
;;;1453   modbus_registers[43]=(signed char)(bps[0]._Uii);
0001aa  7043              STRB     r3,[r0,#1]
;;;1454   modbus_registers[44]=(signed char)(bps[0]._Ii>>8);				//Рег23	Выходной ток выпрямителя №1, 0.1А
0001ac  6a0b              LDR      r3,[r1,#0x20]  ; bps
0001ae  121d              ASRS     r5,r3,#8
0001b0  7085              STRB     r5,[r0,#2]
;;;1455   modbus_registers[45]=(signed char)(bps[0]._Ii);
0001b2  70c3              STRB     r3,[r0,#3]
;;;1456   modbus_registers[46]=(signed char)(bps[0]._Ti>>8);				//Рег24	Температура радиатора выпрямителя №1, 1гЦ
0001b4  6a4b              LDR      r3,[r1,#0x24]  ; bps
0001b6  121d              ASRS     r5,r3,#8
0001b8  7105              STRB     r5,[r0,#4]
;;;1457   modbus_registers[47]=(signed char)(bps[0]._Ti);
0001ba  7143              STRB     r3,[r0,#5]
;;;1458   modbus_registers[48]=(signed char)(bps[0]._av>>8);				//Рег25	Байт флагов выпрямителя №1, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0001bc  7182              STRB     r2,[r0,#6]
;;;1459   modbus_registers[49]=(signed char)(bps[0]._av);
0001be  784b              LDRB     r3,[r1,#1]  ; bps
0001c0  71c3              STRB     r3,[r0,#7]
;;;1460   modbus_registers[50]=(signed char)(bps[1]._Uii>>8);			//Рег26	Выходное напряжение выпрямителя №2, 0.1В
0001c2  6ecb              LDR      r3,[r1,#0x6c]  ; bps
0001c4  121d              ASRS     r5,r3,#8
0001c6  7205              STRB     r5,[r0,#8]
;;;1461   modbus_registers[51]=(signed char)(bps[1]._Uii);
0001c8  7243              STRB     r3,[r0,#9]
;;;1462   modbus_registers[52]=(signed char)(bps[1]._Ii>>8);				//Рег27	Выходной ток выпрямителя №2, 0.1А
0001ca  6f4b              LDR      r3,[r1,#0x74]  ; bps
0001cc  121d              ASRS     r5,r3,#8
0001ce  7285              STRB     r5,[r0,#0xa]
;;;1463   modbus_registers[53]=(signed char)(bps[1]._Ii);
0001d0  72c3              STRB     r3,[r0,#0xb]
;;;1464   modbus_registers[54]=(signed char)(bps[1]._Ti>>8);				//Рег28	Температура радиатора выпрямителя №2, 1гЦ
0001d2  6f8b              LDR      r3,[r1,#0x78]  ; bps
0001d4  121d              ASRS     r5,r3,#8
0001d6  7305              STRB     r5,[r0,#0xc]
;;;1465   modbus_registers[55]=(signed char)(bps[1]._Ti);
0001d8  7343              STRB     r3,[r0,#0xd]
;;;1466   modbus_registers[56]=(signed char)(bps[1]._av>>8);				//Рег29	Байт флагов выпрямителя №2, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0001da  7382              STRB     r2,[r0,#0xe]
;;;1467   modbus_registers[57]=(signed char)(bps[1]._av);
0001dc  f8913055          LDRB     r3,[r1,#0x55]  ; bps
0001e0  73c3              STRB     r3,[r0,#0xf]
;;;1468   modbus_registers[58]=(signed char)(bps[2]._Uii>>8);			//Рег30	Выходное напряжение выпрямителя №3, 0.1В
0001e2  f8513fc0          LDR      r3,[r1,#0xc0]!  ; bps
0001e6  121d              ASRS     r5,r3,#8
0001e8  7405              STRB     r5,[r0,#0x10]
;;;1469   modbus_registers[59]=(signed char)(bps[2]._Uii);
0001ea  7443              STRB     r3,[r0,#0x11]
;;;1470   modbus_registers[60]=(signed char)(bps[2]._Ii>>8);				//Рег31	Выходной ток выпрямителя №3, 0.1А
0001ec  688b              LDR      r3,[r1,#8]  ; bps
0001ee  121d              ASRS     r5,r3,#8
0001f0  7485              STRB     r5,[r0,#0x12]
;;;1471   modbus_registers[61]=(signed char)(bps[2]._Ii);
0001f2  74c3              STRB     r3,[r0,#0x13]
;;;1472   modbus_registers[62]=(signed char)(bps[2]._Ti>>8);				//Рег32	Температура радиатора выпрямителя №3, 1гЦ
0001f4  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1473   modbus_registers[63]=(signed char)(bps[2]._Ti);
;;;1474   modbus_registers[64]=(signed char)(bps[2]._av>>8);				//Рег33	Байт флагов выпрямителя №3, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0001f6  f1010138          ADD      r1,r1,#0x38
0001fa  121d              ASRS     r5,r3,#8              ;1472
0001fc  7505              STRB     r5,[r0,#0x14]         ;1472
0001fe  7543              STRB     r3,[r0,#0x15]         ;1473
000200  7582              STRB     r2,[r0,#0x16]
;;;1475   modbus_registers[65]=(signed char)(bps[2]._av);
000202  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000206  75c3              STRB     r3,[r0,#0x17]
;;;1476   modbus_registers[66]=(signed char)(bps[3]._Uii>>8);			//Рег34	Выходное напряжение выпрямителя №4, 0.1В
000208  69cb              LDR      r3,[r1,#0x1c]  ; bps
00020a  ea4f2523          ASR      r5,r3,#8
00020e  7605              STRB     r5,[r0,#0x18]
;;;1477   modbus_registers[67]=(signed char)(bps[3]._Uii);
000210  7643              STRB     r3,[r0,#0x19]
;;;1478   modbus_registers[68]=(signed char)(bps[3]._Ii>>8);				//Рег35	Выходной ток выпрямителя №4, 0.1А
000212  6a4b              LDR      r3,[r1,#0x24]  ; bps
000214  ea4f2523          ASR      r5,r3,#8
000218  7685              STRB     r5,[r0,#0x1a]
;;;1479   modbus_registers[69]=(signed char)(bps[3]._Ii);
00021a  76c3              STRB     r3,[r0,#0x1b]
;;;1480   modbus_registers[70]=(signed char)(bps[3]._Ti>>8);				//Рег36	Температура радиатора выпрямителя №4, 1гЦ
00021c  6a8b              LDR      r3,[r1,#0x28]  ; bps
00021e  ea4f2523          ASR      r5,r3,#8
000222  7705              STRB     r5,[r0,#0x1c]
;;;1481   modbus_registers[71]=(signed char)(bps[3]._Ti);
000224  7743              STRB     r3,[r0,#0x1d]
;;;1482   modbus_registers[72]=(signed char)(bps[3]._av>>8);				//Рег37	Байт флагов выпрямителя №4, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000226  7782              STRB     r2,[r0,#0x1e]
;;;1483   modbus_registers[73]=(signed char)(bps[3]._av);
000228  794b              LDRB     r3,[r1,#5]  ; bps
00022a  77c3              STRB     r3,[r0,#0x1f]
;;;1484   modbus_registers[74]=(signed char)(bps[4]._Uii>>8);			//Рег38	Выходное напряжение выпрямителя №5, 0.1В
00022c  6f0b              LDR      r3,[r1,#0x70]  ; bps
00022e  ea4f2523          ASR      r5,r3,#8
000232  f8805020          STRB     r5,[r0,#0x20]
;;;1485   modbus_registers[75]=(signed char)(bps[4]._Uii);
000236  f8803021          STRB     r3,[r0,#0x21]
;;;1486   modbus_registers[76]=(signed char)(bps[4]._Ii>>8);				//Рег39	Выходной ток выпрямителя №5, 0.1А
00023a  6f8b              LDR      r3,[r1,#0x78]  ; bps
00023c  ea4f2523          ASR      r5,r3,#8
000240  f8805022          STRB     r5,[r0,#0x22]
;;;1487   modbus_registers[77]=(signed char)(bps[4]._Ii);
000244  f8803023          STRB     r3,[r0,#0x23]
;;;1488   modbus_registers[78]=(signed char)(bps[4]._Ti>>8);				//Рег40	Температура радиатора выпрямителя №5, 1гЦ
000248  6fcb              LDR      r3,[r1,#0x7c]  ; bps
00024a  ea4f2523          ASR      r5,r3,#8
00024e  f8805024          STRB     r5,[r0,#0x24]
;;;1489   modbus_registers[79]=(signed char)(bps[4]._Ti);
000252  f8803025          STRB     r3,[r0,#0x25]
;;;1490   modbus_registers[80]=(signed char)(bps[4]._av>>8);				//Рег41	Байт флагов выпрямителя №5, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000256  f8802026          STRB     r2,[r0,#0x26]
;;;1491   modbus_registers[81]=(signed char)(bps[4]._av);
00025a  f8913059          LDRB     r3,[r1,#0x59]  ; bps
00025e  f8803027          STRB     r3,[r0,#0x27]
;;;1492   modbus_registers[82]=(signed char)(bps[5]._Uii>>8);			//Рег42	Выходное напряжение выпрямителя №6, 0.1В
000262  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
000266  ea4f2523          ASR      r5,r3,#8
00026a  f8805028          STRB     r5,[r0,#0x28]
;;;1493   modbus_registers[83]=(signed char)(bps[5]._Uii);
00026e  f8803029          STRB     r3,[r0,#0x29]
;;;1494   modbus_registers[84]=(signed char)(bps[5]._Ii>>8);				//Рег43	Выходной ток выпрямителя №6, 0.1А
000272  688b              LDR      r3,[r1,#8]  ; bps
000274  ea4f2523          ASR      r5,r3,#8
000278  f880502a          STRB     r5,[r0,#0x2a]
;;;1495   modbus_registers[85]=(signed char)(bps[5]._Ii);
00027c  f880302b          STRB     r3,[r0,#0x2b]
;;;1496   modbus_registers[86]=(signed char)(bps[5]._Ti>>8);				//Рег44	Температура радиатора выпрямителя №6, 1гЦ
000280  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1497   modbus_registers[87]=(signed char)(bps[5]._Ti);
;;;1498   modbus_registers[88]=(signed char)(bps[5]._av>>8);				//Рег45	Байт флагов выпрямителя №6, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000282  f1010138          ADD      r1,r1,#0x38
000286  ea4f2523          ASR      r5,r3,#8              ;1496
00028a  f880502c          STRB     r5,[r0,#0x2c]         ;1496
00028e  f880302d          STRB     r3,[r0,#0x2d]         ;1497
000292  f880202e          STRB     r2,[r0,#0x2e]
;;;1499   modbus_registers[89]=(signed char)(bps[5]._av);
000296  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
00029a  f880302f          STRB     r3,[r0,#0x2f]
;;;1500   modbus_registers[90]=(signed char)(bps[6]._Uii>>8);			//Рег46	Выходное напряжение выпрямителя №7, 0.1В
00029e  69cb              LDR      r3,[r1,#0x1c]  ; bps
0002a0  ea4f2523          ASR      r5,r3,#8
0002a4  f8805030          STRB     r5,[r0,#0x30]
;;;1501   modbus_registers[91]=(signed char)(bps[6]._Uii);
0002a8  f8803031          STRB     r3,[r0,#0x31]
;;;1502   modbus_registers[92]=(signed char)(bps[6]._Ii>>8);				//Рег47	Выходной ток выпрямителя №7, 0.1А
0002ac  6a4b              LDR      r3,[r1,#0x24]  ; bps
0002ae  ea4f2523          ASR      r5,r3,#8
0002b2  f8805032          STRB     r5,[r0,#0x32]
;;;1503   modbus_registers[93]=(signed char)(bps[6]._Ii);
0002b6  f8803033          STRB     r3,[r0,#0x33]
;;;1504   modbus_registers[94]=(signed char)(bps[6]._Ti>>8);				//Рег48	Температура радиатора выпрямителя №7, 1гЦ
0002ba  6a8b              LDR      r3,[r1,#0x28]  ; bps
0002bc  ea4f2523          ASR      r5,r3,#8
0002c0  f8805034          STRB     r5,[r0,#0x34]
;;;1505   modbus_registers[95]=(signed char)(bps[6]._Ti);
0002c4  f8803035          STRB     r3,[r0,#0x35]
;;;1506   modbus_registers[96]=(signed char)(bps[6]._av>>8);				//Рег49	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0002c8  f8802036          STRB     r2,[r0,#0x36]
;;;1507   modbus_registers[97]=(signed char)(bps[6]._av);
0002cc  794b              LDRB     r3,[r1,#5]  ; bps
0002ce  f8803037          STRB     r3,[r0,#0x37]
;;;1508   modbus_registers[98]=(signed char)(bps[7]._Uii>>8);			//Рег50	Выходное напряжение выпрямителя №8, 0.1В
0002d2  6f0b              LDR      r3,[r1,#0x70]  ; bps
0002d4  ea4f2523          ASR      r5,r3,#8
0002d8  f8805038          STRB     r5,[r0,#0x38]
;;;1509   modbus_registers[99]=(signed char)(bps[7]._Uii);
0002dc  f8803039          STRB     r3,[r0,#0x39]
;;;1510   modbus_registers[100]=(signed char)(bps[7]._Ii>>8);			//Рег51	Выходной ток выпрямителя №8, 0.1А
0002e0  6f8b              LDR      r3,[r1,#0x78]  ; bps
0002e2  ea4f2523          ASR      r5,r3,#8
0002e6  f880503a          STRB     r5,[r0,#0x3a]
;;;1511   modbus_registers[101]=(signed char)(bps[7]._Ii);
0002ea  f880303b          STRB     r3,[r0,#0x3b]
;;;1512   modbus_registers[102]=(signed char)(bps[7]._Ti>>8);			//Рег52	Температура радиатора выпрямителя №8, 1гЦ
0002ee  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0002f0  ea4f2523          ASR      r5,r3,#8
0002f4  f880503c          STRB     r5,[r0,#0x3c]
;;;1513   modbus_registers[103]=(signed char)(bps[7]._Ti);
0002f8  f880303d          STRB     r3,[r0,#0x3d]
;;;1514   modbus_registers[104]=(signed char)(bps[7]._av>>8);			//Рег53	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0002fc  f880203e          STRB     r2,[r0,#0x3e]
;;;1515   modbus_registers[105]=(signed char)(bps[7]._av);
000300  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000304  f880303f          STRB     r3,[r0,#0x3f]
;;;1516   modbus_registers[106]=(signed char)(bps[8]._Uii>>8);			//Рег54	Выходное напряжение выпрямителя №7, 0.1В
000308  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00030c  ea4f2523          ASR      r5,r3,#8
000310  f8805040          STRB     r5,[r0,#0x40]
;;;1517   modbus_registers[107]=(signed char)(bps[8]._Uii);
000314  f8803041          STRB     r3,[r0,#0x41]
;;;1518   modbus_registers[108]=(signed char)(bps[8]._Ii>>8);				//Рег55	Выходной ток выпрямителя №7, 0.1А
000318  688b              LDR      r3,[r1,#8]  ; bps
00031a  ea4f2523          ASR      r5,r3,#8
00031e  f8805042          STRB     r5,[r0,#0x42]
;;;1519   modbus_registers[109]=(signed char)(bps[8]._Ii);
000322  f8803043          STRB     r3,[r0,#0x43]
;;;1520   modbus_registers[110]=(signed char)(bps[8]._Ti>>8);				//Рег56	Температура радиатора выпрямителя №7, 1гЦ
000326  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1521   modbus_registers[111]=(signed char)(bps[8]._Ti);
;;;1522   modbus_registers[112]=(signed char)(bps[8]._av>>8);				//Рег57	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000328  f1a10118          SUB      r1,r1,#0x18
00032c  ea4f2523          ASR      r5,r3,#8              ;1520
000330  f8805044          STRB     r5,[r0,#0x44]         ;1520
000334  f8803045          STRB     r3,[r0,#0x45]         ;1521
000338  f8802046          STRB     r2,[r0,#0x46]
;;;1523   modbus_registers[113]=(signed char)(bps[8]._av);
00033c  784b              LDRB     r3,[r1,#1]  ; bps
00033e  f8803047          STRB     r3,[r0,#0x47]
;;;1524   modbus_registers[114]=(signed char)(bps[9]._Uii>>8);			//Рег58	Выходное напряжение выпрямителя №8, 0.1В
000342  6ecb              LDR      r3,[r1,#0x6c]  ; bps
000344  ea4f2523          ASR      r5,r3,#8
000348  f8805048          STRB     r5,[r0,#0x48]
;;;1525   modbus_registers[115]=(signed char)(bps[9]._Uii);
00034c  f8803049          STRB     r3,[r0,#0x49]
;;;1526   modbus_registers[116]=(signed char)(bps[9]._Ii>>8);			//Рег59	Выходной ток выпрямителя №8, 0.1А
000350  6f4b              LDR      r3,[r1,#0x74]  ; bps
000352  ea4f2523          ASR      r5,r3,#8
000356  f880504a          STRB     r5,[r0,#0x4a]
;;;1527   modbus_registers[117]=(signed char)(bps[9]._Ii);
00035a  f8003f4b          STRB     r3,[r0,#0x4b]!
;;;1528   modbus_registers[118]=(signed char)(bps[9]._Ti>>8);			//Рег60	Температура радиатора выпрямителя №8, 1гЦ
00035e  6f8b              LDR      r3,[r1,#0x78]  ; bps
000360  ea4f2523          ASR      r5,r3,#8
000364  7045              STRB     r5,[r0,#1]
;;;1529   modbus_registers[119]=(signed char)(bps[9]._Ti);
000366  7083              STRB     r3,[r0,#2]
;;;1530   modbus_registers[120]=(signed char)(bps[9]._av>>8);			//Рег61	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000368  f10101a4          ADD      r1,r1,#0xa4
00036c  f8002f03          STRB     r2,[r0,#3]!
;;;1531   modbus_registers[121]=(signed char)(bps[9]._av);
000370  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000374  7043              STRB     r3,[r0,#1]
;;;1532   
;;;1533   modbus_registers[122]=(signed char)(bps[10]._Uii>>8);			//Рег62	Выходное напряжение выпрямителя №1, 0.1В
000376  69cb              LDR      r3,[r1,#0x1c]  ; bps
000378  ea4f2523          ASR      r5,r3,#8
00037c  7085              STRB     r5,[r0,#2]
;;;1534   modbus_registers[123]=(signed char)(bps[10]._Uii);
00037e  70c3              STRB     r3,[r0,#3]
;;;1535   modbus_registers[124]=(signed char)(bps[10]._Ii>>8);				//Рег63	Выходной ток выпрямителя №1, 0.1А
000380  6a4b              LDR      r3,[r1,#0x24]  ; bps
000382  ea4f2523          ASR      r5,r3,#8
000386  7105              STRB     r5,[r0,#4]
;;;1536   modbus_registers[125]=(signed char)(bps[10]._Ii);
000388  7143              STRB     r3,[r0,#5]
;;;1537   modbus_registers[126]=(signed char)(bps[10]._Ti>>8);				//Рег64	Температура радиатора выпрямителя №1, 1гЦ
00038a  6a8b              LDR      r3,[r1,#0x28]  ; bps
00038c  ea4f2523          ASR      r5,r3,#8
000390  7185              STRB     r5,[r0,#6]
;;;1538   modbus_registers[127]=(signed char)(bps[10]._Ti);
000392  71c3              STRB     r3,[r0,#7]
;;;1539   modbus_registers[128]=(signed char)(bps[10]._av>>8);				//Рег65	Байт флагов выпрямителя №1, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000394  7202              STRB     r2,[r0,#8]
;;;1540   modbus_registers[129]=(signed char)(bps[10]._av);
000396  794b              LDRB     r3,[r1,#5]  ; bps
000398  7243              STRB     r3,[r0,#9]
;;;1541   modbus_registers[130]=(signed char)(bps[11]._Uii>>8);			//Рег66	Выходное напряжение выпрямителя №2, 0.1В
00039a  6f0b              LDR      r3,[r1,#0x70]  ; bps
00039c  ea4f2523          ASR      r5,r3,#8
0003a0  7285              STRB     r5,[r0,#0xa]
;;;1542   modbus_registers[131]=(signed char)(bps[11]._Uii);
0003a2  72c3              STRB     r3,[r0,#0xb]
;;;1543   modbus_registers[132]=(signed char)(bps[11]._Ii>>8);				//Рег67	Выходной ток выпрямителя №2, 0.1А
0003a4  6f8b              LDR      r3,[r1,#0x78]  ; bps
0003a6  ea4f2523          ASR      r5,r3,#8
0003aa  7305              STRB     r5,[r0,#0xc]
;;;1544   modbus_registers[133]=(signed char)(bps[11]._Ii);
0003ac  7343              STRB     r3,[r0,#0xd]
;;;1545   modbus_registers[134]=(signed char)(bps[11]._Ti>>8);				//Рег68	Температура радиатора выпрямителя №2, 1гЦ
0003ae  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0003b0  ea4f2523          ASR      r5,r3,#8
0003b4  7385              STRB     r5,[r0,#0xe]
;;;1546   modbus_registers[135]=(signed char)(bps[11]._Ti);
0003b6  73c3              STRB     r3,[r0,#0xf]
;;;1547   modbus_registers[136]=(signed char)(bps[11]._av>>8);				//Рег69	Байт флагов выпрямителя №2, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0003b8  7402              STRB     r2,[r0,#0x10]
;;;1548   modbus_registers[137]=(signed char)(bps[11]._av);
0003ba  f8913059          LDRB     r3,[r1,#0x59]  ; bps
0003be  7443              STRB     r3,[r0,#0x11]
;;;1549   modbus_registers[138]=(signed char)(bps[12]._Uii>>8);			//Рег70	Выходное напряжение выпрямителя №3, 0.1В
0003c0  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
0003c4  ea4f2523          ASR      r5,r3,#8
0003c8  7485              STRB     r5,[r0,#0x12]
;;;1550   modbus_registers[139]=(signed char)(bps[12]._Uii);
0003ca  74c3              STRB     r3,[r0,#0x13]
;;;1551   modbus_registers[140]=(signed char)(bps[12]._Ii>>8);				//Рег71	Выходной ток выпрямителя №3, 0.1А
0003cc  688b              LDR      r3,[r1,#8]  ; bps
0003ce  ea4f2523          ASR      r5,r3,#8
0003d2  7505              STRB     r5,[r0,#0x14]
;;;1552   modbus_registers[141]=(signed char)(bps[12]._Ii);
0003d4  7543              STRB     r3,[r0,#0x15]
;;;1553   modbus_registers[142]=(signed char)(bps[12]._Ti>>8);				//Рег72	Температура радиатора выпрямителя №3, 1гЦ
0003d6  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1554   modbus_registers[143]=(signed char)(bps[12]._Ti);
;;;1555   modbus_registers[144]=(signed char)(bps[12]._av>>8);				//Рег73	Байт флагов выпрямителя №3, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0003d8  f1010138          ADD      r1,r1,#0x38
0003dc  ea4f2523          ASR      r5,r3,#8              ;1553
0003e0  7585              STRB     r5,[r0,#0x16]         ;1553
0003e2  75c3              STRB     r3,[r0,#0x17]         ;1554
0003e4  7602              STRB     r2,[r0,#0x18]
;;;1556   modbus_registers[145]=(signed char)(bps[12]._av);
0003e6  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
0003ea  7643              STRB     r3,[r0,#0x19]
;;;1557   modbus_registers[146]=(signed char)(bps[13]._Uii>>8);			//Рег74	Выходное напряжение выпрямителя №4, 0.1В
0003ec  69cb              LDR      r3,[r1,#0x1c]  ; bps
0003ee  ea4f2523          ASR      r5,r3,#8
0003f2  7685              STRB     r5,[r0,#0x1a]
;;;1558   modbus_registers[147]=(signed char)(bps[13]._Uii);
0003f4  76c3              STRB     r3,[r0,#0x1b]
;;;1559   modbus_registers[148]=(signed char)(bps[13]._Ii>>8);				//Рег75	Выходной ток выпрямителя №4, 0.1А
0003f6  6a4b              LDR      r3,[r1,#0x24]  ; bps
0003f8  ea4f2523          ASR      r5,r3,#8
0003fc  7705              STRB     r5,[r0,#0x1c]
;;;1560   modbus_registers[149]=(signed char)(bps[13]._Ii);
0003fe  7743              STRB     r3,[r0,#0x1d]
;;;1561   modbus_registers[150]=(signed char)(bps[13]._Ti>>8);				//Рег76	Температура радиатора выпрямителя №4, 1гЦ
000400  6a8b              LDR      r3,[r1,#0x28]  ; bps
000402  ea4f2523          ASR      r5,r3,#8
000406  7785              STRB     r5,[r0,#0x1e]
;;;1562   modbus_registers[151]=(signed char)(bps[13]._Ti);
000408  77c3              STRB     r3,[r0,#0x1f]
;;;1563   modbus_registers[152]=(signed char)(bps[13]._av>>8);				//Рег77	Байт флагов выпрямителя №4, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00040a  f8802020          STRB     r2,[r0,#0x20]
;;;1564   modbus_registers[153]=(signed char)(bps[13]._av);
00040e  794b              LDRB     r3,[r1,#5]  ; bps
000410  f8803021          STRB     r3,[r0,#0x21]
;;;1565   modbus_registers[154]=(signed char)(bps[14]._Uii>>8);			//Рег78	Выходное напряжение выпрямителя №5, 0.1В
000414  6f0b              LDR      r3,[r1,#0x70]  ; bps
000416  ea4f2523          ASR      r5,r3,#8
00041a  f8805022          STRB     r5,[r0,#0x22]
;;;1566   modbus_registers[155]=(signed char)(bps[14]._Uii);
00041e  f8803023          STRB     r3,[r0,#0x23]
;;;1567   modbus_registers[156]=(signed char)(bps[14]._Ii>>8);				//Рег79	Выходной ток выпрямителя №5, 0.1А
000422  6f8b              LDR      r3,[r1,#0x78]  ; bps
000424  ea4f2523          ASR      r5,r3,#8
000428  f8805024          STRB     r5,[r0,#0x24]
;;;1568   modbus_registers[157]=(signed char)(bps[14]._Ii);
00042c  f8803025          STRB     r3,[r0,#0x25]
;;;1569   modbus_registers[158]=(signed char)(bps[14]._Ti>>8);				//Рег80	Температура радиатора выпрямителя №5, 1гЦ
000430  6fcb              LDR      r3,[r1,#0x7c]  ; bps
000432  ea4f2523          ASR      r5,r3,#8
000436  f8805026          STRB     r5,[r0,#0x26]
;;;1570   modbus_registers[159]=(signed char)(bps[14]._Ti);
00043a  f8803027          STRB     r3,[r0,#0x27]
;;;1571   modbus_registers[160]=(signed char)(bps[14]._av>>8);				//Рег81	Байт флагов выпрямителя №5, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00043e  f8802028          STRB     r2,[r0,#0x28]
;;;1572   modbus_registers[161]=(signed char)(bps[14]._av);
000442  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000446  f8803029          STRB     r3,[r0,#0x29]
;;;1573   modbus_registers[162]=(signed char)(bps[15]._Uii>>8);			//Рег82	Выходное напряжение выпрямителя №6, 0.1В
00044a  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00044e  ea4f2523          ASR      r5,r3,#8
000452  f880502a          STRB     r5,[r0,#0x2a]
;;;1574   modbus_registers[163]=(signed char)(bps[15]._Uii);
000456  f880302b          STRB     r3,[r0,#0x2b]
;;;1575   modbus_registers[164]=(signed char)(bps[15]._Ii>>8);				//Рег83	Выходной ток выпрямителя №6, 0.1А
00045a  688b              LDR      r3,[r1,#8]  ; bps
00045c  ea4f2523          ASR      r5,r3,#8
000460  f880502c          STRB     r5,[r0,#0x2c]
;;;1576   modbus_registers[165]=(signed char)(bps[15]._Ii);
000464  f880302d          STRB     r3,[r0,#0x2d]
;;;1577   modbus_registers[166]=(signed char)(bps[15]._Ti>>8);				//Рег84	Температура радиатора выпрямителя №6, 1гЦ
000468  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1578   modbus_registers[167]=(signed char)(bps[15]._Ti);
;;;1579   modbus_registers[168]=(signed char)(bps[15]._av>>8);				//Рег85	Байт флагов выпрямителя №6, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00046a  f1010138          ADD      r1,r1,#0x38
00046e  ea4f2523          ASR      r5,r3,#8              ;1577
000472  f880502e          STRB     r5,[r0,#0x2e]         ;1577
000476  f880302f          STRB     r3,[r0,#0x2f]         ;1578
00047a  f8802030          STRB     r2,[r0,#0x30]
;;;1580   modbus_registers[169]=(signed char)(bps[15]._av);
00047e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000482  f8803031          STRB     r3,[r0,#0x31]
;;;1581   modbus_registers[170]=(signed char)(bps[16]._Uii>>8);			//Рег86	Выходное напряжение выпрямителя №7, 0.1В
000486  69cb              LDR      r3,[r1,#0x1c]  ; bps
000488  ea4f2523          ASR      r5,r3,#8
00048c  f8805032          STRB     r5,[r0,#0x32]
;;;1582   modbus_registers[171]=(signed char)(bps[16]._Uii);
000490  f8803033          STRB     r3,[r0,#0x33]
;;;1583   modbus_registers[172]=(signed char)(bps[16]._Ii>>8);				//Рег87	Выходной ток выпрямителя №7, 0.1А
000494  6a4b              LDR      r3,[r1,#0x24]  ; bps
000496  e017              B        |L1.1224|
                  |L1.1176|
                          DCD      load_U
                  |L1.1180|
                          DCD      ||area_number.4||+0x3c
                  |L1.1184|
                          DCD      load_I
                  |L1.1188|
                          DCD      time_proc
                  |L1.1192|
                          DCD      time_proc_remain
                  |L1.1196|
                          DCD      CAP_COUNTER
                  |L1.1200|
                          DCD      CAP_TIME_SEC
                  |L1.1204|
                          DCD      CAP_TIME_MIN
                  |L1.1208|
                          DCD      CAP_TIME_HOUR
                  |L1.1212|
                          DCD      bVOLT_IS_NOT_DOWN
                  |L1.1216|
                          DCD      bVOLT_IS_NOT_UP
                  |L1.1220|
                          DCD      bps
                  |L1.1224|
0004c8  ea4f2523          ASR      r5,r3,#8
0004cc  f8805034          STRB     r5,[r0,#0x34]
;;;1584   modbus_registers[173]=(signed char)(bps[16]._Ii);
0004d0  f8803035          STRB     r3,[r0,#0x35]
;;;1585   modbus_registers[174]=(signed char)(bps[16]._Ti>>8);				//Рег88	Температура радиатора выпрямителя №7, 1гЦ
0004d4  6a8b              LDR      r3,[r1,#0x28]  ; bps
;;;1586   modbus_registers[175]=(signed char)(bps[16]._Ti);
;;;1587   modbus_registers[176]=(signed char)(bps[16]._av>>8);				//Рег89	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1588   modbus_registers[177]=(signed char)(bps[16]._av);
;;;1589   modbus_registers[178]=(signed char)(bps[17]._Uii>>8);			//Рег590	Выходное напряжение выпрямителя №8, 0.1В
;;;1590   modbus_registers[179]=(signed char)(bps[17]._Uii);
;;;1591   modbus_registers[180]=(signed char)(bps[17]._Ii>>8);			//Рег91	Выходной ток выпрямителя №8, 0.1А
;;;1592   modbus_registers[181]=(signed char)(bps[17]._Ii);
;;;1593   modbus_registers[182]=(signed char)(bps[17]._Ti>>8);			//Рег92	Температура радиатора выпрямителя №8, 1гЦ
;;;1594   modbus_registers[183]=(signed char)(bps[17]._Ti);
;;;1595   modbus_registers[184]=(signed char)(bps[17]._av>>8);			//Рег93	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1596   modbus_registers[185]=(signed char)(bps[17]._av);
;;;1597   modbus_registers[186]=(signed char)(bps[18]._Uii>>8);			//Рег94	Выходное напряжение выпрямителя №7, 0.1В
;;;1598   modbus_registers[187]=(signed char)(bps[18]._Uii);
;;;1599   modbus_registers[188]=(signed char)(bps[18]._Ii>>8);				//Рег95	Выходной ток выпрямителя №7, 0.1А
;;;1600   modbus_registers[189]=(signed char)(bps[18]._Ii);
;;;1601   modbus_registers[190]=(signed char)(bps[18]._Ti>>8);				//Рег96	Температура радиатора выпрямителя №7, 1гЦ
;;;1602   modbus_registers[191]=(signed char)(bps[18]._Ti);
;;;1603   modbus_registers[192]=(signed char)(bps[18]._av>>8);				//Рег97	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1604   modbus_registers[193]=(signed char)(bps[18]._av);
;;;1605   modbus_registers[194]=(signed char)(bps[19]._Uii>>8);			//Рег98	Выходное напряжение выпрямителя №8, 0.1В
;;;1606   modbus_registers[195]=(signed char)(bps[19]._Uii);
;;;1607   modbus_registers[196]=(signed char)(bps[19]._Ii>>8);			//Рег99	Выходной ток выпрямителя №8, 0.1А
;;;1608   modbus_registers[197]=(signed char)(bps[19]._Ii);
;;;1609   modbus_registers[198]=(signed char)(bps[19]._Ti>>8);			//Рег100	Температура радиатора выпрямителя №8, 1гЦ
;;;1610   modbus_registers[199]=(signed char)(bps[19]._Ti);
;;;1611   modbus_registers[200]=(signed char)(bps[19]._av>>8);			//Рег101	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0004d6  4616              MOV      r6,r2
0004d8  ea4f2523          ASR      r5,r3,#8              ;1585
0004dc  f8805036          STRB     r5,[r0,#0x36]         ;1585
0004e0  f8803037          STRB     r3,[r0,#0x37]         ;1586
0004e4  f8802038          STRB     r2,[r0,#0x38]         ;1587
0004e8  794b              LDRB     r3,[r1,#5]            ;1588  ; bps
0004ea  f8803039          STRB     r3,[r0,#0x39]         ;1588
0004ee  6f0b              LDR      r3,[r1,#0x70]         ;1589  ; bps
0004f0  ea4f2523          ASR      r5,r3,#8              ;1589
0004f4  f880503a          STRB     r5,[r0,#0x3a]         ;1589
0004f8  f880303b          STRB     r3,[r0,#0x3b]         ;1590
0004fc  6f8b              LDR      r3,[r1,#0x78]         ;1591  ; bps
0004fe  ea4f2523          ASR      r5,r3,#8              ;1591
000502  f880503c          STRB     r5,[r0,#0x3c]         ;1591
000506  f880303d          STRB     r3,[r0,#0x3d]         ;1592
00050a  6fcb              LDR      r3,[r1,#0x7c]         ;1593  ; bps
00050c  ea4f2523          ASR      r5,r3,#8              ;1593
000510  f880503e          STRB     r5,[r0,#0x3e]         ;1593
000514  f880303f          STRB     r3,[r0,#0x3f]         ;1594
000518  f8802040          STRB     r2,[r0,#0x40]         ;1595
00051c  f8913059          LDRB     r3,[r1,#0x59]         ;1596  ; bps
000520  f8803041          STRB     r3,[r0,#0x41]         ;1596
000524  f8513fc4          LDR      r3,[r1,#0xc4]!        ;1597  ; bps
000528  ea4f2523          ASR      r5,r3,#8              ;1597
00052c  f8805042          STRB     r5,[r0,#0x42]         ;1597
000530  f8803043          STRB     r3,[r0,#0x43]         ;1598
000534  688b              LDR      r3,[r1,#8]            ;1599  ; bps
000536  ea4f2523          ASR      r5,r3,#8              ;1599
00053a  f8805044          STRB     r5,[r0,#0x44]         ;1599
00053e  f8803045          STRB     r3,[r0,#0x45]         ;1600
000542  68cb              LDR      r3,[r1,#0xc]          ;1601  ; bps
000544  f1a10118          SUB      r1,r1,#0x18           ;1603
000548  ea4f2523          ASR      r5,r3,#8              ;1601
00054c  f8805046          STRB     r5,[r0,#0x46]         ;1601
000550  f8803047          STRB     r3,[r0,#0x47]         ;1602
000554  f8802048          STRB     r2,[r0,#0x48]         ;1603
000558  784b              LDRB     r3,[r1,#1]            ;1604  ; bps
00055a  f8803049          STRB     r3,[r0,#0x49]         ;1604
00055e  6ecb              LDR      r3,[r1,#0x6c]         ;1605  ; bps
000560  ea4f2523          ASR      r5,r3,#8              ;1605
000564  f880504a          STRB     r5,[r0,#0x4a]         ;1605
000568  f880304b          STRB     r3,[r0,#0x4b]         ;1606
00056c  6f4b              LDR      r3,[r1,#0x74]         ;1607  ; bps
00056e  ea4f2523          ASR      r5,r3,#8              ;1607
000572  f880504c          STRB     r5,[r0,#0x4c]         ;1607
000576  f880304d          STRB     r3,[r0,#0x4d]         ;1608
00057a  6f8b              LDR      r3,[r1,#0x78]         ;1609  ; bps
00057c  f10101a4          ADD      r1,r1,#0xa4
000580  ea4f2523          ASR      r5,r3,#8              ;1609
000584  f880504e          STRB     r5,[r0,#0x4e]         ;1609
000588  f8003f4f          STRB     r3,[r0,#0x4f]!        ;1610
00058c  7042              STRB     r2,[r0,#1]
;;;1612   modbus_registers[201]=(signed char)(bps[19]._av);
00058e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000592  7083              STRB     r3,[r0,#2]
;;;1613   
;;;1614   modbus_registers[202]=(signed char)(bps[20]._Uii>>8);			//Рег102	Выходное напряжение выпрямителя №1, 0.1В
000594  69cb              LDR      r3,[r1,#0x1c]  ; bps
000596  ea4f2523          ASR      r5,r3,#8
00059a  70c5              STRB     r5,[r0,#3]
;;;1615   modbus_registers[203]=(signed char)(bps[20]._Uii);
00059c  7103              STRB     r3,[r0,#4]
;;;1616   modbus_registers[204]=(signed char)(bps[20]._Ii>>8);				//Рег103	Выходной ток выпрямителя №1, 0.1А
00059e  6a4b              LDR      r3,[r1,#0x24]  ; bps
0005a0  ea4f2523          ASR      r5,r3,#8
0005a4  7145              STRB     r5,[r0,#5]
;;;1617   modbus_registers[205]=(signed char)(bps[20]._Ii);
0005a6  7183              STRB     r3,[r0,#6]
;;;1618   modbus_registers[206]=(signed char)(bps[20]._Ti>>8);				//Рег104	Температура радиатора выпрямителя №1, 1гЦ
0005a8  6a8b              LDR      r3,[r1,#0x28]  ; bps
0005aa  ea4f2523          ASR      r5,r3,#8
0005ae  71c5              STRB     r5,[r0,#7]
;;;1619   modbus_registers[207]=(signed char)(bps[20]._Ti);
0005b0  7203              STRB     r3,[r0,#8]
;;;1620   modbus_registers[208]=(signed char)(bps[20]._av>>8);				//Рег105	Байт флагов выпрямителя №1, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0005b2  7242              STRB     r2,[r0,#9]
;;;1621   modbus_registers[209]=(signed char)(bps[20]._av);
0005b4  794b              LDRB     r3,[r1,#5]  ; bps
0005b6  7283              STRB     r3,[r0,#0xa]
;;;1622   modbus_registers[210]=(signed char)(bps[21]._Uii>>8);			//Рег106	Выходное напряжение выпрямителя №2, 0.1В
0005b8  6f0b              LDR      r3,[r1,#0x70]  ; bps
0005ba  ea4f2523          ASR      r5,r3,#8
0005be  72c5              STRB     r5,[r0,#0xb]
;;;1623   modbus_registers[211]=(signed char)(bps[21]._Uii);
0005c0  7303              STRB     r3,[r0,#0xc]
;;;1624   modbus_registers[212]=(signed char)(bps[21]._Ii>>8);				//Рег107	Выходной ток выпрямителя №2, 0.1А
0005c2  6f8b              LDR      r3,[r1,#0x78]  ; bps
0005c4  ea4f2523          ASR      r5,r3,#8
0005c8  7345              STRB     r5,[r0,#0xd]
;;;1625   modbus_registers[213]=(signed char)(bps[21]._Ii);
0005ca  7383              STRB     r3,[r0,#0xe]
;;;1626   modbus_registers[214]=(signed char)(bps[21]._Ti>>8);				//Рег108	Температура радиатора выпрямителя №2, 1гЦ
0005cc  6fcb              LDR      r3,[r1,#0x7c]  ; bps
0005ce  ea4f2523          ASR      r5,r3,#8
0005d2  73c5              STRB     r5,[r0,#0xf]
;;;1627   modbus_registers[215]=(signed char)(bps[21]._Ti);
0005d4  7403              STRB     r3,[r0,#0x10]
;;;1628   modbus_registers[216]=(signed char)(bps[21]._av>>8);				//Рег109	Байт флагов выпрямителя №2, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0005d6  7442              STRB     r2,[r0,#0x11]
;;;1629   modbus_registers[217]=(signed char)(bps[21]._av);
0005d8  f8913059          LDRB     r3,[r1,#0x59]  ; bps
0005dc  7483              STRB     r3,[r0,#0x12]
;;;1630   modbus_registers[218]=(signed char)(bps[22]._Uii>>8);			//Рег110	Выходное напряжение выпрямителя №3, 0.1В
0005de  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
0005e2  ea4f2523          ASR      r5,r3,#8
0005e6  74c5              STRB     r5,[r0,#0x13]
;;;1631   modbus_registers[219]=(signed char)(bps[22]._Uii);
0005e8  7503              STRB     r3,[r0,#0x14]
;;;1632   modbus_registers[220]=(signed char)(bps[22]._Ii>>8);				//Рег111	Выходной ток выпрямителя №3, 0.1А
0005ea  688b              LDR      r3,[r1,#8]  ; bps
0005ec  ea4f2523          ASR      r5,r3,#8
0005f0  7545              STRB     r5,[r0,#0x15]
;;;1633   modbus_registers[221]=(signed char)(bps[22]._Ii);
0005f2  7583              STRB     r3,[r0,#0x16]
;;;1634   modbus_registers[222]=(signed char)(bps[22]._Ti>>8);				//Рег112	Температура радиатора выпрямителя №3, 1гЦ
0005f4  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1635   modbus_registers[223]=(signed char)(bps[22]._Ti);
;;;1636   modbus_registers[224]=(signed char)(bps[22]._av>>8);				//Рег113	Байт флагов выпрямителя №3, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0005f6  f1010138          ADD      r1,r1,#0x38
0005fa  ea4f2523          ASR      r5,r3,#8              ;1634
0005fe  75c5              STRB     r5,[r0,#0x17]         ;1634
000600  7603              STRB     r3,[r0,#0x18]         ;1635
000602  7642              STRB     r2,[r0,#0x19]
;;;1637   modbus_registers[225]=(signed char)(bps[22]._av);
000604  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
000608  7683              STRB     r3,[r0,#0x1a]
;;;1638   modbus_registers[226]=(signed char)(bps[23]._Uii>>8);			//Рег114	Выходное напряжение выпрямителя №4, 0.1В
00060a  69cb              LDR      r3,[r1,#0x1c]  ; bps
00060c  ea4f2523          ASR      r5,r3,#8
000610  76c5              STRB     r5,[r0,#0x1b]
;;;1639   modbus_registers[227]=(signed char)(bps[23]._Uii);
000612  7703              STRB     r3,[r0,#0x1c]
;;;1640   modbus_registers[228]=(signed char)(bps[23]._Ii>>8);				//Рег115	Выходной ток выпрямителя №4, 0.1А
000614  6a4b              LDR      r3,[r1,#0x24]  ; bps
000616  ea4f2523          ASR      r5,r3,#8
00061a  7745              STRB     r5,[r0,#0x1d]
;;;1641   modbus_registers[229]=(signed char)(bps[23]._Ii);
00061c  7783              STRB     r3,[r0,#0x1e]
;;;1642   modbus_registers[230]=(signed char)(bps[23]._Ti>>8);				//Рег116	Температура радиатора выпрямителя №4, 1гЦ
00061e  6a8b              LDR      r3,[r1,#0x28]  ; bps
000620  ea4f2523          ASR      r5,r3,#8
000624  77c5              STRB     r5,[r0,#0x1f]
;;;1643   modbus_registers[231]=(signed char)(bps[23]._Ti);
000626  f8803020          STRB     r3,[r0,#0x20]
;;;1644   modbus_registers[232]=(signed char)(bps[23]._av>>8);				//Рег117	Байт флагов выпрямителя №4, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00062a  f8802021          STRB     r2,[r0,#0x21]
;;;1645   modbus_registers[233]=(signed char)(bps[23]._av);
00062e  794b              LDRB     r3,[r1,#5]  ; bps
000630  f8803022          STRB     r3,[r0,#0x22]
;;;1646   modbus_registers[234]=(signed char)(bps[24]._Uii>>8);			//Рег118	Выходное напряжение выпрямителя №5, 0.1В
000634  6f0b              LDR      r3,[r1,#0x70]  ; bps
000636  ea4f2523          ASR      r5,r3,#8
00063a  f8805023          STRB     r5,[r0,#0x23]
;;;1647   modbus_registers[235]=(signed char)(bps[24]._Uii);
00063e  f8803024          STRB     r3,[r0,#0x24]
;;;1648   modbus_registers[236]=(signed char)(bps[24]._Ii>>8);				//Рег119	Выходной ток выпрямителя №5, 0.1А
000642  6f8b              LDR      r3,[r1,#0x78]  ; bps
000644  ea4f2523          ASR      r5,r3,#8
000648  f8805025          STRB     r5,[r0,#0x25]
;;;1649   modbus_registers[237]=(signed char)(bps[24]._Ii);
00064c  f8803026          STRB     r3,[r0,#0x26]
;;;1650   modbus_registers[238]=(signed char)(bps[24]._Ti>>8);				//Рег120	Температура радиатора выпрямителя №5, 1гЦ
000650  6fcb              LDR      r3,[r1,#0x7c]  ; bps
000652  ea4f2523          ASR      r5,r3,#8
000656  f8805027          STRB     r5,[r0,#0x27]
;;;1651   modbus_registers[239]=(signed char)(bps[24]._Ti);
00065a  f8803028          STRB     r3,[r0,#0x28]
;;;1652   modbus_registers[240]=(signed char)(bps[24]._av>>8);				//Рег121	Байт флагов выпрямителя №5, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00065e  f8802029          STRB     r2,[r0,#0x29]
;;;1653   modbus_registers[241]=(signed char)(bps[24]._av);
000662  f8913059          LDRB     r3,[r1,#0x59]  ; bps
000666  f880302a          STRB     r3,[r0,#0x2a]
;;;1654   modbus_registers[242]=(signed char)(bps[25]._Uii>>8);			//Рег122	Выходное напряжение выпрямителя №6, 0.1В
00066a  f8513fc4          LDR      r3,[r1,#0xc4]!  ; bps
00066e  ea4f2523          ASR      r5,r3,#8
000672  f880502b          STRB     r5,[r0,#0x2b]
;;;1655   modbus_registers[243]=(signed char)(bps[25]._Uii);
000676  f880302c          STRB     r3,[r0,#0x2c]
;;;1656   modbus_registers[244]=(signed char)(bps[25]._Ii>>8);				//Рег123	Выходной ток выпрямителя №6, 0.1А
00067a  688b              LDR      r3,[r1,#8]  ; bps
00067c  ea4f2523          ASR      r5,r3,#8
000680  f880502d          STRB     r5,[r0,#0x2d]
;;;1657   modbus_registers[245]=(signed char)(bps[25]._Ii);
000684  f880302e          STRB     r3,[r0,#0x2e]
;;;1658   modbus_registers[246]=(signed char)(bps[25]._Ti>>8);				//Рег124	Температура радиатора выпрямителя №6, 1гЦ
000688  68cb              LDR      r3,[r1,#0xc]  ; bps
;;;1659   modbus_registers[247]=(signed char)(bps[25]._Ti);
;;;1660   modbus_registers[248]=(signed char)(bps[25]._av>>8);				//Рег125	Байт флагов выпрямителя №6, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00068a  f1010138          ADD      r1,r1,#0x38
00068e  ea4f2523          ASR      r5,r3,#8              ;1658
000692  f880502f          STRB     r5,[r0,#0x2f]         ;1658
000696  f8803030          STRB     r3,[r0,#0x30]         ;1659
00069a  f8802031          STRB     r2,[r0,#0x31]
;;;1661   modbus_registers[249]=(signed char)(bps[25]._av);
00069e  f8113c4f          LDRB     r3,[r1,#-0x4f]  ; bps
0006a2  f8803032          STRB     r3,[r0,#0x32]
;;;1662   modbus_registers[250]=(signed char)(bps[26]._Uii>>8);			//Рег126	Выходное напряжение выпрямителя №7, 0.1В
0006a6  69cb              LDR      r3,[r1,#0x1c]  ; bps
;;;1663   modbus_registers[251]=(signed char)(bps[26]._Uii);
;;;1664   modbus_registers[252]=(signed char)(bps[26]._Ii>>8);				//Рег127	Выходной ток выпрямителя №7, 0.1А
;;;1665   modbus_registers[253]=(signed char)(bps[26]._Ii);
;;;1666   modbus_registers[254]=(signed char)(bps[26]._Ti>>8);				//Рег128	Температура радиатора выпрямителя №7, 1гЦ
;;;1667   modbus_registers[255]=(signed char)(bps[26]._Ti);
;;;1668   modbus_registers[256]=(signed char)(bps[26]._av>>8);				//Рег129	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1669   modbus_registers[257]=(signed char)(bps[26]._av);
;;;1670   modbus_registers[258]=(signed char)(bps[27]._Uii>>8);			//Рег130	Выходное напряжение выпрямителя №8, 0.1В
;;;1671   modbus_registers[259]=(signed char)(bps[27]._Uii);
;;;1672   modbus_registers[260]=(signed char)(bps[27]._Ii>>8);			//Рег131	Выходной ток выпрямителя №8, 0.1А
;;;1673   modbus_registers[261]=(signed char)(bps[27]._Ii);
;;;1674   modbus_registers[262]=(signed char)(bps[27]._Ti>>8);			//Рег132	Температура радиатора выпрямителя №8, 1гЦ
;;;1675   modbus_registers[263]=(signed char)(bps[27]._Ti);
;;;1676   modbus_registers[264]=(signed char)(bps[27]._av>>8);			//Рег133	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1677   modbus_registers[265]=(signed char)(bps[27]._av);
;;;1678   modbus_registers[266]=(signed char)(bps[28]._Uii>>8);			//Рег134	Выходное напряжение выпрямителя №7, 0.1В
;;;1679   modbus_registers[267]=(signed char)(bps[28]._Uii);
;;;1680   modbus_registers[268]=(signed char)(bps[28]._Ii>>8);				//Рег135	Выходной ток выпрямителя №7, 0.1А
;;;1681   modbus_registers[269]=(signed char)(bps[28]._Ii);
;;;1682   modbus_registers[270]=(signed char)(bps[28]._Ti>>8);				//Рег136	Температура радиатора выпрямителя №7, 1гЦ
;;;1683   modbus_registers[271]=(signed char)(bps[28]._Ti);
;;;1684   modbus_registers[272]=(signed char)(bps[28]._av>>8);				//Рег137	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1685   modbus_registers[273]=(signed char)(bps[28]._av);
;;;1686   modbus_registers[274]=(signed char)(bps[29]._Uii>>8);			//Рег138	Выходное напряжение выпрямителя №8, 0.1В
;;;1687   modbus_registers[275]=(signed char)(bps[29]._Uii);
;;;1688   modbus_registers[276]=(signed char)(bps[29]._Ii>>8);			//Рег139	Выходной ток выпрямителя №8, 0.1А
;;;1689   modbus_registers[277]=(signed char)(bps[29]._Ii);
;;;1690   modbus_registers[278]=(signed char)(bps[29]._Ti>>8);			//Рег140	Температура радиатора выпрямителя №8, 1гЦ
;;;1691   modbus_registers[279]=(signed char)(bps[29]._Ti);
;;;1692   modbus_registers[280]=(signed char)(bps[29]._av>>8);			//Рег141	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
;;;1693   modbus_registers[281]=(signed char)(bps[29]._av);
;;;1694   								
;;;1695   /*
;;;1696   modbus_registers[16]=(char)(I_ug/256);					//Рег9
;;;1697   modbus_registers[17]=(char)(I_ug%256);
;;;1698   modbus_registers[18]=(char)(U_up/256);					//Рег10
;;;1699   modbus_registers[19]=(char)(U_up%256);
;;;1700   modbus_registers[20]=(char)(U_maxg/256);				//Рег11
;;;1701   modbus_registers[21]=(char)(U_maxg%256);
;;;1702   modbus_registers[22]=(char)(I_maxp/256);				//Рег12
;;;1703   modbus_registers[23]=(char)(I_maxp%256);
;;;1704   modbus_registers[24]=(char)((T_PROC_GS%60)/256);			//Рег13
;;;1705   modbus_registers[25]=(char)((T_PROC_GS%60)%256);
;;;1706   modbus_registers[26]=(char)((T_PROC_GS/60)/256);			//Рег14
;;;1707   modbus_registers[27]=(char)((T_PROC_GS/60)%256);
;;;1708   modbus_registers[28]=(char)((T_PROC_GS/3600)/256);		//Рег15
;;;1709   modbus_registers[29]=(char)((T_PROC_GS/3600)%256);
;;;1710   modbus_registers[30]=(char)((T_PROC_PS%60)/256);			//Рег16
;;;1711   modbus_registers[31]=(char)((T_PROC_PS%60)%256);
;;;1712   modbus_registers[32]=(char)((T_PROC_PS/60)/256);			//Рег17
;;;1713   modbus_registers[33]=(char)((T_PROC_PS/60)%256);
;;;1714   modbus_registers[34]=(char)((T_PROC_PS/3600)/256);		//Рег18
;;;1715   modbus_registers[35]=(char)((T_PROC_PS/3600)%256);
;;;1716   modbus_registers[36]=0;								//Рег19
;;;1717   modbus_registers[37]=0;
;;;1718   if(work_stat==wsPS)modbus_registers[37]=1;
;;;1719   modbus_registers[38]=0;								//Рег20
;;;1720   modbus_registers[39]=0;
;;;1721   if(work_stat==wsGS)modbus_registers[39]=1;
;;;1722   modbus_registers[40]=0;								//Рег21
;;;1723   modbus_registers[41]=0;
;;;1724   if(REV_STAT==rsREW)modbus_registers[41]=1;
;;;1725   modbus_registers[42]=0;								//Рег22
;;;1726   modbus_registers[43]=0;
;;;1727   if(AVT_REV_IS_ON)modbus_registers[42]=1;
;;;1728   */
;;;1729   if(prot==MODBUS_RTU_PROT)
0006a8  f1bc0f00          CMP      r12,#0
0006ac  ea4f2523          ASR      r5,r3,#8              ;1662
0006b0  f8805033          STRB     r5,[r0,#0x33]         ;1662
0006b4  f8803034          STRB     r3,[r0,#0x34]         ;1663
0006b8  6a4b              LDR      r3,[r1,#0x24]         ;1664  ; bps
0006ba  ea4f2523          ASR      r5,r3,#8              ;1664
0006be  f8805035          STRB     r5,[r0,#0x35]         ;1664
0006c2  f8803036          STRB     r3,[r0,#0x36]         ;1665
0006c6  6a8b              LDR      r3,[r1,#0x28]         ;1666  ; bps
0006c8  ea4f2523          ASR      r5,r3,#8              ;1666
0006cc  f8805037          STRB     r5,[r0,#0x37]         ;1666
0006d0  f8803038          STRB     r3,[r0,#0x38]         ;1667
0006d4  f8802039          STRB     r2,[r0,#0x39]         ;1668
0006d8  794b              LDRB     r3,[r1,#5]            ;1669  ; bps
0006da  f880303a          STRB     r3,[r0,#0x3a]         ;1669
0006de  6f0b              LDR      r3,[r1,#0x70]         ;1670  ; bps
0006e0  ea4f2523          ASR      r5,r3,#8              ;1670
0006e4  f880503b          STRB     r5,[r0,#0x3b]         ;1670
0006e8  f880303c          STRB     r3,[r0,#0x3c]         ;1671
0006ec  6f8b              LDR      r3,[r1,#0x78]         ;1672  ; bps
0006ee  ea4f2523          ASR      r5,r3,#8              ;1672
0006f2  f880503d          STRB     r5,[r0,#0x3d]         ;1672
0006f6  f880303e          STRB     r3,[r0,#0x3e]         ;1673
0006fa  6fcb              LDR      r3,[r1,#0x7c]         ;1674  ; bps
0006fc  ea4f2523          ASR      r5,r3,#8              ;1674
000700  f880503f          STRB     r5,[r0,#0x3f]         ;1674
000704  f8803040          STRB     r3,[r0,#0x40]         ;1675
000708  f8802041          STRB     r2,[r0,#0x41]         ;1676
00070c  f8913059          LDRB     r3,[r1,#0x59]         ;1677  ; bps
000710  f8803042          STRB     r3,[r0,#0x42]         ;1677
000714  f8d130c4          LDR      r3,[r1,#0xc4]         ;1678  ; bps
000718  ea4f2523          ASR      r5,r3,#8              ;1678
00071c  f8805043          STRB     r5,[r0,#0x43]         ;1678
000720  f8803044          STRB     r3,[r0,#0x44]         ;1679
000724  f8d130cc          LDR      r3,[r1,#0xcc]         ;1680  ; bps
000728  ea4f2523          ASR      r5,r3,#8              ;1680
00072c  f8805045          STRB     r5,[r0,#0x45]         ;1680
000730  f8803046          STRB     r3,[r0,#0x46]         ;1681
000734  f8d130d0          LDR      r3,[r1,#0xd0]         ;1682  ; bps
000738  ea4f2523          ASR      r5,r3,#8              ;1682
00073c  f8805047          STRB     r5,[r0,#0x47]         ;1682
000740  f8803048          STRB     r3,[r0,#0x48]         ;1683
000744  f8802049          STRB     r2,[r0,#0x49]         ;1684
000748  f89120ad          LDRB     r2,[r1,#0xad]         ;1685  ; bps
00074c  f880204a          STRB     r2,[r0,#0x4a]         ;1685
000750  f8d12118          LDR      r2,[r1,#0x118]        ;1686  ; bps
000754  ea4f2322          ASR      r3,r2,#8              ;1686
000758  f880304b          STRB     r3,[r0,#0x4b]         ;1686
00075c  f8002f4c          STRB     r2,[r0,#0x4c]!        ;1687
000760  f8d12120          LDR      r2,[r1,#0x120]        ;1688  ; bps
000764  f6a10184          SUB      r1,r1,#0x884          ;1688
000768  ea4f2322          ASR      r3,r2,#8              ;1688
00076c  7043              STRB     r3,[r0,#1]            ;1688
00076e  7082              STRB     r2,[r0,#2]            ;1689
000770  f8d129a8          LDR      r2,[r1,#0x9a8]        ;1690  ; bps
000774  ea4f2322          ASR      r3,r2,#8              ;1690
000778  f8003f03          STRB     r3,[r0,#3]!           ;1690
00077c  7042              STRB     r2,[r0,#1]            ;1691
00077e  7086              STRB     r6,[r0,#2]            ;1692
000780  f8911985          LDRB     r1,[r1,#0x985]        ;1693  ; bps
000784  70c1              STRB     r1,[r0,#3]            ;1693
000786  49fe              LDR      r1,|L1.2944|
;;;1730   	{
;;;1731   	modbus_tx_buff[0]=adr;
;;;1732   	modbus_tx_buff[1]=func;
;;;1733   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;1734   	
;;;1735   	memcpy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000788  eb01014a          ADD      r1,r1,r10,LSL #1
00078c  d008              BEQ      |L1.1952|
;;;1736   	
;;;1737   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;1738   	
;;;1739   	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;1740   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1741   	
;;;1742   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1743   		{
;;;1744   		putchar0(modbus_tx_buff[i]);
;;;1745   		}
;;;1746   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1747   		{
;;;1748   		putchar_sc16is700(modbus_tx_buff[i]);
;;;1749   		}
;;;1750   	}
;;;1751   else if(prot==MODBUS_TCP_PROT)
00078e  f1bc0f01          CMP      r12,#1
000792  d102              BNE      |L1.1946|
;;;1752   	{
;;;1753   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-1)*2];
000794  48fb              LDR      r0,|L1.2948|
000796  1e89              SUBS     r1,r1,#2
000798  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.1946|
;;;1754   	}
;;;1755   }
00079a  b033              ADD      sp,sp,#0xcc
                  |L1.1948|
00079c  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.1952|
0007a0  f88db000          STRB     r11,[sp,#0]           ;1731
0007a4  f88de001          STRB     lr,[sp,#1]            ;1732
0007a8  0062              LSLS     r2,r4,#1              ;1733
0007aa  466d              MOV      r5,sp                 ;1735
0007ac  f88d2002          STRB     r2,[sp,#2]            ;1733
0007b0  1e89              SUBS     r1,r1,#2              ;1735
0007b2  1ce8              ADDS     r0,r5,#3              ;1735
0007b4  f7fffffe          BL       __aeabi_memcpy
0007b8  2003              MOVS     r0,#3                 ;1737
0007ba  eb000044          ADD      r0,r0,r4,LSL #1       ;1737
0007be  b201              SXTH     r1,r0                 ;1737
0007c0  4668              MOV      r0,sp                 ;1737
0007c2  f7fffffe          BL       CRC16_2
0007c6  eb050144          ADD      r1,r5,r4,LSL #1       ;1739
0007ca  2600              MOVS     r6,#0                 ;1742
0007cc  70c8              STRB     r0,[r1,#3]            ;1739
0007ce  0a00              LSRS     r0,r0,#8              ;1740
0007d0  7108              STRB     r0,[r1,#4]            ;1740
0007d2  2005              MOVS     r0,#5                 ;1742
0007d4  eb000744          ADD      r7,r0,r4,LSL #1       ;1742
0007d8  e004              B        |L1.2020|
                  |L1.2010|
0007da  5da8              LDRB     r0,[r5,r6]            ;1744
0007dc  f7fffffe          BL       putchar0
0007e0  1c76              ADDS     r6,r6,#1              ;1742
0007e2  b2f6              UXTB     r6,r6                 ;1742
                  |L1.2020|
0007e4  42b7              CMP      r7,r6                 ;1742
0007e6  d8f8              BHI      |L1.2010|
0007e8  2400              MOVS     r4,#0                 ;1746
0007ea  e004              B        |L1.2038|
                  |L1.2028|
0007ec  5d28              LDRB     r0,[r5,r4]            ;1748
0007ee  f7fffffe          BL       putchar_sc16is700
0007f2  1c64              ADDS     r4,r4,#1              ;1746
0007f4  b2e4              UXTB     r4,r4                 ;1746
                  |L1.2038|
0007f6  42a7              CMP      r7,r4                 ;1746
0007f8  d8f8              BHI      |L1.2028|
0007fa  e7ce              B        |L1.1946|
;;;1756   
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;2092   //-----------------------------------------------
;;;2093   void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr, unsigned short reg_quantity, char prot)
0007fc  e92d4fff          PUSH     {r0-r11,lr}
;;;2094   {
000800  b0b3              SUB      sp,sp,#0xcc
000802  4682              MOV      r10,r0
000804  4693              MOV      r11,r2
000806  461d              MOV      r5,r3
;;;2095   //char modbus_registers[110];
;;;2096   char modbus_tx_buff[200];
;;;2097   unsigned short crc_temp;
;;;2098   char i;
;;;2099   
;;;2100   //reg_adr=45;
;;;2101   //I_ug=reg_adr;
;;;2102   //U_up=5678;
;;;2103   
;;;2104   modbus_registers[0]=(char)(lc640_read_int(EE_I_UG)/256);//Рег50
000808  2020              MOVS     r0,#0x20
00080a  f8dd9100          LDR      r9,[sp,#0x100]
00080e  f7fffffe          BL       lc640_read_int
000812  17c1              ASRS     r1,r0,#31
000814  4cda              LDR      r4,|L1.2944|
000816  eb006011          ADD      r0,r0,r1,LSR #24
00081a  1200              ASRS     r0,r0,#8
00081c  7020              STRB     r0,[r4,#0]
;;;2105   modbus_registers[1]=(char)(lc640_read_int(EE_I_UG)%256);
00081e  2020              MOVS     r0,#0x20
000820  f7fffffe          BL       lc640_read_int
000824  7060              STRB     r0,[r4,#1]
;;;2106   modbus_registers[2]=(char)(lc640_read_int(EE_U_UP)/256);//Рег51
000826  2022              MOVS     r0,#0x22
000828  f7fffffe          BL       lc640_read_int
00082c  17c1              ASRS     r1,r0,#31
00082e  eb006011          ADD      r0,r0,r1,LSR #24
000832  1200              ASRS     r0,r0,#8
000834  70a0              STRB     r0,[r4,#2]
;;;2107   modbus_registers[3]=(char)(lc640_read_int(EE_U_UP)%256);
000836  2022              MOVS     r0,#0x22
000838  f7fffffe          BL       lc640_read_int
00083c  70e0              STRB     r0,[r4,#3]
;;;2108   modbus_registers[4]=(char)(U_maxg/256);					//Рег52
00083e  48d2              LDR      r0,|L1.2952|
;;;2109   modbus_registers[5]=(char)(U_maxg%256);
;;;2110   modbus_registers[6]=(char)(I_maxp/256);					//Рег53
;;;2111   modbus_registers[7]=(char)(I_maxp%256);
;;;2112   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Рег54
;;;2113   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;2114   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Рег55
;;;2115   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;2116   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Рег56
000840  f44f2861          MOV      r8,#0xe1000
;;;2117   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
000844  f44f6c61          MOV      r12,#0xe10
000848  f9b00000          LDRSH    r0,[r0,#0]            ;2108  ; U_maxg
00084c  17c1              ASRS     r1,r0,#31             ;2108
00084e  eb006111          ADD      r1,r0,r1,LSR #24      ;2108
000852  120a              ASRS     r2,r1,#8              ;2108
000854  7122              STRB     r2,[r4,#4]            ;2108
000856  7160              STRB     r0,[r4,#5]            ;2109
000858  48cc              LDR      r0,|L1.2956|
00085a  f9b00000          LDRSH    r0,[r0,#0]            ;2110  ; I_maxp
00085e  17c1              ASRS     r1,r0,#31             ;2110
000860  eb006111          ADD      r1,r0,r1,LSR #24      ;2110
000864  120a              ASRS     r2,r1,#8              ;2110
000866  71a2              STRB     r2,[r4,#6]            ;2110
000868  71e0              STRB     r0,[r4,#7]            ;2111
00086a  48c9              LDR      r0,|L1.2960|
00086c  213c              MOVS     r1,#0x3c              ;2112
00086e  6802              LDR      r2,[r0,#0]            ;2112  ; T_PROC_GS
000870  fb92f7f1          SDIV     r7,r2,r1              ;2112
000874  fb012017          MLS      r0,r1,r7,r2           ;2112
000878  17c3              ASRS     r3,r0,#31             ;2112
00087a  eb006313          ADD      r3,r0,r3,LSR #24      ;2112
00087e  121e              ASRS     r6,r3,#8              ;2112
000880  7226              STRB     r6,[r4,#8]            ;2112
000882  7260              STRB     r0,[r4,#9]            ;2113
000884  fb97f0f1          SDIV     r0,r7,r1              ;2114
000888  fb017010          MLS      r0,r1,r0,r7           ;2114
00088c  17c3              ASRS     r3,r0,#31             ;2114
00088e  eb006313          ADD      r3,r0,r3,LSR #24      ;2114
000892  121e              ASRS     r6,r3,#8              ;2114
000894  72a6              STRB     r6,[r4,#0xa]          ;2114
000896  72e0              STRB     r0,[r4,#0xb]          ;2115
000898  fb92f0f8          SDIV     r0,r2,r8              ;2116
00089c  7320              STRB     r0,[r4,#0xc]          ;2116
00089e  fb92f0fc          SDIV     r0,r2,r12
0008a2  7360              STRB     r0,[r4,#0xd]
;;;2118   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Рег57
0008a4  48bb              LDR      r0,|L1.2964|
0008a6  6802              LDR      r2,[r0,#0]  ; T_PROC_PS
0008a8  fb92f7f1          SDIV     r7,r2,r1
0008ac  fb012017          MLS      r0,r1,r7,r2
0008b0  17c3              ASRS     r3,r0,#31
0008b2  eb006313          ADD      r3,r0,r3,LSR #24
0008b6  121e              ASRS     r6,r3,#8
0008b8  73a6              STRB     r6,[r4,#0xe]
;;;2119   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
0008ba  73e0              STRB     r0,[r4,#0xf]
;;;2120   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Рег58
0008bc  fb97f0f1          SDIV     r0,r7,r1
0008c0  fb017010          MLS      r0,r1,r0,r7
0008c4  17c1              ASRS     r1,r0,#31
0008c6  eb006111          ADD      r1,r0,r1,LSR #24
0008ca  120b              ASRS     r3,r1,#8
0008cc  7423              STRB     r3,[r4,#0x10]
;;;2121   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
0008ce  7460              STRB     r0,[r4,#0x11]
;;;2122   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Рег59
0008d0  fb92f0f8          SDIV     r0,r2,r8
0008d4  74a0              STRB     r0,[r4,#0x12]
;;;2123   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
0008d6  fb92f0fc          SDIV     r0,r2,r12
0008da  74e0              STRB     r0,[r4,#0x13]
;;;2124   modbus_registers[20]=0;								//Рег60
0008dc  2700              MOVS     r7,#0
;;;2125   modbus_registers[21]=0;
;;;2126   if(work_stat==wsPS)modbus_registers[21]=1;
0008de  48ae              LDR      r0,|L1.2968|
0008e0  7527              STRB     r7,[r4,#0x14]         ;2124
0008e2  7567              STRB     r7,[r4,#0x15]         ;2125
0008e4  7801              LDRB     r1,[r0,#0]  ; work_stat
0008e6  2001              MOVS     r0,#1
0008e8  2902              CMP      r1,#2
0008ea  d100              BNE      |L1.2286|
0008ec  7560              STRB     r0,[r4,#0x15]
                  |L1.2286|
;;;2127   modbus_registers[22]=0;								//Рег61
0008ee  75a7              STRB     r7,[r4,#0x16]
;;;2128   modbus_registers[23]=0;
0008f0  75e7              STRB     r7,[r4,#0x17]
;;;2129   if(work_stat==wsGS)modbus_registers[23]=1;
0008f2  2901              CMP      r1,#1
0008f4  d100              BNE      |L1.2296|
0008f6  75e0              STRB     r0,[r4,#0x17]
                  |L1.2296|
;;;2130   modbus_registers[24]=0;								//Рег62
;;;2131   modbus_registers[25]=0;
;;;2132   if(REV_STAT==rsREW)modbus_registers[25]=1;
0008f8  4aa8              LDR      r2,|L1.2972|
0008fa  7627              STRB     r7,[r4,#0x18]         ;2130
0008fc  7667              STRB     r7,[r4,#0x19]         ;2131
0008fe  7812              LDRB     r2,[r2,#0]  ; REV_STAT
000900  b902              CBNZ     r2,|L1.2308|
000902  7660              STRB     r0,[r4,#0x19]
                  |L1.2308|
;;;2133   modbus_registers[26]=0;								//Рег63
;;;2134   modbus_registers[27]=0;
;;;2135   if(AVT_REV_IS_ON)modbus_registers[27]=1;
000904  4aa6              LDR      r2,|L1.2976|
000906  76a7              STRB     r7,[r4,#0x1a]         ;2133
000908  76e7              STRB     r7,[r4,#0x1b]         ;2134
00090a  8812              LDRH     r2,[r2,#0]  ; AVT_REV_IS_ON
00090c  b102              CBZ      r2,|L1.2320|
00090e  76e0              STRB     r0,[r4,#0x1b]
                  |L1.2320|
;;;2136   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Рег64
000910  4aa4              LDR      r2,|L1.2980|
000912  8812              LDRH     r2,[r2,#0]  ; AVT_REV_TIME_FF
000914  0a13              LSRS     r3,r2,#8
000916  f8043f1c          STRB     r3,[r4,#0x1c]!
;;;2137   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
00091a  7062              STRB     r2,[r4,#1]
;;;2138   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Рег65
00091c  4aa2              LDR      r2,|L1.2984|
00091e  8812              LDRH     r2,[r2,#0]  ; AVT_REV_TIME_REW
000920  0a13              LSRS     r3,r2,#8
000922  70a3              STRB     r3,[r4,#2]
;;;2139   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
000924  70e2              STRB     r2,[r4,#3]
;;;2140   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Рег66
000926  4aa1              LDR      r2,|L1.2988|
000928  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_TIME_PAUSE
00092c  17d3              ASRS     r3,r2,#31
00092e  eb026313          ADD      r3,r2,r3,LSR #24
000932  121e              ASRS     r6,r3,#8
000934  7126              STRB     r6,[r4,#4]
;;;2141   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
000936  7162              STRB     r2,[r4,#5]
;;;2142   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Рег67
000938  4a9d              LDR      r2,|L1.2992|
00093a  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_I_NOM_FF
00093e  17d3              ASRS     r3,r2,#31
000940  eb026313          ADD      r3,r2,r3,LSR #24
000944  121e              ASRS     r6,r3,#8
000946  71a6              STRB     r6,[r4,#6]
;;;2143   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
000948  71e2              STRB     r2,[r4,#7]
;;;2144   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Рег68
00094a  4a9a              LDR      r2,|L1.2996|
00094c  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_I_NOM_REW
000950  17d3              ASRS     r3,r2,#31
000952  eb026313          ADD      r3,r2,r3,LSR #24
000956  121e              ASRS     r6,r3,#8
000958  7226              STRB     r6,[r4,#8]
;;;2145   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
00095a  7262              STRB     r2,[r4,#9]
;;;2146   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Рег69
00095c  4a96              LDR      r2,|L1.3000|
00095e  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_U_NOM_FF
000962  17d3              ASRS     r3,r2,#31
000964  eb026313          ADD      r3,r2,r3,LSR #24
000968  121e              ASRS     r6,r3,#8
00096a  72a6              STRB     r6,[r4,#0xa]
;;;2147   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
00096c  72e2              STRB     r2,[r4,#0xb]
;;;2148   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Рег70
00096e  4a93              LDR      r2,|L1.3004|
000970  f9b22000          LDRSH    r2,[r2,#0]  ; AVT_REV_U_NOM_REW
000974  17d3              ASRS     r3,r2,#31
000976  eb026313          ADD      r3,r2,r3,LSR #24
00097a  121e              ASRS     r6,r3,#8
00097c  7326              STRB     r6,[r4,#0xc]
;;;2149   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
00097e  7362              STRB     r2,[r4,#0xd]
;;;2150   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Рег71
000980  4a8f              LDR      r2,|L1.3008|
000982  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_ZAR_TIME
000986  17d3              ASRS     r3,r2,#31
000988  eb026313          ADD      r3,r2,r3,LSR #24
00098c  121e              ASRS     r6,r3,#8
00098e  73a6              STRB     r6,[r4,#0xe]
;;;2151   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
000990  73e2              STRB     r2,[r4,#0xf]
;;;2152   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Рег72
000992  4a8c              LDR      r2,|L1.3012|
000994  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_PAUSE1_TIME
000998  17d3              ASRS     r3,r2,#31
00099a  eb026313          ADD      r3,r2,r3,LSR #24
00099e  121e              ASRS     r6,r3,#8
0009a0  7426              STRB     r6,[r4,#0x10]
;;;2153   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
0009a2  7462              STRB     r2,[r4,#0x11]
;;;2154   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Рег73
0009a4  4a88              LDR      r2,|L1.3016|
0009a6  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_RAZR_TIME
0009aa  17d3              ASRS     r3,r2,#31
0009ac  eb026313          ADD      r3,r2,r3,LSR #24
0009b0  121e              ASRS     r6,r3,#8
0009b2  74a6              STRB     r6,[r4,#0x12]
;;;2155   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
0009b4  74e2              STRB     r2,[r4,#0x13]
;;;2156   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Рег74
0009b6  4a85              LDR      r2,|L1.3020|
0009b8  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_PAUSE2_TIME
0009bc  17d3              ASRS     r3,r2,#31
0009be  eb026313          ADD      r3,r2,r3,LSR #24
0009c2  121e              ASRS     r6,r3,#8
0009c4  7526              STRB     r6,[r4,#0x14]
;;;2157   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
0009c6  7562              STRB     r2,[r4,#0x15]
;;;2158   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Рег75
0009c8  4a81              LDR      r2,|L1.3024|
0009ca  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_MAX_VOLT
0009ce  17d3              ASRS     r3,r2,#31
0009d0  eb026313          ADD      r3,r2,r3,LSR #24
0009d4  121e              ASRS     r6,r3,#8
0009d6  75a6              STRB     r6,[r4,#0x16]
;;;2159   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
0009d8  75e2              STRB     r2,[r4,#0x17]
;;;2160   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Рег76
0009da  4a7e              LDR      r2,|L1.3028|
0009dc  f9b22000          LDRSH    r2,[r2,#0]  ; CAP_WRK_CURR
0009e0  17d3              ASRS     r3,r2,#31
0009e2  eb026313          ADD      r3,r2,r3,LSR #24
0009e6  121e              ASRS     r6,r3,#8
0009e8  7626              STRB     r6,[r4,#0x18]
;;;2161   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
0009ea  7662              STRB     r2,[r4,#0x19]
;;;2162   modbus_registers[56]=(char)((proc_phase)/256);				//Рег78	
;;;2163   modbus_registers[57]=(char)((proc_phase)%256);
0009ec  4a7a              LDR      r2,|L1.3032|
0009ee  f8047f1c          STRB     r7,[r4,#0x1c]!        ;2162
0009f2  7812              LDRB     r2,[r2,#0]  ; proc_phase
0009f4  7062              STRB     r2,[r4,#1]
;;;2164   modbus_registers[58]=(char)((REV_IS_ON)/256);				//Рег79	
0009f6  4a79              LDR      r2,|L1.3036|
0009f8  f9b22000          LDRSH    r2,[r2,#0]  ; REV_IS_ON
0009fc  17d3              ASRS     r3,r2,#31
0009fe  eb026313          ADD      r3,r2,r3,LSR #24
000a02  121e              ASRS     r6,r3,#8
000a04  70a6              STRB     r6,[r4,#2]
;;;2165   modbus_registers[59]=(char)((REV_IS_ON)%256);
000a06  70e2              STRB     r2,[r4,#3]
;;;2166   
;;;2167   
;;;2168   
;;;2169   modbus_registers[60]=(char)((pwm_u_reg)/256);			//Рег80
000a08  4a75              LDR      r2,|L1.3040|
000a0a  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_u_reg
000a0e  17d3              ASRS     r3,r2,#31
000a10  eb026313          ADD      r3,r2,r3,LSR #24
000a14  121e              ASRS     r6,r3,#8
000a16  7126              STRB     r6,[r4,#4]
;;;2170   modbus_registers[61]=(char)((pwm_u_reg)%256);
000a18  7162              STRB     r2,[r4,#5]
;;;2171   modbus_registers[62]=(char)((pwm_i_reg)/256);			//Рег81
000a1a  4a72              LDR      r2,|L1.3044|
000a1c  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_i_reg
000a20  17d3              ASRS     r3,r2,#31
000a22  eb026313          ADD      r3,r2,r3,LSR #24
000a26  121e              ASRS     r6,r3,#8
000a28  71a6              STRB     r6,[r4,#6]
;;;2172   modbus_registers[63]=(char)((pwm_i_reg)%256);
000a2a  71e2              STRB     r2,[r4,#7]
;;;2173   modbus_registers[64]=(char)((pwm_t_reg/10)/256);			//Рег82
000a2c  4a6e              LDR      r2,|L1.3048|
000a2e  f44f6320          MOV      r3,#0xa00
000a32  f9b22000          LDRSH    r2,[r2,#0]  ; pwm_t_reg
000a36  fb92f3f3          SDIV     r3,r2,r3
000a3a  7223              STRB     r3,[r4,#8]
;;;2174   modbus_registers[65]=(char)((pwm_t_reg/10)%256);
000a3c  230a              MOVS     r3,#0xa
000a3e  fb92f2f3          SDIV     r2,r2,r3
000a42  7262              STRB     r2,[r4,#9]
;;;2175   
;;;2176   modbus_registers[80]=(char)((I_ug_ram)/256);			//Рег90
000a44  4a69              LDR      r2,|L1.3052|
000a46  f9b22000          LDRSH    r2,[r2,#0]  ; I_ug_ram
000a4a  17d3              ASRS     r3,r2,#31
000a4c  eb026313          ADD      r3,r2,r3,LSR #24
000a50  121e              ASRS     r6,r3,#8
000a52  7626              STRB     r6,[r4,#0x18]
;;;2177   modbus_registers[81]=(char)((I_ug_ram)%256);
000a54  f8042f19          STRB     r2,[r4,#0x19]!
;;;2178   modbus_registers[82]=(char)((U_up_ram)/256);			//Рег91
000a58  4a65              LDR      r2,|L1.3056|
000a5a  f9b22000          LDRSH    r2,[r2,#0]  ; U_up_ram
000a5e  17d3              ASRS     r3,r2,#31
000a60  eb026313          ADD      r3,r2,r3,LSR #24
000a64  121e              ASRS     r6,r3,#8
000a66  7066              STRB     r6,[r4,#1]
;;;2179   modbus_registers[83]=(char)((U_up_ram)%256);
000a68  70a2              STRB     r2,[r4,#2]
;;;2180   modbus_registers[84]=0;									//Рег92
000a6a  70e7              STRB     r7,[r4,#3]
;;;2181   modbus_registers[85]=0;
000a6c  7127              STRB     r7,[r4,#4]
000a6e  f1a40451          SUB      r4,r4,#0x51
;;;2182   if(work_stat==wsPS)modbus_registers[85]=1;
000a72  2902              CMP      r1,#2
000a74  d101              BNE      |L1.2682|
000a76  f8840055          STRB     r0,[r4,#0x55]
                  |L1.2682|
;;;2183   modbus_registers[86]=0;									//Рег93
000a7a  f8847056          STRB     r7,[r4,#0x56]
;;;2184   modbus_registers[87]=0;
000a7e  f8847057          STRB     r7,[r4,#0x57]
;;;2185   if(work_stat==wsGS)modbus_registers[87]=1;
000a82  2901              CMP      r1,#1
000a84  d101              BNE      |L1.2698|
000a86  f8840057          STRB     r0,[r4,#0x57]
                  |L1.2698|
000a8a  4a3d              LDR      r2,|L1.2944|
;;;2186   
;;;2187   if(prot==MODBUS_RTU_PROT)
;;;2188   	{
;;;2189   	modbus_tx_buff[0]=adr;
;;;2190   	modbus_tx_buff[1]=func;
;;;2191   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;2192   	
;;;2193   	memcpy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-50)*2],reg_quantity*2);
000a8c  eb02014b          ADD      r1,r2,r11,LSL #1
000a90  3964              SUBS     r1,r1,#0x64
000a92  f1b90f00          CMP      r9,#0                 ;2187
000a96  d006              BEQ      |L1.2726|
;;;2194   							   
;;;2195   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;2196   	
;;;2197   	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;2198   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;2199   	
;;;2200   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;2201   		{
;;;2202   		putchar0(modbus_tx_buff[i]);
;;;2203   		}
;;;2204   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;2205   		{
;;;2206   		putchar_sc16is700(modbus_tx_buff[i]);
;;;2207   		}
;;;2208   	}
;;;2209   else if(prot==MODBUS_TCP_PROT)
000a98  f1b90f01          CMP      r9,#1
000a9c  d101              BNE      |L1.2722|
;;;2210   	{
;;;2211   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
000a9e  4839              LDR      r0,|L1.2948|
000aa0  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.2722|
;;;2212   	}
;;;2213   // modbus_tcp_out_ptr=(char*)(&modbus_registers[0]);
;;;2214   //modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-50)*2];
;;;2215   }
000aa2  b037              ADD      sp,sp,#0xdc
000aa4  e67a              B        |L1.1948|
                  |L1.2726|
000aa6  f88da000          STRB     r10,[sp,#0]           ;2189
000aaa  9834              LDR      r0,[sp,#0xd0]         ;2190
000aac  f88d0001          STRB     r0,[sp,#1]            ;2190
000ab0  006a              LSLS     r2,r5,#1              ;2191
000ab2  466c              MOV      r4,sp                 ;2193
000ab4  f88d2002          STRB     r2,[sp,#2]            ;2191
000ab8  1ce0              ADDS     r0,r4,#3              ;2193
000aba  f7fffffe          BL       __aeabi_memcpy
000abe  2003              MOVS     r0,#3                 ;2195
000ac0  eb000045          ADD      r0,r0,r5,LSL #1       ;2195
000ac4  b201              SXTH     r1,r0                 ;2195
000ac6  4668              MOV      r0,sp                 ;2195
000ac8  f7fffffe          BL       CRC16_2
000acc  eb040145          ADD      r1,r4,r5,LSL #1       ;2197
000ad0  2600              MOVS     r6,#0                 ;2200
000ad2  70c8              STRB     r0,[r1,#3]            ;2197
000ad4  0a00              LSRS     r0,r0,#8              ;2198
000ad6  7108              STRB     r0,[r1,#4]            ;2198
000ad8  2005              MOVS     r0,#5                 ;2200
000ada  eb000745          ADD      r7,r0,r5,LSL #1       ;2200
000ade  e004              B        |L1.2794|
                  |L1.2784|
000ae0  5da0              LDRB     r0,[r4,r6]            ;2202
000ae2  f7fffffe          BL       putchar0
000ae6  1c76              ADDS     r6,r6,#1              ;2200
000ae8  b2f6              UXTB     r6,r6                 ;2200
                  |L1.2794|
000aea  42b7              CMP      r7,r6                 ;2200
000aec  d8f8              BHI      |L1.2784|
000aee  2500              MOVS     r5,#0                 ;2204
000af0  e004              B        |L1.2812|
                  |L1.2802|
000af2  5d60              LDRB     r0,[r4,r5]            ;2206
000af4  f7fffffe          BL       putchar_sc16is700
000af8  1c6d              ADDS     r5,r5,#1              ;2204
000afa  b2ed              UXTB     r5,r5                 ;2204
                  |L1.2812|
000afc  42af              CMP      r7,r5                 ;2204
000afe  d8f8              BHI      |L1.2802|
000b00  e7cf              B        |L1.2722|
;;;2216   
                          ENDP

                  modbus_for_pult_registers_transmit PROC
;;;1758   //-----------------------------------------------
;;;1759   void modbus_for_pult_registers_transmit(unsigned short reg_quantity)
000b02  b570              PUSH     {r4-r6,lr}
;;;1760   {
000b04  4606              MOV      r6,r0
;;;1761   char modbus_registers[20];
;;;1762   char modbus_tx_buff[30];
;;;1763   unsigned short crc_temp;
;;;1764   char i;
;;;1765   //char reg_quantity=4;
;;;1766   
;;;1767   //pult_time_set=0xffff;
;;;1768   
;;;1769   modbus_registers[0]=(char)(pult_u%256);
000b06  483b              LDR      r0,|L1.3060|
000b08  b090              SUB      sp,sp,#0x40           ;1760
000b0a  f9b00000          LDRSH    r0,[r0,#0]  ; pult_u
000b0e  f88d0024          STRB     r0,[sp,#0x24]
000b12  17c1              ASRS     r1,r0,#31
000b14  eb006111          ADD      r1,r0,r1,LSR #24
;;;1770   modbus_registers[1]=(char)(pult_u/256);					//Рег1
000b18  1208              ASRS     r0,r1,#8
000b1a  f88d0025          STRB     r0,[sp,#0x25]
;;;1771   modbus_registers[2]=(char)(pult_i%256);
000b1e  4836              LDR      r0,|L1.3064|
000b20  f9b00000          LDRSH    r0,[r0,#0]  ; pult_i
000b24  f88d0026          STRB     r0,[sp,#0x26]
000b28  17c1              ASRS     r1,r0,#31
000b2a  eb006111          ADD      r1,r0,r1,LSR #24
;;;1772   modbus_registers[3]=(char)(pult_i/256);					//Рег2
000b2e  1208              ASRS     r0,r1,#8
000b30  f88d0027          STRB     r0,[sp,#0x27]
;;;1773   modbus_registers[4]=(char)(pult_work_stat%256);
000b34  4831              LDR      r0,|L1.3068|
000b36  7800              LDRB     r0,[r0,#0]  ; pult_work_stat
000b38  f88d0028          STRB     r0,[sp,#0x28]
;;;1774   modbus_registers[5]=(char)(pult_work_stat/256);			//Рег3
000b3c  2000              MOVS     r0,#0
000b3e  f88d0029          STRB     r0,[sp,#0x29]
;;;1775   modbus_registers[6]=(char)(pult_u_set%256);
000b42  482f              LDR      r0,|L1.3072|
000b44  f9b00000          LDRSH    r0,[r0,#0]  ; pult_u_set
000b48  f88d002a          STRB     r0,[sp,#0x2a]
000b4c  17c1              ASRS     r1,r0,#31
000b4e  eb006111          ADD      r1,r0,r1,LSR #24
;;;1776   modbus_registers[7]=(char)(pult_u_set/256);				//Рег4
000b52  1208              ASRS     r0,r1,#8
000b54  f88d002b          STRB     r0,[sp,#0x2b]
;;;1777   modbus_registers[8]=(char)(pult_time%256);
000b58  482a              LDR      r0,|L1.3076|
000b5a  f9b00000          LDRSH    r0,[r0,#0]  ; pult_time
000b5e  f88d002c          STRB     r0,[sp,#0x2c]
000b62  17c1              ASRS     r1,r0,#31
000b64  eb006111          ADD      r1,r0,r1,LSR #24
;;;1778   modbus_registers[9]=(char)(pult_time/256);				//Рег5
000b68  1208              ASRS     r0,r1,#8
000b6a  f88d002d          STRB     r0,[sp,#0x2d]
;;;1779   modbus_registers[10]=(char)(pult_time_set%256);		 	
000b6e  4826              LDR      r0,|L1.3080|
000b70  8800              LDRH     r0,[r0,#0]  ; pult_time_set
000b72  f88d002e          STRB     r0,[sp,#0x2e]
;;;1780   modbus_registers[11]=(char)(pult_time_set/256);			//Рег6
000b76  0a00              LSRS     r0,r0,#8
000b78  f88d002f          STRB     r0,[sp,#0x2f]
;;;1781   modbus_registers[12]=(char)(pult_i_set%256);
000b7c  4823              LDR      r0,|L1.3084|
000b7e  e047              B        |L1.3088|
                  |L1.2944|
                          DCD      ||area_number.4||+0x3c
                  |L1.2948|
                          DCD      modbus_tcp_out_ptr
                  |L1.2952|
                          DCD      U_maxg
                  |L1.2956|
                          DCD      I_maxp
                  |L1.2960|
                          DCD      T_PROC_GS
                  |L1.2964|
                          DCD      T_PROC_PS
                  |L1.2968|
                          DCD      work_stat
                  |L1.2972|
                          DCD      REV_STAT
                  |L1.2976|
                          DCD      AVT_REV_IS_ON
                  |L1.2980|
                          DCD      AVT_REV_TIME_FF
                  |L1.2984|
                          DCD      AVT_REV_TIME_REW
                  |L1.2988|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.2992|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.2996|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.3000|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.3004|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.3008|
                          DCD      CAP_ZAR_TIME
                  |L1.3012|
                          DCD      CAP_PAUSE1_TIME
                  |L1.3016|
                          DCD      CAP_RAZR_TIME
                  |L1.3020|
                          DCD      CAP_PAUSE2_TIME
                  |L1.3024|
                          DCD      CAP_MAX_VOLT
                  |L1.3028|
                          DCD      CAP_WRK_CURR
                  |L1.3032|
                          DCD      proc_phase
                  |L1.3036|
                          DCD      REV_IS_ON
                  |L1.3040|
                          DCD      pwm_u_reg
                  |L1.3044|
                          DCD      pwm_i_reg
                  |L1.3048|
                          DCD      pwm_t_reg
                  |L1.3052|
                          DCD      I_ug_ram
                  |L1.3056|
                          DCD      U_up_ram
                  |L1.3060|
                          DCD      pult_u
                  |L1.3064|
                          DCD      pult_i
                  |L1.3068|
                          DCD      pult_work_stat
                  |L1.3072|
                          DCD      pult_u_set
                  |L1.3076|
                          DCD      pult_time
                  |L1.3080|
                          DCD      pult_time_set
                  |L1.3084|
                          DCD      pult_i_set
                  |L1.3088|
000c10  f9b00000          LDRSH    r0,[r0,#0]  ; pult_i_set
000c14  f88d0030          STRB     r0,[sp,#0x30]
000c18  17c1              ASRS     r1,r0,#31
000c1a  eb006111          ADD      r1,r0,r1,LSR #24
;;;1782   modbus_registers[13]=(char)(pult_i_set/256);				//Рег7
000c1e  1208              ASRS     r0,r1,#8
000c20  f88d0031          STRB     r0,[sp,#0x31]
;;;1783   
;;;1784   
;;;1785   modbus_tx_buff[0]=201;
000c24  20c9              MOVS     r0,#0xc9
000c26  f88d0000          STRB     r0,[sp,#0]
;;;1786   modbus_tx_buff[1]=4;
000c2a  2004              MOVS     r0,#4
000c2c  f88d0001          STRB     r0,[sp,#1]
;;;1787   modbus_tx_buff[2]=(char)(reg_quantity*2);
000c30  0072              LSLS     r2,r6,#1
;;;1788   
;;;1789   memcpy((char*)&modbus_tx_buff[3],(char*)modbus_registers,reg_quantity*2);
000c32  466c              MOV      r4,sp
000c34  f88d2002          STRB     r2,[sp,#2]            ;1787
000c38  a909              ADD      r1,sp,#0x24
000c3a  1ce0              ADDS     r0,r4,#3
000c3c  f7fffffe          BL       __aeabi_memcpy
;;;1790   
;;;1791   crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
000c40  2003              MOVS     r0,#3
000c42  eb000046          ADD      r0,r0,r6,LSL #1
000c46  b201              SXTH     r1,r0
000c48  4668              MOV      r0,sp
000c4a  f7fffffe          BL       CRC16_2
;;;1792   
;;;1793   modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
000c4e  eb040146          ADD      r1,r4,r6,LSL #1
;;;1794   modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;1795   
;;;1796   for (i=0;i<(5+(reg_quantity*2));i++)
000c52  2500              MOVS     r5,#0
000c54  70c8              STRB     r0,[r1,#3]            ;1793
000c56  0a00              LSRS     r0,r0,#8              ;1794
000c58  7108              STRB     r0,[r1,#4]            ;1794
000c5a  2005              MOVS     r0,#5
000c5c  eb000646          ADD      r6,r0,r6,LSL #1
000c60  e004              B        |L1.3180|
                  |L1.3170|
;;;1797   	{
;;;1798   	putchar0(modbus_tx_buff[i]);
000c62  5d60              LDRB     r0,[r4,r5]
000c64  f7fffffe          BL       putchar0
000c68  1c6d              ADDS     r5,r5,#1              ;1796
000c6a  b2ed              UXTB     r5,r5                 ;1796
                  |L1.3180|
000c6c  42ae              CMP      r6,r5                 ;1796
000c6e  d8f8              BHI      |L1.3170|
;;;1799   	}
;;;1800   for (i=0;i<(5+(reg_quantity*2));i++)
000c70  2500              MOVS     r5,#0
000c72  e004              B        |L1.3198|
                  |L1.3188|
;;;1801   	{
;;;1802   	putchar_sc16is700(modbus_tx_buff[i]);
000c74  5d60              LDRB     r0,[r4,r5]
000c76  f7fffffe          BL       putchar_sc16is700
000c7a  1c6d              ADDS     r5,r5,#1              ;1800
000c7c  b2ed              UXTB     r5,r5                 ;1800
                  |L1.3198|
000c7e  42ae              CMP      r6,r5                 ;1800
000c80  d8f8              BHI      |L1.3188|
;;;1803   	}
;;;1804   //modbus_plazma1++;
;;;1805   }
000c82  b010              ADD      sp,sp,#0x40
000c84  bd70              POP      {r4-r6,pc}
;;;1806   
                          ENDP

                  modbus_in PROC
;;;63     //-----------------------------------------------
;;;64     void modbus_in(void)
000c86  e92d4ff0          PUSH     {r4-r11,lr}
;;;65     {
;;;66     short crc16_calculated;		//вычисляемая из принятых данных CRC
;;;67     short crc16_incapsulated;	//встроеннная в посылку CRC
;;;68     unsigned short modbus_rx_arg0;		//встроенный в посылку первый аргумент
;;;69     unsigned short modbus_rx_arg1;		//встроенный в посылку второй аргумент
;;;70     //unsigned short modbus_rx_arg2;		//встроенный в посылку третий аргумент
;;;71     //unsigned short modbus_rx_arg3;		//встроенный в посылку четвертый аргумент
;;;72     unsigned char modbus_func;			//встроенный в посылку код функции
;;;73     
;;;74     //modbus_plazma++;
;;;75     
;;;76     memcpy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000c8a  4cfe              LDR      r4,|L1.4228|
000c8c  49fe              LDR      r1,|L1.4232|
000c8e  b08b              SUB      sp,sp,#0x2c           ;65
000c90  78a2              LDRB     r2,[r4,#2]  ; modbus_rx_buffer_ptr
000c92  f101001e          ADD      r0,r1,#0x1e
000c96  4615              MOV      r5,r2
000c98  f7fffffe          BL       __aeabi_memcpy
;;;77     modbus_rx_counter=modbus_rx_buffer_ptr;
000c9c  70e5              STRB     r5,[r4,#3]
;;;78     modbus_rx_buffer_ptr=0;
000c9e  2600              MOVS     r6,#0
;;;79     bMODBUS_TIMEOUT=0;
;;;80     
;;;81     	
;;;82     crc16_calculated  = CRC16_2((char*)modbus_an_buffer, modbus_rx_counter-2);
000ca0  48f9              LDR      r0,|L1.4232|
000ca2  70a6              STRB     r6,[r4,#2]            ;78
000ca4  7066              STRB     r6,[r4,#1]            ;79
000ca6  1ea9              SUBS     r1,r5,#2
000ca8  301e              ADDS     r0,r0,#0x1e
000caa  f7fffffe          BL       CRC16_2
000cae  b200              SXTH     r0,r0
000cb0  4680              MOV      r8,r0
;;;83     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000cb2  4df5              LDR      r5,|L1.4232|
000cb4  78e0              LDRB     r0,[r4,#3]  ; modbus_rx_counter
000cb6  351e              ADDS     r5,r5,#0x1e
000cb8  4428              ADD      r0,r0,r5
;;;84     
;;;85     //modbus_plazma=modbus_rx_counter;
;;;86     //modbus_plazma2=crc16_calculated;
;;;87     //modbus_plazma3=crc16_incapsulated;
;;;88     
;;;89     pvlk=0;
000cba  4cf4              LDR      r4,|L1.4236|
000cbc  f9300c02          LDRSH    r0,[r0,#-2]           ;83
;;;90     
;;;91     
;;;92     if(modbus_an_buffer[0]=='r')
;;;93     	{
;;;94     	pvlk=1;
;;;95     	if(modbus_an_buffer[1]=='e')
;;;96     		{
;;;97     		pvlk=2;
;;;98     		if(modbus_an_buffer[2]=='a')
;;;99     			{
;;;100    			pvlk=3;
000cc0  f04f0b03          MOV      r11,#3
000cc4  4681              MOV      r9,r0                 ;83
000cc6  8026              STRH     r6,[r4,#0]            ;89
000cc8  7828              LDRB     r0,[r5,#0]            ;92  ; modbus_an_buffer
;;;101    			if(modbus_an_buffer[3]=='d')
;;;102    				{
;;;103    				pvlk=4;
;;;104    				/*if(modbus_an_buffer[6]==crc_87(modbus_an_buffer,6))
;;;105    					{
;;;106    					pvlk=5;
;;;107    					if(modbus_an_buffer[7]==crc_95(modbus_an_buffer,6))
;;;108    						{
;;;109    						pvlk=6;*/	
;;;110    
;;;111    							{
;;;112    							unsigned short ptr;
;;;113    							unsigned long data1,data2;
;;;114    							char temp_out[20];
;;;115    							pvlk++;
;;;116    							ptr=modbus_an_buffer[4]+(modbus_an_buffer[5]*256U);
;;;117    							data1=lc640_read_long(ptr);
;;;118    							data2=lc640_read_long(ptr+4);
;;;119    							temp_out[0]='r';
;;;120    							temp_out[1]='e';
;;;121    							temp_out[2]='a';
;;;122    							temp_out[3]='d';
;;;123    							temp_out[4]=*((char*)&ptr);
;;;124    							temp_out[5]=*(((char*)&ptr)+1);	
;;;125    							temp_out[6]=*((char*)&data1);
;;;126    							temp_out[7]=*(((char*)&data1)+1);		
;;;127    							temp_out[8]=*(((char*)&data1)+2);	
;;;128    							temp_out[9]=*(((char*)&data1)+3);		
;;;129    							temp_out[10]=*((char*)&data2);
;;;130    							temp_out[11]=*(((char*)&data2)+1);		
;;;131    							temp_out[12]=*(((char*)&data2)+2);	
;;;132    							temp_out[13]=*(((char*)&data2)+3);	
;;;133    							temp_out[14]=crc_87(temp_out,14);	
;;;134    							temp_out[15]=crc_95(temp_out,14);			
;;;135    							
;;;136    							temp_out[17]=0;
;;;137    							for (i=0;i<16;i++)
000cca  4ef1              LDR      r6,|L1.4240|
000ccc  f04f0a05          MOV      r10,#5                ;115
000cd0  2872              CMP      r0,#0x72              ;92
000cd2  d17e              BNE      |L1.3538|
000cd4  2001              MOVS     r0,#1                 ;94
000cd6  8020              STRH     r0,[r4,#0]            ;94
000cd8  7868              LDRB     r0,[r5,#1]            ;95  ; modbus_an_buffer
000cda  2865              CMP      r0,#0x65              ;95
                  |L1.3292|
000cdc  d17a              BNE      |L1.3540|
000cde  2002              MOVS     r0,#2                 ;97
000ce0  8020              STRH     r0,[r4,#0]            ;97
000ce2  78a8              LDRB     r0,[r5,#2]            ;98  ; modbus_an_buffer
000ce4  2861              CMP      r0,#0x61              ;98
000ce6  d1f9              BNE      |L1.3292|
000ce8  f8a4b000          STRH     r11,[r4,#0]           ;100
000cec  78e8              LDRB     r0,[r5,#3]            ;101  ; modbus_an_buffer
000cee  2864              CMP      r0,#0x64              ;101
000cf0  d1f4              BNE      |L1.3292|
000cf2  f8a4a000          STRH     r10,[r4,#0]           ;115
000cf6  7928              LDRB     r0,[r5,#4]            ;116  ; modbus_an_buffer
000cf8  7969              LDRB     r1,[r5,#5]            ;116  ; modbus_an_buffer
000cfa  eb002001          ADD      r0,r0,r1,LSL #8       ;116
000cfe  b280              UXTH     r0,r0                 ;116
000d00  f8ad0014          STRH     r0,[sp,#0x14]         ;116
000d04  4607              MOV      r7,r0                 ;116
000d06  f7fffffe          BL       lc640_read_long
000d0a  9009              STR      r0,[sp,#0x24]         ;118
000d0c  1d38              ADDS     r0,r7,#4              ;118
000d0e  f7fffffe          BL       lc640_read_long
000d12  9008              STR      r0,[sp,#0x20]         ;119
000d14  2072              MOVS     r0,#0x72              ;119
000d16  f88d0000          STRB     r0,[sp,#0]            ;119
000d1a  2065              MOVS     r0,#0x65              ;120
000d1c  f88d0001          STRB     r0,[sp,#1]            ;120
000d20  2061              MOVS     r0,#0x61              ;121
000d22  f88d0002          STRB     r0,[sp,#2]            ;121
000d26  2064              MOVS     r0,#0x64              ;122
000d28  f88d0003          STRB     r0,[sp,#3]            ;122
000d2c  f89d0014          LDRB     r0,[sp,#0x14]         ;123
000d30  f88d0004          STRB     r0,[sp,#4]            ;123
000d34  f89d0015          LDRB     r0,[sp,#0x15]         ;124
000d38  f88d0005          STRB     r0,[sp,#5]            ;124
000d3c  f89d0024          LDRB     r0,[sp,#0x24]         ;125
000d40  f88d0006          STRB     r0,[sp,#6]            ;125
000d44  f89d0025          LDRB     r0,[sp,#0x25]         ;126
000d48  f88d0007          STRB     r0,[sp,#7]            ;126
000d4c  f89d0026          LDRB     r0,[sp,#0x26]         ;127
000d50  f88d0008          STRB     r0,[sp,#8]            ;127
000d54  f89d0027          LDRB     r0,[sp,#0x27]         ;128
000d58  f88d0009          STRB     r0,[sp,#9]            ;128
000d5c  f89d0020          LDRB     r0,[sp,#0x20]         ;129
000d60  f88d000a          STRB     r0,[sp,#0xa]          ;129
000d64  f89d0021          LDRB     r0,[sp,#0x21]         ;130
000d68  f88d000b          STRB     r0,[sp,#0xb]          ;130
000d6c  f89d0022          LDRB     r0,[sp,#0x22]         ;131
000d70  f88d000c          STRB     r0,[sp,#0xc]          ;131
000d74  f89d0023          LDRB     r0,[sp,#0x23]         ;132
000d78  f88d000d          STRB     r0,[sp,#0xd]          ;132
000d7c  210e              MOVS     r1,#0xe               ;133
000d7e  4668              MOV      r0,sp                 ;133
000d80  f7fffffe          BL       crc_87
000d84  f88d000e          STRB     r0,[sp,#0xe]          ;133
000d88  210e              MOVS     r1,#0xe               ;134
000d8a  4668              MOV      r0,sp                 ;134
000d8c  f7fffffe          BL       crc_95
000d90  f88d000f          STRB     r0,[sp,#0xf]          ;134
000d94  2000              MOVS     r0,#0                 ;136
000d96  f88d0011          STRB     r0,[sp,#0x11]         ;136
000d9a  7030              STRB     r0,[r6,#0]
000d9c  466f              MOV      r7,sp                 ;114
                  |L1.3486|
;;;138    								{
;;;139    								putchar_sc16is700(temp_out[i]);
000d9e  b2c0              UXTB     r0,r0
000da0  5c38              LDRB     r0,[r7,r0]
000da2  f7fffffe          BL       putchar_sc16is700
;;;140    								temp_out[17]^=temp_out[i];
000da6  7830              LDRB     r0,[r6,#0]  ; i
000da8  f89d1011          LDRB     r1,[sp,#0x11]
000dac  5c3a              LDRB     r2,[r7,r0]
000dae  1c40              ADDS     r0,r0,#1              ;137
000db0  4051              EORS     r1,r1,r2
000db2  b2c0              UXTB     r0,r0                 ;137
000db4  f88d1011          STRB     r1,[sp,#0x11]
000db8  7030              STRB     r0,[r6,#0]            ;137
000dba  2810              CMP      r0,#0x10              ;137
000dbc  d3ef              BCC      |L1.3486|
;;;141    								}
;;;142    							putchar_sc16is700(16);
000dbe  2010              MOVS     r0,#0x10
000dc0  f7fffffe          BL       putchar_sc16is700
;;;143    							putchar_sc16is700(temp_out[17]^16);
000dc4  f89d0011          LDRB     r0,[sp,#0x11]
000dc8  f0800010          EOR      r0,r0,#0x10
000dcc  f7fffffe          BL       putchar_sc16is700
;;;144    							putchar_sc16is700(0x0a);
000dd0  e001              B        |L1.3542|
                  |L1.3538|
000dd2  e003              B        |L1.3548|
                  |L1.3540|
000dd4  e083              B        |L1.3806|
                  |L1.3542|
000dd6  200a              MOVS     r0,#0xa
000dd8  f7fffffe          BL       putchar_sc16is700
                  |L1.3548|
;;;145    							}
;;;146    						}
;;;147    					}
;;;148    				}/*
;;;149    			} 
;;;150    		}*/	 
;;;151    	} 
;;;152    
;;;153    if(modbus_an_buffer[0]=='w')
000ddc  7828              LDRB     r0,[r5,#0]  ; modbus_an_buffer
000dde  2877              CMP      r0,#0x77
000de0  d17d              BNE      |L1.3806|
;;;154    	{
;;;155    	pvlk=1;
000de2  2001              MOVS     r0,#1
000de4  8020              STRH     r0,[r4,#0]
;;;156    	if(modbus_an_buffer[1]=='r')
000de6  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
000de8  2872              CMP      r0,#0x72
000dea  d178              BNE      |L1.3806|
;;;157    		{
;;;158    		pvlk=2;
000dec  2002              MOVS     r0,#2
000dee  8020              STRH     r0,[r4,#0]
;;;159    		if(modbus_an_buffer[2]=='i')
000df0  78a8              LDRB     r0,[r5,#2]  ; modbus_an_buffer
000df2  2869              CMP      r0,#0x69
000df4  d173              BNE      |L1.3806|
;;;160    			{
;;;161    			pvlk=3;
000df6  f8a4b000          STRH     r11,[r4,#0]
;;;162    			if(modbus_an_buffer[3]=='t')
000dfa  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
000dfc  2874              CMP      r0,#0x74
000dfe  d16e              BNE      |L1.3806|
;;;163    				{
;;;164    				pvlk=4;
000e00  2004              MOVS     r0,#4
000e02  8020              STRH     r0,[r4,#0]
;;;165    				if(modbus_an_buffer[4]=='e')
000e04  7928              LDRB     r0,[r5,#4]  ; modbus_an_buffer
000e06  2865              CMP      r0,#0x65
000e08  d169              BNE      |L1.3806|
;;;166    					{
;;;167    					pvlk=5;
;;;168    					if(modbus_an_buffer[15]==crc_87(modbus_an_buffer,15))
000e0a  489f              LDR      r0,|L1.4232|
000e0c  f8a4a000          STRH     r10,[r4,#0]           ;167
000e10  210f              MOVS     r1,#0xf
000e12  301e              ADDS     r0,r0,#0x1e
000e14  f7fffffe          BL       crc_87
000e18  7be9              LDRB     r1,[r5,#0xf]  ; modbus_an_buffer
000e1a  4288              CMP      r0,r1
000e1c  d178              BNE      |L1.3856|
;;;169    						{
;;;170    						pvlk=6;
000e1e  2006              MOVS     r0,#6
000e20  8020              STRH     r0,[r4,#0]
;;;171    						if(modbus_an_buffer[16]==crc_95(modbus_an_buffer,15))
000e22  4899              LDR      r0,|L1.4232|
000e24  210f              MOVS     r1,#0xf
000e26  301e              ADDS     r0,r0,#0x1e
000e28  f7fffffe          BL       crc_95
000e2c  7c29              LDRB     r1,[r5,#0x10]  ; modbus_an_buffer
000e2e  4288              CMP      r0,r1
000e30  d16e              BNE      |L1.3856|
;;;172    
;;;173    							{
;;;174    							unsigned short ptr;
;;;175    							unsigned long data1,data2;
;;;176    							char temp_out[20];
;;;177    							pvlk=7;
000e32  2007              MOVS     r0,#7
000e34  8020              STRH     r0,[r4,#0]
;;;178    							ptr=modbus_an_buffer[5]+(modbus_an_buffer[6]*256U);
000e36  7968              LDRB     r0,[r5,#5]  ; modbus_an_buffer
000e38  79a9              LDRB     r1,[r5,#6]  ; modbus_an_buffer
000e3a  eb002001          ADD      r0,r0,r1,LSL #8
000e3e  b284              UXTH     r4,r0
000e40  f8ad4020          STRH     r4,[sp,#0x20]
;;;179    							*((char*)&data1)=modbus_an_buffer[7];
000e44  79e8              LDRB     r0,[r5,#7]  ; modbus_an_buffer
000e46  f88d0024          STRB     r0,[sp,#0x24]
;;;180    							*(((char*)&data1)+1)=modbus_an_buffer[8];
000e4a  7a28              LDRB     r0,[r5,#8]  ; modbus_an_buffer
000e4c  f88d0025          STRB     r0,[sp,#0x25]
;;;181    							*(((char*)&data1)+2)=modbus_an_buffer[9];
000e50  7a68              LDRB     r0,[r5,#9]  ; modbus_an_buffer
000e52  f88d0026          STRB     r0,[sp,#0x26]
;;;182    							*(((char*)&data1)+3)=modbus_an_buffer[10];
000e56  7aa8              LDRB     r0,[r5,#0xa]  ; modbus_an_buffer
000e58  f88d0027          STRB     r0,[sp,#0x27]
;;;183    							*((char*)&data2)=modbus_an_buffer[11];
000e5c  7ae8              LDRB     r0,[r5,#0xb]  ; modbus_an_buffer
000e5e  f88d0028          STRB     r0,[sp,#0x28]
;;;184    							*(((char*)&data2)+1)=modbus_an_buffer[12];
000e62  7b28              LDRB     r0,[r5,#0xc]  ; modbus_an_buffer
000e64  f88d0029          STRB     r0,[sp,#0x29]
;;;185    							*(((char*)&data2)+2)=modbus_an_buffer[13];
000e68  7b68              LDRB     r0,[r5,#0xd]  ; modbus_an_buffer
000e6a  f88d002a          STRB     r0,[sp,#0x2a]
;;;186    							*(((char*)&data2)+3)=modbus_an_buffer[14];	
000e6e  7ba8              LDRB     r0,[r5,#0xe]  ; modbus_an_buffer
000e70  f88d002b          STRB     r0,[sp,#0x2b]
;;;187    							lc640_write_long(ptr,data1);
000e74  4620              MOV      r0,r4
000e76  9909              LDR      r1,[sp,#0x24]
000e78  f7fffffe          BL       lc640_write_long
;;;188    							lc640_write_long(ptr+4,data2);
000e7c  1d20              ADDS     r0,r4,#4
000e7e  990a              LDR      r1,[sp,#0x28]
000e80  f7fffffe          BL       lc640_write_long
;;;189    							
;;;190    							//data1=lc640_read_long(ptr);
;;;191    							//data2=lc640_read_long(ptr+4);
;;;192    							temp_out[0]='w';
000e84  2077              MOVS     r0,#0x77
000e86  f88d0000          STRB     r0,[sp,#0]
;;;193    							temp_out[1]='r';
000e8a  2072              MOVS     r0,#0x72
000e8c  f88d0001          STRB     r0,[sp,#1]
;;;194    							temp_out[2]='i';
000e90  2069              MOVS     r0,#0x69
000e92  f88d0002          STRB     r0,[sp,#2]
;;;195    							temp_out[3]='t';
000e96  2074              MOVS     r0,#0x74
000e98  f88d0003          STRB     r0,[sp,#3]
;;;196    							temp_out[4]='e';
000e9c  2065              MOVS     r0,#0x65
000e9e  f88d0004          STRB     r0,[sp,#4]
;;;197    							temp_out[5]=*((char*)&ptr);
000ea2  f89d0020          LDRB     r0,[sp,#0x20]
000ea6  f88d0005          STRB     r0,[sp,#5]
;;;198    							temp_out[6]=*(((char*)&ptr)+1);	
000eaa  f89d0021          LDRB     r0,[sp,#0x21]
000eae  f88d0006          STRB     r0,[sp,#6]
;;;199    						
;;;200    							temp_out[7]=crc_87(temp_out,7);	
000eb2  2107              MOVS     r1,#7
000eb4  4668              MOV      r0,sp
000eb6  f7fffffe          BL       crc_87
000eba  f88d0007          STRB     r0,[sp,#7]
;;;201    							temp_out[8]=crc_95(temp_out,7);			
000ebe  2107              MOVS     r1,#7
000ec0  4668              MOV      r0,sp
000ec2  f7fffffe          BL       crc_95
000ec6  f88d0008          STRB     r0,[sp,#8]
;;;202    							
;;;203    							temp_out[10]=0;
000eca  2000              MOVS     r0,#0
000ecc  f88d000a          STRB     r0,[sp,#0xa]
;;;204    							for (i=0;i<9;i++)
000ed0  7030              STRB     r0,[r6,#0]
000ed2  466c              MOV      r4,sp                 ;176
                  |L1.3796|
;;;205    								{
;;;206    								putchar_sc16is700(temp_out[i]);
000ed4  b2c0              UXTB     r0,r0
000ed6  5c20              LDRB     r0,[r4,r0]
000ed8  f7fffffe          BL       putchar_sc16is700
;;;207    								temp_out[10]^=temp_out[i];
000edc  e000              B        |L1.3808|
                  |L1.3806|
000ede  e017              B        |L1.3856|
                  |L1.3808|
000ee0  7830              LDRB     r0,[r6,#0]  ; i
000ee2  f89d100a          LDRB     r1,[sp,#0xa]
000ee6  5c22              LDRB     r2,[r4,r0]
000ee8  1c40              ADDS     r0,r0,#1              ;204
000eea  4051              EORS     r1,r1,r2
000eec  b2c0              UXTB     r0,r0                 ;204
000eee  f88d100a          STRB     r1,[sp,#0xa]
000ef2  7030              STRB     r0,[r6,#0]            ;204
000ef4  2809              CMP      r0,#9                 ;204
000ef6  d3ed              BCC      |L1.3796|
;;;208    								}
;;;209    							putchar_sc16is700(9);
000ef8  2009              MOVS     r0,#9
000efa  f7fffffe          BL       putchar_sc16is700
;;;210    							putchar_sc16is700(temp_out[10]^9);
000efe  f89d000a          LDRB     r0,[sp,#0xa]
000f02  f0800009          EOR      r0,r0,#9
000f06  f7fffffe          BL       putchar_sc16is700
;;;211    							putchar_sc16is700(0x0a);
000f0a  200a              MOVS     r0,#0xa
000f0c  f7fffffe          BL       putchar_sc16is700
                  |L1.3856|
;;;212    							}
;;;213    						}
;;;214    					}
;;;215    				}
;;;216    		   	}
;;;217    		}
;;;218    	}
;;;219    
;;;220    modbus_func=modbus_an_buffer[1];
000f10  7868              LDRB     r0,[r5,#1]  ; modbus_an_buffer
;;;221    modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000f12  9003              STR      r0,[sp,#0xc]
000f14  78e8              LDRB     r0,[r5,#3]  ; modbus_an_buffer
000f16  78a9              LDRB     r1,[r5,#2]  ; modbus_an_buffer
;;;222    modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
;;;223    //modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;224    //modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;225    modbus_cmnd=(modbus_rx_arg1>>8)&0x7f;
;;;226    modbus_cmnd_cnt=(modbus_rx_arg1)&0x0f;
;;;227    
;;;228    modbus_plazma3=modbus_cmnd;
;;;229    modbus_plazma2=modbus_cmnd_cnt;
;;;230    modbus_plazma1=modbus_self_cmnd_cnt;
;;;231    
;;;232    if(crc16_calculated==crc16_incapsulated)
000f18  45c8              CMP      r8,r9
000f1a  eb002001          ADD      r0,r0,r1,LSL #8       ;221
000f1e  b286              UXTH     r6,r0                 ;221
000f20  7968              LDRB     r0,[r5,#5]            ;222  ; modbus_an_buffer
000f22  7929              LDRB     r1,[r5,#4]            ;222  ; modbus_an_buffer
000f24  eb002001          ADD      r0,r0,r1,LSL #8       ;222
000f28  b284              UXTH     r4,r0                 ;222
000f2a  4856              LDR      r0,|L1.4228|
000f2c  f3c42206          UBFX     r2,r4,#8,#7           ;225
000f30  f004010f          AND      r1,r4,#0xf            ;226
000f34  7142              STRB     r2,[r0,#5]            ;225
000f36  7101              STRB     r1,[r0,#4]            ;226
000f38  8182              STRH     r2,[r0,#0xc]          ;228
000f3a  8141              STRH     r1,[r0,#0xa]          ;229
000f3c  7802              LDRB     r2,[r0,#0]            ;230  ; modbus_self_cmnd_cnt
000f3e  8102              STRH     r2,[r0,#8]            ;230
000f40  d172              BNE      |L1.4136|
;;;233    	{
;;;234    	if(modbus_self_cmnd_cnt==33)modbus_self_cmnd_cnt=modbus_cmnd_cnt;
000f42  2a21              CMP      r2,#0x21
000f44  d100              BNE      |L1.3912|
000f46  7001              STRB     r1,[r0,#0]
                  |L1.3912|
;;;235    	modbus_plazma=modbus_an_buffer[0];
000f48  494f              LDR      r1,|L1.4232|
;;;236    	if(modbus_an_buffer[0]==200)	 //если запрос от пульта
;;;237    		{
;;;238    		if(modbus_func==4)		//чтение произвольного кол-ва регистров
;;;239    			{
;;;240    			modbus_for_pult_registers_transmit(7);
;;;241    			}
;;;242    		else if(modbus_func==6) 	//запись регистра
;;;243    			{
;;;244    			//if(modbus_rx_arg0==1)		//
;;;245    				{
;;;246    				modbus_for_pult_registers_transmit(7);
;;;247    				tumbler_stat=(enum_tumbler_stat)(modbus_rx_arg1>>15);
;;;248    				if((tumbler_stat!=tumbler_stat_old))
;;;249    					{
;;;250    					if(tumbler_stat==tsU)
;;;251    						{
;;;252    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;253    						}
;;;254    					else lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;255    					
;;;256    					if(main_cnt>3)
;;;257    						{
;;;258    						work_stat=wsOFF;
;;;259    						restart_off();
;;;260    						}
;;;261    					}
;;;262    				tumbler_stat_old=tumbler_stat;
;;;263    				
;;;264    				}
;;;265    			 //else if(modbus_rx_arg0==0)
;;;266    			 	{
;;;267    				//modbus_plazma++;		
;;;268    				if((modbus_cmnd==61)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;269    					{
;;;270    					if(I_ug<1000)I_ug++;
;;;271    					else I_ug=((I_ug/10)+1)*10;
;;;272    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
000f4a  f8dfb148          LDR      r11,|L1.4244|
000f4e  311e              ADDS     r1,r1,#0x1e           ;235
000f50  4d51              LDR      r5,|L1.4248|
000f52  7809              LDRB     r1,[r1,#0]            ;235  ; modbus_an_buffer
000f54  4682              MOV      r10,r0                ;235
000f56  80c1              STRH     r1,[r0,#6]            ;235
;;;273    					I_ug_block_cnt=10;
;;;274    					//lc640_write_int(EE_I_UG,I_ug);
;;;275    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;276    					}
;;;277    				
;;;278    				else if((modbus_cmnd==62)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;279    					{
;;;280    					if(I_ug<1000)I_ug--;
;;;281    					else I_ug=((I_ug/10)-1)*10;
;;;282    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;283    					I_ug_block_cnt=10;
;;;284    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;285    					}
;;;286    				else if((modbus_cmnd==63)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;287    					{
;;;288    					if(I_ug<1000)I_ug=((I_ug/10)+1)*10;
;;;289    					else I_ug=((I_ug/10)+5)*10;
;;;290    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;291    					I_ug_block_cnt=10;
;;;292    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;293    					}
;;;294    				
;;;295    				else if((modbus_cmnd==64)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;296    					{
;;;297    					if(I_ug<1000)I_ug=((I_ug/10)-1)*10;
;;;298    					else I_ug=((I_ug/10)-5)*10;
;;;299    					gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;300    					I_ug_block_cnt=10;
;;;301    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;302    					}
;;;303    				
;;;304    				else if((modbus_cmnd==71)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;305    					{
;;;306    					U_up++;
;;;307    					gran(&U_up,U_MIN,U_MAX);
;;;308    					U_up_block_cnt=10;
;;;309    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;310    					}
;;;311    				
;;;312    				else if((modbus_cmnd==72)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;313    					{
;;;314    					U_up--;
;;;315    					gran(&U_up,U_MIN,U_MAX);
;;;316    					U_up_block_cnt=10;
;;;317    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;318    				
;;;319    					}
;;;320    				else if((modbus_cmnd==73)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;321    					{
;;;322    					U_up=((U_up/10)+1)*10;
;;;323    					gran(&U_up,U_MIN,U_MAX);
;;;324    					U_up_block_cnt=10;
;;;325    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;326    					}
;;;327    				
;;;328    				else if((modbus_cmnd==74)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
;;;329    					{
;;;330    					U_up=((U_up/10)-1)*10;
;;;331    					gran(&U_up,U_MIN,U_MAX);
;;;332    					U_up_block_cnt=10;
;;;333    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;334    					}
;;;335    				
;;;336    				
;;;337    				else if((modbus_cmnd==51)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//время+
;;;338    					{
;;;339    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;340    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;341    						{
;;;342    						if(TIME_VISION_PULT)
;;;343    							{
;;;344    							T_PROC_GS=(((T_PROC_GS/60L)+1L)*60L);
000f58  f04f093c          MOV      r9,#0x3c
000f5c  29c8              CMP      r1,#0xc8              ;236
000f5e  d104              BNE      |L1.3946|
000f60  9803              LDR      r0,[sp,#0xc]          ;238
000f62  2804              CMP      r0,#4                 ;238
000f64  d002              BEQ      |L1.3948|
000f66  2806              CMP      r0,#6                 ;242
000f68  d004              BEQ      |L1.3956|
                  |L1.3946|
000f6a  e291              B        |L1.5264|
                  |L1.3948|
000f6c  2007              MOVS     r0,#7                 ;240
000f6e  f7fffffe          BL       modbus_for_pult_registers_transmit
000f72  e28d              B        |L1.5264|
                  |L1.3956|
000f74  2007              MOVS     r0,#7                 ;246
000f76  f7fffffe          BL       modbus_for_pult_registers_transmit
000f7a  f8df8120          LDR      r8,|L1.4252|
000f7e  4f48              LDR      r7,|L1.4256|
000f80  0be0              LSRS     r0,r4,#15             ;247
000f82  f8880000          STRB     r0,[r8,#0]            ;247
000f86  7839              LDRB     r1,[r7,#0]            ;248  ; tumbler_stat_old
000f88  4288              CMP      r0,r1                 ;248
000f8a  d00e              BEQ      |L1.4010|
000f8c  2801              CMP      r0,#1                 ;250
000f8e  d03c              BEQ      |L1.4106|
000f90  2100              MOVS     r1,#0                 ;254
                  |L1.3986|
000f92  20ea              MOVS     r0,#0xea              ;254
000f94  f7fffffe          BL       lc640_write_int
000f98  4842              LDR      r0,|L1.4260|
000f9a  f9b00000          LDRSH    r0,[r0,#0]            ;256  ; main_cnt
000f9e  2803              CMP      r0,#3                 ;256
000fa0  dd03              BLE      |L1.4010|
000fa2  2000              MOVS     r0,#0                 ;258
000fa4  7028              STRB     r0,[r5,#0]            ;258
000fa6  f7fffffe          BL       restart_off
                  |L1.4010|
000faa  f898c000          LDRB     r12,[r8,#0]           ;262  ; tumbler_stat
000fae  f887c000          STRB     r12,[r7,#0]           ;262
000fb2  46c6              MOV      lr,r8                 ;262
000fb4  f89a3005          LDRB     r3,[r10,#5]           ;268  ; modbus_cmnd
000fb8  f8df80ec          LDR      r8,|L1.4264|
000fbc  270a              MOVS     r7,#0xa               ;144
000fbe  4650              MOV      r0,r10                ;268
000fc0  f44f717a          MOV      r1,#0x3e8             ;270
000fc4  2b3d              CMP      r3,#0x3d              ;268
000fc6  d022              BEQ      |L1.4110|
000fc8  2b3e              CMP      r3,#0x3e              ;278
000fca  d039              BEQ      |L1.4160|
000fcc  2b3f              CMP      r3,#0x3f              ;286
000fce  d04b              BEQ      |L1.4200|
000fd0  2b40              CMP      r3,#0x40              ;295
000fd2  d079              BEQ      |L1.4296|
000fd4  f8df80d4          LDR      r8,|L1.4268|
000fd8  2b47              CMP      r3,#0x47              ;304
000fda  d076              BEQ      |L1.4298|
000fdc  2b48              CMP      r3,#0x48              ;312
000fde  d075              BEQ      |L1.4300|
000fe0  2b49              CMP      r3,#0x49              ;320
000fe2  d074              BEQ      |L1.4302|
000fe4  2b4a              CMP      r3,#0x4a              ;328
000fe6  d073              BEQ      |L1.4304|
000fe8  4931              LDR      r1,|L1.4272|
;;;345    							T_PROC_GS_block_cnt=10;
000fea  4a32              LDR      r2,|L1.4276|
;;;346    							}
;;;347    						else
;;;348    							{
;;;349    							T_PROC_GS++;
;;;350    							T_PROC_GS_block_cnt=10;
;;;351    							}
;;;352    				
;;;353    						if(T_PROC_GS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;354    							{												//для источника тока больше чем 
;;;355    							T_PROC_GS=T_PROC_MAX+1;								//максимальное время процессов
;;;356    							if(T_PROC_GS_MODE!=1)								//(из главных установок) то 
;;;357    								{											//устанавливается режим непрерывной 
;;;358    								T_PROC_GS_MODE=1;								//работы(T_PROC_GS_MODE=1), при попытке
;;;359    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//вернуть время в разрешенный интеравал - 
;;;360    								}											//режим непрерывной работы снимается 
;;;361    							}												//(T_PROC_GS_MODE=0)
;;;362    					
;;;363    						else if(T_PROC_GS<30)
;;;364    							{
;;;365    							T_PROC_GS=29;
;;;366    							if(T_PROC_GS_MODE!=1)
;;;367    								{
;;;368    								T_PROC_GS_MODE=1;
;;;369    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;370    								}
;;;371    							}
;;;372    						else 
;;;373    							{
;;;374    							if(T_PROC_GS_MODE!=0)
;;;375    								{
;;;376    								T_PROC_GS_MODE=0;
;;;377    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;378    								}
;;;379    							}			
;;;380    						}
;;;381    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;382    						{
;;;383    						if(TIME_VISION_PULT)
;;;384    							{
;;;385    							T_PROC_PS=(((T_PROC_PS/60L)+1L)*60L);
;;;386    							T_PROC_PS_block_cnt=10;
000fec  f8dfa0c8          LDR      r10,|L1.4280|
000ff0  f8df80c8          LDR      r8,|L1.4284|
000ff4  2b33              CMP      r3,#0x33              ;337
000ff6  d06c              BEQ      |L1.4306|
;;;387    							}
;;;388    						else
;;;389    							{
;;;390    							T_PROC_PS++;
;;;391    							T_PROC_PS_block_cnt=10;
;;;392    							}
;;;393    				
;;;394    						if(T_PROC_PS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;395    							{												//для источника тока больше чем 
;;;396    							T_PROC_PS=T_PROC_MAX+1;								//максимальное время процессов
;;;397    							if(T_PROC_PS_MODE!=1)								//(из главных установок) то 
;;;398    								{											//устанавливается режим непрерывной 
;;;399    								T_PROC_PS_MODE=1;								//работы(T_PROC_PS_MODE=1), при попытке
;;;400    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//вернуть время в разрешенный интеравал - 
;;;401    								}											//режим непрерывной работы снимается 
;;;402    							}												//(T_PROC_PS_MODE=0)
;;;403    					
;;;404    						else if(T_PROC_PS<30)
;;;405    							{
;;;406    							T_PROC_PS=29;
;;;407    							if(T_PROC_PS_MODE!=1)
;;;408    								{
;;;409    								T_PROC_PS_MODE=1;
;;;410    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;411    								}
;;;412    							}
;;;413    						else 
;;;414    							{
;;;415    							if(T_PROC_PS_MODE!=0)
;;;416    								{
;;;417    								T_PROC_PS_MODE=0;
;;;418    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;419    								}
;;;420    							}			
;;;421    						}
;;;422    					}
;;;423    				else if((modbus_cmnd==53)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//время++
000ff8  2b35              CMP      r3,#0x35
000ffa  d06b              BEQ      |L1.4308|
;;;424    					{
;;;425    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;426    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;427    						{
;;;428    						if(TIME_VISION_PULT)
;;;429    							{
;;;430    							T_PROC_GS=(((T_PROC_GS/600L)+1L)*600L);
;;;431    							T_PROC_GS_block_cnt=10;
;;;432    							}
;;;433    						else
;;;434    							{
;;;435    							T_PROC_GS=(((T_PROC_GS/10L)+1L)*10L);
;;;436    							T_PROC_GS_block_cnt=10;
;;;437    							}
;;;438    				
;;;439    						if(T_PROC_GS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;440    							{												//для источника тока больше чем 
;;;441    							T_PROC_GS=T_PROC_MAX+1;								//максимальное время процессов
;;;442    							if(T_PROC_GS_MODE!=1)								//(из главных установок) то 
;;;443    								{											//устанавливается режим непрерывной 
;;;444    								T_PROC_GS_MODE=1;								//работы(T_PROC_GS_MODE=1), при попытке
;;;445    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//вернуть время в разрешенный интеравал - 
;;;446    								}											//режим непрерывной работы снимается 
;;;447    							}												//(T_PROC_GS_MODE=0)
;;;448    					
;;;449    						else if(T_PROC_GS<30)
;;;450    							{
;;;451    							T_PROC_GS=29;
;;;452    							if(T_PROC_GS_MODE!=1)
;;;453    								{
;;;454    								T_PROC_GS_MODE=1;
;;;455    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;456    								}
;;;457    							}
;;;458    						else 
;;;459    							{
;;;460    							if(T_PROC_GS_MODE!=0)
;;;461    								{
;;;462    								T_PROC_GS_MODE=0;
;;;463    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;464    								}
;;;465    							}			
;;;466    						}
;;;467    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;468    						{
;;;469    						if(TIME_VISION_PULT)
;;;470    							{
;;;471    							T_PROC_PS=(((T_PROC_PS/600L)+1L)*600L);
;;;472    							T_PROC_PS_block_cnt=10;
;;;473    							}
;;;474    						else
;;;475    							{
;;;476    							T_PROC_PS=(((T_PROC_PS/10L)+1L)*10L);
;;;477    							T_PROC_PS_block_cnt=10;
;;;478    							}
;;;479    				
;;;480    						if(T_PROC_PS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;481    							{												//для источника тока больше чем 
;;;482    							T_PROC_PS=T_PROC_MAX+1;								//максимальное время процессов
;;;483    							if(T_PROC_PS_MODE!=1)								//(из главных установок) то 
;;;484    								{											//устанавливается режим непрерывной 
;;;485    								T_PROC_PS_MODE=1;								//работы(T_PROC_PS_MODE=1), при попытке
;;;486    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//вернуть время в разрешенный интеравал - 
;;;487    								}											//режим непрерывной работы снимается 
;;;488    							}												//(T_PROC_PS_MODE=0)
;;;489    					
;;;490    						else if(T_PROC_PS<30)
;;;491    							{
;;;492    							T_PROC_PS=29;
;;;493    							if(T_PROC_PS_MODE!=1)
;;;494    								{
;;;495    								T_PROC_PS_MODE=1;
;;;496    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;497    								}
;;;498    							}
;;;499    						else 
;;;500    							{
;;;501    							if(T_PROC_PS_MODE!=0)
;;;502    								{
;;;503    								T_PROC_PS_MODE=0;
;;;504    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;505    								}
;;;506    							}				
;;;507    						}
;;;508    					}
;;;509    				
;;;510    				else if((modbus_cmnd==52)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//время-
000ffc  2b34              CMP      r3,#0x34
000ffe  d06a              BEQ      |L1.4310|
;;;511    					{
;;;512    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;513    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;514    						{
;;;515    						if(TIME_VISION_PULT)
;;;516    							{
;;;517    							T_PROC_GS=(((T_PROC_GS/60L)-1L)*60L);
;;;518    							T_PROC_GS_block_cnt=10;
;;;519    							}
;;;520    						else
;;;521    							{
;;;522    							T_PROC_GS--;
;;;523    							T_PROC_GS_block_cnt=10;
;;;524    							}
;;;525    				
;;;526    							
;;;527    						if(T_PROC_GS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;528    							{												//для источника тока больше чем 
;;;529    							T_PROC_GS=T_PROC_MAX+1;								//максимальное время процессов
;;;530    							if(T_PROC_GS_MODE!=1)								//(из главных установок) то 
;;;531    								{											//устанавливается режим непрерывной 
;;;532    								T_PROC_GS_MODE=1;								//работы(T_PROC_GS_MODE=1), при попытке
;;;533    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//вернуть время в разрешенный интеравал - 
;;;534    								}											//режим непрерывной работы снимается 
;;;535    							}												//(T_PROC_GS_MODE=0)
;;;536    					
;;;537    						else if(T_PROC_GS<30)
;;;538    							{
;;;539    							T_PROC_GS=29;
;;;540    							if(T_PROC_GS_MODE!=1)
;;;541    								{
;;;542    								T_PROC_GS_MODE=1;
;;;543    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;544    								}
;;;545    							}
;;;546    						else 
;;;547    							{
;;;548    							if(T_PROC_GS_MODE!=0)
;;;549    								{
;;;550    								T_PROC_GS_MODE=0;
;;;551    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;552    								}
;;;553    							}
;;;554    							
;;;555    						}
;;;556    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;557    						{
;;;558    						if(TIME_VISION_PULT)
;;;559    							{
;;;560    							T_PROC_PS=(((T_PROC_PS/60L)-1L)*60L);
;;;561    							T_PROC_PS_block_cnt=10;
;;;562    							}
;;;563    						else
;;;564    							{
;;;565    							T_PROC_PS--;
;;;566    							T_PROC_PS_block_cnt=10;
;;;567    							}
;;;568    				
;;;569    						if(T_PROC_PS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;570    							{												//для источника тока больше чем 
;;;571    							T_PROC_PS=T_PROC_MAX+1;								//максимальное время процессов
;;;572    							if(T_PROC_PS_MODE!=1)								//(из главных установок) то 
;;;573    								{											//устанавливается режим непрерывной 
;;;574    								T_PROC_PS_MODE=1;								//работы(T_PROC_PS_MODE=1), при попытке
;;;575    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//вернуть время в разрешенный интеравал - 
;;;576    								}											//режим непрерывной работы снимается 
;;;577    							}												//(T_PROC_PS_MODE=0)
;;;578    					
;;;579    						else if(T_PROC_PS<30)
;;;580    							{
;;;581    							T_PROC_PS=29;
;;;582    							if(T_PROC_PS_MODE!=1)
;;;583    								{
;;;584    								T_PROC_PS_MODE=1;
;;;585    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;586    								}
;;;587    							}
;;;588    						else 
;;;589    							{
;;;590    							if(T_PROC_PS_MODE!=0)
;;;591    								{
;;;592    								T_PROC_PS_MODE=0;
;;;593    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;594    								}
;;;595    							}			
;;;596    						}
;;;597    					}
;;;598    				else if((modbus_cmnd==54)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))	//время--
001000  2b36              CMP      r3,#0x36
001002  d069              BEQ      |L1.4312|
;;;599    					{
;;;600    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;601    					if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;602    						{
;;;603    						if(TIME_VISION_PULT)
;;;604    							{
;;;605    							T_PROC_GS=(((T_PROC_GS/600L)-1L)*600L);
;;;606    							T_PROC_GS_block_cnt=10;
;;;607    							}
;;;608    						else
;;;609    							{
;;;610    							T_PROC_GS=(((T_PROC_GS/10L)-1L)*10L);
;;;611    							T_PROC_GS_block_cnt=10;
;;;612    							}
;;;613    				
;;;614    						if(T_PROC_GS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;615    							{												//для источника тока больше чем 
;;;616    							T_PROC_GS=T_PROC_MAX+1;								//максимальное время процессов
;;;617    							if(T_PROC_GS_MODE!=1)								//(из главных установок) то 
;;;618    								{											//устанавливается режим непрерывной 
;;;619    								T_PROC_GS_MODE=1;								//работы(T_PROC_GS_MODE=1), при попытке
;;;620    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//вернуть время в разрешенный интеравал - 
;;;621    								}											//режим непрерывной работы снимается 
;;;622    							}												//(T_PROC_GS_MODE=0)
;;;623    					
;;;624    						else if(T_PROC_GS<30)
;;;625    							{
;;;626    							T_PROC_GS=29;
;;;627    							if(T_PROC_GS_MODE!=1)
;;;628    								{
;;;629    								T_PROC_GS_MODE=1;
;;;630    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;631    								}
;;;632    							}
;;;633    						else 
;;;634    							{
;;;635    							if(T_PROC_GS_MODE!=0)
;;;636    								{
;;;637    								T_PROC_GS_MODE=0;
;;;638    								lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;639    								}
;;;640    							}
;;;641    										
;;;642    						}
;;;643    					else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;644    						{
;;;645    						if(TIME_VISION_PULT)
;;;646    							{
;;;647    							T_PROC_PS=(((T_PROC_PS/600L)-1L)*600L);
;;;648    							T_PROC_PS_block_cnt=10;
;;;649    							}
;;;650    						else
;;;651    							{
;;;652    							T_PROC_PS=(((T_PROC_PS/10L)-1L)*10L);
;;;653    							T_PROC_PS_block_cnt=10;
;;;654    							}
;;;655    				
;;;656    						if(T_PROC_PS>T_PROC_MAX)								 	//Если устанавливаем врямя процесса
;;;657    							{												//для источника тока больше чем 
;;;658    							T_PROC_PS=T_PROC_MAX+1;								//максимальное время процессов
;;;659    							if(T_PROC_PS_MODE!=1)								//(из главных установок) то 
;;;660    								{											//устанавливается режим непрерывной 
;;;661    								T_PROC_PS_MODE=1;								//работы(T_PROC_PS_MODE=1), при попытке
;;;662    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//вернуть время в разрешенный интеравал - 
;;;663    								}											//режим непрерывной работы снимается 
;;;664    							}												//(T_PROC_PS_MODE=0)
;;;665    					
;;;666    						else if(T_PROC_PS<30)
;;;667    							{
;;;668    							T_PROC_PS=29;
;;;669    							if(T_PROC_PS_MODE!=1)
;;;670    								{
;;;671    								T_PROC_PS_MODE=1;
;;;672    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;673    								}
;;;674    							}
;;;675    						else 
;;;676    							{
;;;677    							if(T_PROC_PS_MODE!=0)
;;;678    								{
;;;679    								T_PROC_PS_MODE=0;
;;;680    								lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;681    								}
;;;682    							}	
;;;683    						}
;;;684    					}
;;;685    				
;;;686    				
;;;687    			//	else if((modbus_rx_arg1>>8)==90)
;;;688    			else if((modbus_cmnd==1)&&(modbus_cmnd_cnt!=modbus_self_cmnd_cnt))
001004  2b01              CMP      r3,#1
001006  d068              BEQ      |L1.4314|
                  |L1.4104|
001008  e242              B        |L1.5264|
                  |L1.4106|
00100a  2101              MOVS     r1,#1                 ;252
00100c  e7c1              B        |L1.3986|
                  |L1.4110|
00100e  7902              LDRB     r2,[r0,#4]            ;268  ; modbus_cmnd_cnt
001010  f89a0000          LDRB     r0,[r10,#0]           ;268  ; modbus_self_cmnd_cnt
001014  4282              CMP      r2,r0                 ;268
001016  d0a8              BEQ      |L1.3946|
001018  4829              LDR      r0,|L1.4288|
00101a  f9b02000          LDRSH    r2,[r0,#0]            ;270  ; I_ug
00101e  428a              CMP      r2,r1                 ;270
001020  da03              BGE      |L1.4138|
001022  1c52              ADDS     r2,r2,#1              ;270
001024  8002              STRH     r2,[r0,#0]            ;270
001026  e004              B        |L1.4146|
                  |L1.4136|
001028  e25b              B        |L1.5346|
                  |L1.4138|
00102a  fb92f1f7          SDIV     r1,r2,r7              ;271
00102e  1c49              ADDS     r1,r1,#1              ;271
001030  e063              B        |L1.4346|
                  |L1.4146|
001032  4824              LDR      r0,|L1.4292|
001034  f9bb2000          LDRSH    r2,[r11,#0]           ;272  ; I_MAX_IPS
001038  f9b01000          LDRSH    r1,[r0,#0]            ;272  ; I_MIN_IPS
00103c  4820              LDR      r0,|L1.4288|
00103e  e095              B        |L1.4460|
                  |L1.4160|
001040  7902              LDRB     r2,[r0,#4]            ;278  ; modbus_cmnd_cnt
001042  f89a0000          LDRB     r0,[r10,#0]           ;278  ; modbus_self_cmnd_cnt
001046  4282              CMP      r2,r0                 ;278
                  |L1.4168|
001048  d08f              BEQ      |L1.3946|
00104a  4a1d              LDR      r2,|L1.4288|
00104c  f9b20000          LDRSH    r0,[r2,#0]            ;280  ; I_ug
001050  4288              CMP      r0,r1                 ;280
001052  da01              BGE      |L1.4184|
001054  1e40              SUBS     r0,r0,#1              ;280
001056  e005              B        |L1.4196|
                  |L1.4184|
001058  fb90f0f7          SDIV     r0,r0,r7              ;281
00105c  1e40              SUBS     r0,r0,#1              ;281
00105e  eb000080          ADD      r0,r0,r0,LSL #2       ;281
001062  0040              LSLS     r0,r0,#1              ;281
                  |L1.4196|
001064  8010              STRH     r0,[r2,#0]            ;281
001066  e7e4              B        |L1.4146|
                  |L1.4200|
001068  7902              LDRB     r2,[r0,#4]            ;286  ; modbus_cmnd_cnt
00106a  f89a0000          LDRB     r0,[r10,#0]           ;286  ; modbus_self_cmnd_cnt
00106e  4282              CMP      r2,r0                 ;286
                  |L1.4208|
001070  d0ca              BEQ      |L1.4104|
001072  4813              LDR      r0,|L1.4288|
001074  f9b02000          LDRSH    r2,[r0,#0]            ;288  ; I_ug
001078  428a              CMP      r2,r1                 ;288
00107a  dbd6              BLT      |L1.4138|
00107c  fb92f1f7          SDIV     r1,r2,r7              ;289
001080  1d49              ADDS     r1,r1,#5              ;289
001082  e03a              B        |L1.4346|
                  |L1.4228|
                          DCD      ||.data||
                  |L1.4232|
                          DCD      ||area_number.4||
                  |L1.4236|
                          DCD      pvlk
                  |L1.4240|
                          DCD      i
                  |L1.4244|
                          DCD      I_MAX_IPS
                  |L1.4248|
                          DCD      work_stat
                  |L1.4252|
                          DCD      tumbler_stat
                  |L1.4256|
                          DCD      tumbler_stat_old
                  |L1.4260|
                          DCD      main_cnt
                  |L1.4264|
                          DCD      I_ug_block_cnt
                  |L1.4268|
                          DCD      U_up_block_cnt
                  |L1.4272|
                          DCD      TIME_VISION_PULT
                  |L1.4276|
                          DCD      T_PROC_GS_block_cnt
                  |L1.4280|
                          DCD      T_PROC_PS_block_cnt
                  |L1.4284|
                          DCD      main_menu_mode
                  |L1.4288|
                          DCD      I_ug
                  |L1.4292|
                          DCD      I_MIN_IPS
                  |L1.4296|
0010c8  e008              B        |L1.4316|
                  |L1.4298|
0010ca  e01b              B        |L1.4356|
                  |L1.4300|
0010cc  e023              B        |L1.4374|
                  |L1.4302|
0010ce  e02b              B        |L1.4392|
                  |L1.4304|
0010d0  e036              B        |L1.4416|
                  |L1.4306|
0010d2  e054              B        |L1.4478|
                  |L1.4308|
0010d4  e0a4              B        |L1.4640|
                  |L1.4310|
0010d6  e0f8              B        |L1.4810|
                  |L1.4312|
0010d8  e12a              B        |L1.4912|
                  |L1.4314|
0010da  e180              B        |L1.5086|
                  |L1.4316|
0010dc  7902              LDRB     r2,[r0,#4]            ;295  ; modbus_cmnd_cnt
0010de  f89a0000          LDRB     r0,[r10,#0]           ;295  ; modbus_self_cmnd_cnt
0010e2  4282              CMP      r2,r0                 ;295
0010e4  d090              BEQ      |L1.4104|
0010e6  48ff              LDR      r0,|L1.5348|
0010e8  f9b02000          LDRSH    r2,[r0,#0]            ;297  ; I_ug
0010ec  428a              CMP      r2,r1                 ;297
0010ee  fb92f1f7          SDIV     r1,r2,r7              ;298
0010f2  da01              BGE      |L1.4344|
0010f4  1e49              SUBS     r1,r1,#1              ;297
0010f6  e000              B        |L1.4346|
                  |L1.4344|
0010f8  1f49              SUBS     r1,r1,#5              ;298
                  |L1.4346|
0010fa  eb010181          ADD      r1,r1,r1,LSL #2       ;298
0010fe  0049              LSLS     r1,r1,#1              ;298
001100  8001              STRH     r1,[r0,#0]            ;298
001102  e796              B        |L1.4146|
                  |L1.4356|
001104  7901              LDRB     r1,[r0,#4]            ;304  ; modbus_cmnd_cnt
001106  f89a0000          LDRB     r0,[r10,#0]           ;304  ; modbus_self_cmnd_cnt
00110a  4281              CMP      r1,r0                 ;304
00110c  d09c              BEQ      |L1.4168|
00110e  48f6              LDR      r0,|L1.5352|
001110  8801              LDRH     r1,[r0,#0]            ;306  ; U_up
001112  1c49              ADDS     r1,r1,#1              ;306
001114  e022              B        |L1.4444|
                  |L1.4374|
001116  7901              LDRB     r1,[r0,#4]            ;312  ; modbus_cmnd_cnt
001118  f89a0000          LDRB     r0,[r10,#0]           ;312  ; modbus_self_cmnd_cnt
00111c  4281              CMP      r1,r0                 ;312
00111e  d093              BEQ      |L1.4168|
001120  48f1              LDR      r0,|L1.5352|
001122  8801              LDRH     r1,[r0,#0]            ;314  ; U_up
001124  1e49              SUBS     r1,r1,#1              ;314
001126  e019              B        |L1.4444|
                  |L1.4392|
001128  7901              LDRB     r1,[r0,#4]            ;320  ; modbus_cmnd_cnt
00112a  f89a0000          LDRB     r0,[r10,#0]           ;320  ; modbus_self_cmnd_cnt
00112e  4281              CMP      r1,r0                 ;320
001130  d08a              BEQ      |L1.4168|
001132  48ed              LDR      r0,|L1.5352|
001134  f9b01000          LDRSH    r1,[r0,#0]            ;322  ; U_up
001138  fb91f1f7          SDIV     r1,r1,r7              ;322
00113c  1c49              ADDS     r1,r1,#1              ;322
00113e  e00a              B        |L1.4438|
                  |L1.4416|
001140  7901              LDRB     r1,[r0,#4]            ;328  ; modbus_cmnd_cnt
001142  f89a0000          LDRB     r0,[r10,#0]           ;328  ; modbus_self_cmnd_cnt
001146  4281              CMP      r1,r0                 ;328
001148  d092              BEQ      |L1.4208|
00114a  48e7              LDR      r0,|L1.5352|
00114c  f9b01000          LDRSH    r1,[r0,#0]            ;330  ; U_up
001150  fb91f1f7          SDIV     r1,r1,r7              ;330
001154  1e49              SUBS     r1,r1,#1              ;330
                  |L1.4438|
001156  eb010181          ADD      r1,r1,r1,LSL #2       ;330
00115a  0049              LSLS     r1,r1,#1              ;330
                  |L1.4444|
00115c  8001              STRH     r1,[r0,#0]            ;330
00115e  48e3              LDR      r0,|L1.5356|
001160  f9b02000          LDRSH    r2,[r0,#0]            ;331  ; U_MAX
001164  48e2              LDR      r0,|L1.5360|
001166  f9b01000          LDRSH    r1,[r0,#0]            ;331  ; U_MIN
00116a  48df              LDR      r0,|L1.5352|
                  |L1.4460|
00116c  f7fffffe          BL       gran
001170  f8a87000          STRH     r7,[r8,#0]            ;332
001174  f89a1004          LDRB     r1,[r10,#4]           ;333  ; modbus_cmnd_cnt
001178  f88a1000          STRB     r1,[r10,#0]           ;333
                  |L1.4476|
00117c  e188              B        |L1.5264|
                  |L1.4478|
00117e  7903              LDRB     r3,[r0,#4]            ;337  ; modbus_cmnd_cnt
001180  f890c000          LDRB     r12,[r0,#0]           ;337  ; modbus_self_cmnd_cnt
001184  4563              CMP      r3,r12                ;337
001186  d0f9              BEQ      |L1.4476|
001188  7003              STRB     r3,[r0,#0]            ;339
00118a  f8980000          LDRB     r0,[r8,#0]            ;340  ; main_menu_mode
00118e  782b              LDRB     r3,[r5,#0]            ;340  ; work_stat
001190  ea500c03          ORRS     r12,r0,r3             ;340
001194  d002              BEQ      |L1.4508|
001196  2801              CMP      r0,#1                 ;381
001198  d022              BEQ      |L1.4576|
00119a  e179              B        |L1.5264|
                  |L1.4508|
00119c  8808              LDRH     r0,[r1,#0]            ;342  ; TIME_VISION_PULT
00119e  2800              CMP      r0,#0                 ;342
0011a0  48d4              LDR      r0,|L1.5364|
0011a2  d007              BEQ      |L1.4532|
0011a4  6803              LDR      r3,[r0,#0]            ;344  ; T_PROC_GS
0011a6  fb93f1f9          SDIV     r1,r3,r9              ;344
0011aa  1c49              ADDS     r1,r1,#1              ;344
0011ac  ebc11101          RSB      r1,r1,r1,LSL #4       ;344
0011b0  0089              LSLS     r1,r1,#2              ;344
0011b2  e001              B        |L1.4536|
                  |L1.4532|
0011b4  6801              LDR      r1,[r0,#0]            ;349  ; T_PROC_GS
0011b6  1c49              ADDS     r1,r1,#1              ;349
                  |L1.4536|
0011b8  6001              STR      r1,[r0,#0]            ;349  ; T_PROC_GS
0011ba  e0d5              B        |L1.4968|
                  |L1.4540|
0011bc  1c49              ADDS     r1,r1,#1              ;355
0011be  e000              B        |L1.4546|
                  |L1.4544|
0011c0  211d              MOVS     r1,#0x1d              ;365
                  |L1.4546|
0011c2  6001              STR      r1,[r0,#0]            ;626  ; T_PROC_GS
                  |L1.4548|
0011c4  48cc              LDR      r0,|L1.5368|
0011c6  8801              LDRH     r1,[r0,#0]            ;366  ; T_PROC_GS_MODE
0011c8  2901              CMP      r1,#1                 ;366
0011ca  d0d7              BEQ      |L1.4476|
0011cc  2101              MOVS     r1,#1                 ;619
0011ce  e004              B        |L1.4570|
                  |L1.4560|
0011d0  48c9              LDR      r0,|L1.5368|
0011d2  8801              LDRH     r1,[r0,#0]            ;374  ; T_PROC_GS_MODE
0011d4  2900              CMP      r1,#0                 ;374
0011d6  d0d1              BEQ      |L1.4476|
0011d8  2100              MOVS     r1,#0                 ;637
                  |L1.4570|
0011da  8001              STRH     r1,[r0,#0]            ;358
0011dc  20ee              MOVS     r0,#0xee              ;359
0011de  e01c              B        |L1.4634|
                  |L1.4576|
0011e0  2b00              CMP      r3,#0                 ;381
0011e2  d1cb              BNE      |L1.4476|
0011e4  8808              LDRH     r0,[r1,#0]            ;383  ; TIME_VISION_PULT
0011e6  2800              CMP      r0,#0                 ;383
0011e8  48c4              LDR      r0,|L1.5372|
0011ea  d004              BEQ      |L1.4598|
0011ec  6802              LDR      r2,[r0,#0]            ;385  ; T_PROC_PS
0011ee  fb92f1f9          SDIV     r1,r2,r9              ;385
0011f2  1c49              ADDS     r1,r1,#1              ;385
0011f4  e090              B        |L1.4888|
                  |L1.4598|
0011f6  6801              LDR      r1,[r0,#0]            ;390  ; T_PROC_PS
0011f8  1c49              ADDS     r1,r1,#1              ;390
                  |L1.4602|
0011fa  6001              STR      r1,[r0,#0]            ;390  ; T_PROC_PS
0011fc  e05b              B        |L1.4790|
                  |L1.4606|
0011fe  6001              STR      r1,[r0,#0]            ;406  ; T_PROC_PS
                  |L1.4608|
001200  48bf              LDR      r0,|L1.5376|
001202  8801              LDRH     r1,[r0,#0]            ;407  ; T_PROC_PS_MODE
001204  2901              CMP      r1,#1                 ;407
001206  d0b9              BEQ      |L1.4476|
001208  2101              MOVS     r1,#1                 ;661
00120a  e004              B        |L1.4630|
                  |L1.4620|
00120c  48bc              LDR      r0,|L1.5376|
00120e  8801              LDRH     r1,[r0,#0]            ;415  ; T_PROC_PS_MODE
001210  2900              CMP      r1,#0                 ;415
001212  d0b3              BEQ      |L1.4476|
001214  2100              MOVS     r1,#0                 ;679
                  |L1.4630|
001216  8001              STRH     r1,[r0,#0]            ;417
001218  20f0              MOVS     r0,#0xf0              ;418
                  |L1.4634|
00121a  f7fffffe          BL       lc640_write_int
00121e  e137              B        |L1.5264|
                  |L1.4640|
001220  7903              LDRB     r3,[r0,#4]            ;423  ; modbus_cmnd_cnt
001222  f890c000          LDRB     r12,[r0,#0]           ;423  ; modbus_self_cmnd_cnt
001226  4563              CMP      r3,r12                ;423
001228  d0a8              BEQ      |L1.4476|
00122a  7003              STRB     r3,[r0,#0]            ;425
00122c  f8980000          LDRB     r0,[r8,#0]            ;426  ; main_menu_mode
001230  782b              LDRB     r3,[r5,#0]            ;426  ; work_stat
001232  ea500c03          ORRS     r12,r0,r3             ;426
001236  d002              BEQ      |L1.4670|
001238  2801              CMP      r0,#1                 ;467
00123a  d025              BEQ      |L1.4744|
00123c  e128              B        |L1.5264|
                  |L1.4670|
00123e  8808              LDRH     r0,[r1,#0]            ;428  ; TIME_VISION_PULT
001240  b158              CBZ      r0,|L1.4698|
001242  49ac              LDR      r1,|L1.5364|
001244  f44f7016          MOV      r0,#0x258             ;430
001248  680b              LDR      r3,[r1,#0]            ;430  ; T_PROC_GS
00124a  fb93f0f0          SDIV     r0,r3,r0              ;430
00124e  1c40              ADDS     r0,r0,#1              ;430
001250  f44f7316          MOV      r3,#0x258             ;430
001254  4358              MULS     r0,r3,r0              ;430
001256  6008              STR      r0,[r1,#0]            ;431  ; T_PROC_GS
001258  e008              B        |L1.4716|
                  |L1.4698|
00125a  48a6              LDR      r0,|L1.5364|
00125c  6801              LDR      r1,[r0,#0]            ;435  ; T_PROC_GS
00125e  fb91f1f7          SDIV     r1,r1,r7              ;435
001262  1c49              ADDS     r1,r1,#1              ;435
001264  eb010181          ADD      r1,r1,r1,LSL #2       ;435
001268  0049              LSLS     r1,r1,#1              ;435
00126a  6001              STR      r1,[r0,#0]            ;435  ; T_PROC_GS
                  |L1.4716|
00126c  49a1              LDR      r1,|L1.5364|
00126e  48a5              LDR      r0,|L1.5380|
001270  8017              STRH     r7,[r2,#0]            ;436
001272  680a              LDR      r2,[r1,#0]            ;439  ; T_PROC_GS
001274  8800              LDRH     r0,[r0,#0]            ;439  ; T_PROC_MAX
001276  4282              CMP      r2,r0                 ;439
001278  dd01              BLE      |L1.4734|
00127a  1c40              ADDS     r0,r0,#1              ;441
00127c  e002              B        |L1.4740|
                  |L1.4734|
00127e  2a1e              CMP      r2,#0x1e              ;449
001280  daa6              BGE      |L1.4560|
001282  201d              MOVS     r0,#0x1d              ;451
                  |L1.4740|
001284  6008              STR      r0,[r1,#0]            ;451  ; T_PROC_GS
001286  e79d              B        |L1.4548|
                  |L1.4744|
001288  2b00              CMP      r3,#0                 ;467
00128a  d12c              BNE      |L1.4838|
00128c  8808              LDRH     r0,[r1,#0]            ;469  ; TIME_VISION_PULT
00128e  499b              LDR      r1,|L1.5372|
001290  b148              CBZ      r0,|L1.4774|
001292  680a              LDR      r2,[r1,#0]            ;471  ; T_PROC_PS
001294  f44f7016          MOV      r0,#0x258             ;471
001298  fb92f0f0          SDIV     r0,r2,r0              ;471
00129c  1c40              ADDS     r0,r0,#1              ;471
00129e  f44f7216          MOV      r2,#0x258             ;471
0012a2  4350              MULS     r0,r2,r0              ;471
0012a4  e006              B        |L1.4788|
                  |L1.4774|
0012a6  6808              LDR      r0,[r1,#0]            ;476  ; T_PROC_PS
0012a8  fb90f0f7          SDIV     r0,r0,r7              ;476
0012ac  1c40              ADDS     r0,r0,#1              ;476
0012ae  eb000080          ADD      r0,r0,r0,LSL #2       ;476
0012b2  0040              LSLS     r0,r0,#1              ;476
                  |L1.4788|
0012b4  6008              STR      r0,[r1,#0]            ;476  ; T_PROC_PS
                  |L1.4790|
0012b6  4891              LDR      r0,|L1.5372|
0012b8  4992              LDR      r1,|L1.5380|
0012ba  f8aa7000          STRH     r7,[r10,#0]           ;566
0012be  6802              LDR      r2,[r0,#0]            ;394  ; T_PROC_PS
0012c0  8809              LDRH     r1,[r1,#0]            ;394  ; T_PROC_MAX
0012c2  428a              CMP      r2,r1                 ;394
0012c4  dd2f              BLE      |L1.4902|
0012c6  1c49              ADDS     r1,r1,#1              ;571
0012c8  e799              B        |L1.4606|
                  |L1.4810|
0012ca  7903              LDRB     r3,[r0,#4]            ;510  ; modbus_cmnd_cnt
0012cc  f890c000          LDRB     r12,[r0,#0]           ;510  ; modbus_self_cmnd_cnt
0012d0  4563              CMP      r3,r12                ;510
0012d2  d008              BEQ      |L1.4838|
0012d4  7003              STRB     r3,[r0,#0]            ;512
0012d6  f8980000          LDRB     r0,[r8,#0]            ;513  ; main_menu_mode
0012da  782b              LDRB     r3,[r5,#0]            ;513  ; work_stat
0012dc  ea500c03          ORRS     r12,r0,r3             ;513
0012e0  d002              BEQ      |L1.4840|
0012e2  2801              CMP      r0,#1                 ;556
0012e4  d00f              BEQ      |L1.4870|
                  |L1.4838|
0012e6  e0d3              B        |L1.5264|
                  |L1.4840|
0012e8  8808              LDRH     r0,[r1,#0]            ;515  ; TIME_VISION_PULT
0012ea  b140              CBZ      r0,|L1.4862|
0012ec  4981              LDR      r1,|L1.5364|
0012ee  680b              LDR      r3,[r1,#0]            ;517  ; T_PROC_GS
0012f0  fb93f0f9          SDIV     r0,r3,r9              ;517
0012f4  1e40              SUBS     r0,r0,#1              ;517
0012f6  ebc01000          RSB      r0,r0,r0,LSL #4       ;517
0012fa  0080              LSLS     r0,r0,#2              ;517
0012fc  e033              B        |L1.4966|
                  |L1.4862|
0012fe  487d              LDR      r0,|L1.5364|
001300  6801              LDR      r1,[r0,#0]            ;522  ; T_PROC_GS
001302  1e49              SUBS     r1,r1,#1              ;522
001304  e758              B        |L1.4536|
                  |L1.4870|
001306  bb0b              CBNZ     r3,|L1.4940|
001308  8808              LDRH     r0,[r1,#0]            ;558  ; TIME_VISION_PULT
00130a  2800              CMP      r0,#0                 ;558
00130c  487b              LDR      r0,|L1.5372|
00130e  d007              BEQ      |L1.4896|
001310  6802              LDR      r2,[r0,#0]            ;560  ; T_PROC_PS
001312  fb92f1f9          SDIV     r1,r2,r9              ;560
001316  1e49              SUBS     r1,r1,#1              ;560
                  |L1.4888|
001318  ebc11101          RSB      r1,r1,r1,LSL #4       ;560
00131c  0089              LSLS     r1,r1,#2              ;560
00131e  e76c              B        |L1.4602|
                  |L1.4896|
001320  6801              LDR      r1,[r0,#0]            ;565  ; T_PROC_PS
001322  1e49              SUBS     r1,r1,#1              ;565
001324  e769              B        |L1.4602|
                  |L1.4902|
001326  2a1e              CMP      r2,#0x1e              ;579
                  |L1.4904|
001328  f6bfaf70          BGE      |L1.4620|
00132c  211d              MOVS     r1,#0x1d              ;581
00132e  e766              B        |L1.4606|
                  |L1.4912|
001330  7903              LDRB     r3,[r0,#4]            ;598  ; modbus_cmnd_cnt
001332  f890c000          LDRB     r12,[r0,#0]           ;598  ; modbus_self_cmnd_cnt
001336  4563              CMP      r3,r12                ;598
001338  d008              BEQ      |L1.4940|
00133a  7003              STRB     r3,[r0,#0]            ;600
00133c  f8980000          LDRB     r0,[r8,#0]            ;601  ; main_menu_mode
001340  782b              LDRB     r3,[r5,#0]            ;601  ; work_stat
001342  ea500c03          ORRS     r12,r0,r3             ;601
001346  d002              BEQ      |L1.4942|
001348  2801              CMP      r0,#1                 ;643
00134a  d022              BEQ      |L1.5010|
                  |L1.4940|
00134c  e0a0              B        |L1.5264|
                  |L1.4942|
00134e  8808              LDRH     r0,[r1,#0]            ;603  ; TIME_VISION_PULT
001350  b1b0              CBZ      r0,|L1.4992|
001352  4968              LDR      r1,|L1.5364|
001354  f44f7016          MOV      r0,#0x258             ;605
001358  680b              LDR      r3,[r1,#0]            ;605  ; T_PROC_GS
00135a  fb93f0f0          SDIV     r0,r3,r0              ;605
00135e  1e40              SUBS     r0,r0,#1              ;605
001360  f44f7316          MOV      r3,#0x258             ;605
001364  4358              MULS     r0,r3,r0              ;605
                  |L1.4966|
001366  6008              STR      r0,[r1,#0]            ;517  ; T_PROC_GS
                  |L1.4968|
001368  4862              LDR      r0,|L1.5364|
00136a  4966              LDR      r1,|L1.5380|
00136c  8017              STRH     r7,[r2,#0]            ;611
00136e  6802              LDR      r2,[r0,#0]            ;353  ; T_PROC_GS
001370  8809              LDRH     r1,[r1,#0]            ;353  ; T_PROC_MAX
001372  428a              CMP      r2,r1                 ;353
001374  f73faf22          BGT      |L1.4540|
001378  2a1e              CMP      r2,#0x1e              ;624
00137a  f6bfaf29          BGE      |L1.4560|
00137e  e71f              B        |L1.4544|
                  |L1.4992|
001380  485c              LDR      r0,|L1.5364|
001382  6801              LDR      r1,[r0,#0]            ;610  ; T_PROC_GS
001384  fb91f1f7          SDIV     r1,r1,r7              ;610
001388  1e49              SUBS     r1,r1,#1              ;610
00138a  eb010181          ADD      r1,r1,r1,LSL #2       ;610
00138e  0049              LSLS     r1,r1,#1              ;610
001390  e712              B        |L1.4536|
                  |L1.5010|
001392  bbf3              CBNZ     r3,|L1.5138|
001394  8808              LDRH     r0,[r1,#0]            ;645  ; TIME_VISION_PULT
001396  2800              CMP      r0,#0                 ;645
001398  4858              LDR      r0,|L1.5372|
00139a  d009              BEQ      |L1.5040|
00139c  6802              LDR      r2,[r0,#0]            ;647  ; T_PROC_PS
00139e  f44f7116          MOV      r1,#0x258             ;647
0013a2  fb92f1f1          SDIV     r1,r2,r1              ;647
0013a6  1e49              SUBS     r1,r1,#1              ;647
0013a8  f44f7216          MOV      r2,#0x258             ;647
0013ac  4351              MULS     r1,r2,r1              ;647
0013ae  e006              B        |L1.5054|
                  |L1.5040|
0013b0  6801              LDR      r1,[r0,#0]            ;652  ; T_PROC_PS
0013b2  fb91f1f7          SDIV     r1,r1,r7              ;652
0013b6  1e49              SUBS     r1,r1,#1              ;652
0013b8  eb010181          ADD      r1,r1,r1,LSL #2       ;652
0013bc  0049              LSLS     r1,r1,#1              ;652
                  |L1.5054|
0013be  6001              STR      r1,[r0,#0]            ;653  ; T_PROC_PS
0013c0  494e              LDR      r1,|L1.5372|
0013c2  4850              LDR      r0,|L1.5380|
0013c4  f8aa7000          STRH     r7,[r10,#0]           ;653
0013c8  680a              LDR      r2,[r1,#0]            ;656  ; T_PROC_PS
0013ca  8800              LDRH     r0,[r0,#0]            ;656  ; T_PROC_MAX
0013cc  4282              CMP      r2,r0                 ;656
0013ce  dd01              BLE      |L1.5076|
0013d0  1c40              ADDS     r0,r0,#1              ;658
0013d2  e002              B        |L1.5082|
                  |L1.5076|
0013d4  2a1e              CMP      r2,#0x1e              ;666
0013d6  daa7              BGE      |L1.4904|
0013d8  201d              MOVS     r0,#0x1d              ;668
                  |L1.5082|
0013da  6008              STR      r0,[r1,#0]            ;658  ; T_PROC_PS
0013dc  e710              B        |L1.4608|
                  |L1.5086|
0013de  7901              LDRB     r1,[r0,#4]  ; modbus_cmnd_cnt
0013e0  7802              LDRB     r2,[r0,#0]  ; modbus_self_cmnd_cnt
0013e2  4291              CMP      r1,r2
0013e4  d054              BEQ      |L1.5264|
;;;689    					{
;;;690    					modbus_self_cmnd_cnt=modbus_cmnd_cnt;
;;;691    					if(tumbler_stat==tsI)
;;;692    						{
;;;693    						if(work_stat!=wsGS)
;;;694    							{
;;;695    							if(SK_START==2)
;;;696    								{
;;;697    								if(SK_START_LEV)
;;;698    									{
;;;699    									if(sk_in_drv_stat==1)
;;;700    										{
;;;701    										return;
;;;702    										}
;;;703    									}
;;;704    								if(!SK_START_LEV)
;;;705    									{
;;;706    									if(sk_in_drv_stat==-1)
;;;707    										{
;;;708    										return;
;;;709    										}
;;;710    									}
;;;711    								}
;;;712    							work_stat=wsGS;
;;;713    							time_proc=0;
;;;714    							time_proc_remain=T_PROC_GS;
;;;715    							index_set=0;
0013e6  4f48              LDR      r7,|L1.5384|
0013e8  7001              STRB     r1,[r0,#0]            ;690
0013ea  46f0              MOV      r8,lr                 ;691
0013ec  f1bc0f00          CMP      r12,#0                ;691
0013f0  d125              BNE      |L1.5182|
0013f2  7828              LDRB     r0,[r5,#0]            ;693  ; work_stat
0013f4  2801              CMP      r0,#1                 ;693
0013f6  d01e              BEQ      |L1.5174|
0013f8  4844              LDR      r0,|L1.5388|
0013fa  8800              LDRH     r0,[r0,#0]            ;695  ; SK_START
0013fc  2802              CMP      r0,#2                 ;695
0013fe  d10d              BNE      |L1.5148|
001400  4843              LDR      r0,|L1.5392|
001402  8800              LDRH     r0,[r0,#0]            ;697  ; SK_START_LEV
001404  2800              CMP      r0,#0                 ;697
001406  4843              LDR      r0,|L1.5396|
001408  d004              BEQ      |L1.5140|
00140a  8800              LDRH     r0,[r0,#0]            ;699  ; sk_in_drv_stat
00140c  2801              CMP      r0,#1                 ;699
                  |L1.5134|
00140e  d068              BEQ      |L1.5346|
001410  e004              B        |L1.5148|
                  |L1.5138|
001412  e038              B        |L1.5254|
                  |L1.5140|
001414  f9b00000          LDRSH    r0,[r0,#0]            ;706  ; sk_in_drv_stat
001418  1c40              ADDS     r0,r0,#1              ;706
00141a  d0f8              BEQ      |L1.5134|
                  |L1.5148|
00141c  2001              MOVS     r0,#1                 ;712
00141e  493e              LDR      r1,|L1.5400|
001420  7028              STRB     r0,[r5,#0]            ;712
001422  2000              MOVS     r0,#0                 ;713
001424  6008              STR      r0,[r1,#0]            ;714  ; time_proc
001426  4933              LDR      r1,|L1.5364|
001428  680a              LDR      r2,[r1,#0]            ;714  ; T_PROC_GS
00142a  493c              LDR      r1,|L1.5404|
00142c  600a              STR      r2,[r1,#0]  ; time_proc_remain
00142e  7138              STRB     r0,[r7,#4]
;;;716    							restart_on_GS();
001430  f7fffffe          BL       restart_on_GS
001434  e003              B        |L1.5182|
                  |L1.5174|
;;;717    							}			
;;;718    						else 
;;;719    							{
;;;720    							work_stat=wsOFF;
001436  2000              MOVS     r0,#0
001438  7028              STRB     r0,[r5,#0]
;;;721    							restart_off();
00143a  f7fffffe          BL       restart_off
                  |L1.5182|
;;;722    							}
;;;723    						}
;;;724    				
;;;725    					if(tumbler_stat==tsU)
00143e  f8980000          LDRB     r0,[r8,#0]  ; tumbler_stat
001442  2801              CMP      r0,#1
001444  d124              BNE      |L1.5264|
;;;726    						{
;;;727    						if(work_stat!=wsPS)
001446  7828              LDRB     r0,[r5,#0]  ; work_stat
001448  2802              CMP      r0,#2
00144a  d01d              BEQ      |L1.5256|
;;;728    							{
;;;729    							if(SK_START==2)
00144c  482f              LDR      r0,|L1.5388|
00144e  8800              LDRH     r0,[r0,#0]  ; SK_START
001450  2802              CMP      r0,#2
001452  d10c              BNE      |L1.5230|
;;;730    								{
;;;731    								if(SK_START_LEV)
001454  482e              LDR      r0,|L1.5392|
001456  8800              LDRH     r0,[r0,#0]  ; SK_START_LEV
001458  2800              CMP      r0,#0
;;;732    									{
;;;733    									if(sk_in_drv_stat==1)
;;;734    										{
;;;735    										return;
;;;736    										}
;;;737    									}
;;;738    								if(!SK_START_LEV)
;;;739    									{
;;;740    									if(sk_in_drv_stat==-1)
00145a  482e              LDR      r0,|L1.5396|
00145c  d003              BEQ      |L1.5222|
00145e  8800              LDRH     r0,[r0,#0]            ;733  ; sk_in_drv_stat
001460  2801              CMP      r0,#1                 ;733
001462  d0d4              BEQ      |L1.5134|
001464  e003              B        |L1.5230|
                  |L1.5222|
001466  f9b00000          LDRSH    r0,[r0,#0]  ; sk_in_drv_stat
00146a  1c40              ADDS     r0,r0,#1
00146c  d0cf              BEQ      |L1.5134|
                  |L1.5230|
;;;741    										{
;;;742    										return;
;;;743    										}
;;;744    									}
;;;745    								}
;;;746    							work_stat=wsPS;
00146e  2002              MOVS     r0,#2
;;;747    							time_proc=0;
001470  4929              LDR      r1,|L1.5400|
001472  7028              STRB     r0,[r5,#0]            ;746
001474  2000              MOVS     r0,#0
;;;748    							time_proc_remain=T_PROC_PS;
001476  6008              STR      r0,[r1,#0]  ; time_proc
001478  4920              LDR      r1,|L1.5372|
00147a  680a              LDR      r2,[r1,#0]  ; T_PROC_PS
00147c  4927              LDR      r1,|L1.5404|
;;;749    							index_set=0;
00147e  600a              STR      r2,[r1,#0]  ; time_proc_remain
001480  7138              STRB     r0,[r7,#4]
;;;750    							restart_on_PS();
001482  f7fffffe          BL       restart_on_PS
                  |L1.5254|
001486  e003              B        |L1.5264|
                  |L1.5256|
;;;751    							}			
;;;752    						else
;;;753    							{
;;;754    							work_stat=wsOFF;
001488  2000              MOVS     r0,#0
00148a  7028              STRB     r0,[r5,#0]
;;;755    							restart_off();
00148c  f7fffffe          BL       restart_off
                  |L1.5264|
;;;756    							}
;;;757    						}
;;;758    					}
;;;759    				}
;;;760    			}
;;;761    		}
;;;762    
;;;763    	if(modbus_an_buffer[0]==MODBUS_ADRESS)
001490  4823              LDR      r0,|L1.5408|
001492  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
001494  4823              LDR      r0,|L1.5412|
001496  f9b00000          LDRSH    r0,[r0,#0]  ; MODBUS_ADRESS
00149a  4281              CMP      r1,r0
                  |L1.5276|
00149c  d121              BNE      |L1.5346|
;;;764    		{
;;;765    		if(modbus_func==3)		//чтение произвольного кол-ва регистров
00149e  9903              LDR      r1,[sp,#0xc]
0014a0  2903              CMP      r1,#3
0014a2  d07e              BEQ      |L1.5538|
;;;766    			{
;;;767    			if((modbus_rx_arg0>=50)&&(modbus_rx_arg0<100)) modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func, modbus_rx_arg0,modbus_rx_arg1, MODBUS_RTU_PROT);
;;;768    			}
;;;769    		else if(modbus_func==4)		//чтение произвольного кол-ва регистров	входов
0014a4  2904              CMP      r1,#4
0014a6  d07d              BEQ      |L1.5540|
;;;770    			{
;;;771    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0, modbus_rx_arg1, MODBUS_RTU_PROT);
;;;772    			}
;;;773    
;;;774    		else if(modbus_func==6) 	//запись регистра
0014a8  2906              CMP      r1,#6
0014aa  d1f7              BNE      |L1.5276|
;;;775    			{
;;;776    			if(modbus_rx_arg0==50)		//ток стабилизации для режима стабилизации тока
0014ac  2e32              CMP      r6,#0x32
0014ae  d07a              BEQ      |L1.5542|
;;;777    				{
;;;778    				I_ug=modbus_rx_arg1;
;;;779    				lc640_write_int(EE_I_UG,I_ug);
;;;780    				}
;;;781    			if(modbus_rx_arg0==51)		//напряжение стабилизации для режима стабилизации напряжения
0014b0  2e33              CMP      r6,#0x33
0014b2  d079              BEQ      |L1.5544|
;;;782    				{
;;;783    				U_up=modbus_rx_arg1;
;;;784    				lc640_write_int(EE_U_UP,U_up);
;;;785    				}
;;;786    			if(modbus_rx_arg0==52)		//максимапльное напряжение для режима стабилизации тока
0014b4  2e34              CMP      r6,#0x34
0014b6  d078              BEQ      |L1.5546|
;;;787    				{
;;;788    				U_maxg=modbus_rx_arg1;
;;;789    				lc640_write_int(EE_U_MAX_G,U_maxg);
;;;790    				}
;;;791    			if(modbus_rx_arg0==53)		//максимальный ток для режима стабилизации напряжения
0014b8  2e35              CMP      r6,#0x35
0014ba  d077              BEQ      |L1.5548|
;;;792    				{
;;;793    				I_maxp=modbus_rx_arg1;
;;;794    				lc640_write_int(EE_I_MAX_P,I_maxp);
;;;795    				}								
;;;796    			if(modbus_rx_arg0==54)		//Установка времени для ист.тока.секунды
;;;797    				{
;;;798    				signed long sec,min,hour;
;;;799    				sec=(signed long)modbus_rx_arg1;
;;;800    				min=(T_PROC_GS/60L)%60L;
;;;801    				hour=T_PROC_GS/3600L;
0014bc  f44f6061          MOV      r0,#0xe10
0014c0  2e36              CMP      r6,#0x36              ;796
0014c2  d074              BEQ      |L1.5550|
;;;802    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;803    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;804    				}
;;;805    			if(modbus_rx_arg0==55)		//Установка времени для ист.тока.минуты
0014c4  2e37              CMP      r6,#0x37
0014c6  d073              BEQ      |L1.5552|
;;;806    				{
;;;807    				signed long sec,min,hour;
;;;808    				sec=T_PROC_GS%60L;
;;;809    				min=(signed long)modbus_rx_arg1;
;;;810    				hour=T_PROC_GS/3600L;
;;;811    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;812    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;813    				}
;;;814    			if(modbus_rx_arg0==56)		//Установка времени для ист.тока.часы
0014c8  2e38              CMP      r6,#0x38
0014ca  d072              BEQ      |L1.5554|
;;;815    				{
;;;816    				signed long sec,min,hour;
;;;817    				sec=T_PROC_GS%60L;
;;;818    				min=(T_PROC_GS/60L)%60L;
;;;819    				hour=(signed long)modbus_rx_arg1;
;;;820    				T_PROC_GS=(hour*3600L)+(min*60L)+sec;
;;;821    				lc640_write_long(EE_T_PROC_GS,T_PROC_GS);
;;;822    				}
;;;823    			if(modbus_rx_arg0==57)		//Установка времени для ист.напр.секунды
0014cc  2e39              CMP      r6,#0x39
0014ce  d071              BEQ      |L1.5556|
;;;824    				{
;;;825    				signed long sec,min,hour;
;;;826    				sec=(signed long)modbus_rx_arg1;
;;;827    				min=(T_PROC_PS/60L)%60L;
;;;828    				hour=T_PROC_PS/3600L;
;;;829    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;830    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;831    				}
;;;832    
;;;833    			if(modbus_rx_arg0==58)		//Установка времени для ист.напр.минуты
0014d0  2e3a              CMP      r6,#0x3a
0014d2  d070              BEQ      |L1.5558|
;;;834    				{
;;;835    				signed long sec,min,hour;
;;;836    				sec=T_PROC_PS%60L;
;;;837    				min=(signed long)modbus_rx_arg1;
;;;838    				hour=T_PROC_PS/3600L;
;;;839    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;840    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;841    				}
;;;842    
;;;843    			if(modbus_rx_arg0==59)		//Установка времени для ист.напр.часы
0014d4  2e3b              CMP      r6,#0x3b
0014d6  d06f              BEQ      |L1.5560|
;;;844    				{
;;;845    				signed long sec,min,hour;
;;;846    				sec=T_PROC_PS%60L;
;;;847    				min=(T_PROC_PS/60L)%60L;
;;;848    				hour=(signed long)modbus_rx_arg1;
;;;849    				T_PROC_PS=(hour*3600L)+(min*60L)+sec;
;;;850    				lc640_write_long(EE_T_PROC_PS,T_PROC_PS);
;;;851    				}
;;;852    
;;;853    			if(modbus_rx_arg0==60)		//вкл/выкл источника напр.
0014d8  2e3c              CMP      r6,#0x3c
0014da  d06e              BEQ      |L1.5562|
;;;854    				{
;;;855    				if(modbus_rx_arg1==1)
;;;856    					{
;;;857    /*					if(work_stat!=wsPS)
;;;858    						{
;;;859    							if(SK_START==2)
;;;860    								{
;;;861    								if(SK_START_LEV)
;;;862    									{
;;;863    									if(sk_in_drv_stat==1)
;;;864    										{
;;;865    										return;
;;;866    										}
;;;867    									}
;;;868    								if(!SK_START_LEV)
;;;869    									{
;;;870    									if(sk_in_drv_stat==-1)
;;;871    										{
;;;872    										return;
;;;873    										}
;;;874    									}
;;;875    								}
;;;876    						work_stat=wsPS;
;;;877    						time_proc=0;
;;;878    						time_proc_remain=T_PROC_PS;
;;;879    						restart_on_PS();
;;;880    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;881    						}*/
;;;882    					start_PS();
;;;883    					}
;;;884    				if(modbus_rx_arg1==0)
;;;885    					{
;;;886    					/*if(work_stat==wsPS)
;;;887    						{
;;;888    						work_stat=wsOFF;
;;;889    						restart_off();
;;;890    						}*/
;;;891    					stop_proc();
;;;892    					}
;;;893    				}
;;;894    			if(modbus_rx_arg0==61)		//вкл/выкл источника тока
0014dc  2e3d              CMP      r6,#0x3d
0014de  d06d              BEQ      |L1.5564|
;;;895    				{
;;;896    				if(modbus_rx_arg1==1)
;;;897    					{
;;;898    					/*if(work_stat!=wsGS)
;;;899    						{
;;;900    							if(SK_START==2)
;;;901    								{
;;;902    								if(SK_START_LEV)
;;;903    									{
;;;904    									if(sk_in_drv_stat==1)
;;;905    										{
;;;906    										return;
;;;907    										}
;;;908    									}
;;;909    								if(!SK_START_LEV)
;;;910    									{
;;;911    									if(sk_in_drv_stat==-1)
;;;912    										{
;;;913    										return;
;;;914    										}
;;;915    									}
;;;916    								}
;;;917    						work_stat=wsGS;
;;;918    						time_proc=0;
;;;919    						time_proc_remain=T_PROC_GS;
;;;920    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;921    						}*/
;;;922    					start_GS();
;;;923    					}
;;;924    				if(modbus_rx_arg1==0)
;;;925    					{
;;;926    					/*if(work_stat==wsGS)
;;;927    						{
;;;928    						work_stat=wsOFF;
;;;929    						restart_off();
;;;930    						} */
;;;931    					stop_proc();
;;;932    					}
;;;933    				}
;;;934    
;;;935    			if(modbus_rx_arg0==62)		//переключение реле реверса
0014e0  e022              B        |L1.5416|
                  |L1.5346|
0014e2  e07c              B        |L1.5598|
                  |L1.5348|
                          DCD      I_ug
                  |L1.5352|
                          DCD      U_up
                  |L1.5356|
                          DCD      U_MAX
                  |L1.5360|
                          DCD      U_MIN
                  |L1.5364|
                          DCD      T_PROC_GS
                  |L1.5368|
                          DCD      T_PROC_GS_MODE
                  |L1.5372|
                          DCD      T_PROC_PS
                  |L1.5376|
                          DCD      T_PROC_PS_MODE
                  |L1.5380|
                          DCD      T_PROC_MAX
                  |L1.5384|
                          DCD      a_ind
                  |L1.5388|
                          DCD      SK_START
                  |L1.5392|
                          DCD      SK_START_LEV
                  |L1.5396|
                          DCD      sk_in_drv_stat
                  |L1.5400|
                          DCD      time_proc
                  |L1.5404|
                          DCD      time_proc_remain
                  |L1.5408|
                          DCD      ||area_number.4||+0x1e
                  |L1.5412|
                          DCD      MODBUS_ADRESS
                  |L1.5416|
001528  2e3e              CMP      r6,#0x3e
00152a  d073              BEQ      |L1.5652|
;;;936    				{
;;;937    					{
;;;938    					if(work_stat==wsOFF)
;;;939    						{
;;;940    						if(modbus_rx_arg1==0)REV_STAT=rsFF;
;;;941    						if(modbus_rx_arg1==1)REV_STAT=rsREW;
;;;942    						}
;;;943    					}
;;;944    				}
;;;945    			if(modbus_rx_arg0==63)		//включение-выключение автореверса
00152c  2e3f              CMP      r6,#0x3f
00152e  d072              BEQ      |L1.5654|
;;;946    				{
;;;947    					{
;;;948    					if((work_stat==wsOFF)&&(REV_IS_ON))
;;;949    						{
;;;950    						if(modbus_rx_arg1==1)AVT_REV_IS_ON=1;
;;;951    						if(modbus_rx_arg1==0)AVT_REV_IS_ON=0;
;;;952    						lc640_write_int(EE_AVT_REV_IS_ON,AVT_REV_IS_ON);
;;;953    						}
;;;954    					}
;;;955    				}
;;;956    			if(modbus_rx_arg0==64)		//Автореверс, время работы прямое, сек
001530  2e40              CMP      r6,#0x40
001532  d071              BEQ      |L1.5656|
;;;957    				{
;;;958    				if(work_stat==wsOFF)
;;;959    					{
;;;960    					AVT_REV_TIME_FF=modbus_rx_arg1;
;;;961    					gran_u/*long*/(&AVT_REV_TIME_FF,30,T_PROC_MAX);
;;;962    					lc640_write_int(EE_AVT_REV_TIME_FF,AVT_REV_TIME_FF);	
;;;963    					}
;;;964    				}
;;;965    			if(modbus_rx_arg0==65)		//Автореверс, время работы обратное, сек
001534  2e41              CMP      r6,#0x41
001536  d070              BEQ      |L1.5658|
;;;966    				{
;;;967    				if(work_stat==wsOFF)
;;;968    					{
;;;969    					AVT_REV_TIME_REW=modbus_rx_arg1;
;;;970    					gran_u/*long*/(&AVT_REV_TIME_REW,30,T_PROC_MAX);
;;;971    					lc640_write_int(EE_AVT_REV_TIME_REW,AVT_REV_TIME_REW);	
;;;972    					}
;;;973    				}
;;;974    			if(modbus_rx_arg0==66)		//Автореверс, время паузы при переключении, сек
001538  2e42              CMP      r6,#0x42
00153a  d06f              BEQ      |L1.5660|
;;;975    				{
;;;976    				if(work_stat==wsOFF)
;;;977    					{
;;;978    					AVT_REV_TIME_PAUSE=modbus_rx_arg1;
;;;979    					gran(&AVT_REV_TIME_PAUSE,2,600);
;;;980    					lc640_write_int(EE_AVT_REV_TIME_PAUSE,AVT_REV_TIME_PAUSE);	
;;;981    					}
;;;982    				}
;;;983    
;;;984    			if(modbus_rx_arg0==67)		//Автореверс, ток стабилизации прямой, 0.1А
00153c  2e43              CMP      r6,#0x43
00153e  d06e              BEQ      |L1.5662|
;;;985    				{
;;;986    				if(work_stat==wsOFF)
;;;987    					{
;;;988    					AVT_REV_I_NOM_FF=modbus_rx_arg1;
;;;989    		    			gran(&AVT_REV_I_NOM_FF,I_MIN_IPS,I_MAX_IPS);
;;;990    					lc640_write_int(EE_AVT_REV_I_NOM_FF,AVT_REV_I_NOM_FF);	
;;;991    					}
;;;992    				}
;;;993    
;;;994    			if(modbus_rx_arg0==68)		//Автореверс, ток стабилизации обратный, 0.1А
001540  2e44              CMP      r6,#0x44
001542  d06d              BEQ      |L1.5664|
;;;995    				{
;;;996    				if(work_stat==wsOFF)
;;;997    					{
;;;998    					AVT_REV_I_NOM_REW=modbus_rx_arg1;
;;;999    		    			gran(&AVT_REV_I_NOM_REW,I_MIN_IPS,I_MAX_IPS);
;;;1000   					lc640_write_int(EE_AVT_REV_I_NOM_REW,AVT_REV_I_NOM_REW);	
;;;1001   					}
;;;1002   				}
;;;1003   			if(modbus_rx_arg0==69)		//Автореверс, напряжение стабилизации прямое, 0.1В 
001544  2e45              CMP      r6,#0x45
001546  d06c              BEQ      |L1.5666|
;;;1004   				{
;;;1005   				if(work_stat==wsOFF)
;;;1006   					{
;;;1007   					AVT_REV_U_NOM_FF=modbus_rx_arg1;
;;;1008   		    			gran(&AVT_REV_U_NOM_FF,U_MIN,U_MAX);
;;;1009   					lc640_write_int(EE_AVT_REV_U_NOM_FF,AVT_REV_U_NOM_FF);					
;;;1010   					}
;;;1011   				}
;;;1012   
;;;1013   			if(modbus_rx_arg0==70)		//Автореверс, напряжение стабилизации обратное, 0.1В
001548  2e46              CMP      r6,#0x46
00154a  d06b              BEQ      |L1.5668|
;;;1014   				{
;;;1015   				if(work_stat==wsOFF)
;;;1016   					{
;;;1017   					AVT_REV_U_NOM_REW=modbus_rx_arg1;
;;;1018   		    			gran(&AVT_REV_U_NOM_REW,U_MIN,U_MAX);
;;;1019   					lc640_write_int(EE_AVT_REV_U_NOM_REW,AVT_REV_U_NOM_REW);					
;;;1020   					}
;;;1021   				}
;;;1022   
;;;1023   			if(modbus_rx_arg0==71)		//Время заряда испытательного цикла, 0.1С 
;;;1024   				{
;;;1025   				if(work_stat==wsOFF)
;;;1026   					{
;;;1027   					CAP_ZAR_TIME=modbus_rx_arg1;
00154c  4ff9              LDR      r7,|L1.6452|
;;;1028   		    			gran(&CAP_ZAR_TIME,10,9999);
00154e  f242720f          MOV      r2,#0x270f
001552  2e47              CMP      r6,#0x47              ;1023
001554  d067              BEQ      |L1.5670|
;;;1029   					lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1030   					}
;;;1031   				}
;;;1032   			if(modbus_rx_arg0==72)		//Время паузы1 испытательного цикла, 0.1С 
;;;1033   				{
;;;1034   				if(work_stat==wsOFF)
;;;1035   					{
;;;1036   					CAP_PAUSE1_TIME=modbus_rx_arg1;
001556  f8df83e0          LDR      r8,|L1.6456|
00155a  2e48              CMP      r6,#0x48              ;1032
00155c  d07d              BEQ      |L1.5722|
;;;1037   		    			gran(&CAP_PAUSE1_TIME,10,9999);
;;;1038   					lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1039   					}
;;;1040   				}
;;;1041   			if(modbus_rx_arg0==73)		//Время разряда испытательного цикла, 0.1С 
;;;1042   				{
;;;1043   				if(work_stat==wsOFF)
;;;1044   					{
;;;1045   					CAP_RAZR_TIME=modbus_rx_arg1;
00155e  f8df93dc          LDR      r9,|L1.6460|
001562  2e49              CMP      r6,#0x49              ;1041
001564  d07a              BEQ      |L1.5724|
;;;1046   		    			gran(&CAP_RAZR_TIME,10,9999);
;;;1047   					lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1048   					}
;;;1049   				}
;;;1050   			if(modbus_rx_arg0==74)		//Время паузы2 испытательного цикла, 0.1С 
;;;1051   				{
;;;1052   				if(work_stat==wsOFF)
;;;1053   					{
;;;1054   					CAP_PAUSE2_TIME=modbus_rx_arg1;
001566  f8dfb3d8          LDR      r11,|L1.6464|
00156a  2e4a              CMP      r6,#0x4a              ;1050
00156c  d077              BEQ      |L1.5726|
;;;1055   		    			gran(&CAP_PAUSE2_TIME,10,9999);
;;;1056   					lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1057   					}
;;;1058   				}
;;;1059   
;;;1060   			if(modbus_rx_arg0==75)		//Максимальное напряжение испытательного цикла, 1В  
;;;1061   				{
;;;1062   				if(work_stat==wsOFF)
;;;1063   					{
;;;1064   					CAP_MAX_VOLT=modbus_rx_arg1;
00156e  48f5              LDR      r0,|L1.6468|
001570  2e4b              CMP      r6,#0x4b              ;1060
001572  d075              BEQ      |L1.5728|
;;;1065   		    			gran(&CAP_MAX_VOLT,1,100);
;;;1066   					lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1067   					}
;;;1068   				}
;;;1069   			if(modbus_rx_arg0==76)		//Рабочий ток испытательного цикла, 1А 
;;;1070   				{
;;;1071   				if(work_stat==wsOFF)
;;;1072   					{
;;;1073   					CAP_WRK_CURR=modbus_rx_arg1;
001574  f8dfa3d0          LDR      r10,|L1.6472|
001578  2e4c              CMP      r6,#0x4c              ;1069
00157a  d072              BEQ      |L1.5730|
;;;1074   		    			gran(&CAP_WRK_CURR,1,150);
;;;1075   					lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1076   					}
;;;1077   				}
;;;1078   
;;;1079   			if(modbus_rx_arg0==77)		//Регистр для записи команд 
00157c  2e4d              CMP      r6,#0x4d
00157e  d071              BEQ      |L1.5732|
;;;1080   				{
;;;1081   				if(modbus_rx_arg1==0x11)
;;;1082   					{
;;;1083   					start_CAP();
;;;1084   					}
;;;1085   				if(modbus_rx_arg1==0x12)
;;;1086   					{
;;;1087   					pause_CAP();
;;;1088   					}
;;;1089   				if(modbus_rx_arg1==0x13)
;;;1090   					{
;;;1091   					stop_CAP();
;;;1092   					}
;;;1093   				if(modbus_rx_arg1==0x14)
;;;1094   					{
;;;1095   					reset_CAP();
;;;1096   					}
;;;1097   
;;;1098   				if(modbus_rx_arg1==0x21)
;;;1099   					{
;;;1100   					if(work_stat==wsOFF)
;;;1101   						{
;;;1102   						CAP_ZAR_TIME++;
;;;1103   		    				gran(&CAP_ZAR_TIME,10,9999);
;;;1104   						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1105   						}
;;;1106   					}
;;;1107   				if(modbus_rx_arg1==0x22)
;;;1108   					{
;;;1109   					if(work_stat==wsOFF)
;;;1110   						{
;;;1111   						CAP_ZAR_TIME--;
;;;1112   		    				gran(&CAP_ZAR_TIME,10,9999);
;;;1113   						lc640_write_int(EE_CAP_ZAR_TIME,CAP_ZAR_TIME);					
;;;1114   						}
;;;1115   					}
;;;1116   
;;;1117   				if(modbus_rx_arg1==0x31)
;;;1118   					{
;;;1119   					if(work_stat==wsOFF)
;;;1120   						{
;;;1121   						CAP_PAUSE1_TIME++;
;;;1122   		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;1123   						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1124   						}
;;;1125   					}
;;;1126   				if(modbus_rx_arg1==0x32)
;;;1127   					{
;;;1128   					if(work_stat==wsOFF)
;;;1129   						{
;;;1130   						CAP_PAUSE1_TIME--;
;;;1131   		    				gran(&CAP_PAUSE1_TIME,10,9999);
;;;1132   						lc640_write_int(EE_CAP_PAUSE1_TIME,CAP_PAUSE1_TIME);					
;;;1133   						}
;;;1134   					}
;;;1135   
;;;1136   				if(modbus_rx_arg1==0x41)
;;;1137   					{
;;;1138   					if(work_stat==wsOFF)
;;;1139   						{
;;;1140   						CAP_RAZR_TIME++;
;;;1141   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1142   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1143   						}
;;;1144   					}
;;;1145   				if(modbus_rx_arg1==0x42)
;;;1146   					{
;;;1147   					if(work_stat==wsOFF)
;;;1148   						{
;;;1149   						CAP_RAZR_TIME--;
;;;1150   		    				gran(&CAP_RAZR_TIME,10,9999);
;;;1151   						lc640_write_int(EE_CAP_RAZR_TIME,CAP_RAZR_TIME);					
;;;1152   						}
;;;1153   					}
;;;1154   
;;;1155   				if(modbus_rx_arg1==0x51)
;;;1156   					{
;;;1157   					if(work_stat==wsOFF)
;;;1158   						{
;;;1159   						CAP_PAUSE2_TIME++;
;;;1160   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1161   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1162   						}
;;;1163   					}
;;;1164   				if(modbus_rx_arg1==0x52)
;;;1165   					{
;;;1166   					if(work_stat==wsOFF)
;;;1167   						{
;;;1168   						CAP_PAUSE2_TIME--;
;;;1169   		    				gran(&CAP_PAUSE2_TIME,10,9999);
;;;1170   						lc640_write_int(EE_CAP_PAUSE2_TIME,CAP_PAUSE2_TIME);					
;;;1171   						}
;;;1172   					}
;;;1173   
;;;1174   				if(modbus_rx_arg1==0x61)
;;;1175   					{
;;;1176   					if(work_stat==wsOFF)
;;;1177   						{
;;;1178   						CAP_MAX_VOLT++;
;;;1179   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1180   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1181   						}
;;;1182   					}
;;;1183   				if(modbus_rx_arg1==0x62)
;;;1184   					{
;;;1185   					if(work_stat==wsOFF)
;;;1186   						{
;;;1187   						CAP_MAX_VOLT--;
;;;1188   		    				gran(&CAP_MAX_VOLT,1,100);
;;;1189   						lc640_write_int(EE_CAP_MAX_VOLT,CAP_MAX_VOLT);					
;;;1190   						}
;;;1191   					}
;;;1192   
;;;1193   				if(modbus_rx_arg1==0x71)
;;;1194   					{
;;;1195   					if(work_stat==wsOFF)
;;;1196   						{
;;;1197   						CAP_WRK_CURR++;
;;;1198   		    				gran(&CAP_WRK_CURR,1,150);
;;;1199   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1200   						}
;;;1201   					}
;;;1202   				if(modbus_rx_arg1==0x72)
;;;1203   					{
;;;1204   					if(work_stat==wsOFF)
;;;1205   						{
;;;1206   						CAP_WRK_CURR--;
;;;1207   		    				gran(&CAP_WRK_CURR,1,150);
;;;1208   						lc640_write_int(EE_CAP_WRK_CURR,CAP_WRK_CURR);					
;;;1209   						}
;;;1210   					}
;;;1211   
;;;1212   				if(modbus_rx_arg1==0x80)
;;;1213   					{
;;;1214   					if(RELE_FUNC[0]==6)
;;;1215   						{
;;;1216   						rele_ext_cntrl[0]=0;					
;;;1217   						}
;;;1218   					}
;;;1219   				if(modbus_rx_arg1==0x81)
;;;1220   					{
;;;1221   					if(RELE_FUNC[0]==6)
;;;1222   						{
;;;1223   						rele_ext_cntrl[0]=1;					
;;;1224   						}
;;;1225   					}
;;;1226   				if(modbus_rx_arg1==0x82)
;;;1227   					{
;;;1228   					if(RELE_FUNC[1]==6)
;;;1229   						{
;;;1230   						rele_ext_cntrl[1]=0;					
;;;1231   						}
;;;1232   					}
;;;1233   				if(modbus_rx_arg1==0x83)
;;;1234   					{
;;;1235   					if(RELE_FUNC[1]==6)
;;;1236   						{
;;;1237   						rele_ext_cntrl[1]=1;					
;;;1238   						}
;;;1239   					}
;;;1240   				}
;;;1241   
;;;1242   			if(modbus_rx_arg0==80)		//Шим напряжения в режиме непосредственного управления 
001580  2e50              CMP      r6,#0x50
001582  d070              BEQ      |L1.5734|
;;;1243   				{
;;;1244   				pwm_u_reg = modbus_rx_arg1;
;;;1245   				}
;;;1246   
;;;1247   			if(modbus_rx_arg0==81)		//Шим тока в режиме непосредственного управления 
001584  2e51              CMP      r6,#0x51
001586  d06f              BEQ      |L1.5736|
;;;1248   				{
;;;1249   				pwm_i_reg = modbus_rx_arg1;
;;;1250   				}
;;;1251   
;;;1252   			if(modbus_rx_arg0==82)		//Регистр времени в режиме непосредственного управления 
001588  2e52              CMP      r6,#0x52
00158a  d06e              BEQ      |L1.5738|
;;;1253   				{
;;;1254   				pwm_t_reg = modbus_rx_arg1*10;
;;;1255   				}
;;;1256   
;;;1257   			if(modbus_rx_arg0==90)		//ток стабилизации для режима стабилизации тока, в ОЗУ
;;;1258   				{
;;;1259   				I_ug_ram=modbus_rx_arg1;
;;;1260   				eepromRamSwitch=1;
00158c  48ef              LDR      r0,|L1.6476|
;;;1261   				ramModbusCnt=300;
00158e  f8df83c0          LDR      r8,|L1.6480|
001592  f44f7796          MOV      r7,#0x12c
001596  2e5a              CMP      r6,#0x5a              ;1257
001598  d068              BEQ      |L1.5740|
;;;1262   				}
;;;1263   
;;;1264   			if(modbus_rx_arg0==91)	//напряжение стабилизации для режима стабилизации напряжения, в ОЗУ
00159a  2e5b              CMP      r6,#0x5b
00159c  d067              BEQ      |L1.5742|
;;;1265   				{
;;;1266   				U_up_ram=modbus_rx_arg1;
;;;1267   				eepromRamSwitch=1;
;;;1268   				ramModbusCnt=300;
;;;1269   				}
;;;1270   
;;;1271   			if(modbus_rx_arg0==92)		//вкл/выкл источника напр.
00159e  2e5c              CMP      r6,#0x5c
0015a0  e00d              B        |L1.5566|
                  |L1.5538|
0015a2  e010              B        |L1.5574|
                  |L1.5540|
0015a4  e01e              B        |L1.5604|
                  |L1.5542|
0015a6  e026              B        |L1.5622|
                  |L1.5544|
0015a8  e02a              B        |L1.5632|
                  |L1.5546|
0015aa  e02e              B        |L1.5642|
                  |L1.5548|
0015ac  e03c              B        |L1.5672|
                  |L1.5550|
0015ae  e040              B        |L1.5682|
                  |L1.5552|
0015b0  e05e              B        |L1.5744|
                  |L1.5554|
0015b2  e070              B        |L1.5782|
                  |L1.5556|
0015b4  e085              B        |L1.5826|
                  |L1.5558|
0015b6  e098              B        |L1.5866|
                  |L1.5560|
0015b8  e0a8              B        |L1.5900|
                  |L1.5562|
0015ba  e0bf              B        |L1.5948|
                  |L1.5564|
0015bc  e0c3              B        |L1.5958|
                  |L1.5566|
0015be  d07e              BEQ      |L1.5822|
;;;1272   				{
;;;1273   				if(modbus_rx_arg1==1)
;;;1274   					{
;;;1275   					if(work_stat!=wsPS)
;;;1276   						{
;;;1277   							if(SK_START==2)
;;;1278   								{
;;;1279   								if(SK_START_LEV)
;;;1280   									{
;;;1281   									if(sk_in_drv_stat==1)
;;;1282   										{
;;;1283   										return;
;;;1284   										}
;;;1285   									}
;;;1286   								if(!SK_START_LEV)
;;;1287   									{
;;;1288   									if(sk_in_drv_stat==-1)
;;;1289   										{
;;;1290   										return;
;;;1291   										}
;;;1292   									}
;;;1293   								}
;;;1294   						work_stat=wsPS;
;;;1295   						time_proc=0;
;;;1296   						time_proc_remain=T_PROC_PS;
;;;1297   						restart_on_PS();
;;;1298   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;1299   						}
;;;1300   					}
;;;1301   				if(modbus_rx_arg1==0)
;;;1302   					{
;;;1303   					if(work_stat==wsPS)
;;;1304   						{
;;;1305   						work_stat=wsOFF;
;;;1306   						restart_off();
;;;1307   						}
;;;1308   					}
;;;1309   				ramModbusCnt=300;
;;;1310   				}
;;;1311   			if(modbus_rx_arg0==93)		//вкл/выкл источника тока
0015c0  2e5d              CMP      r6,#0x5d
0015c2  d07d              BEQ      |L1.5824|
0015c4  e2da              B        |L1.7036|
                  |L1.5574|
0015c6  f1a60132          SUB      r1,r6,#0x32           ;767
0015ca  2932              CMP      r1,#0x32              ;767
0015cc  d207              BCS      |L1.5598|
0015ce  2100              MOVS     r1,#0                 ;767
0015d0  9100              STR      r1,[sp,#0]            ;767
0015d2  4623              MOV      r3,r4                 ;767
0015d4  4632              MOV      r2,r6                 ;767
0015d6  b2c0              UXTB     r0,r0                 ;767
0015d8  9903              LDR      r1,[sp,#0xc]          ;767
0015da  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.5598|
;;;1312   				{
;;;1313   				if(modbus_rx_arg1==1)
;;;1314   					{
;;;1315   					if(work_stat!=wsGS)
;;;1316   						{
;;;1317   							if(SK_START==2)
;;;1318   								{
;;;1319   								if(SK_START_LEV)
;;;1320   									{
;;;1321   									if(sk_in_drv_stat==1)
;;;1322   										{
;;;1323   										return;
;;;1324   										}
;;;1325   									}
;;;1326   								if(!SK_START_LEV)
;;;1327   									{
;;;1328   									if(sk_in_drv_stat==-1)
;;;1329   										{
;;;1330   										return;
;;;1331   										}
;;;1332   									}
;;;1333   								}
;;;1334   						work_stat=wsGS;
;;;1335   						time_proc=0;
;;;1336   						time_proc_remain=T_PROC_GS;
;;;1337   						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;1338   						}
;;;1339   					}
;;;1340   				if(modbus_rx_arg1==0)
;;;1341   					{
;;;1342   					if(work_stat==wsGS)
;;;1343   						{
;;;1344   						work_stat=wsOFF;
;;;1345   						restart_off();
;;;1346   						}
;;;1347   					}
;;;1348   				ramModbusCnt=300;
;;;1349   				}
;;;1350   
;;;1351   											
;;;1352   			if((T_PROC_GS>T_PROC_MAX)||(T_PROC_GS<30))
;;;1353   				{
;;;1354   				if(T_PROC_GS>T_PROC_MAX)T_PROC_GS=T_PROC_MAX+1;
;;;1355   				else if(T_PROC_GS<30)T_PROC_GS=29;
;;;1356   				lc640_write_int(EE_T_PROC_GS,T_PROC_GS);
;;;1357   				T_PROC_GS_MODE=1;	
;;;1358   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1359   				}
;;;1360   			if((T_PROC_GS<=T_PROC_MAX)&&(T_PROC_GS>=30))
;;;1361   				{
;;;1362   				T_PROC_GS_MODE=0;	
;;;1363   				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;1364   				}
;;;1365   			
;;;1366   			if((T_PROC_PS>T_PROC_MAX)||(T_PROC_PS<30))
;;;1367   				{
;;;1368   				if(T_PROC_PS>T_PROC_MAX)T_PROC_PS=T_PROC_MAX+1;
;;;1369   				else if(T_PROC_PS<30)T_PROC_PS=29;
;;;1370   				lc640_write_int(EE_T_PROC_PS,T_PROC_PS);
;;;1371   				T_PROC_PS_MODE=1;	
;;;1372   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1373   				}
;;;1374   			if((T_PROC_PS<=T_PROC_MAX)&&(T_PROC_PS>=30))
;;;1375   				{
;;;1376   				T_PROC_PS_MODE=0;	
;;;1377   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1378   				}
;;;1379   
;;;1380   			modbus_hold_register_answer_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1);
;;;1381   
;;;1382   
;;;1383   			if((modbus_rx_arg0!=90)&&(modbus_rx_arg0!=91)&&(modbus_rx_arg0!=92)&&(modbus_rx_arg0!=93)) lc640_write_int(EE_EE_WRITE_CNT,EE_WRITE_CNT+1);
;;;1384   //modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,2);
;;;1385   
;;;1386   
;;;1387   			}
;;;1388   		} 
;;;1389   	//;
;;;1390   	}
;;;1391   // modbus_plazma++;
;;;1392   
;;;1393   }
0015de  b00b              ADD      sp,sp,#0x2c
0015e0  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.5604|
0015e4  2100              MOVS     r1,#0                 ;771
0015e6  9100              STR      r1,[sp,#0]            ;771
0015e8  4623              MOV      r3,r4                 ;771
0015ea  4632              MOV      r2,r6                 ;771
0015ec  b2c0              UXTB     r0,r0                 ;771
0015ee  9903              LDR      r1,[sp,#0xc]          ;771
0015f0  f7fffffe          BL       modbus_input_registers_transmit
                  |L1.5620|
0015f4  e7f3              B        |L1.5598|
                  |L1.5622|
0015f6  48d7              LDR      r0,|L1.6484|
0015f8  b221              SXTH     r1,r4                 ;778
0015fa  8001              STRH     r1,[r0,#0]            ;778
0015fc  2020              MOVS     r0,#0x20              ;779
0015fe  e1e8              B        |L1.6610|
                  |L1.5632|
001600  48d5              LDR      r0,|L1.6488|
001602  b221              SXTH     r1,r4                 ;783
001604  8001              STRH     r1,[r0,#0]            ;783
001606  2022              MOVS     r0,#0x22              ;784
001608  e1e3              B        |L1.6610|
                  |L1.5642|
00160a  48d4              LDR      r0,|L1.6492|
00160c  b221              SXTH     r1,r4                 ;788
00160e  8001              STRH     r1,[r0,#0]            ;788
001610  2076              MOVS     r0,#0x76              ;789
001612  e1de              B        |L1.6610|
                  |L1.5652|
001614  e0a1              B        |L1.5978|
                  |L1.5654|
001616  e0ad              B        |L1.6004|
                  |L1.5656|
001618  e0c1              B        |L1.6046|
                  |L1.5658|
00161a  e0d0              B        |L1.6078|
                  |L1.5660|
00161c  e0de              B        |L1.6108|
                  |L1.5662|
00161e  e0ec              B        |L1.6138|
                  |L1.5664|
001620  e0fc              B        |L1.6172|
                  |L1.5666|
001622  e10d              B        |L1.6208|
                  |L1.5668|
001624  e11e              B        |L1.6244|
                  |L1.5670|
001626  e12f              B        |L1.6280|
                  |L1.5672|
001628  48cd              LDR      r0,|L1.6496|
00162a  b221              SXTH     r1,r4                 ;793
00162c  8001              STRH     r1,[r0,#0]            ;793
00162e  2078              MOVS     r0,#0x78              ;794
001630  e1cf              B        |L1.6610|
                  |L1.5682|
001632  4acc              LDR      r2,|L1.6500|
001634  4649              MOV      r1,r9                 ;800
001636  6813              LDR      r3,[r2,#0]            ;800  ; T_PROC_GS
001638  fb93f5f1          SDIV     r5,r3,r1              ;800
00163c  fb95f7f9          SDIV     r7,r5,r9              ;800
001640  fb93f0f0          SDIV     r0,r3,r0              ;801
001644  fb095117          MLS      r1,r9,r7,r5           ;800
001648  f44f6361          MOV      r3,#0xe10             ;802
00164c  4358              MULS     r0,r3,r0              ;802
00164e  ebc11101          RSB      r1,r1,r1,LSL #4       ;802
001652  eb000081          ADD      r0,r0,r1,LSL #2       ;802
001656  1901              ADDS     r1,r0,r4              ;802
001658  e01a              B        |L1.5776|
                  |L1.5722|
00165a  e119              B        |L1.6288|
                  |L1.5724|
00165c  e11d              B        |L1.6298|
                  |L1.5726|
00165e  e122              B        |L1.6310|
                  |L1.5728|
001660  e126              B        |L1.6320|
                  |L1.5730|
001662  e12a              B        |L1.6330|
                  |L1.5732|
001664  e12e              B        |L1.6340|
                  |L1.5734|
001666  e24c              B        |L1.6914|
                  |L1.5736|
001668  e24d              B        |L1.6918|
                  |L1.5738|
00166a  e24f              B        |L1.6924|
                  |L1.5740|
00166c  e254              B        |L1.6936|
                  |L1.5742|
00166e  e255              B        |L1.6940|
                  |L1.5744|
001670  4abc              LDR      r2,|L1.6500|
001672  6813              LDR      r3,[r2,#0]            ;808  ; T_PROC_GS
001674  fb93f5f9          SDIV     r5,r3,r9              ;808
001678  fb93f0f0          SDIV     r0,r3,r0              ;810
00167c  fb093115          MLS      r1,r9,r5,r3           ;808
001680  f44f6361          MOV      r3,#0xe10             ;811
001684  4358              MULS     r0,r3,r0              ;811
001686  ebc41304          RSB      r3,r4,r4,LSL #4       ;811
00168a  eb000083          ADD      r0,r0,r3,LSL #2       ;811
00168e  e014              B        |L1.5818|
                  |L1.5776|
001690  20d8              MOVS     r0,#0xd8              ;803
001692  6011              STR      r1,[r2,#0]            ;803  ; T_PROC_GS
001694  e04f              B        |L1.5942|
                  |L1.5782|
001696  4ab3              LDR      r2,|L1.6500|
001698  4648              MOV      r0,r9                 ;817
00169a  6811              LDR      r1,[r2,#0]            ;817  ; T_PROC_GS
00169c  fb91f3f0          SDIV     r3,r1,r0              ;817
0016a0  fb93f5f9          SDIV     r5,r3,r9              ;818
0016a4  fb093015          MLS      r0,r9,r5,r3           ;818
0016a8  fb091113          MLS      r1,r9,r3,r1           ;817
0016ac  f44f6361          MOV      r3,#0xe10             ;820
0016b0  4363              MULS     r3,r4,r3              ;820
0016b2  ebc01000          RSB      r0,r0,r0,LSL #4       ;820
0016b6  eb030080          ADD      r0,r3,r0,LSL #2       ;820
                  |L1.5818|
0016ba  4401              ADD      r1,r1,r0              ;820
0016bc  e7e8              B        |L1.5776|
                  |L1.5822|
0016be  e232              B        |L1.6950|
                  |L1.5824|
0016c0  e269              B        |L1.7062|
                  |L1.5826|
0016c2  4aa9              LDR      r2,|L1.6504|
0016c4  4649              MOV      r1,r9                 ;827
0016c6  6813              LDR      r3,[r2,#0]            ;827  ; T_PROC_PS
0016c8  fb93f5f1          SDIV     r5,r3,r1              ;827
0016cc  fb95f7f9          SDIV     r7,r5,r9              ;827
0016d0  fb93f0f0          SDIV     r0,r3,r0              ;828
0016d4  fb095117          MLS      r1,r9,r7,r5           ;827
0016d8  f44f6361          MOV      r3,#0xe10             ;829
0016dc  4358              MULS     r0,r3,r0              ;829
0016de  ebc11101          RSB      r1,r1,r1,LSL #4       ;829
0016e2  eb000081          ADD      r0,r0,r1,LSL #2       ;829
0016e6  1901              ADDS     r1,r0,r4              ;829
0016e8  e023              B        |L1.5938|
                  |L1.5866|
0016ea  4a9f              LDR      r2,|L1.6504|
0016ec  6811              LDR      r1,[r2,#0]            ;836  ; T_PROC_PS
0016ee  fb91f5f9          SDIV     r5,r1,r9              ;836
0016f2  fb91f0f0          SDIV     r0,r1,r0              ;838
0016f6  fb091315          MLS      r3,r9,r5,r1           ;836
0016fa  f44f6161          MOV      r1,#0xe10             ;839
0016fe  4348              MULS     r0,r1,r0              ;839
001700  ebc41104          RSB      r1,r4,r4,LSL #4       ;839
001704  eb000081          ADD      r0,r0,r1,LSL #2       ;839
001708  18c1              ADDS     r1,r0,r3              ;839
00170a  e012              B        |L1.5938|
                  |L1.5900|
00170c  4a96              LDR      r2,|L1.6504|
00170e  4648              MOV      r0,r9                 ;846
001710  6811              LDR      r1,[r2,#0]            ;846  ; T_PROC_PS
001712  fb91f3f0          SDIV     r3,r1,r0              ;846
001716  fb93f5f9          SDIV     r5,r3,r9              ;847
00171a  fb093015          MLS      r0,r9,r5,r3           ;847
00171e  fb091113          MLS      r1,r9,r3,r1           ;846
001722  f44f6361          MOV      r3,#0xe10             ;849
001726  4363              MULS     r3,r4,r3              ;849
001728  ebc01000          RSB      r0,r0,r0,LSL #4       ;849
00172c  eb030080          ADD      r0,r3,r0,LSL #2       ;849
001730  4401              ADD      r1,r1,r0              ;849
                  |L1.5938|
001732  20dc              MOVS     r0,#0xdc              ;850
001734  6011              STR      r1,[r2,#0]            ;850  ; T_PROC_PS
                  |L1.5942|
001736  f7fffffe          BL       lc640_write_long
00173a  e21f              B        |L1.7036|
                  |L1.5948|
00173c  2c01              CMP      r4,#1                 ;855
00173e  d104              BNE      |L1.5962|
001740  f7fffffe          BL       start_PS
001744  e21a              B        |L1.7036|
                  |L1.5958|
001746  2c01              CMP      r4,#1                 ;896
001748  d001              BEQ      |L1.5966|
                  |L1.5962|
00174a  b11c              CBZ      r4,|L1.5972|
00174c  e216              B        |L1.7036|
                  |L1.5966|
00174e  f7fffffe          BL       start_GS
001752  e213              B        |L1.7036|
                  |L1.5972|
001754  f7fffffe          BL       stop_proc
001758  e210              B        |L1.7036|
                  |L1.5978|
00175a  7828              LDRB     r0,[r5,#0]            ;938  ; work_stat
00175c  2800              CMP      r0,#0                 ;938
00175e  d103              BNE      |L1.5992|
001760  4882              LDR      r0,|L1.6508|
001762  b114              CBZ      r4,|L1.5994|
001764  2c01              CMP      r4,#1                 ;941
001766  d002              BEQ      |L1.5998|
                  |L1.5992|
001768  e208              B        |L1.7036|
                  |L1.5994|
00176a  2101              MOVS     r1,#1                 ;940
00176c  e000              B        |L1.6000|
                  |L1.5998|
00176e  2100              MOVS     r1,#0                 ;941
                  |L1.6000|
001770  7001              STRB     r1,[r0,#0]            ;941
001772  e203              B        |L1.7036|
                  |L1.6004|
001774  7828              LDRB     r0,[r5,#0]            ;948  ; work_stat
001776  2800              CMP      r0,#0                 ;948
001778  d161              BNE      |L1.6206|
00177a  487d              LDR      r0,|L1.6512|
00177c  8800              LDRH     r0,[r0,#0]            ;948  ; REV_IS_ON
00177e  2800              CMP      r0,#0                 ;948
001780  d05d              BEQ      |L1.6206|
001782  4a7c              LDR      r2,|L1.6516|
001784  f44f7084          MOV      r0,#0x108             ;952
001788  2c01              CMP      r4,#1                 ;950
00178a  d003              BEQ      |L1.6036|
00178c  b124              CBZ      r4,|L1.6040|
00178e  f9b21000          LDRSH    r1,[r2,#0]            ;952  ; AVT_REV_IS_ON
001792  e11e              B        |L1.6610|
                  |L1.6036|
001794  2101              MOVS     r1,#1                 ;950
001796  e000              B        |L1.6042|
                  |L1.6040|
001798  2100              MOVS     r1,#0                 ;951
                  |L1.6042|
00179a  8011              STRH     r1,[r2,#0]            ;950
00179c  e119              B        |L1.6610|
                  |L1.6046|
00179e  7828              LDRB     r0,[r5,#0]            ;958  ; work_stat
0017a0  2800              CMP      r0,#0                 ;958
0017a2  d14c              BNE      |L1.6206|
0017a4  4d74              LDR      r5,|L1.6520|
0017a6  4875              LDR      r0,|L1.6524|
0017a8  211e              MOVS     r1,#0x1e              ;961
0017aa  802c              STRH     r4,[r5,#0]            ;960
0017ac  8802              LDRH     r2,[r0,#0]            ;961  ; T_PROC_MAX
0017ae  4628              MOV      r0,r5                 ;961
0017b0  f7fffffe          BL       gran_u
0017b4  8828              LDRH     r0,[r5,#0]            ;962  ; AVT_REV_TIME_FF
0017b6  b201              SXTH     r1,r0                 ;962
0017b8  f44f7085          MOV      r0,#0x10a             ;962
0017bc  e109              B        |L1.6610|
                  |L1.6078|
0017be  7828              LDRB     r0,[r5,#0]            ;967  ; work_stat
0017c0  bbe8              CBNZ     r0,|L1.6206|
0017c2  4d6f              LDR      r5,|L1.6528|
0017c4  486d              LDR      r0,|L1.6524|
0017c6  211e              MOVS     r1,#0x1e              ;970
0017c8  802c              STRH     r4,[r5,#0]            ;969
0017ca  8802              LDRH     r2,[r0,#0]            ;970  ; T_PROC_MAX
0017cc  4628              MOV      r0,r5                 ;970
0017ce  f7fffffe          BL       gran_u
0017d2  8828              LDRH     r0,[r5,#0]            ;971  ; AVT_REV_TIME_REW
0017d4  b201              SXTH     r1,r0                 ;971
0017d6  f44f709f          MOV      r0,#0x13e             ;971
0017da  e0fa              B        |L1.6610|
                  |L1.6108|
0017dc  7828              LDRB     r0,[r5,#0]            ;976  ; work_stat
0017de  bb70              CBNZ     r0,|L1.6206|
0017e0  4d68              LDR      r5,|L1.6532|
0017e2  f44f7216          MOV      r2,#0x258             ;979
0017e6  2102              MOVS     r1,#2                 ;979
0017e8  802c              STRH     r4,[r5,#0]            ;978
0017ea  4628              MOV      r0,r5                 ;979
0017ec  f7fffffe          BL       gran
0017f0  f9b51000          LDRSH    r1,[r5,#0]            ;980  ; AVT_REV_TIME_PAUSE
0017f4  f44f7087          MOV      r0,#0x10e             ;980
0017f8  e0eb              B        |L1.6610|
                  |L1.6138|
0017fa  7828              LDRB     r0,[r5,#0]            ;986  ; work_stat
0017fc  b9f8              CBNZ     r0,|L1.6206|
0017fe  4d62              LDR      r5,|L1.6536|
001800  4862              LDR      r0,|L1.6540|
001802  802c              STRH     r4,[r5,#0]            ;988
001804  f9b01000          LDRSH    r1,[r0,#0]            ;989  ; I_MIN_IPS
001808  f9bb2000          LDRSH    r2,[r11,#0]           ;989  ; I_MAX_IPS
00180c  4628              MOV      r0,r5                 ;989
00180e  f7fffffe          BL       gran
001812  f9b51000          LDRSH    r1,[r5,#0]            ;990  ; AVT_REV_I_NOM_FF
001816  f44f7088          MOV      r0,#0x110             ;990
00181a  e0da              B        |L1.6610|
                  |L1.6172|
00181c  7828              LDRB     r0,[r5,#0]            ;996  ; work_stat
00181e  b970              CBNZ     r0,|L1.6206|
001820  4d5b              LDR      r5,|L1.6544|
001822  485a              LDR      r0,|L1.6540|
001824  802c              STRH     r4,[r5,#0]            ;998
001826  f9b01000          LDRSH    r1,[r0,#0]            ;999  ; I_MIN_IPS
00182a  f9bb2000          LDRSH    r2,[r11,#0]           ;999  ; I_MAX_IPS
00182e  4628              MOV      r0,r5                 ;999
001830  f7fffffe          BL       gran
001834  f9b51000          LDRSH    r1,[r5,#0]            ;1000  ; AVT_REV_I_NOM_REW
001838  f44f7089          MOV      r0,#0x112             ;1000
00183c  e0c9              B        |L1.6610|
                  |L1.6206|
00183e  e031              B        |L1.6308|
                  |L1.6208|
001840  7828              LDRB     r0,[r5,#0]            ;1005  ; work_stat
001842  bb78              CBNZ     r0,|L1.6308|
001844  4d53              LDR      r5,|L1.6548|
001846  4854              LDR      r0,|L1.6552|
001848  802c              STRH     r4,[r5,#0]            ;1007
00184a  f9b02000          LDRSH    r2,[r0,#0]            ;1008  ; U_MAX
00184e  4853              LDR      r0,|L1.6556|
001850  f9b01000          LDRSH    r1,[r0,#0]            ;1008  ; U_MIN
001854  4628              MOV      r0,r5                 ;1008
001856  f7fffffe          BL       gran
00185a  f9b51000          LDRSH    r1,[r5,#0]            ;1009  ; AVT_REV_U_NOM_FF
00185e  f44f708a          MOV      r0,#0x114             ;1009
001862  e0b6              B        |L1.6610|
                  |L1.6244|
001864  7828              LDRB     r0,[r5,#0]            ;1015  ; work_stat
001866  b9e8              CBNZ     r0,|L1.6308|
001868  4d4d              LDR      r5,|L1.6560|
00186a  484b              LDR      r0,|L1.6552|
00186c  802c              STRH     r4,[r5,#0]            ;1017
00186e  f9b02000          LDRSH    r2,[r0,#0]            ;1018  ; U_MAX
001872  484a              LDR      r0,|L1.6556|
001874  f9b01000          LDRSH    r1,[r0,#0]            ;1018  ; U_MIN
001878  4628              MOV      r0,r5                 ;1018
00187a  f7fffffe          BL       gran
00187e  f9b51000          LDRSH    r1,[r5,#0]            ;1019  ; AVT_REV_U_NOM_REW
001882  f44f708b          MOV      r0,#0x116             ;1019
001886  e0a4              B        |L1.6610|
                  |L1.6280|
001888  7828              LDRB     r0,[r5,#0]            ;1025  ; work_stat
00188a  b958              CBNZ     r0,|L1.6308|
00188c  803c              STRH     r4,[r7,#0]            ;1027
00188e  e098              B        |L1.6594|
                  |L1.6288|
001890  7828              LDRB     r0,[r5,#0]            ;1034  ; work_stat
001892  b938              CBNZ     r0,|L1.6308|
001894  f8a84000          STRH     r4,[r8,#0]            ;1036
001898  e0b9              B        |L1.6670|
                  |L1.6298|
00189a  7828              LDRB     r0,[r5,#0]            ;1043  ; work_stat
00189c  b910              CBNZ     r0,|L1.6308|
00189e  f8a94000          STRH     r4,[r9,#0]            ;1045
0018a2  e0cb              B        |L1.6716|
                  |L1.6308|
0018a4  e038              B        |L1.6424|
                  |L1.6310|
0018a6  7828              LDRB     r0,[r5,#0]            ;1052  ; work_stat
0018a8  bbb0              CBNZ     r0,|L1.6424|
0018aa  f8ab4000          STRH     r4,[r11,#0]           ;1054
0018ae  e0db              B        |L1.6760|
                  |L1.6320|
0018b0  7829              LDRB     r1,[r5,#0]            ;1062  ; work_stat
0018b2  bb89              CBNZ     r1,|L1.6424|
0018b4  4605              MOV      r5,r0                 ;1064
0018b6  8004              STRH     r4,[r0,#0]            ;1064
0018b8  e0ec              B        |L1.6804|
                  |L1.6330|
0018ba  7828              LDRB     r0,[r5,#0]            ;1071  ; work_stat
0018bc  bb60              CBNZ     r0,|L1.6424|
0018be  f8aa4000          STRH     r4,[r10,#0]           ;1073
0018c2  e0fe              B        |L1.6850|
                  |L1.6340|
0018c4  2c11              CMP      r4,#0x11              ;1081
0018c6  d028              BEQ      |L1.6426|
0018c8  2c12              CMP      r4,#0x12              ;1085
0018ca  d029              BEQ      |L1.6432|
0018cc  2c13              CMP      r4,#0x13              ;1089
0018ce  d02a              BEQ      |L1.6438|
0018d0  2c14              CMP      r4,#0x14              ;1093
0018d2  d02b              BEQ      |L1.6444|
0018d4  2c21              CMP      r4,#0x21              ;1098
0018d6  d06a              BEQ      |L1.6574|
0018d8  2c22              CMP      r4,#0x22              ;1107
0018da  d06d              BEQ      |L1.6584|
0018dc  2c31              CMP      r4,#0x31              ;1117
0018de  d07b              BEQ      |L1.6616|
0018e0  2c32              CMP      r4,#0x32              ;1126
0018e2  d07a              BEQ      |L1.6618|
0018e4  2c41              CMP      r4,#0x41              ;1136
0018e6  d079              BEQ      |L1.6620|
0018e8  2c42              CMP      r4,#0x42              ;1145
0018ea  d078              BEQ      |L1.6622|
0018ec  2c51              CMP      r4,#0x51              ;1155
0018ee  d077              BEQ      |L1.6624|
0018f0  2c52              CMP      r4,#0x52              ;1164
0018f2  d076              BEQ      |L1.6626|
0018f4  2c61              CMP      r4,#0x61              ;1174
0018f6  d075              BEQ      |L1.6628|
0018f8  2c62              CMP      r4,#0x62              ;1183
0018fa  d074              BEQ      |L1.6630|
0018fc  2c71              CMP      r4,#0x71              ;1193
0018fe  d073              BEQ      |L1.6632|
001900  2c72              CMP      r4,#0x72              ;1202
001902  d072              BEQ      |L1.6634|
001904  4827              LDR      r0,|L1.6564|
001906  4928              LDR      r1,|L1.6568|
001908  2c80              CMP      r4,#0x80              ;1212
00190a  d06f              BEQ      |L1.6636|
00190c  2c81              CMP      r4,#0x81              ;1219
00190e  d06e              BEQ      |L1.6638|
001910  2c82              CMP      r4,#0x82              ;1226
001912  d06d              BEQ      |L1.6640|
001914  2c83              CMP      r4,#0x83              ;1233
001916  d06c              BEQ      |L1.6642|
                  |L1.6424|
001918  e130              B        |L1.7036|
                  |L1.6426|
00191a  f7fffffe          BL       start_CAP
00191e  e12d              B        |L1.7036|
                  |L1.6432|
001920  f7fffffe          BL       pause_CAP
001924  e12a              B        |L1.7036|
                  |L1.6438|
001926  f7fffffe          BL       stop_CAP
00192a  e127              B        |L1.7036|
                  |L1.6444|
00192c  f7fffffe          BL       reset_CAP
001930  e124              B        |L1.7036|
001932  e03c              B        |L1.6574|
                  |L1.6452|
                          DCD      CAP_ZAR_TIME
                  |L1.6456|
                          DCD      CAP_PAUSE1_TIME
                  |L1.6460|
                          DCD      CAP_RAZR_TIME
                  |L1.6464|
                          DCD      CAP_PAUSE2_TIME
                  |L1.6468|
                          DCD      CAP_MAX_VOLT
                  |L1.6472|
                          DCD      CAP_WRK_CURR
                  |L1.6476|
                          DCD      eepromRamSwitch
                  |L1.6480|
                          DCD      ramModbusCnt
                  |L1.6484|
                          DCD      I_ug
                  |L1.6488|
                          DCD      U_up
                  |L1.6492|
                          DCD      U_maxg
                  |L1.6496|
                          DCD      I_maxp
                  |L1.6500|
                          DCD      T_PROC_GS
                  |L1.6504|
                          DCD      T_PROC_PS
                  |L1.6508|
                          DCD      REV_STAT
                  |L1.6512|
                          DCD      REV_IS_ON
                  |L1.6516|
                          DCD      AVT_REV_IS_ON
                  |L1.6520|
                          DCD      AVT_REV_TIME_FF
                  |L1.6524|
                          DCD      T_PROC_MAX
                  |L1.6528|
                          DCD      AVT_REV_TIME_REW
                  |L1.6532|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.6536|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.6540|
                          DCD      I_MIN_IPS
                  |L1.6544|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.6548|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.6552|
                          DCD      U_MAX
                  |L1.6556|
                          DCD      U_MIN
                  |L1.6560|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.6564|
                          DCD      RELE_FUNC
                  |L1.6568|
                          DCD      rele_ext_cntrl
0019ac  e004              B        |L1.6584|
                  |L1.6574|
0019ae  7828              LDRB     r0,[r5,#0]            ;1100  ; work_stat
0019b0  bbb0              CBNZ     r0,|L1.6688|
0019b2  8838              LDRH     r0,[r7,#0]            ;1102  ; CAP_ZAR_TIME
0019b4  1c40              ADDS     r0,r0,#1              ;1102
0019b6  e003              B        |L1.6592|
                  |L1.6584|
0019b8  7828              LDRB     r0,[r5,#0]            ;1109  ; work_stat
0019ba  bb88              CBNZ     r0,|L1.6688|
0019bc  8838              LDRH     r0,[r7,#0]            ;1111  ; CAP_ZAR_TIME
0019be  1e40              SUBS     r0,r0,#1              ;1111
                  |L1.6592|
0019c0  8038              STRH     r0,[r7,#0]            ;1102
                  |L1.6594|
0019c2  210a              MOVS     r1,#0xa               ;1028
0019c4  48ff              LDR      r0,|L1.7620|
0019c6  f7fffffe          BL       gran
0019ca  f9b71000          LDRSH    r1,[r7,#0]            ;1029  ; CAP_ZAR_TIME
0019ce  f44f70e9          MOV      r0,#0x1d2             ;1029
                  |L1.6610|
0019d2  f7fffffe          BL       lc640_write_int
0019d6  e0d1              B        |L1.7036|
                  |L1.6616|
0019d8  e00c              B        |L1.6644|
                  |L1.6618|
0019da  e011              B        |L1.6656|
                  |L1.6620|
0019dc  e021              B        |L1.6690|
                  |L1.6622|
0019de  e026              B        |L1.6702|
                  |L1.6624|
0019e0  e035              B        |L1.6734|
                  |L1.6626|
0019e2  e03a              B        |L1.6746|
                  |L1.6628|
0019e4  e049              B        |L1.6778|
                  |L1.6630|
0019e6  e04f              B        |L1.6792|
                  |L1.6632|
0019e8  e05e              B        |L1.6824|
                  |L1.6634|
0019ea  e063              B        |L1.6836|
                  |L1.6636|
0019ec  e073              B        |L1.6870|
                  |L1.6638|
0019ee  e077              B        |L1.6880|
                  |L1.6640|
0019f0  e07c              B        |L1.6892|
                  |L1.6642|
0019f2  e080              B        |L1.6902|
                  |L1.6644|
0019f4  7828              LDRB     r0,[r5,#0]            ;1119  ; work_stat
0019f6  b998              CBNZ     r0,|L1.6688|
0019f8  f8b80000          LDRH     r0,[r8,#0]            ;1121  ; CAP_PAUSE1_TIME
0019fc  1c40              ADDS     r0,r0,#1              ;1121
0019fe  e004              B        |L1.6666|
                  |L1.6656|
001a00  7828              LDRB     r0,[r5,#0]            ;1128  ; work_stat
001a02  b968              CBNZ     r0,|L1.6688|
001a04  f8b80000          LDRH     r0,[r8,#0]            ;1130  ; CAP_PAUSE1_TIME
001a08  1e40              SUBS     r0,r0,#1              ;1130
                  |L1.6666|
001a0a  f8a80000          STRH     r0,[r8,#0]            ;1121
                  |L1.6670|
001a0e  210a              MOVS     r1,#0xa               ;1037
001a10  48ed              LDR      r0,|L1.7624|
001a12  f7fffffe          BL       gran
001a16  f9b81000          LDRSH    r1,[r8,#0]            ;1038  ; CAP_PAUSE1_TIME
001a1a  f44f70ea          MOV      r0,#0x1d4             ;1038
001a1e  e7d8              B        |L1.6610|
                  |L1.6688|
001a20  e031              B        |L1.6790|
                  |L1.6690|
001a22  7828              LDRB     r0,[r5,#0]            ;1138  ; work_stat
001a24  bb78              CBNZ     r0,|L1.6790|
001a26  f8b90000          LDRH     r0,[r9,#0]            ;1140  ; CAP_RAZR_TIME
001a2a  1c40              ADDS     r0,r0,#1              ;1140
001a2c  e004              B        |L1.6712|
                  |L1.6702|
001a2e  7828              LDRB     r0,[r5,#0]            ;1147  ; work_stat
001a30  bb48              CBNZ     r0,|L1.6790|
001a32  f8b90000          LDRH     r0,[r9,#0]            ;1149  ; CAP_RAZR_TIME
001a36  1e40              SUBS     r0,r0,#1              ;1149
                  |L1.6712|
001a38  f8a90000          STRH     r0,[r9,#0]            ;1140
                  |L1.6716|
001a3c  210a              MOVS     r1,#0xa               ;1046
001a3e  48e3              LDR      r0,|L1.7628|
001a40  f7fffffe          BL       gran
001a44  f9b91000          LDRSH    r1,[r9,#0]            ;1047  ; CAP_RAZR_TIME
001a48  f44f70eb          MOV      r0,#0x1d6             ;1047
001a4c  e7c1              B        |L1.6610|
                  |L1.6734|
001a4e  7828              LDRB     r0,[r5,#0]            ;1157  ; work_stat
001a50  b9c8              CBNZ     r0,|L1.6790|
001a52  f8bb0000          LDRH     r0,[r11,#0]           ;1159  ; CAP_PAUSE2_TIME
001a56  1c40              ADDS     r0,r0,#1              ;1159
001a58  e004              B        |L1.6756|
                  |L1.6746|
001a5a  7828              LDRB     r0,[r5,#0]            ;1166  ; work_stat
001a5c  b998              CBNZ     r0,|L1.6790|
001a5e  f8bb0000          LDRH     r0,[r11,#0]           ;1168  ; CAP_PAUSE2_TIME
001a62  1e40              SUBS     r0,r0,#1              ;1168
                  |L1.6756|
001a64  f8ab0000          STRH     r0,[r11,#0]           ;1159
                  |L1.6760|
001a68  210a              MOVS     r1,#0xa               ;1055
001a6a  48d9              LDR      r0,|L1.7632|
001a6c  f7fffffe          BL       gran
001a70  f9bb1000          LDRSH    r1,[r11,#0]           ;1056  ; CAP_PAUSE2_TIME
001a74  f44f70ec          MOV      r0,#0x1d8             ;1056
001a78  e7ab              B        |L1.6610|
                  |L1.6778|
001a7a  7829              LDRB     r1,[r5,#0]            ;1176  ; work_stat
001a7c  b919              CBNZ     r1,|L1.6790|
001a7e  4605              MOV      r5,r0                 ;1178
001a80  8800              LDRH     r0,[r0,#0]            ;1178  ; CAP_MAX_VOLT
001a82  1c40              ADDS     r0,r0,#1              ;1178
001a84  e005              B        |L1.6802|
                  |L1.6790|
001a86  e030              B        |L1.6890|
                  |L1.6792|
001a88  7829              LDRB     r1,[r5,#0]            ;1185  ; work_stat
001a8a  bb71              CBNZ     r1,|L1.6890|
001a8c  4605              MOV      r5,r0                 ;1187
001a8e  8800              LDRH     r0,[r0,#0]            ;1187  ; CAP_MAX_VOLT
001a90  1e40              SUBS     r0,r0,#1              ;1187
                  |L1.6802|
001a92  8028              STRH     r0,[r5,#0]            ;1178
                  |L1.6804|
001a94  2264              MOVS     r2,#0x64              ;1065
001a96  2101              MOVS     r1,#1                 ;1065
001a98  48ce              LDR      r0,|L1.7636|
001a9a  f7fffffe          BL       gran
001a9e  f9b51000          LDRSH    r1,[r5,#0]            ;1066  ; CAP_MAX_VOLT
001aa2  f44f70ed          MOV      r0,#0x1da             ;1066
001aa6  e794              B        |L1.6610|
                  |L1.6824|
001aa8  7828              LDRB     r0,[r5,#0]            ;1195  ; work_stat
001aaa  b9f0              CBNZ     r0,|L1.6890|
001aac  f8ba0000          LDRH     r0,[r10,#0]           ;1197  ; CAP_WRK_CURR
001ab0  1c40              ADDS     r0,r0,#1              ;1197
001ab2  e004              B        |L1.6846|
                  |L1.6836|
001ab4  7828              LDRB     r0,[r5,#0]            ;1204  ; work_stat
001ab6  b9c0              CBNZ     r0,|L1.6890|
001ab8  f8ba0000          LDRH     r0,[r10,#0]           ;1206  ; CAP_WRK_CURR
001abc  1e40              SUBS     r0,r0,#1              ;1206
                  |L1.6846|
001abe  f8aa0000          STRH     r0,[r10,#0]           ;1197
                  |L1.6850|
001ac2  2296              MOVS     r2,#0x96              ;1074
001ac4  2101              MOVS     r1,#1                 ;1074
001ac6  48c4              LDR      r0,|L1.7640|
001ac8  f7fffffe          BL       gran
001acc  f9ba1000          LDRSH    r1,[r10,#0]           ;1075  ; CAP_WRK_CURR
001ad0  f44f70ee          MOV      r0,#0x1dc             ;1075
001ad4  e77d              B        |L1.6610|
                  |L1.6870|
001ad6  8800              LDRH     r0,[r0,#0]            ;1214  ; RELE_FUNC
001ad8  2806              CMP      r0,#6                 ;1214
001ada  d14f              BNE      |L1.7036|
001adc  2000              MOVS     r0,#0                 ;1216
001ade  e003              B        |L1.6888|
                  |L1.6880|
001ae0  8800              LDRH     r0,[r0,#0]            ;1221  ; RELE_FUNC
001ae2  2806              CMP      r0,#6                 ;1221
001ae4  d14a              BNE      |L1.7036|
001ae6  2001              MOVS     r0,#1                 ;1223
                  |L1.6888|
001ae8  7008              STRB     r0,[r1,#0]            ;1216
                  |L1.6890|
001aea  e047              B        |L1.7036|
                  |L1.6892|
001aec  8840              LDRH     r0,[r0,#2]            ;1228  ; RELE_FUNC
001aee  2806              CMP      r0,#6                 ;1228
001af0  d144              BNE      |L1.7036|
001af2  2000              MOVS     r0,#0                 ;1230
001af4  e003              B        |L1.6910|
                  |L1.6902|
001af6  8840              LDRH     r0,[r0,#2]            ;1235  ; RELE_FUNC
001af8  2806              CMP      r0,#6                 ;1235
001afa  d13f              BNE      |L1.7036|
001afc  2001              MOVS     r0,#1                 ;1237
                  |L1.6910|
001afe  7048              STRB     r0,[r1,#1]            ;1237
001b00  e03c              B        |L1.7036|
                  |L1.6914|
001b02  48b6              LDR      r0,|L1.7644|
001b04  e000              B        |L1.6920|
                  |L1.6918|
001b06  48b6              LDR      r0,|L1.7648|
                  |L1.6920|
001b08  8004              STRH     r4,[r0,#0]            ;1249
001b0a  e037              B        |L1.7036|
                  |L1.6924|
001b0c  49b5              LDR      r1,|L1.7652|
001b0e  eb040084          ADD      r0,r4,r4,LSL #2       ;1254
001b12  0040              LSLS     r0,r0,#1              ;1254
001b14  8008              STRH     r0,[r1,#0]            ;1254
001b16  e031              B        |L1.7036|
                  |L1.6936|
001b18  49b3              LDR      r1,|L1.7656|
001b1a  e000              B        |L1.6942|
                  |L1.6940|
001b1c  49b3              LDR      r1,|L1.7660|
                  |L1.6942|
001b1e  800c              STRH     r4,[r1,#0]            ;1259
001b20  2101              MOVS     r1,#1                 ;1260
001b22  7001              STRB     r1,[r0,#0]            ;1260
001b24  e028              B        |L1.7032|
                  |L1.6950|
001b26  2c01              CMP      r4,#1                 ;1273
001b28  d001              BEQ      |L1.6958|
001b2a  b314              CBZ      r4,|L1.7026|
001b2c  e024              B        |L1.7032|
                  |L1.6958|
001b2e  7828              LDRB     r0,[r5,#0]            ;1275  ; work_stat
001b30  2802              CMP      r0,#2                 ;1275
001b32  d021              BEQ      |L1.7032|
001b34  48ae              LDR      r0,|L1.7664|
001b36  8800              LDRH     r0,[r0,#0]            ;1277  ; SK_START
001b38  2802              CMP      r0,#2                 ;1277
001b3a  d10d              BNE      |L1.7000|
001b3c  48ad              LDR      r0,|L1.7668|
001b3e  8800              LDRH     r0,[r0,#0]            ;1279  ; SK_START_LEV
001b40  2800              CMP      r0,#0                 ;1279
001b42  48ad              LDR      r0,|L1.7672|
001b44  d004              BEQ      |L1.6992|
001b46  8800              LDRH     r0,[r0,#0]            ;1281  ; sk_in_drv_stat
001b48  2801              CMP      r0,#1                 ;1281
                  |L1.6986|
001b4a  f43fad53          BEQ      |L1.5620|
001b4e  e003              B        |L1.7000|
                  |L1.6992|
001b50  f9b00000          LDRSH    r0,[r0,#0]            ;1288  ; sk_in_drv_stat
001b54  1c40              ADDS     r0,r0,#1              ;1288
001b56  d0f8              BEQ      |L1.6986|
                  |L1.7000|
001b58  2002              MOVS     r0,#2                 ;1294
001b5a  49a8              LDR      r1,|L1.7676|
001b5c  7028              STRB     r0,[r5,#0]            ;1294
001b5e  2000              MOVS     r0,#0                 ;1295
001b60  6008              STR      r0,[r1,#0]            ;1296  ; time_proc
001b62  48a7              LDR      r0,|L1.7680|
001b64  6801              LDR      r1,[r0,#0]            ;1296  ; T_PROC_PS
001b66  48a7              LDR      r0,|L1.7684|
001b68  6001              STR      r1,[r0,#0]            ;1297  ; time_proc_remain
001b6a  f7fffffe          BL       restart_on_PS
001b6e  2101              MOVS     r1,#1                 ;1298
001b70  e03b              B        |L1.7146|
                  |L1.7026|
001b72  7828              LDRB     r0,[r5,#0]            ;1303  ; work_stat
001b74  2802              CMP      r0,#2                 ;1303
001b76  d015              BEQ      |L1.7076|
                  |L1.7032|
001b78  f8a87000          STRH     r7,[r8,#0]            ;1309
                  |L1.7036|
001b7c  4da2              LDR      r5,|L1.7688|
001b7e  4fa3              LDR      r7,|L1.7692|
001b80  6828              LDR      r0,[r5,#0]            ;1352  ; T_PROC_GS
001b82  8839              LDRH     r1,[r7,#0]            ;1352  ; T_PROC_MAX
001b84  4288              CMP      r0,r1                 ;1352
001b86  dc01              BGT      |L1.7052|
001b88  281e              CMP      r0,#0x1e              ;1352
001b8a  da41              BGE      |L1.7184|
                  |L1.7052|
001b8c  4288              CMP      r0,r1                 ;1354
001b8e  dd30              BLE      |L1.7154|
001b90  1c49              ADDS     r1,r1,#1              ;1354
001b92  6029              STR      r1,[r5,#0]            ;1354  ; T_PROC_GS
001b94  e031              B        |L1.7162|
                  |L1.7062|
001b96  2c01              CMP      r4,#1                 ;1313
001b98  d009              BEQ      |L1.7086|
001b9a  2c00              CMP      r4,#0                 ;1340
001b9c  d1ec              BNE      |L1.7032|
001b9e  7828              LDRB     r0,[r5,#0]            ;1342  ; work_stat
001ba0  2801              CMP      r0,#1                 ;1342
001ba2  d1e9              BNE      |L1.7032|
                  |L1.7076|
001ba4  2000              MOVS     r0,#0                 ;1344
001ba6  7028              STRB     r0,[r5,#0]            ;1344
001ba8  f7fffffe          BL       restart_off
001bac  e7e4              B        |L1.7032|
                  |L1.7086|
001bae  7828              LDRB     r0,[r5,#0]            ;1315  ; work_stat
001bb0  2801              CMP      r0,#1                 ;1315
001bb2  d0e1              BEQ      |L1.7032|
001bb4  488e              LDR      r0,|L1.7664|
001bb6  8800              LDRH     r0,[r0,#0]            ;1317  ; SK_START
001bb8  2802              CMP      r0,#2                 ;1317
001bba  d10c              BNE      |L1.7126|
001bbc  488d              LDR      r0,|L1.7668|
001bbe  8800              LDRH     r0,[r0,#0]            ;1319  ; SK_START_LEV
001bc0  2800              CMP      r0,#0                 ;1319
001bc2  488d              LDR      r0,|L1.7672|
001bc4  d003              BEQ      |L1.7118|
001bc6  8800              LDRH     r0,[r0,#0]            ;1321  ; sk_in_drv_stat
001bc8  2801              CMP      r0,#1                 ;1321
                  |L1.7114|
001bca  d0be              BEQ      |L1.6986|
001bcc  e003              B        |L1.7126|
                  |L1.7118|
001bce  f9b00000          LDRSH    r0,[r0,#0]            ;1328  ; sk_in_drv_stat
001bd2  1c40              ADDS     r0,r0,#1              ;1328
001bd4  d0b9              BEQ      |L1.6986|
                  |L1.7126|
001bd6  2001              MOVS     r0,#1                 ;1334
001bd8  4988              LDR      r1,|L1.7676|
001bda  7028              STRB     r0,[r5,#0]            ;1334
001bdc  2000              MOVS     r0,#0                 ;1335
001bde  6008              STR      r0,[r1,#0]            ;1336  ; time_proc
001be0  4889              LDR      r0,|L1.7688|
001be2  6801              LDR      r1,[r0,#0]            ;1336  ; T_PROC_GS
001be4  4887              LDR      r0,|L1.7684|
001be6  6001              STR      r1,[r0,#0]            ;1337  ; time_proc_remain
001be8  2100              MOVS     r1,#0                 ;1337
                  |L1.7146|
001bea  20ea              MOVS     r0,#0xea              ;1337
001bec  f7fffffe          BL       lc640_write_int
001bf0  e7c2              B        |L1.7032|
                  |L1.7154|
001bf2  281e              CMP      r0,#0x1e              ;1355
001bf4  da01              BGE      |L1.7162|
001bf6  201d              MOVS     r0,#0x1d              ;1355
001bf8  6028              STR      r0,[r5,#0]            ;1355  ; T_PROC_GS
                  |L1.7162|
001bfa  6828              LDR      r0,[r5,#0]            ;1356  ; T_PROC_GS
001bfc  b201              SXTH     r1,r0                 ;1356
001bfe  20d8              MOVS     r0,#0xd8              ;1356
001c00  f7fffffe          BL       lc640_write_int
001c04  4882              LDR      r0,|L1.7696|
001c06  2101              MOVS     r1,#1                 ;1357
001c08  8001              STRH     r1,[r0,#0]            ;1357
001c0a  20ee              MOVS     r0,#0xee              ;1358
001c0c  f7fffffe          BL       lc640_write_int
                  |L1.7184|
001c10  8839              LDRH     r1,[r7,#0]            ;1360  ; T_PROC_MAX
001c12  6828              LDR      r0,[r5,#0]            ;1360  ; T_PROC_GS
001c14  4288              CMP      r0,r1                 ;1360
001c16  dc07              BGT      |L1.7208|
001c18  281e              CMP      r0,#0x1e              ;1360
001c1a  db05              BLT      |L1.7208|
001c1c  487c              LDR      r0,|L1.7696|
001c1e  2100              MOVS     r1,#0                 ;1362
001c20  8001              STRH     r1,[r0,#0]            ;1362
001c22  20ee              MOVS     r0,#0xee              ;1363
001c24  f7fffffe          BL       lc640_write_int
                  |L1.7208|
001c28  4d75              LDR      r5,|L1.7680|
001c2a  8839              LDRH     r1,[r7,#0]            ;1366  ; T_PROC_MAX
001c2c  6828              LDR      r0,[r5,#0]            ;1366  ; T_PROC_PS
001c2e  4288              CMP      r0,r1                 ;1366
001c30  dc01              BGT      |L1.7222|
001c32  281e              CMP      r0,#0x1e              ;1366
001c34  da13              BGE      |L1.7262|
                  |L1.7222|
001c36  4288              CMP      r0,r1                 ;1368
001c38  dd02              BLE      |L1.7232|
001c3a  1c49              ADDS     r1,r1,#1              ;1368
001c3c  6029              STR      r1,[r5,#0]            ;1368  ; T_PROC_PS
001c3e  e003              B        |L1.7240|
                  |L1.7232|
001c40  281e              CMP      r0,#0x1e              ;1369
001c42  da01              BGE      |L1.7240|
001c44  201d              MOVS     r0,#0x1d              ;1369
001c46  6028              STR      r0,[r5,#0]            ;1369  ; T_PROC_PS
                  |L1.7240|
001c48  6828              LDR      r0,[r5,#0]            ;1370  ; T_PROC_PS
001c4a  b201              SXTH     r1,r0                 ;1370
001c4c  20dc              MOVS     r0,#0xdc              ;1370
001c4e  f7fffffe          BL       lc640_write_int
001c52  4870              LDR      r0,|L1.7700|
001c54  2101              MOVS     r1,#1                 ;1371
001c56  8001              STRH     r1,[r0,#0]            ;1371
001c58  20f0              MOVS     r0,#0xf0              ;1372
001c5a  f7fffffe          BL       lc640_write_int
                  |L1.7262|
001c5e  8839              LDRH     r1,[r7,#0]            ;1374  ; T_PROC_MAX
001c60  6828              LDR      r0,[r5,#0]            ;1374  ; T_PROC_PS
001c62  4288              CMP      r0,r1                 ;1374
001c64  dc07              BGT      |L1.7286|
001c66  281e              CMP      r0,#0x1e              ;1374
001c68  db05              BLT      |L1.7286|
001c6a  486a              LDR      r0,|L1.7700|
001c6c  2100              MOVS     r1,#0                 ;1376
001c6e  8001              STRH     r1,[r0,#0]            ;1376
001c70  20f0              MOVS     r0,#0xf0              ;1377
001c72  f7fffffe          BL       lc640_write_int
                  |L1.7286|
001c76  4868              LDR      r0,|L1.7704|
001c78  4623              MOV      r3,r4                 ;1380
001c7a  4632              MOV      r2,r6                 ;1380
001c7c  8800              LDRH     r0,[r0,#0]            ;1380  ; MODBUS_ADRESS
001c7e  9903              LDR      r1,[sp,#0xc]          ;1380
001c80  b2c0              UXTB     r0,r0                 ;1380
001c82  f7fffffe          BL       modbus_hold_register_answer_transmit
001c86  2e5a              CMP      r6,#0x5a              ;1383
001c88  d09f              BEQ      |L1.7114|
001c8a  2e5b              CMP      r6,#0x5b              ;1383
001c8c  d09d              BEQ      |L1.7114|
001c8e  2e5c              CMP      r6,#0x5c              ;1383
001c90  d09b              BEQ      |L1.7114|
001c92  2e5d              CMP      r6,#0x5d              ;1383
001c94  d099              BEQ      |L1.7114|
001c96  4861              LDR      r0,|L1.7708|
001c98  8800              LDRH     r0,[r0,#0]            ;1383  ; EE_WRITE_CNT
001c9a  b00b              ADD      sp,sp,#0x2c           ;1383
001c9c  1c40              ADDS     r0,r0,#1              ;1383
001c9e  e8bd4ff0          POP      {r4-r11,lr}           ;1383
001ca2  b201              SXTH     r1,r0                 ;1383
001ca4  204c              MOVS     r0,#0x4c              ;1383
001ca6  f7ffbffe          B.W      lc640_write_int
;;;1394   
                          ENDP

                  modbus_hold_register_transmit PROC
;;;1892   //-----------------------------------------------
;;;1893   void modbus_hold_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
001caa  e92d47f0          PUSH     {r4-r10,lr}
;;;1894   {
001cae  4681              MOV      r9,r0
;;;1895   char modbus_registers[120];
;;;1896   char modbus_tx_buff[100];
;;;1897   unsigned short crc_temp;
;;;1898   char i;
;;;1899   
;;;1900   I_ug=50;
001cb0  485b              LDR      r0,|L1.7712|
001cb2  468a              MOV      r10,r1                ;1894
001cb4  b0b8              SUB      sp,sp,#0xe0           ;1894
001cb6  2132              MOVS     r1,#0x32
001cb8  8001              STRH     r1,[r0,#0]
;;;1901   modbus_registers[0]=(char)(I_ug/256);					//Рег50
001cba  2000              MOVS     r0,#0
001cbc  f88d0000          STRB     r0,[sp,#0]
;;;1902   modbus_registers[1]=(char)(I_ug%256);
;;;1903   U_up=51;
001cc0  4b58              LDR      r3,|L1.7716|
001cc2  f88d1001          STRB     r1,[sp,#1]            ;1902
001cc6  2133              MOVS     r1,#0x33
001cc8  8019              STRH     r1,[r3,#0]
;;;1904   modbus_registers[2]=(char)(U_up/256);					//Рег51
001cca  f88d0002          STRB     r0,[sp,#2]
;;;1905   modbus_registers[3]=(char)(U_up%256);
001cce  f88d1003          STRB     r1,[sp,#3]
;;;1906   modbus_registers[4]=(char)(U_maxg/256);					//Рег52
001cd2  4955              LDR      r1,|L1.7720|
;;;1907   modbus_registers[5]=(char)(U_maxg%256);
;;;1908   modbus_registers[6]=(char)(I_maxp/256);					//Рег53
;;;1909   modbus_registers[7]=(char)(I_maxp%256);
;;;1910   modbus_registers[8]=(char)((T_PROC_GS%60)/256);			//Рег54
;;;1911   modbus_registers[9]=(char)((T_PROC_GS%60)%256);
;;;1912   modbus_registers[10]=(char)(((T_PROC_GS/60)%60)/256);		//Рег55
;;;1913   modbus_registers[11]=(char)(((T_PROC_GS/60)%60)%256);
;;;1914   modbus_registers[12]=(char)((T_PROC_GS/3600)/256);		//Рег56
001cd4  f44f2861          MOV      r8,#0xe1000
;;;1915   modbus_registers[13]=(char)((T_PROC_GS/3600)%256);
001cd8  f44f6c61          MOV      r12,#0xe10
001cdc  f9b11000          LDRSH    r1,[r1,#0]            ;1906  ; U_maxg
001ce0  17cb              ASRS     r3,r1,#31             ;1906
001ce2  eb016313          ADD      r3,r1,r3,LSR #24      ;1906
001ce6  121c              ASRS     r4,r3,#8              ;1906
001ce8  f88d4004          STRB     r4,[sp,#4]            ;1906
001cec  1a09              SUBS     r1,r1,r0              ;1907
001cee  f88d1005          STRB     r1,[sp,#5]            ;1907
001cf2  494e              LDR      r1,|L1.7724|
001cf4  f9b11000          LDRSH    r1,[r1,#0]            ;1908  ; I_maxp
001cf8  17cb              ASRS     r3,r1,#31             ;1908
001cfa  eb016313          ADD      r3,r1,r3,LSR #24      ;1908
001cfe  121c              ASRS     r4,r3,#8              ;1908
001d00  f88d4006          STRB     r4,[sp,#6]            ;1908
001d04  f88d1007          STRB     r1,[sp,#7]            ;1909
001d08  493f              LDR      r1,|L1.7688|
001d0a  233c              MOVS     r3,#0x3c              ;1910
001d0c  680c              LDR      r4,[r1,#0]            ;1910  ; T_PROC_GS
001d0e  fb94f5f3          SDIV     r5,r4,r3              ;1910
001d12  fb034115          MLS      r1,r3,r5,r4           ;1910
001d16  17ce              ASRS     r6,r1,#31             ;1910
001d18  eb016616          ADD      r6,r1,r6,LSR #24      ;1910
001d1c  1237              ASRS     r7,r6,#8              ;1910
001d1e  f88d7008          STRB     r7,[sp,#8]            ;1910
001d22  f88d1009          STRB     r1,[sp,#9]            ;1911
001d26  fb95f1f3          SDIV     r1,r5,r3              ;1912
001d2a  fb035111          MLS      r1,r3,r1,r5           ;1912
001d2e  17cd              ASRS     r5,r1,#31             ;1912
001d30  eb016515          ADD      r5,r1,r5,LSR #24      ;1912
001d34  122e              ASRS     r6,r5,#8              ;1912
001d36  f88d600a          STRB     r6,[sp,#0xa]          ;1912
001d3a  f88d100b          STRB     r1,[sp,#0xb]          ;1913
001d3e  fb94f1f8          SDIV     r1,r4,r8              ;1914
001d42  f88d100c          STRB     r1,[sp,#0xc]          ;1914
001d46  fb94f1fc          SDIV     r1,r4,r12
001d4a  f88d100d          STRB     r1,[sp,#0xd]
;;;1916   modbus_registers[14]=(char)((T_PROC_PS%60)/256);			//Рег57
001d4e  492c              LDR      r1,|L1.7680|
001d50  680c              LDR      r4,[r1,#0]  ; T_PROC_PS
;;;1917   modbus_registers[15]=(char)((T_PROC_PS%60)%256);
;;;1918   modbus_registers[16]=(char)(((T_PROC_PS/60)%60)/256);		//Рег58
;;;1919   modbus_registers[17]=(char)(((T_PROC_PS/60)%60)%256);
;;;1920   modbus_registers[18]=(char)((T_PROC_PS/3600)/256);		//Рег59
;;;1921   modbus_registers[19]=(char)((T_PROC_PS/3600)%256);
;;;1922   modbus_registers[20]=0;								//Рег60
001d52  f88d0014          STRB     r0,[sp,#0x14]
001d56  fb94f5f3          SDIV     r5,r4,r3              ;1916
001d5a  fb034115          MLS      r1,r3,r5,r4           ;1916
001d5e  17ce              ASRS     r6,r1,#31             ;1916
001d60  eb016616          ADD      r6,r1,r6,LSR #24      ;1916
001d64  1237              ASRS     r7,r6,#8              ;1916
001d66  f88d700e          STRB     r7,[sp,#0xe]          ;1916
001d6a  f88d100f          STRB     r1,[sp,#0xf]          ;1917
001d6e  fb95f1f3          SDIV     r1,r5,r3              ;1918
001d72  fb035111          MLS      r1,r3,r1,r5           ;1918
001d76  17cb              ASRS     r3,r1,#31             ;1918
001d78  eb016313          ADD      r3,r1,r3,LSR #24      ;1918
001d7c  121d              ASRS     r5,r3,#8              ;1918
001d7e  f88d5010          STRB     r5,[sp,#0x10]         ;1918
001d82  f88d1011          STRB     r1,[sp,#0x11]         ;1919
001d86  fb94f1f8          SDIV     r1,r4,r8              ;1920
001d8a  f88d1012          STRB     r1,[sp,#0x12]         ;1920
001d8e  fb94f1fc          SDIV     r1,r4,r12             ;1921
001d92  f88d1013          STRB     r1,[sp,#0x13]         ;1921
;;;1923   modbus_registers[21]=0;
001d96  f88d0015          STRB     r0,[sp,#0x15]
;;;1924   if(work_stat==wsPS)modbus_registers[21]=1;
001d9a  4925              LDR      r1,|L1.7728|
001d9c  780b              LDRB     r3,[r1,#0]  ; work_stat
001d9e  2101              MOVS     r1,#1
001da0  2b02              CMP      r3,#2
001da2  d101              BNE      |L1.7592|
001da4  f88d1015          STRB     r1,[sp,#0x15]
                  |L1.7592|
;;;1925   
;;;1926   modbus_registers[22]=0;								//Рег61
001da8  f88d0016          STRB     r0,[sp,#0x16]
;;;1927   modbus_registers[23]=0;
001dac  f88d0017          STRB     r0,[sp,#0x17]
;;;1928   if(work_stat==wsGS)modbus_registers[23]=1;
001db0  2b01              CMP      r3,#1
001db2  d101              BNE      |L1.7608|
001db4  f88d1017          STRB     r1,[sp,#0x17]
                  |L1.7608|
;;;1929   
;;;1930   modbus_registers[24]=0;								//Рег62
001db8  f88d0018          STRB     r0,[sp,#0x18]
;;;1931   modbus_registers[25]=0;
001dbc  f88d0019          STRB     r0,[sp,#0x19]
;;;1932   if(REV_STAT==rsREW)modbus_registers[25]=1;
001dc0  4b1c              LDR      r3,|L1.7732|
001dc2  e039              B        |L1.7736|
                  |L1.7620|
                          DCD      CAP_ZAR_TIME
                  |L1.7624|
                          DCD      CAP_PAUSE1_TIME
                  |L1.7628|
                          DCD      CAP_RAZR_TIME
                  |L1.7632|
                          DCD      CAP_PAUSE2_TIME
                  |L1.7636|
                          DCD      CAP_MAX_VOLT
                  |L1.7640|
                          DCD      CAP_WRK_CURR
                  |L1.7644|
                          DCD      pwm_u_reg
                  |L1.7648|
                          DCD      pwm_i_reg
                  |L1.7652|
                          DCD      pwm_t_reg
                  |L1.7656|
                          DCD      I_ug_ram
                  |L1.7660|
                          DCD      U_up_ram
                  |L1.7664|
                          DCD      SK_START
                  |L1.7668|
                          DCD      SK_START_LEV
                  |L1.7672|
                          DCD      sk_in_drv_stat
                  |L1.7676|
                          DCD      time_proc
                  |L1.7680|
                          DCD      T_PROC_PS
                  |L1.7684|
                          DCD      time_proc_remain
                  |L1.7688|
                          DCD      T_PROC_GS
                  |L1.7692|
                          DCD      T_PROC_MAX
                  |L1.7696|
                          DCD      T_PROC_GS_MODE
                  |L1.7700|
                          DCD      T_PROC_PS_MODE
                  |L1.7704|
                          DCD      MODBUS_ADRESS
                  |L1.7708|
                          DCD      EE_WRITE_CNT
                  |L1.7712|
                          DCD      I_ug
                  |L1.7716|
                          DCD      U_up
                  |L1.7720|
                          DCD      U_maxg
                  |L1.7724|
                          DCD      I_maxp
                  |L1.7728|
                          DCD      work_stat
                  |L1.7732|
                          DCD      REV_STAT
                  |L1.7736|
001e38  781b              LDRB     r3,[r3,#0]  ; REV_STAT
001e3a  b90b              CBNZ     r3,|L1.7744|
001e3c  f88d1019          STRB     r1,[sp,#0x19]
                  |L1.7744|
;;;1933   
;;;1934   modbus_registers[26]=0;								//Рег63
;;;1935   modbus_registers[27]=0;
;;;1936   if(AVT_REV_IS_ON)modbus_registers[27]=1;
001e40  4b67              LDR      r3,|L1.8160|
001e42  f88d001a          STRB     r0,[sp,#0x1a]         ;1934
001e46  f88d001b          STRB     r0,[sp,#0x1b]         ;1935
001e4a  881b              LDRH     r3,[r3,#0]  ; AVT_REV_IS_ON
001e4c  b10b              CBZ      r3,|L1.7762|
001e4e  f88d101b          STRB     r1,[sp,#0x1b]
                  |L1.7762|
;;;1937   
;;;1938   modbus_registers[28]=(char)((AVT_REV_TIME_FF)/256);		//Рег64
001e52  4964              LDR      r1,|L1.8164|
001e54  8809              LDRH     r1,[r1,#0]  ; AVT_REV_TIME_FF
001e56  0a0b              LSRS     r3,r1,#8
001e58  f88d301c          STRB     r3,[sp,#0x1c]
;;;1939   modbus_registers[29]=(char)((AVT_REV_TIME_FF)%256);
001e5c  f88d101d          STRB     r1,[sp,#0x1d]
;;;1940   modbus_registers[30]=(char)((AVT_REV_TIME_REW)/256);		//Рег65
001e60  4961              LDR      r1,|L1.8168|
001e62  8809              LDRH     r1,[r1,#0]  ; AVT_REV_TIME_REW
001e64  0a0b              LSRS     r3,r1,#8
001e66  f88d301e          STRB     r3,[sp,#0x1e]
;;;1941   modbus_registers[31]=(char)((AVT_REV_TIME_REW)%256);
001e6a  f88d101f          STRB     r1,[sp,#0x1f]
;;;1942   modbus_registers[32]=(char)((AVT_REV_TIME_PAUSE)/256);		//Рег66
001e6e  495f              LDR      r1,|L1.8172|
001e70  f9b11000          LDRSH    r1,[r1,#0]  ; AVT_REV_TIME_PAUSE
001e74  17cb              ASRS     r3,r1,#31
001e76  eb016313          ADD      r3,r1,r3,LSR #24
001e7a  121c              ASRS     r4,r3,#8
001e7c  f88d4020          STRB     r4,[sp,#0x20]
;;;1943   modbus_registers[33]=(char)((AVT_REV_TIME_PAUSE)%256);
001e80  f88d1021          STRB     r1,[sp,#0x21]
;;;1944   modbus_registers[34]=(char)((AVT_REV_I_NOM_FF)/256);		//Рег67
001e84  495a              LDR      r1,|L1.8176|
001e86  f9b11000          LDRSH    r1,[r1,#0]  ; AVT_REV_I_NOM_FF
001e8a  17cb              ASRS     r3,r1,#31
001e8c  eb016313          ADD      r3,r1,r3,LSR #24
001e90  121c              ASRS     r4,r3,#8
001e92  f88d4022          STRB     r4,[sp,#0x22]
;;;1945   modbus_registers[35]=(char)((AVT_REV_I_NOM_FF)%256);
001e96  f88d1023          STRB     r1,[sp,#0x23]
;;;1946   modbus_registers[36]=(char)((AVT_REV_I_NOM_REW)/256);		//Рег68
001e9a  4956              LDR      r1,|L1.8180|
001e9c  f9b11000          LDRSH    r1,[r1,#0]  ; AVT_REV_I_NOM_REW
001ea0  17cb              ASRS     r3,r1,#31
001ea2  eb016313          ADD      r3,r1,r3,LSR #24
001ea6  121c              ASRS     r4,r3,#8
001ea8  f88d4024          STRB     r4,[sp,#0x24]
;;;1947   modbus_registers[37]=(char)((AVT_REV_I_NOM_REW)%256);
001eac  f88d1025          STRB     r1,[sp,#0x25]
;;;1948   modbus_registers[38]=(char)((AVT_REV_U_NOM_FF)/256);		//Рег69
001eb0  4951              LDR      r1,|L1.8184|
001eb2  f9b11000          LDRSH    r1,[r1,#0]  ; AVT_REV_U_NOM_FF
001eb6  17cb              ASRS     r3,r1,#31
001eb8  eb016313          ADD      r3,r1,r3,LSR #24
001ebc  121c              ASRS     r4,r3,#8
001ebe  f88d4026          STRB     r4,[sp,#0x26]
;;;1949   modbus_registers[39]=(char)((AVT_REV_U_NOM_FF)%256);
001ec2  f88d1027          STRB     r1,[sp,#0x27]
;;;1950   modbus_registers[40]=(char)((AVT_REV_U_NOM_REW)/256);		//Рег70
001ec6  494d              LDR      r1,|L1.8188|
001ec8  f9b11000          LDRSH    r1,[r1,#0]  ; AVT_REV_U_NOM_REW
001ecc  17cb              ASRS     r3,r1,#31
001ece  eb016313          ADD      r3,r1,r3,LSR #24
001ed2  121c              ASRS     r4,r3,#8
001ed4  f88d4028          STRB     r4,[sp,#0x28]
;;;1951   modbus_registers[41]=(char)((AVT_REV_U_NOM_REW)%256);
001ed8  f88d1029          STRB     r1,[sp,#0x29]
;;;1952   modbus_registers[42]=(char)((CAP_ZAR_TIME)/256);			//Рег71
001edc  4948              LDR      r1,|L1.8192|
001ede  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_ZAR_TIME
001ee2  17cb              ASRS     r3,r1,#31
001ee4  eb016313          ADD      r3,r1,r3,LSR #24
001ee8  121c              ASRS     r4,r3,#8
001eea  f88d402a          STRB     r4,[sp,#0x2a]
;;;1953   modbus_registers[43]=(char)((CAP_ZAR_TIME)%256);
001eee  f88d102b          STRB     r1,[sp,#0x2b]
;;;1954   modbus_registers[44]=(char)((CAP_PAUSE1_TIME)/256);		//Рег72
001ef2  4944              LDR      r1,|L1.8196|
001ef4  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_PAUSE1_TIME
001ef8  17cb              ASRS     r3,r1,#31
001efa  eb016313          ADD      r3,r1,r3,LSR #24
001efe  121c              ASRS     r4,r3,#8
001f00  f88d402c          STRB     r4,[sp,#0x2c]
;;;1955   modbus_registers[45]=(char)((CAP_PAUSE1_TIME)%256);
001f04  f88d102d          STRB     r1,[sp,#0x2d]
;;;1956   modbus_registers[46]=(char)((CAP_RAZR_TIME)/256);			//Рег73
001f08  493f              LDR      r1,|L1.8200|
001f0a  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_RAZR_TIME
001f0e  17cb              ASRS     r3,r1,#31
001f10  eb016313          ADD      r3,r1,r3,LSR #24
001f14  121c              ASRS     r4,r3,#8
001f16  f88d402e          STRB     r4,[sp,#0x2e]
;;;1957   modbus_registers[47]=(char)((CAP_RAZR_TIME)%256);
001f1a  f88d102f          STRB     r1,[sp,#0x2f]
;;;1958   modbus_registers[48]=(char)((CAP_PAUSE2_TIME)/256);		//Рег74
001f1e  493b              LDR      r1,|L1.8204|
001f20  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_PAUSE2_TIME
001f24  17cb              ASRS     r3,r1,#31
001f26  eb016313          ADD      r3,r1,r3,LSR #24
001f2a  121c              ASRS     r4,r3,#8
001f2c  f88d4030          STRB     r4,[sp,#0x30]
;;;1959   modbus_registers[49]=(char)((CAP_PAUSE2_TIME)%256);
001f30  f88d1031          STRB     r1,[sp,#0x31]
;;;1960   modbus_registers[50]=(char)((CAP_MAX_VOLT)/256);			//Рег75
001f34  4936              LDR      r1,|L1.8208|
001f36  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_MAX_VOLT
001f3a  17cb              ASRS     r3,r1,#31
001f3c  eb016313          ADD      r3,r1,r3,LSR #24
001f40  121c              ASRS     r4,r3,#8
001f42  f88d4032          STRB     r4,[sp,#0x32]
;;;1961   modbus_registers[51]=(char)((CAP_MAX_VOLT)%256);
001f46  f88d1033          STRB     r1,[sp,#0x33]
;;;1962   modbus_registers[52]=(char)((CAP_WRK_CURR)/256);			//Рег76
001f4a  4932              LDR      r1,|L1.8212|
001f4c  f9b11000          LDRSH    r1,[r1,#0]  ; CAP_WRK_CURR
001f50  17cb              ASRS     r3,r1,#31
001f52  eb016313          ADD      r3,r1,r3,LSR #24
001f56  121c              ASRS     r4,r3,#8
001f58  f88d4034          STRB     r4,[sp,#0x34]
;;;1963   modbus_registers[53]=(char)((CAP_WRK_CURR)%256);
001f5c  f88d1035          STRB     r1,[sp,#0x35]
;;;1964   modbus_registers[58]=(char)((REV_IS_ON)/256);				//Рег79	
001f60  492d              LDR      r1,|L1.8216|
001f62  f9b11000          LDRSH    r1,[r1,#0]  ; REV_IS_ON
001f66  17cb              ASRS     r3,r1,#31
001f68  eb016313          ADD      r3,r1,r3,LSR #24
001f6c  121c              ASRS     r4,r3,#8
001f6e  f88d403a          STRB     r4,[sp,#0x3a]
;;;1965   modbus_registers[59]=(char)((REV_IS_ON)%256);
;;;1966   proc_phase=7;
001f72  4b2a              LDR      r3,|L1.8220|
001f74  f88d103b          STRB     r1,[sp,#0x3b]         ;1965
001f78  2107              MOVS     r1,#7
001f7a  7019              STRB     r1,[r3,#0]
;;;1967   modbus_registers[60]=(char)((proc_phase)/256);				//Рег80	
001f7c  f88d003c          STRB     r0,[sp,#0x3c]
;;;1968   modbus_registers[61]=(char)((proc_phase)%256);
001f80  f88d103d          STRB     r1,[sp,#0x3d]
;;;1969   
;;;1970   
;;;1971   modbus_tx_buff[0]=adr;
001f84  f88d9078          STRB     r9,[sp,#0x78]
;;;1972   modbus_tx_buff[1]=func;
001f88  f88da079          STRB     r10,[sp,#0x79]
;;;1973   modbus_tx_buff[2]=(char)(reg_adr/256);
001f8c  0a10              LSRS     r0,r2,#8
001f8e  f88d007a          STRB     r0,[sp,#0x7a]
;;;1974   modbus_tx_buff[3]=(char)(reg_adr%256);
;;;1975   //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;1976   //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;1977   
;;;1978   
;;;1979   memcpy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
001f92  4668              MOV      r0,sp
001f94  eb000042          ADD      r0,r0,r2,LSL #1
001f98  f88d207b          STRB     r2,[sp,#0x7b]         ;1974
001f9c  f8300c02          LDRH     r0,[r0,#-2]
001fa0  f8ad007c          STRH     r0,[sp,#0x7c]
;;;1980   
;;;1981   crc_temp=CRC16_2(modbus_tx_buff,6);
001fa4  2106              MOVS     r1,#6
001fa6  a81e              ADD      r0,sp,#0x78
001fa8  f7fffffe          BL       CRC16_2
;;;1982   
;;;1983   modbus_tx_buff[6]=crc_temp%256;
001fac  f88d007e          STRB     r0,[sp,#0x7e]
;;;1984   modbus_tx_buff[7]=crc_temp/256;
001fb0  0a00              LSRS     r0,r0,#8
001fb2  f88d007f          STRB     r0,[sp,#0x7f]
;;;1985   
;;;1986   for (i=0;i<8;i++)
001fb6  2400              MOVS     r4,#0
001fb8  ad1e              ADD      r5,sp,#0x78           ;1896
                  |L1.8122|
;;;1987   	{
;;;1988   	putchar0(modbus_tx_buff[i]);
001fba  5d28              LDRB     r0,[r5,r4]
001fbc  f7fffffe          BL       putchar0
001fc0  1c64              ADDS     r4,r4,#1              ;1986
001fc2  b2e4              UXTB     r4,r4                 ;1986
001fc4  2c08              CMP      r4,#8                 ;1986
001fc6  d3f8              BCC      |L1.8122|
;;;1989   	}
;;;1990   for (i=0;i<8;i++)
001fc8  2400              MOVS     r4,#0
                  |L1.8138|
;;;1991   	{
;;;1992   	putchar_sc16is700(modbus_tx_buff[i]);
001fca  5d28              LDRB     r0,[r5,r4]
001fcc  f7fffffe          BL       putchar_sc16is700
001fd0  1c64              ADDS     r4,r4,#1              ;1990
001fd2  b2e4              UXTB     r4,r4                 ;1990
001fd4  2c08              CMP      r4,#8                 ;1990
001fd6  d3f8              BCC      |L1.8138|
;;;1993   	}
;;;1994   }	
001fd8  b038              ADD      sp,sp,#0xe0
001fda  e8bd87f0          POP      {r4-r10,pc}
;;;1995   
                          ENDP

001fde  0000              DCW      0x0000
                  |L1.8160|
                          DCD      AVT_REV_IS_ON
                  |L1.8164|
                          DCD      AVT_REV_TIME_FF
                  |L1.8168|
                          DCD      AVT_REV_TIME_REW
                  |L1.8172|
                          DCD      AVT_REV_TIME_PAUSE
                  |L1.8176|
                          DCD      AVT_REV_I_NOM_FF
                  |L1.8180|
                          DCD      AVT_REV_I_NOM_REW
                  |L1.8184|
                          DCD      AVT_REV_U_NOM_FF
                  |L1.8188|
                          DCD      AVT_REV_U_NOM_REW
                  |L1.8192|
                          DCD      CAP_ZAR_TIME
                  |L1.8196|
                          DCD      CAP_PAUSE1_TIME
                  |L1.8200|
                          DCD      CAP_RAZR_TIME
                  |L1.8204|
                          DCD      CAP_PAUSE2_TIME
                  |L1.8208|
                          DCD      CAP_MAX_VOLT
                  |L1.8212|
                          DCD      CAP_WRK_CURR
                  |L1.8216|
                          DCD      REV_IS_ON
                  |L1.8220|
                          DCD      proc_phase

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_registers
                          %        300

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_self_cmnd_cnt
000000  21                DCB      0x21
                  bMODBUS_TIMEOUT
000001  00                DCB      0x00
                  modbus_rx_buffer_ptr
000002  00                DCB      0x00
                  modbus_rx_counter
000003  00                DCB      0x00
                  modbus_cmnd_cnt
000004  00                DCB      0x00
                  modbus_cmnd
000005  00                DCB      0x00
                  modbus_plazma
000006  0000              DCB      0x00,0x00
                  modbus_plazma1
000008  0000              DCB      0x00,0x00
                  modbus_plazma2
00000a  0000              DCB      0x00,0x00
                  modbus_plazma3
00000c  0000              DCB      0x00,0x00

                          AREA ||area_number.7||, DATA, ALIGN=1

                          EXPORTAS ||area_number.7||, ||.data||
                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.8||, DATA, ALIGN=0

                          EXPORTAS ||area_number.8||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.9||, DATA, ALIGN=1

                          EXPORTAS ||area_number.9||, ||.data||
                  modbusTimeoutInMills
000000  0000              DCB      0x00,0x00
