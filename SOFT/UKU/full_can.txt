; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\full_can.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\full_can.d --cpu=Cortex-M3 --apcs=interwork -O3 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU2071x -DEXT_BOARD_V_2 -DWG12232A --omf_browse=.\EXE\full_can.crf full_can.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC1_in PROC
;;;111    //-----------------------------------------------
;;;112    char CRC1_in(void)
000000  b530              PUSH     {r4,r5,lr}
;;;113    {
;;;114    char r,j,lb;
;;;115    lb=(RXBUFF[1]&0x1f)+0x04;
000002  4bff              LDR      r3,|L1.1024|
;;;116    r=RXBUFF[0];
;;;117    for(j=1;j<(lb+1);j++)
000004  2201              MOVS     r2,#1
;;;118    	{
;;;119    	r=(RXBUFF[j]^Table87[r]);
000006  4cff              LDR      r4,|L1.1028|
000008  7858              LDRB     r0,[r3,#1]            ;115  ; RXBUFF
00000a  f000011f          AND      r1,r0,#0x1f           ;115
00000e  7818              LDRB     r0,[r3,#0]            ;116  ; RXBUFF
000010  1d49              ADDS     r1,r1,#5              ;117
000012  e004              B        |L1.30|
                  |L1.20|
000014  5c9d              LDRB     r5,[r3,r2]
000016  5c20              LDRB     r0,[r4,r0]
000018  4068              EORS     r0,r0,r5
00001a  1c52              ADDS     r2,r2,#1              ;117
00001c  b2d2              UXTB     r2,r2                 ;117
                  |L1.30|
00001e  428a              CMP      r2,r1                 ;117
000020  d3f8              BCC      |L1.20|
;;;120    	}
;;;121    if(r==0)r=0xFF;
000022  2800              CMP      r0,#0
000024  d100              BNE      |L1.40|
000026  20ff              MOVS     r0,#0xff
                  |L1.40|
;;;122    return r;	
;;;123    } 
000028  bd30              POP      {r4,r5,pc}
;;;124    
                          ENDP

                  CRC2_in PROC
;;;125    //-----------------------------------------------
;;;126    char CRC2_in(void)
00002a  b530              PUSH     {r4,r5,lr}
;;;127    {
;;;128    char r,j,lb;
;;;129    lb=(RXBUFF[1]&0x1f)+0x04;
00002c  4bf4              LDR      r3,|L1.1024|
;;;130    r=RXBUFF[0];
;;;131    for(j=1;j<(lb+1);j++)
00002e  2201              MOVS     r2,#1
;;;132    	{
;;;133    	r=(RXBUFF[j]^Table95[r]);
000030  4cf5              LDR      r4,|L1.1032|
000032  7858              LDRB     r0,[r3,#1]            ;129  ; RXBUFF
000034  f000011f          AND      r1,r0,#0x1f           ;129
000038  7818              LDRB     r0,[r3,#0]            ;130  ; RXBUFF
00003a  1d49              ADDS     r1,r1,#5              ;131
00003c  e004              B        |L1.72|
                  |L1.62|
00003e  5c9d              LDRB     r5,[r3,r2]
000040  5c20              LDRB     r0,[r4,r0]
000042  4068              EORS     r0,r0,r5
000044  1c52              ADDS     r2,r2,#1              ;131
000046  b2d2              UXTB     r2,r2                 ;131
                  |L1.72|
000048  428a              CMP      r2,r1                 ;131
00004a  d3f8              BCC      |L1.62|
;;;134    	}
;;;135    if(r==0)r=0xFF;
00004c  2800              CMP      r0,#0
00004e  d100              BNE      |L1.82|
000050  20ff              MOVS     r0,#0xff
                  |L1.82|
;;;136    return r;	
;;;137    }  
000052  bd30              POP      {r4,r5,pc}
;;;138    
                          ENDP

                  CRC1_out PROC
;;;139    //-----------------------------------------------
;;;140    char CRC1_out(void)
000054  4bea              LDR      r3,|L1.1024|
;;;141    {
000056  b530              PUSH     {r4,r5,lr}
;;;142    char r,j,lb;
;;;143    lb=(TXBUFF[1]&0x1f)+0x04;
000058  3328              ADDS     r3,r3,#0x28
;;;144    r=TXBUFF[0];
;;;145    for(j=1;j<(lb+1);j++)
00005a  2201              MOVS     r2,#1
00005c  7858              LDRB     r0,[r3,#1]            ;143  ; TXBUFF
;;;146    	{
;;;147    	r=(TXBUFF[j]^Table87[r]);
00005e  4ce9              LDR      r4,|L1.1028|
000060  f000011f          AND      r1,r0,#0x1f           ;143
000064  7818              LDRB     r0,[r3,#0]            ;144  ; TXBUFF
000066  1d49              ADDS     r1,r1,#5              ;145
000068  e004              B        |L1.116|
                  |L1.106|
00006a  5c9d              LDRB     r5,[r3,r2]
00006c  5c20              LDRB     r0,[r4,r0]
00006e  4068              EORS     r0,r0,r5
000070  1c52              ADDS     r2,r2,#1              ;145
000072  b2d2              UXTB     r2,r2                 ;145
                  |L1.116|
000074  428a              CMP      r2,r1                 ;145
000076  d3f8              BCC      |L1.106|
;;;148    	}
;;;149    if(r==0)r=0xFF;
000078  2800              CMP      r0,#0
00007a  d100              BNE      |L1.126|
00007c  20ff              MOVS     r0,#0xff
                  |L1.126|
;;;150    return r;	
;;;151    } 
00007e  bd30              POP      {r4,r5,pc}
;;;152    
                          ENDP

                  CRC2_out PROC
;;;153    //-----------------------------------------------
;;;154    char CRC2_out(void)
000080  4bdf              LDR      r3,|L1.1024|
;;;155    {
000082  b530              PUSH     {r4,r5,lr}
;;;156    char r,j,lb;
;;;157    lb=(TXBUFF[1]&0x1f)+0x04;
000084  3328              ADDS     r3,r3,#0x28
;;;158    r=TXBUFF[0];
;;;159    for(j=1;j<(lb+1);j++)
000086  2201              MOVS     r2,#1
000088  7858              LDRB     r0,[r3,#1]            ;157  ; TXBUFF
;;;160    	{
;;;161    	r=(TXBUFF[j]^Table95[r]);
00008a  4cdf              LDR      r4,|L1.1032|
00008c  f000011f          AND      r1,r0,#0x1f           ;157
000090  7818              LDRB     r0,[r3,#0]            ;158  ; TXBUFF
000092  1d49              ADDS     r1,r1,#5              ;159
000094  e004              B        |L1.160|
                  |L1.150|
000096  5c9d              LDRB     r5,[r3,r2]
000098  5c20              LDRB     r0,[r4,r0]
00009a  4068              EORS     r0,r0,r5
00009c  1c52              ADDS     r2,r2,#1              ;159
00009e  b2d2              UXTB     r2,r2                 ;159
                  |L1.160|
0000a0  428a              CMP      r2,r1                 ;159
0000a2  d3f8              BCC      |L1.150|
;;;162    	}
;;;163    if(r==0)r=0xFF;
0000a4  2800              CMP      r0,#0
0000a6  d100              BNE      |L1.170|
0000a8  20ff              MOVS     r0,#0xff
                  |L1.170|
;;;164    return r;	
;;;165    }
0000aa  bd30              POP      {r4,r5,pc}
;;;166    
                          ENDP

                  can1_out_adr PROC
;;;167    //-----------------------------------------------
;;;168    void can1_out_adr(char* ptr,char num)
0000ac  e92d4ff0          PUSH     {r4-r11,lr}
;;;169    {
;;;170    
;;;171    if(num<=8)
;;;172    	{
;;;173    	can1_info[ptr_can1_tx_wr]=(((long)num)<<16)&0x000f0000UL;
0000b0  f8dfa358          LDR      r10,|L1.1036|
0000b4  4dd6              LDR      r5,|L1.1040|
;;;174    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
;;;175    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
;;;176    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
;;;177    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
;;;178    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
;;;179    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
;;;180    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
;;;181    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
;;;182    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
;;;183    	ptr_can1_tx_wr++;
;;;184    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0000b6  2600              MOVS     r6,#0
0000b8  f89a2002          LDRB     r2,[r10,#2]           ;173
0000bc  f1050b40          ADD      r11,r5,#0x40          ;175
0000c0  1c53              ADDS     r3,r2,#1              ;183
0000c2  b2db              UXTB     r3,r3                 ;183
0000c4  4699              MOV      r9,r3                 ;183
0000c6  f1050e60          ADD      lr,r5,#0x60           ;179
0000ca  f04f0c9e          MOV      r12,#0x9e             ;174
0000ce  eb0e0382          ADD      r3,lr,r2,LSL #2       ;179
0000d2  eb0b0482          ADD      r4,r11,r2,LSL #2      ;175
0000d6  2908              CMP      r1,#8                 ;171
0000d8  d824              BHI      |L1.292|
0000da  f44f2770          MOV      r7,#0xf0000           ;173
0000de  ea074101          AND      r1,r7,r1,LSL #16      ;173
0000e2  f8451022          STR      r1,[r5,r2,LSL #2]     ;173
0000e6  f1050120          ADD      r1,r5,#0x20           ;174
0000ea  46d0              MOV      r8,r10                ;173
0000ec  f841c022          STR      r12,[r1,r2,LSL #2]    ;174
0000f0  7807              LDRB     r7,[r0,#0]            ;175
0000f2  f80b7022          STRB     r7,[r11,r2,LSL #2]    ;175
0000f6  7841              LDRB     r1,[r0,#1]            ;176
0000f8  7061              STRB     r1,[r4,#1]            ;176
0000fa  7881              LDRB     r1,[r0,#2]            ;177
0000fc  70a1              STRB     r1,[r4,#2]            ;177
0000fe  78c1              LDRB     r1,[r0,#3]            ;178
000100  70e1              STRB     r1,[r4,#3]            ;178
000102  7904              LDRB     r4,[r0,#4]            ;179
000104  f80e4022          STRB     r4,[lr,r2,LSL #2]     ;179
000108  7941              LDRB     r1,[r0,#5]            ;180
00010a  7059              STRB     r1,[r3,#1]            ;180
00010c  7981              LDRB     r1,[r0,#6]            ;181
00010e  7099              STRB     r1,[r3,#2]            ;181
000110  79c0              LDRB     r0,[r0,#7]            ;182
000112  70d8              STRB     r0,[r3,#3]            ;182
000114  f8889002          STRB     r9,[r8,#2]            ;183
000118  f1b90f08          CMP      r9,#8
00011c  d301              BCC      |L1.290|
00011e  f88a6002          STRB     r6,[r10,#2]
                  |L1.290|
000122  e199              B        |L1.1112|
                  |L1.292|
;;;185    	}
;;;186    	
;;;187    else if(num<=16)
;;;188    	{
;;;189    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000124  f44f2700          MOV      r7,#0x80000
000128  2910              CMP      r1,#0x10              ;187
00012a  d856              BHI      |L1.474|
;;;190    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00012c  f8dfc2e0          LDR      r12,|L1.1040|
000130  f8457022          STR      r7,[r5,r2,LSL #2]     ;189
000134  279e              MOVS     r7,#0x9e
000136  f10c0c20          ADD      r12,r12,#0x20
;;;191    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
;;;192    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
;;;193    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
;;;194    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
;;;195    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
;;;196    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
;;;197    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
;;;198    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
;;;199    	ptr_can1_tx_wr++;
;;;200    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
00013a  f1b90f08          CMP      r9,#8
00013e  f84c7022          STR      r7,[r12,r2,LSL #2]    ;190
000142  f8908000          LDRB     r8,[r0,#0]            ;191
000146  f80b8022          STRB     r8,[r11,r2,LSL #2]    ;191
00014a  f8908001          LDRB     r8,[r0,#1]            ;192
00014e  f8848001          STRB     r8,[r4,#1]            ;192
000152  f8908002          LDRB     r8,[r0,#2]            ;193
000156  f8848002          STRB     r8,[r4,#2]            ;193
00015a  f8908003          LDRB     r8,[r0,#3]            ;194
00015e  f8848003          STRB     r8,[r4,#3]            ;194
000162  f8908004          LDRB     r8,[r0,#4]            ;195
000166  f80e8022          STRB     r8,[lr,r2,LSL #2]     ;195
00016a  7942              LDRB     r2,[r0,#5]            ;196
00016c  705a              STRB     r2,[r3,#1]            ;196
00016e  7982              LDRB     r2,[r0,#6]            ;197
000170  709a              STRB     r2,[r3,#2]            ;197
000172  79c2              LDRB     r2,[r0,#7]            ;198
000174  70da              STRB     r2,[r3,#3]            ;198
000176  465f              MOV      r7,r11                ;191
000178  4674              MOV      r4,lr                 ;195
00017a  4653              MOV      r3,r10                ;199
00017c  f88a9002          STRB     r9,[r10,#2]           ;199
000180  d300              BCC      |L1.388|
000182  709e              STRB     r6,[r3,#2]
                  |L1.388|
;;;201    	
;;;202    	can1_info[ptr_can1_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
000184  3908              SUBS     r1,r1,#8
000186  f44f2270          MOV      r2,#0xf0000
00018a  ea024201          AND      r2,r2,r1,LSL #16
00018e  f89a1002          LDRB     r1,[r10,#2]  ; ptr_can1_tx_wr
;;;203    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
;;;204    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
;;;205    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
000192  eb0b0381          ADD      r3,r11,r1,LSL #2
000196  f8452021          STR      r2,[r5,r1,LSL #2]     ;202
00019a  229e              MOVS     r2,#0x9e              ;203
00019c  f84c2021          STR      r2,[r12,r1,LSL #2]    ;203
0001a0  7a02              LDRB     r2,[r0,#8]            ;204
0001a2  f8072021          STRB     r2,[r7,r1,LSL #2]     ;204
0001a6  7a42              LDRB     r2,[r0,#9]
0001a8  705a              STRB     r2,[r3,#1]
;;;206    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
0001aa  7a82              LDRB     r2,[r0,#0xa]
0001ac  709a              STRB     r2,[r3,#2]
;;;207    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
0001ae  7ac2              LDRB     r2,[r0,#0xb]
0001b0  70da              STRB     r2,[r3,#3]
;;;208    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
0001b2  7b02              LDRB     r2,[r0,#0xc]
0001b4  f8042021          STRB     r2,[r4,r1,LSL #2]
;;;209    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
0001b8  eb0e0281          ADD      r2,lr,r1,LSL #2
0001bc  7b43              LDRB     r3,[r0,#0xd]
0001be  7053              STRB     r3,[r2,#1]
;;;210    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
0001c0  7b83              LDRB     r3,[r0,#0xe]
0001c2  7093              STRB     r3,[r2,#2]
;;;211    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
0001c4  7bc0              LDRB     r0,[r0,#0xf]
0001c6  70d0              STRB     r0,[r2,#3]
;;;212    	ptr_can1_tx_wr++;
0001c8  1c49              ADDS     r1,r1,#1
0001ca  b2c8              UXTB     r0,r1
0001cc  4651              MOV      r1,r10
0001ce  f88a0002          STRB     r0,[r10,#2]
;;;213    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0001d2  2808              CMP      r0,#8
0001d4  d3a5              BCC      |L1.290|
0001d6  708e              STRB     r6,[r1,#2]
0001d8  e13e              B        |L1.1112|
                  |L1.474|
;;;214    	}	
;;;215    
;;;216    else if(num<=24)
0001da  2918              CMP      r1,#0x18
0001dc  d87e              BHI      |L1.732|
;;;217    	{
;;;218    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
;;;219    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0001de  f8df8230          LDR      r8,|L1.1040|
0001e2  f8457022          STR      r7,[r5,r2,LSL #2]     ;218
0001e6  f1080820          ADD      r8,r8,#0x20
0001ea  f04f0c9e          MOV      r12,#0x9e
0001ee  f848c022          STR      r12,[r8,r2,LSL #2]
;;;220    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
0001f2  f8908000          LDRB     r8,[r0,#0]
0001f6  f80b8022          STRB     r8,[r11,r2,LSL #2]
;;;221    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
0001fa  f890c001          LDRB     r12,[r0,#1]
0001fe  f884c001          STRB     r12,[r4,#1]
;;;222    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
000202  f890c002          LDRB     r12,[r0,#2]
000206  f884c002          STRB     r12,[r4,#2]
;;;223    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
00020a  f890c003          LDRB     r12,[r0,#3]
00020e  f884c003          STRB     r12,[r4,#3]
;;;224    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
000212  f890c004          LDRB     r12,[r0,#4]
000216  f80ec022          STRB     r12,[lr,r2,LSL #2]
;;;225    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
00021a  7942              LDRB     r2,[r0,#5]
00021c  705a              STRB     r2,[r3,#1]
;;;226    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
00021e  7982              LDRB     r2,[r0,#6]
000220  709a              STRB     r2,[r3,#2]
;;;227    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
000222  79c2              LDRB     r2,[r0,#7]
000224  70da              STRB     r2,[r3,#3]
000226  4674              MOV      r4,lr                 ;224
;;;228    	ptr_can1_tx_wr++;
000228  4653              MOV      r3,r10
00022a  f88a9002          STRB     r9,[r10,#2]
;;;229    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
00022e  f1b90f08          CMP      r9,#8
000232  d300              BCC      |L1.566|
000234  709e              STRB     r6,[r3,#2]
                  |L1.566|
;;;230    
;;;231    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000236  f89a2002          LDRB     r2,[r10,#2]  ; ptr_can1_tx_wr
;;;232    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00023a  f8df91d4          LDR      r9,|L1.1040|
;;;233    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
;;;234    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
00023e  eb0b0382          ADD      r3,r11,r2,LSL #2
000242  f8457022          STR      r7,[r5,r2,LSL #2]     ;231
000246  f1090920          ADD      r9,r9,#0x20           ;232
00024a  279e              MOVS     r7,#0x9e              ;232
00024c  f8497022          STR      r7,[r9,r2,LSL #2]     ;232
000250  f890c008          LDRB     r12,[r0,#8]           ;233
000254  f80bc022          STRB     r12,[r11,r2,LSL #2]   ;233
000258  f890c009          LDRB     r12,[r0,#9]
00025c  f883c001          STRB     r12,[r3,#1]
;;;235    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
000260  f890c00a          LDRB     r12,[r0,#0xa]
000264  f883c002          STRB     r12,[r3,#2]
;;;236    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
000268  f890c00b          LDRB     r12,[r0,#0xb]
00026c  f883c003          STRB     r12,[r3,#3]
;;;237    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000270  7b03              LDRB     r3,[r0,#0xc]
000272  f8043022          STRB     r3,[r4,r2,LSL #2]
;;;238    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
000276  eb040c82          ADD      r12,r4,r2,LSL #2
00027a  7b43              LDRB     r3,[r0,#0xd]
00027c  f88c3001          STRB     r3,[r12,#1]
;;;239    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
000280  7b83              LDRB     r3,[r0,#0xe]
000282  f88c3002          STRB     r3,[r12,#2]
;;;240    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
000286  7bc3              LDRB     r3,[r0,#0xf]
;;;241    	ptr_can1_tx_wr++;
000288  1c52              ADDS     r2,r2,#1
00028a  46d0              MOV      r8,r10                ;231
00028c  f88c3003          STRB     r3,[r12,#3]           ;240
000290  b2d2              UXTB     r2,r2
000292  4643              MOV      r3,r8
000294  f8882002          STRB     r2,[r8,#2]
;;;242    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000298  2a08              CMP      r2,#8
00029a  d300              BCC      |L1.670|
00029c  709e              STRB     r6,[r3,#2]
                  |L1.670|
;;;243    	
;;;244    	can1_info[ptr_can1_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
00029e  3910              SUBS     r1,r1,#0x10
0002a0  f44f2270          MOV      r2,#0xf0000
0002a4  ea024301          AND      r3,r2,r1,LSL #16
0002a8  f8981002          LDRB     r1,[r8,#2]  ; ptr_can1_tx_wr
0002ac  4642              MOV      r2,r8
0002ae  f8453021          STR      r3,[r5,r1,LSL #2]
;;;245    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0002b2  f8497021          STR      r7,[r9,r1,LSL #2]
;;;246    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
0002b6  7c07              LDRB     r7,[r0,#0x10]
0002b8  f80b7021          STRB     r7,[r11,r1,LSL #2]
;;;247    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
0002bc  eb0b0381          ADD      r3,r11,r1,LSL #2
0002c0  7c47              LDRB     r7,[r0,#0x11]
0002c2  705f              STRB     r7,[r3,#1]
;;;248    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
0002c4  7c87              LDRB     r7,[r0,#0x12]
0002c6  709f              STRB     r7,[r3,#2]
;;;249    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
0002c8  7cc7              LDRB     r7,[r0,#0x13]
0002ca  70df              STRB     r7,[r3,#3]
;;;250    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
0002cc  7d03              LDRB     r3,[r0,#0x14]
0002ce  f8043021          STRB     r3,[r4,r1,LSL #2]
;;;251    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
0002d2  eb0e0481          ADD      r4,lr,r1,LSL #2
0002d6  7d43              LDRB     r3,[r0,#0x15]
0002d8  7063              STRB     r3,[r4,#1]
;;;252    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
0002da  e000              B        |L1.734|
                  |L1.732|
0002dc  e007              B        |L1.750|
                  |L1.734|
0002de  7d83              LDRB     r3,[r0,#0x16]
0002e0  70a3              STRB     r3,[r4,#2]
;;;253    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
0002e2  7dc0              LDRB     r0,[r0,#0x17]
0002e4  70e0              STRB     r0,[r4,#3]
;;;254    	ptr_can1_tx_wr++;
0002e6  1c49              ADDS     r1,r1,#1
0002e8  b2c8              UXTB     r0,r1
0002ea  7090              STRB     r0,[r2,#2]
;;;255    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0002ec  e0b0              B        |L1.1104|
                  |L1.750|
;;;256    	}	
;;;257    
;;;258    else if(num<=32)
0002ee  2920              CMP      r1,#0x20
0002f0  d87d              BHI      |L1.1006|
;;;259    	{
;;;260    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
;;;261    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0002f2  f8df811c          LDR      r8,|L1.1040|
0002f6  f8457022          STR      r7,[r5,r2,LSL #2]     ;260
0002fa  f1080820          ADD      r8,r8,#0x20
0002fe  f04f0c9e          MOV      r12,#0x9e
000302  f848c022          STR      r12,[r8,r2,LSL #2]
;;;262    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
000306  f8908000          LDRB     r8,[r0,#0]
00030a  f80b8022          STRB     r8,[r11,r2,LSL #2]
;;;263    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
00030e  f890c001          LDRB     r12,[r0,#1]
000312  f884c001          STRB     r12,[r4,#1]
;;;264    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
000316  f890c002          LDRB     r12,[r0,#2]
00031a  f884c002          STRB     r12,[r4,#2]
;;;265    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
00031e  f890c003          LDRB     r12,[r0,#3]
000322  f884c003          STRB     r12,[r4,#3]
;;;266    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
000326  f890c004          LDRB     r12,[r0,#4]
00032a  f80ec022          STRB     r12,[lr,r2,LSL #2]
;;;267    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
00032e  7942              LDRB     r2,[r0,#5]
000330  705a              STRB     r2,[r3,#1]
;;;268    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
000332  7982              LDRB     r2,[r0,#6]
000334  709a              STRB     r2,[r3,#2]
;;;269    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
000336  79c2              LDRB     r2,[r0,#7]
000338  70da              STRB     r2,[r3,#3]
;;;270    	ptr_can1_tx_wr++;
00033a  4653              MOV      r3,r10
00033c  f88a9002          STRB     r9,[r10,#2]
;;;271    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000340  f1b90f08          CMP      r9,#8
000344  d300              BCC      |L1.840|
000346  709e              STRB     r6,[r3,#2]
                  |L1.840|
;;;272    
;;;273    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000348  f89a2002          LDRB     r2,[r10,#2]  ; ptr_can1_tx_wr
;;;274    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00034c  4b30              LDR      r3,|L1.1040|
00034e  f04f0c9e          MOV      r12,#0x9e
000352  3320              ADDS     r3,r3,#0x20
000354  f8457022          STR      r7,[r5,r2,LSL #2]     ;273
000358  f843c022          STR      r12,[r3,r2,LSL #2]
;;;275    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
00035c  7a04              LDRB     r4,[r0,#8]
00035e  f80b4022          STRB     r4,[r11,r2,LSL #2]
;;;276    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
000362  eb0b0382          ADD      r3,r11,r2,LSL #2
000366  7a44              LDRB     r4,[r0,#9]
000368  705c              STRB     r4,[r3,#1]
;;;277    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
00036a  7a84              LDRB     r4,[r0,#0xa]
00036c  709c              STRB     r4,[r3,#2]
;;;278    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
00036e  7ac4              LDRB     r4,[r0,#0xb]
000370  70dc              STRB     r4,[r3,#3]
;;;279    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000372  7b04              LDRB     r4,[r0,#0xc]
000374  f80e4022          STRB     r4,[lr,r2,LSL #2]
;;;280    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
000378  eb0e0382          ADD      r3,lr,r2,LSL #2
00037c  7b44              LDRB     r4,[r0,#0xd]
00037e  705c              STRB     r4,[r3,#1]
;;;281    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
000380  7b84              LDRB     r4,[r0,#0xe]
000382  709c              STRB     r4,[r3,#2]
;;;282    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
000384  7bc4              LDRB     r4,[r0,#0xf]
;;;283    	ptr_can1_tx_wr++;
000386  1c52              ADDS     r2,r2,#1
000388  46d0              MOV      r8,r10                ;273
00038a  70dc              STRB     r4,[r3,#3]            ;282
00038c  b2d2              UXTB     r2,r2
00038e  46d9              MOV      r9,r11                ;275
000390  4643              MOV      r3,r8
000392  f8882002          STRB     r2,[r8,#2]
;;;284    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000396  2a08              CMP      r2,#8
000398  d300              BCC      |L1.924|
00039a  709e              STRB     r6,[r3,#2]
                  |L1.924|
;;;285    	
;;;286    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
00039c  f8982002          LDRB     r2,[r8,#2]  ; ptr_can1_tx_wr
;;;287    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0003a0  4b1b              LDR      r3,|L1.1040|
0003a2  f8457022          STR      r7,[r5,r2,LSL #2]     ;286
0003a6  3320              ADDS     r3,r3,#0x20
;;;288    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
;;;289    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
;;;290    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
;;;291    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
;;;292    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
;;;293    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
0003a8  eb0e0782          ADD      r7,lr,r2,LSL #2
0003ac  f843c022          STR      r12,[r3,r2,LSL #2]    ;287
0003b0  7c04              LDRB     r4,[r0,#0x10]         ;288
0003b2  f8094022          STRB     r4,[r9,r2,LSL #2]     ;288
0003b6  eb090382          ADD      r3,r9,r2,LSL #2       ;289
0003ba  7c44              LDRB     r4,[r0,#0x11]         ;289
0003bc  705c              STRB     r4,[r3,#1]            ;289
0003be  7c84              LDRB     r4,[r0,#0x12]         ;290
0003c0  709c              STRB     r4,[r3,#2]            ;290
0003c2  7cc4              LDRB     r4,[r0,#0x13]         ;291
0003c4  70dc              STRB     r4,[r3,#3]            ;291
0003c6  7d04              LDRB     r4,[r0,#0x14]         ;292
0003c8  f80e4022          STRB     r4,[lr,r2,LSL #2]     ;292
0003cc  7d44              LDRB     r4,[r0,#0x15]
0003ce  707c              STRB     r4,[r7,#1]
;;;294    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
0003d0  7d84              LDRB     r4,[r0,#0x16]
0003d2  70bc              STRB     r4,[r7,#2]
;;;295    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
0003d4  7dc4              LDRB     r4,[r0,#0x17]
;;;296    	ptr_can1_tx_wr++;
0003d6  1c52              ADDS     r2,r2,#1
0003d8  70fc              STRB     r4,[r7,#3]            ;295
0003da  b2d2              UXTB     r2,r2
0003dc  4673              MOV      r3,lr                 ;292
0003de  4644              MOV      r4,r8
0003e0  f8882002          STRB     r2,[r8,#2]
;;;297    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0003e4  2a08              CMP      r2,#8
0003e6  d300              BCC      |L1.1002|
0003e8  70a6              STRB     r6,[r4,#2]
                  |L1.1002|
;;;298    	
;;;299    	can1_info[ptr_can1_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
0003ea  3918              SUBS     r1,r1,#0x18
0003ec  e000              B        |L1.1008|
                  |L1.1006|
0003ee  e033              B        |L1.1112|
                  |L1.1008|
0003f0  f44f2270          MOV      r2,#0xf0000
0003f4  ea024201          AND      r2,r2,r1,LSL #16
0003f8  4644              MOV      r4,r8
0003fa  f8981002          LDRB     r1,[r8,#2]  ; ptr_can1_tx_wr
0003fe  e009              B        |L1.1044|
                  |L1.1024|
                          DCD      ||.bss||+0x124
                  |L1.1028|
                          DCD      ||.constdata||
                  |L1.1032|
                          DCD      ||.constdata||+0x100
                  |L1.1036|
                          DCD      ||.data||
                  |L1.1040|
                          DCD      ||.bss||
                  |L1.1044|
000414  f8452021          STR      r2,[r5,r1,LSL #2]
;;;300    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000418  4aff              LDR      r2,|L1.2072|
00041a  f842c021          STR      r12,[r2,r1,LSL #2]
;;;301    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[24];
00041e  7e07              LDRB     r7,[r0,#0x18]
000420  f8097021          STRB     r7,[r9,r1,LSL #2]
;;;302    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[25];
000424  eb090281          ADD      r2,r9,r1,LSL #2
000428  7e47              LDRB     r7,[r0,#0x19]
00042a  7057              STRB     r7,[r2,#1]
;;;303    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[26];
00042c  7e87              LDRB     r7,[r0,#0x1a]
00042e  7097              STRB     r7,[r2,#2]
;;;304    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[27];
000430  7ec7              LDRB     r7,[r0,#0x1b]
000432  70d7              STRB     r7,[r2,#3]
;;;305    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[28];
000434  7f02              LDRB     r2,[r0,#0x1c]
000436  f8032021          STRB     r2,[r3,r1,LSL #2]
;;;306    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[29];
00043a  eb0e0381          ADD      r3,lr,r1,LSL #2
00043e  7f42              LDRB     r2,[r0,#0x1d]
000440  705a              STRB     r2,[r3,#1]
;;;307    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[30];
000442  7f82              LDRB     r2,[r0,#0x1e]
000444  709a              STRB     r2,[r3,#2]
;;;308    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[31];	
000446  7fc0              LDRB     r0,[r0,#0x1f]
000448  70d8              STRB     r0,[r3,#3]
;;;309    	ptr_can1_tx_wr++;
00044a  1c49              ADDS     r1,r1,#1
00044c  b2c8              UXTB     r0,r1
00044e  70a0              STRB     r0,[r4,#2]
                  |L1.1104|
;;;310    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
000450  2808              CMP      r0,#8
000452  d301              BCC      |L1.1112|
000454  f8886002          STRB     r6,[r8,#2]
                  |L1.1112|
;;;311    	}	
;;;312    
;;;313    
;;;314    if(bOUT_FREE)
000458  f89a1000          LDRB     r1,[r10,#0]  ; bOUT_FREE
00045c  4650              MOV      r0,r10
00045e  2900              CMP      r1,#0
000460  d018              BEQ      |L1.1172|
;;;315    	{
;;;316    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
000462  78c1              LDRB     r1,[r0,#3]  ; ptr_can1_tx_rd
000464  4aed              LDR      r2,|L1.2076|
000466  f8553021          LDR      r3,[r5,r1,LSL #2]
00046a  6313              STR      r3,[r2,#0x30]
;;;317         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
00046c  4bea              LDR      r3,|L1.2072|
00046e  f8533021          LDR      r3,[r3,r1,LSL #2]
000472  6353              STR      r3,[r2,#0x34]
;;;318         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
000474  f85b3021          LDR      r3,[r11,r1,LSL #2]
000478  6393              STR      r3,[r2,#0x38]
;;;319         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
00047a  f85e3021          LDR      r3,[lr,r1,LSL #2]
00047e  63d3              STR      r3,[r2,#0x3c]
;;;320         LPC_CAN1->CMR=0x00000021;
000480  2321              MOVS     r3,#0x21
000482  6053              STR      r3,[r2,#4]
;;;321         ptr_can1_tx_rd++;
000484  1c49              ADDS     r1,r1,#1
000486  b2c9              UXTB     r1,r1
000488  70c1              STRB     r1,[r0,#3]
;;;322         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
00048a  2908              CMP      r1,#8
00048c  d300              BCC      |L1.1168|
00048e  70c6              STRB     r6,[r0,#3]
                  |L1.1168|
;;;323         bOUT_FREE=0;	
000490  f88a6000          STRB     r6,[r10,#0]
                  |L1.1172|
;;;324    	}
;;;325    
;;;326    }	
000494  e8bd8ff0          POP      {r4-r11,pc}
;;;327    
                          ENDP

                  can2_out_adr PROC
;;;328    //-----------------------------------------------
;;;329    void can2_out_adr(char* ptr,char num)
000498  e92d4ff0          PUSH     {r4-r11,lr}
;;;330    {
;;;331    
;;;332    if(num<=8)
;;;333    	{
;;;334    	can2_info[ptr_can2_tx_wr]=(((long)num)<<16)&0x000f0000UL;
00049c  f8dfa380          LDR      r10,|L1.2080|
0004a0  4ddd              LDR      r5,|L1.2072|
;;;335    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
;;;336    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
;;;337    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
;;;338    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
;;;339    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
;;;340    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
;;;341    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
;;;342    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
;;;343    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
;;;344    	ptr_can2_tx_wr++;
;;;345    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0004a2  2600              MOVS     r6,#0
0004a4  f89a2004          LDRB     r2,[r10,#4]           ;334
0004a8  3560              ADDS     r5,r5,#0x60           ;334
0004aa  1c53              ADDS     r3,r2,#1              ;344
0004ac  b2db              UXTB     r3,r3                 ;344
0004ae  4699              MOV      r9,r3                 ;344
0004b0  f1050b40          ADD      r11,r5,#0x40          ;336
0004b4  f1050e60          ADD      lr,r5,#0x60           ;340
0004b8  f04f0c9e          MOV      r12,#0x9e             ;335
0004bc  eb0e0382          ADD      r3,lr,r2,LSL #2       ;340
0004c0  eb0b0482          ADD      r4,r11,r2,LSL #2      ;336
0004c4  2908              CMP      r1,#8                 ;332
0004c6  d824              BHI      |L1.1298|
0004c8  f44f2770          MOV      r7,#0xf0000           ;334
0004cc  ea074101          AND      r1,r7,r1,LSL #16      ;334
0004d0  f8451022          STR      r1,[r5,r2,LSL #2]     ;334
0004d4  f1050120          ADD      r1,r5,#0x20           ;335
0004d8  46d0              MOV      r8,r10                ;334
0004da  f841c022          STR      r12,[r1,r2,LSL #2]    ;335
0004de  7807              LDRB     r7,[r0,#0]            ;336
0004e0  f80b7022          STRB     r7,[r11,r2,LSL #2]    ;336
0004e4  7841              LDRB     r1,[r0,#1]            ;337
0004e6  7061              STRB     r1,[r4,#1]            ;337
0004e8  7881              LDRB     r1,[r0,#2]            ;338
0004ea  70a1              STRB     r1,[r4,#2]            ;338
0004ec  78c1              LDRB     r1,[r0,#3]            ;339
0004ee  70e1              STRB     r1,[r4,#3]            ;339
0004f0  7904              LDRB     r4,[r0,#4]            ;340
0004f2  f80e4022          STRB     r4,[lr,r2,LSL #2]     ;340
0004f6  7941              LDRB     r1,[r0,#5]            ;341
0004f8  7059              STRB     r1,[r3,#1]            ;341
0004fa  7981              LDRB     r1,[r0,#6]            ;342
0004fc  7099              STRB     r1,[r3,#2]            ;342
0004fe  79c0              LDRB     r0,[r0,#7]            ;343
000500  70d8              STRB     r0,[r3,#3]            ;343
000502  f8889004          STRB     r9,[r8,#4]            ;344
000506  f1b90f08          CMP      r9,#8
00050a  d301              BCC      |L1.1296|
00050c  f88a6004          STRB     r6,[r10,#4]
                  |L1.1296|
000510  e196              B        |L1.2112|
                  |L1.1298|
;;;346    	}
;;;347    	
;;;348    else if(num<=16)
;;;349    	{
;;;350    	
;;;351    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000512  f44f2700          MOV      r7,#0x80000
000516  2910              CMP      r1,#0x10              ;348
000518  d856              BHI      |L1.1480|
;;;352    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
00051a  f8dfc2fc          LDR      r12,|L1.2072|
00051e  f8457022          STR      r7,[r5,r2,LSL #2]     ;351
000522  279e              MOVS     r7,#0x9e
000524  f10c0c80          ADD      r12,r12,#0x80
;;;353    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
;;;354    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
;;;355    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
;;;356    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
;;;357    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
;;;358    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
;;;359    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
;;;360    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
;;;361    	ptr_can2_tx_wr++;
;;;362    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000528  f1b90f08          CMP      r9,#8
00052c  f84c7022          STR      r7,[r12,r2,LSL #2]    ;352
000530  f8908000          LDRB     r8,[r0,#0]            ;353
000534  f80b8022          STRB     r8,[r11,r2,LSL #2]    ;353
000538  f8908001          LDRB     r8,[r0,#1]            ;354
00053c  f8848001          STRB     r8,[r4,#1]            ;354
000540  f8908002          LDRB     r8,[r0,#2]            ;355
000544  f8848002          STRB     r8,[r4,#2]            ;355
000548  f8908003          LDRB     r8,[r0,#3]            ;356
00054c  f8848003          STRB     r8,[r4,#3]            ;356
000550  f8908004          LDRB     r8,[r0,#4]            ;357
000554  f80e8022          STRB     r8,[lr,r2,LSL #2]     ;357
000558  7942              LDRB     r2,[r0,#5]            ;358
00055a  705a              STRB     r2,[r3,#1]            ;358
00055c  7982              LDRB     r2,[r0,#6]            ;359
00055e  709a              STRB     r2,[r3,#2]            ;359
000560  79c2              LDRB     r2,[r0,#7]            ;360
000562  70da              STRB     r2,[r3,#3]            ;360
000564  465f              MOV      r7,r11                ;353
000566  4674              MOV      r4,lr                 ;357
000568  4653              MOV      r3,r10                ;361
00056a  f88a9004          STRB     r9,[r10,#4]           ;361
00056e  d300              BCC      |L1.1394|
000570  711e              STRB     r6,[r3,#4]
                  |L1.1394|
;;;363    	
;;;364    	can2_info[ptr_can2_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
000572  3908              SUBS     r1,r1,#8
000574  f44f2270          MOV      r2,#0xf0000
000578  ea024201          AND      r2,r2,r1,LSL #16
00057c  f89a1004          LDRB     r1,[r10,#4]  ; ptr_can2_tx_wr
;;;365    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
;;;366    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
;;;367    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
000580  eb0b0381          ADD      r3,r11,r1,LSL #2
000584  f8452021          STR      r2,[r5,r1,LSL #2]     ;364
000588  229e              MOVS     r2,#0x9e              ;365
00058a  f84c2021          STR      r2,[r12,r1,LSL #2]    ;365
00058e  7a02              LDRB     r2,[r0,#8]            ;366
000590  f8072021          STRB     r2,[r7,r1,LSL #2]     ;366
000594  7a42              LDRB     r2,[r0,#9]
000596  705a              STRB     r2,[r3,#1]
;;;368    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
000598  7a82              LDRB     r2,[r0,#0xa]
00059a  709a              STRB     r2,[r3,#2]
;;;369    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
00059c  7ac2              LDRB     r2,[r0,#0xb]
00059e  70da              STRB     r2,[r3,#3]
;;;370    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
0005a0  7b02              LDRB     r2,[r0,#0xc]
0005a2  f8042021          STRB     r2,[r4,r1,LSL #2]
;;;371    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
0005a6  eb0e0281          ADD      r2,lr,r1,LSL #2
0005aa  7b43              LDRB     r3,[r0,#0xd]
0005ac  7053              STRB     r3,[r2,#1]
;;;372    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
0005ae  7b83              LDRB     r3,[r0,#0xe]
0005b0  7093              STRB     r3,[r2,#2]
;;;373    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
0005b2  7bc0              LDRB     r0,[r0,#0xf]
0005b4  70d0              STRB     r0,[r2,#3]
;;;374    	ptr_can2_tx_wr++;
0005b6  1c49              ADDS     r1,r1,#1
0005b8  b2c8              UXTB     r0,r1
0005ba  4651              MOV      r1,r10
0005bc  f88a0004          STRB     r0,[r10,#4]
;;;375    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0005c0  2808              CMP      r0,#8
0005c2  d3a5              BCC      |L1.1296|
0005c4  710e              STRB     r6,[r1,#4]
0005c6  e13b              B        |L1.2112|
                  |L1.1480|
;;;376    		
;;;377    	}	
;;;378    
;;;379    else if(num<=24)
0005c8  2918              CMP      r1,#0x18
0005ca  d87e              BHI      |L1.1738|
;;;380    	{
;;;381    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
;;;382    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0005cc  f8df8248          LDR      r8,|L1.2072|
0005d0  f8457022          STR      r7,[r5,r2,LSL #2]     ;381
0005d4  f1080880          ADD      r8,r8,#0x80
0005d8  f04f0c9e          MOV      r12,#0x9e
0005dc  f848c022          STR      r12,[r8,r2,LSL #2]
;;;383    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
0005e0  f8908000          LDRB     r8,[r0,#0]
0005e4  f80b8022          STRB     r8,[r11,r2,LSL #2]
;;;384    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
0005e8  f890c001          LDRB     r12,[r0,#1]
0005ec  f884c001          STRB     r12,[r4,#1]
;;;385    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
0005f0  f890c002          LDRB     r12,[r0,#2]
0005f4  f884c002          STRB     r12,[r4,#2]
;;;386    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
0005f8  f890c003          LDRB     r12,[r0,#3]
0005fc  f884c003          STRB     r12,[r4,#3]
;;;387    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
000600  f890c004          LDRB     r12,[r0,#4]
000604  f80ec022          STRB     r12,[lr,r2,LSL #2]
;;;388    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
000608  7942              LDRB     r2,[r0,#5]
00060a  705a              STRB     r2,[r3,#1]
;;;389    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
00060c  7982              LDRB     r2,[r0,#6]
00060e  709a              STRB     r2,[r3,#2]
;;;390    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
000610  79c2              LDRB     r2,[r0,#7]
000612  70da              STRB     r2,[r3,#3]
000614  4674              MOV      r4,lr                 ;387
;;;391    	ptr_can2_tx_wr++;
000616  4653              MOV      r3,r10
000618  f88a9004          STRB     r9,[r10,#4]
;;;392    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00061c  f1b90f08          CMP      r9,#8
000620  d300              BCC      |L1.1572|
000622  711e              STRB     r6,[r3,#4]
                  |L1.1572|
;;;393    
;;;394    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000624  f89a2004          LDRB     r2,[r10,#4]  ; ptr_can2_tx_wr
;;;395    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000628  f8df91ec          LDR      r9,|L1.2072|
;;;396    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
;;;397    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
00062c  eb0b0382          ADD      r3,r11,r2,LSL #2
000630  f8457022          STR      r7,[r5,r2,LSL #2]     ;394
000634  f1090980          ADD      r9,r9,#0x80           ;395
000638  279e              MOVS     r7,#0x9e              ;395
00063a  f8497022          STR      r7,[r9,r2,LSL #2]     ;395
00063e  f890c008          LDRB     r12,[r0,#8]           ;396
000642  f80bc022          STRB     r12,[r11,r2,LSL #2]   ;396
000646  f890c009          LDRB     r12,[r0,#9]
00064a  f883c001          STRB     r12,[r3,#1]
;;;398    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
00064e  f890c00a          LDRB     r12,[r0,#0xa]
000652  f883c002          STRB     r12,[r3,#2]
;;;399    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
000656  f890c00b          LDRB     r12,[r0,#0xb]
00065a  f883c003          STRB     r12,[r3,#3]
;;;400    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
00065e  7b03              LDRB     r3,[r0,#0xc]
000660  f8043022          STRB     r3,[r4,r2,LSL #2]
;;;401    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
000664  eb040c82          ADD      r12,r4,r2,LSL #2
000668  7b43              LDRB     r3,[r0,#0xd]
00066a  f88c3001          STRB     r3,[r12,#1]
;;;402    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
00066e  7b83              LDRB     r3,[r0,#0xe]
000670  f88c3002          STRB     r3,[r12,#2]
;;;403    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
000674  7bc3              LDRB     r3,[r0,#0xf]
;;;404    	ptr_can2_tx_wr++;
000676  1c52              ADDS     r2,r2,#1
000678  46d0              MOV      r8,r10                ;394
00067a  f88c3003          STRB     r3,[r12,#3]           ;403
00067e  b2d2              UXTB     r2,r2
000680  4643              MOV      r3,r8
000682  f8882004          STRB     r2,[r8,#4]
;;;405    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000686  2a08              CMP      r2,#8
000688  d300              BCC      |L1.1676|
00068a  711e              STRB     r6,[r3,#4]
                  |L1.1676|
;;;406    	
;;;407    	can2_info[ptr_can2_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
00068c  3910              SUBS     r1,r1,#0x10
00068e  f44f2270          MOV      r2,#0xf0000
000692  ea024301          AND      r3,r2,r1,LSL #16
000696  f8981004          LDRB     r1,[r8,#4]  ; ptr_can2_tx_wr
00069a  4642              MOV      r2,r8
00069c  f8453021          STR      r3,[r5,r1,LSL #2]
;;;408    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0006a0  f8497021          STR      r7,[r9,r1,LSL #2]
;;;409    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
0006a4  7c07              LDRB     r7,[r0,#0x10]
0006a6  f80b7021          STRB     r7,[r11,r1,LSL #2]
;;;410    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
0006aa  eb0b0381          ADD      r3,r11,r1,LSL #2
0006ae  7c47              LDRB     r7,[r0,#0x11]
0006b0  705f              STRB     r7,[r3,#1]
;;;411    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
0006b2  7c87              LDRB     r7,[r0,#0x12]
0006b4  709f              STRB     r7,[r3,#2]
;;;412    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
0006b6  7cc7              LDRB     r7,[r0,#0x13]
0006b8  70df              STRB     r7,[r3,#3]
;;;413    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
0006ba  7d03              LDRB     r3,[r0,#0x14]
0006bc  f8043021          STRB     r3,[r4,r1,LSL #2]
;;;414    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
0006c0  eb0e0481          ADD      r4,lr,r1,LSL #2
0006c4  7d43              LDRB     r3,[r0,#0x15]
0006c6  7063              STRB     r3,[r4,#1]
;;;415    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
0006c8  e000              B        |L1.1740|
                  |L1.1738|
0006ca  e007              B        |L1.1756|
                  |L1.1740|
0006cc  7d83              LDRB     r3,[r0,#0x16]
0006ce  70a3              STRB     r3,[r4,#2]
;;;416    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
0006d0  7dc0              LDRB     r0,[r0,#0x17]
0006d2  70e0              STRB     r0,[r4,#3]
;;;417    	ptr_can2_tx_wr++;
0006d4  1c49              ADDS     r1,r1,#1
0006d6  b2c8              UXTB     r0,r1
0006d8  7110              STRB     r0,[r2,#4]
;;;418    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
0006da  e0ad              B        |L1.2104|
                  |L1.1756|
;;;419    	}	
;;;420    
;;;421    else if(num<=32)
0006dc  2920              CMP      r1,#0x20
0006de  d87d              BHI      |L1.2012|
;;;422    	{
;;;423    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
;;;424    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0006e0  f8df8134          LDR      r8,|L1.2072|
0006e4  f8457022          STR      r7,[r5,r2,LSL #2]     ;423
0006e8  f1080880          ADD      r8,r8,#0x80
0006ec  f04f0c9e          MOV      r12,#0x9e
0006f0  f848c022          STR      r12,[r8,r2,LSL #2]
;;;425    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
0006f4  f8908000          LDRB     r8,[r0,#0]
0006f8  f80b8022          STRB     r8,[r11,r2,LSL #2]
;;;426    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
0006fc  f890c001          LDRB     r12,[r0,#1]
000700  f884c001          STRB     r12,[r4,#1]
;;;427    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
000704  f890c002          LDRB     r12,[r0,#2]
000708  f884c002          STRB     r12,[r4,#2]
;;;428    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
00070c  f890c003          LDRB     r12,[r0,#3]
000710  f884c003          STRB     r12,[r4,#3]
;;;429    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
000714  f890c004          LDRB     r12,[r0,#4]
000718  f80ec022          STRB     r12,[lr,r2,LSL #2]
;;;430    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
00071c  7942              LDRB     r2,[r0,#5]
00071e  705a              STRB     r2,[r3,#1]
;;;431    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
000720  7982              LDRB     r2,[r0,#6]
000722  709a              STRB     r2,[r3,#2]
;;;432    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
000724  79c2              LDRB     r2,[r0,#7]
000726  70da              STRB     r2,[r3,#3]
;;;433    	ptr_can2_tx_wr++;
000728  4653              MOV      r3,r10
00072a  f88a9004          STRB     r9,[r10,#4]
;;;434    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00072e  f1b90f08          CMP      r9,#8
000732  d300              BCC      |L1.1846|
000734  711e              STRB     r6,[r3,#4]
                  |L1.1846|
;;;435    
;;;436    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000736  f89a2004          LDRB     r2,[r10,#4]  ; ptr_can2_tx_wr
;;;437    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
00073a  4b37              LDR      r3,|L1.2072|
00073c  f04f0c9e          MOV      r12,#0x9e
000740  3380              ADDS     r3,r3,#0x80
000742  f8457022          STR      r7,[r5,r2,LSL #2]     ;436
000746  f843c022          STR      r12,[r3,r2,LSL #2]
;;;438    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
00074a  7a04              LDRB     r4,[r0,#8]
00074c  f80b4022          STRB     r4,[r11,r2,LSL #2]
;;;439    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
000750  eb0b0382          ADD      r3,r11,r2,LSL #2
000754  7a44              LDRB     r4,[r0,#9]
000756  705c              STRB     r4,[r3,#1]
;;;440    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
000758  7a84              LDRB     r4,[r0,#0xa]
00075a  709c              STRB     r4,[r3,#2]
;;;441    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
00075c  7ac4              LDRB     r4,[r0,#0xb]
00075e  70dc              STRB     r4,[r3,#3]
;;;442    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
000760  7b04              LDRB     r4,[r0,#0xc]
000762  f80e4022          STRB     r4,[lr,r2,LSL #2]
;;;443    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
000766  eb0e0382          ADD      r3,lr,r2,LSL #2
00076a  7b44              LDRB     r4,[r0,#0xd]
00076c  705c              STRB     r4,[r3,#1]
;;;444    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
00076e  7b84              LDRB     r4,[r0,#0xe]
000770  709c              STRB     r4,[r3,#2]
;;;445    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
000772  7bc4              LDRB     r4,[r0,#0xf]
;;;446    	ptr_can2_tx_wr++;
000774  1c52              ADDS     r2,r2,#1
000776  46d0              MOV      r8,r10                ;436
000778  70dc              STRB     r4,[r3,#3]            ;445
00077a  b2d2              UXTB     r2,r2
00077c  46d9              MOV      r9,r11                ;438
00077e  4643              MOV      r3,r8
000780  f8882004          STRB     r2,[r8,#4]
;;;447    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000784  2a08              CMP      r2,#8
000786  d300              BCC      |L1.1930|
000788  711e              STRB     r6,[r3,#4]
                  |L1.1930|
;;;448    	
;;;449    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
00078a  f8982004          LDRB     r2,[r8,#4]  ; ptr_can2_tx_wr
;;;450    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
00078e  4b22              LDR      r3,|L1.2072|
000790  f8457022          STR      r7,[r5,r2,LSL #2]     ;449
000794  3380              ADDS     r3,r3,#0x80
;;;451    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
;;;452    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
;;;453    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
;;;454    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
;;;455    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
;;;456    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
000796  eb0e0782          ADD      r7,lr,r2,LSL #2
00079a  f843c022          STR      r12,[r3,r2,LSL #2]    ;450
00079e  7c04              LDRB     r4,[r0,#0x10]         ;451
0007a0  f8094022          STRB     r4,[r9,r2,LSL #2]     ;451
0007a4  eb090382          ADD      r3,r9,r2,LSL #2       ;452
0007a8  7c44              LDRB     r4,[r0,#0x11]         ;452
0007aa  705c              STRB     r4,[r3,#1]            ;452
0007ac  7c84              LDRB     r4,[r0,#0x12]         ;453
0007ae  709c              STRB     r4,[r3,#2]            ;453
0007b0  7cc4              LDRB     r4,[r0,#0x13]         ;454
0007b2  70dc              STRB     r4,[r3,#3]            ;454
0007b4  7d04              LDRB     r4,[r0,#0x14]         ;455
0007b6  f80e4022          STRB     r4,[lr,r2,LSL #2]     ;455
0007ba  7d44              LDRB     r4,[r0,#0x15]
0007bc  707c              STRB     r4,[r7,#1]
;;;457    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
0007be  7d84              LDRB     r4,[r0,#0x16]
0007c0  70bc              STRB     r4,[r7,#2]
;;;458    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
0007c2  7dc4              LDRB     r4,[r0,#0x17]
;;;459    	ptr_can2_tx_wr++;
0007c4  1c52              ADDS     r2,r2,#1
0007c6  70fc              STRB     r4,[r7,#3]            ;458
0007c8  b2d2              UXTB     r2,r2
0007ca  4673              MOV      r3,lr                 ;455
0007cc  4644              MOV      r4,r8
0007ce  f8882004          STRB     r2,[r8,#4]
;;;460    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0007d2  2a08              CMP      r2,#8
0007d4  d300              BCC      |L1.2008|
0007d6  7126              STRB     r6,[r4,#4]
                  |L1.2008|
;;;461    	
;;;462    	can2_info[ptr_can2_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
0007d8  3918              SUBS     r1,r1,#0x18
0007da  e000              B        |L1.2014|
                  |L1.2012|
0007dc  e030              B        |L1.2112|
                  |L1.2014|
0007de  f44f2270          MOV      r2,#0xf0000
0007e2  ea024201          AND      r2,r2,r1,LSL #16
0007e6  f8981004          LDRB     r1,[r8,#4]  ; ptr_can2_tx_wr
0007ea  4644              MOV      r4,r8
0007ec  f8452021          STR      r2,[r5,r1,LSL #2]
;;;463    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0007f0  4a09              LDR      r2,|L1.2072|
0007f2  3280              ADDS     r2,r2,#0x80
0007f4  f842c021          STR      r12,[r2,r1,LSL #2]
;;;464    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[24];
0007f8  7e07              LDRB     r7,[r0,#0x18]
0007fa  f8097021          STRB     r7,[r9,r1,LSL #2]
;;;465    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[25];
0007fe  eb090281          ADD      r2,r9,r1,LSL #2
000802  7e47              LDRB     r7,[r0,#0x19]
000804  7057              STRB     r7,[r2,#1]
;;;466    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[26];
000806  7e87              LDRB     r7,[r0,#0x1a]
000808  7097              STRB     r7,[r2,#2]
;;;467    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[27];
00080a  7ec7              LDRB     r7,[r0,#0x1b]
00080c  70d7              STRB     r7,[r2,#3]
;;;468    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[28];
00080e  7f02              LDRB     r2,[r0,#0x1c]
000810  f8032021          STRB     r2,[r3,r1,LSL #2]
;;;469    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[29];
000814  7f42              LDRB     r2,[r0,#0x1d]
000816  e005              B        |L1.2084|
                  |L1.2072|
                          DCD      ||.bss||+0x20
                  |L1.2076|
                          DCD      0x40044000
                  |L1.2080|
                          DCD      ||.data||
                  |L1.2084|
000824  eb0e0381          ADD      r3,lr,r1,LSL #2
;;;470    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[30];
;;;471    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[31];	
;;;472    	ptr_can2_tx_wr++;
000828  1c49              ADDS     r1,r1,#1
00082a  705a              STRB     r2,[r3,#1]            ;469
00082c  7f82              LDRB     r2,[r0,#0x1e]         ;470
00082e  709a              STRB     r2,[r3,#2]            ;470
000830  7fc0              LDRB     r0,[r0,#0x1f]         ;471
000832  70d8              STRB     r0,[r3,#3]            ;471
000834  b2c8              UXTB     r0,r1
000836  7120              STRB     r0,[r4,#4]
                  |L1.2104|
;;;473    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
000838  2808              CMP      r0,#8
00083a  d301              BCC      |L1.2112|
00083c  f8886004          STRB     r6,[r8,#4]
                  |L1.2112|
;;;474    	}	
;;;475    
;;;476    
;;;477    if(bOUT_FREE2)
000840  f89a1001          LDRB     r1,[r10,#1]  ; bOUT_FREE2
000844  4650              MOV      r0,r10
000846  2900              CMP      r1,#0
000848  d018              BEQ      |L1.2172|
;;;478    	{
;;;479    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
00084a  7941              LDRB     r1,[r0,#5]  ; ptr_can2_tx_rd
00084c  4af9              LDR      r2,|L1.3124|
00084e  f8553021          LDR      r3,[r5,r1,LSL #2]
000852  6313              STR      r3,[r2,#0x30]
;;;480         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
000854  4bf8              LDR      r3,|L1.3128|
000856  f8533021          LDR      r3,[r3,r1,LSL #2]
00085a  6353              STR      r3,[r2,#0x34]
;;;481         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
00085c  f85b3021          LDR      r3,[r11,r1,LSL #2]
000860  6393              STR      r3,[r2,#0x38]
;;;482         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
000862  f85e3021          LDR      r3,[lr,r1,LSL #2]
000866  63d3              STR      r3,[r2,#0x3c]
;;;483         LPC_CAN2->CMR=0x00000021;
000868  2321              MOVS     r3,#0x21
00086a  6053              STR      r3,[r2,#4]
;;;484         ptr_can2_tx_rd++;
00086c  1c49              ADDS     r1,r1,#1
00086e  b2c9              UXTB     r1,r1
000870  7141              STRB     r1,[r0,#5]
;;;485         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
000872  2908              CMP      r1,#8
000874  d300              BCC      |L1.2168|
000876  7146              STRB     r6,[r0,#5]
                  |L1.2168|
;;;486         bOUT_FREE2=0;	
000878  f88a6001          STRB     r6,[r10,#1]
                  |L1.2172|
;;;487    	}
;;;488    
;;;489    }
00087c  e60a              B        |L1.1172|
;;;490    
                          ENDP

                  paking PROC
;;;491    //-----------------------------------------------
;;;492    void paking(char* data_ptr,char data_len)
00087e  b570              PUSH     {r4-r6,lr}
;;;493    {
;;;494    char i,ii,iii;
;;;495    for(i=0;i<data_len;i++)
000880  2200              MOVS     r2,#0
;;;496    	{
;;;497    	ii=data_len+(i/7);
000882  2407              MOVS     r4,#7
000884  e020              B        |L1.2248|
000886  bf00              NOP      
                  |L1.2184|
000888  fbb2f5f4          UDIV     r5,r2,r4
00088c  186b              ADDS     r3,r5,r1
;;;498    	iii=i-(7*(i/7)); 
00088e  eba505c5          SUB      r5,r5,r5,LSL #3
000892  4415              ADD      r5,r5,r2
000894  b2db              UXTB     r3,r3                 ;497
000896  f0150fff          TST      r5,#0xff
;;;499    	if(iii==0) data_ptr[ii]=0;
00089a  d101              BNE      |L1.2208|
00089c  2500              MOVS     r5,#0
00089e  54c5              STRB     r5,[r0,r3]
                  |L1.2208|
;;;500    	data_ptr[ii]<<=1;
0008a0  5cc5              LDRB     r5,[r0,r3]
0008a2  066d              LSLS     r5,r5,#25
0008a4  0e2d              LSRS     r5,r5,#24
0008a6  54c5              STRB     r5,[r0,r3]
;;;501    	if(data_ptr[i]&0x01)
0008a8  5c86              LDRB     r6,[r0,r2]
0008aa  07f6              LSLS     r6,r6,#31
0008ac  d002              BEQ      |L1.2228|
;;;502    		{
;;;503    		data_ptr[ii]|=0x01;//(1<<(6-iii));
0008ae  f0450501          ORR      r5,r5,#1
0008b2  e001              B        |L1.2232|
                  |L1.2228|
;;;504    		}                      
;;;505    	else 
;;;506    		{
;;;507    		data_ptr[ii]&=0xfe;//~(1<<(6-iii));
0008b4  f00505fe          AND      r5,r5,#0xfe
                  |L1.2232|
0008b8  54c5              STRB     r5,[r0,r3]
;;;508    		}              
;;;509    	data_ptr[i]>>=1;	        
0008ba  5c83              LDRB     r3,[r0,r2]
0008bc  085b              LSRS     r3,r3,#1
;;;510    	data_ptr[i]|=0x80;	
0008be  f0430380          ORR      r3,r3,#0x80
0008c2  5483              STRB     r3,[r0,r2]
0008c4  1c52              ADDS     r2,r2,#1              ;495
0008c6  b2d2              UXTB     r2,r2                 ;495
                  |L1.2248|
0008c8  428a              CMP      r2,r1                 ;495
0008ca  d3dd              BCC      |L1.2184|
;;;511    	}                       
;;;512    for(i=data_len;i<(data_len+(data_len/7)+1);i++)
0008cc  fbb1f2f4          UDIV     r2,r1,r4
0008d0  440a              ADD      r2,r2,r1
0008d2  1c52              ADDS     r2,r2,#1
0008d4  e005              B        |L1.2274|
                  |L1.2262|
;;;513    	{
;;;514    	data_ptr[i]|=0x80;
0008d6  5c43              LDRB     r3,[r0,r1]
0008d8  f0430380          ORR      r3,r3,#0x80
0008dc  5443              STRB     r3,[r0,r1]
0008de  1c49              ADDS     r1,r1,#1              ;512
0008e0  b2c9              UXTB     r1,r1                 ;512
                  |L1.2274|
0008e2  428a              CMP      r2,r1                 ;512
0008e4  d8f7              BHI      |L1.2262|
;;;515    	}	
;;;516    }
0008e6  bd70              POP      {r4-r6,pc}
;;;517    
                          ENDP

                  can1_out PROC
;;;518    //-----------------------------------------------
;;;519    void can1_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
0008e8  e92d4ff0          PUSH     {r4-r11,lr}
;;;520    {
0008ec  ac09              ADD      r4,sp,#0x24
;;;521    //new_rotor[0]++;
;;;522    can1_info[ptr_can1_tx_wr]=((8UL)<<16)&0x000f0000UL;
0008ee  4fd2              LDR      r7,|L1.3128|
0008f0  e8b44d00          LDM      r4!,{r8,r10,r11,lr}   ;520
0008f4  4cd1              LDR      r4,|L1.3132|
0008f6  3fa0              SUBS     r7,r7,#0xa0
0008f8  f44f2600          MOV      r6,#0x80000
0008fc  78a5              LDRB     r5,[r4,#2]  ; ptr_can1_tx_wr
;;;523    can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0008fe  f1070920          ADD      r9,r7,#0x20
000902  f04f0c9e          MOV      r12,#0x9e
000906  f8476025          STR      r6,[r7,r5,LSL #2]     ;522
;;;524    *((char*)&can1_data[ptr_can1_tx_wr])=dat0;
00090a  f1070640          ADD      r6,r7,#0x40
00090e  f849c025          STR      r12,[r9,r5,LSL #2]    ;523
000912  f8060025          STRB     r0,[r6,r5,LSL #2]
;;;525    *(((char*)&can1_data[ptr_can1_tx_wr])+1)=dat1;
000916  eb060085          ADD      r0,r6,r5,LSL #2
00091a  7041              STRB     r1,[r0,#1]
;;;526    *(((char*)&can1_data[ptr_can1_tx_wr])+2)=dat2;
00091c  7082              STRB     r2,[r0,#2]
;;;527    *(((char*)&can1_data[ptr_can1_tx_wr])+3)=dat3;
00091e  70c3              STRB     r3,[r0,#3]
;;;528    *((char*)&can1_datb[ptr_can1_tx_wr])=dat4;
000920  f1060020          ADD      r0,r6,#0x20
;;;529    *(((char*)&can1_datb[ptr_can1_tx_wr])+1)=dat5;
000924  eb000285          ADD      r2,r0,r5,LSL #2
000928  f8008025          STRB     r8,[r0,r5,LSL #2]     ;528
00092c  f882a001          STRB     r10,[r2,#1]
;;;530    *(((char*)&can1_datb[ptr_can1_tx_wr])+2)=dat6;
000930  f882b002          STRB     r11,[r2,#2]
;;;531    *(((char*)&can1_datb[ptr_can1_tx_wr])+3)=dat7;	
000934  f882e003          STRB     lr,[r2,#3]
;;;532    ptr_can1_tx_wr++;
000938  1c6d              ADDS     r5,r5,#1
00093a  b2e9              UXTB     r1,r5
;;;533    if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
00093c  2200              MOVS     r2,#0
00093e  70a1              STRB     r1,[r4,#2]            ;532
000940  2908              CMP      r1,#8
000942  d300              BCC      |L1.2374|
000944  70a2              STRB     r2,[r4,#2]
                  |L1.2374|
;;;534    
;;;535    
;;;536    if(bOUT_FREE)
000946  7821              LDRB     r1,[r4,#0]  ; bOUT_FREE
000948  2900              CMP      r1,#0
00094a  d016              BEQ      |L1.2426|
;;;537    	{
;;;538    	//rotor_rotor_rotor[1]++;
;;;539    //	new_rotor[1]++;
;;;540    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
00094c  78e1              LDRB     r1,[r4,#3]  ; ptr_can1_tx_rd
00094e  4bbc              LDR      r3,|L1.3136|
000950  f8575021          LDR      r5,[r7,r1,LSL #2]
000954  631d              STR      r5,[r3,#0x30]
;;;541         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
000956  f8595021          LDR      r5,[r9,r1,LSL #2]
00095a  635d              STR      r5,[r3,#0x34]
;;;542         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
00095c  f8565021          LDR      r5,[r6,r1,LSL #2]
000960  639d              STR      r5,[r3,#0x38]
;;;543         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
000962  f8500021          LDR      r0,[r0,r1,LSL #2]
000966  63d8              STR      r0,[r3,#0x3c]
;;;544         LPC_CAN1->CMR=0x00000021;
000968  2021              MOVS     r0,#0x21
00096a  6058              STR      r0,[r3,#4]
;;;545         ptr_can1_tx_rd++;
00096c  1c49              ADDS     r1,r1,#1
00096e  b2c8              UXTB     r0,r1
000970  70e0              STRB     r0,[r4,#3]
;;;546         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
000972  2808              CMP      r0,#8
000974  d300              BCC      |L1.2424|
000976  70e2              STRB     r2,[r4,#3]
                  |L1.2424|
;;;547         bOUT_FREE=0;	
000978  7022              STRB     r2,[r4,#0]
                  |L1.2426|
;;;548    	}
;;;549    }	
00097a  e58b              B        |L1.1172|
;;;550    
                          ENDP

                  can2_out PROC
;;;551    //-----------------------------------------------
;;;552    void can2_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
00097c  e92d4ff0          PUSH     {r4-r11,lr}
;;;553    {
000980  ac09              ADD      r4,sp,#0x24
;;;554    
;;;555    //new_rotor[0]++;
;;;556    can2_info[ptr_can2_tx_wr]=((8UL)<<16)&0x000f0000UL;
000982  4fad              LDR      r7,|L1.3128|
000984  e8b44d00          LDM      r4!,{r8,r10,r11,lr}   ;553
000988  4cac              LDR      r4,|L1.3132|
00098a  3f20              SUBS     r7,r7,#0x20
00098c  f44f2600          MOV      r6,#0x80000
000990  7925              LDRB     r5,[r4,#4]  ; ptr_can2_tx_wr
;;;557    can2_id[ptr_can2_tx_wr]=0x0000018eUL;
000992  f8df92a4          LDR      r9,|L1.3128|
000996  f44f7cc7          MOV      r12,#0x18e
00099a  f8476025          STR      r6,[r7,r5,LSL #2]     ;556
;;;558    *((char*)&can2_data[ptr_can2_tx_wr])=dat0;
00099e  f1070640          ADD      r6,r7,#0x40
0009a2  f849c025          STR      r12,[r9,r5,LSL #2]    ;557
0009a6  f8060025          STRB     r0,[r6,r5,LSL #2]
;;;559    *(((char*)&can2_data[ptr_can2_tx_wr])+1)=dat1;
0009aa  eb060085          ADD      r0,r6,r5,LSL #2
0009ae  7041              STRB     r1,[r0,#1]
;;;560    *(((char*)&can2_data[ptr_can2_tx_wr])+2)=dat2;
0009b0  7082              STRB     r2,[r0,#2]
;;;561    *(((char*)&can2_data[ptr_can2_tx_wr])+3)=dat3;
0009b2  70c3              STRB     r3,[r0,#3]
;;;562    *((char*)&can2_datb[ptr_can2_tx_wr])=dat4;
0009b4  f1060020          ADD      r0,r6,#0x20
;;;563    *(((char*)&can2_datb[ptr_can2_tx_wr])+1)=dat5;
0009b8  eb000285          ADD      r2,r0,r5,LSL #2
0009bc  f8008025          STRB     r8,[r0,r5,LSL #2]     ;562
0009c0  f882a001          STRB     r10,[r2,#1]
;;;564    *(((char*)&can2_datb[ptr_can2_tx_wr])+2)=dat6;
0009c4  f882b002          STRB     r11,[r2,#2]
;;;565    *(((char*)&can2_datb[ptr_can2_tx_wr])+3)=dat7;	
0009c8  f882e003          STRB     lr,[r2,#3]
;;;566    ptr_can2_tx_wr++;
0009cc  1c6d              ADDS     r5,r5,#1
0009ce  b2e9              UXTB     r1,r5
;;;567    if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0009d0  2200              MOVS     r2,#0
0009d2  7121              STRB     r1,[r4,#4]            ;566
0009d4  2908              CMP      r1,#8
0009d6  d300              BCC      |L1.2522|
0009d8  7122              STRB     r2,[r4,#4]
                  |L1.2522|
;;;568    
;;;569    
;;;570    if(bOUT_FREE2)
0009da  7861              LDRB     r1,[r4,#1]  ; bOUT_FREE2
0009dc  2900              CMP      r1,#0
0009de  d016              BEQ      |L1.2574|
;;;571    	{
;;;572    	//rotor_rotor_rotor[1]++;
;;;573    //	new_rotor[1]++;
;;;574    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
0009e0  7961              LDRB     r1,[r4,#5]  ; ptr_can2_tx_rd
0009e2  4b94              LDR      r3,|L1.3124|
0009e4  f8575021          LDR      r5,[r7,r1,LSL #2]
0009e8  631d              STR      r5,[r3,#0x30]
;;;575         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
0009ea  f8595021          LDR      r5,[r9,r1,LSL #2]
0009ee  635d              STR      r5,[r3,#0x34]
;;;576         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
0009f0  f8565021          LDR      r5,[r6,r1,LSL #2]
0009f4  639d              STR      r5,[r3,#0x38]
;;;577         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
0009f6  f8500021          LDR      r0,[r0,r1,LSL #2]
0009fa  63d8              STR      r0,[r3,#0x3c]
;;;578         LPC_CAN2->CMR=0x00000021;
0009fc  2021              MOVS     r0,#0x21
0009fe  6058              STR      r0,[r3,#4]
;;;579         ptr_can2_tx_rd++;
000a00  1c49              ADDS     r1,r1,#1
000a02  b2c8              UXTB     r0,r1
000a04  7160              STRB     r0,[r4,#5]
;;;580         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
000a06  2808              CMP      r0,#8
000a08  d300              BCC      |L1.2572|
000a0a  7162              STRB     r2,[r4,#5]
                  |L1.2572|
;;;581         bOUT_FREE2=0;	
000a0c  7062              STRB     r2,[r4,#1]
                  |L1.2574|
;;;582    	}
;;;583    }	
000a0e  e541              B        |L1.1172|
;;;584    	
                          ENDP

                  can_adr_hndl PROC
;;;586    //-----------------------------------------------
;;;587    void can_adr_hndl(void)
000a10  4889              LDR      r0,|L1.3128|
;;;588    {
;;;589    	TXBUFF[2]=RXBUFF[3];
000a12  3084              ADDS     r0,r0,#0x84
000a14  f1000128          ADD      r1,r0,#0x28
000a18  78c2              LDRB     r2,[r0,#3]  ; RXBUFF
000a1a  708a              STRB     r2,[r1,#2]
;;;590    	TXBUFF[3]=RXBUFF[2];
000a1c  7882              LDRB     r2,[r0,#2]  ; RXBUFF
000a1e  70ca              STRB     r2,[r1,#3]
;;;591    	TXBUFF[4]=((RXBUFF[4]&0xF0)>>4)|((RXBUFF[4]&0x0f)<<4);
000a20  7902              LDRB     r2,[r0,#4]  ; RXBUFF
000a22  0913              LSRS     r3,r2,#4
000a24  ea431202          ORR      r2,r3,r2,LSL #4
000a28  710a              STRB     r2,[r1,#4]
;;;592    	TXBUFF[5]=((RXBUFF[5]&0xF0)>>4)|((RXBUFF[5]&0x0f)<<4);	
000a2a  7940              LDRB     r0,[r0,#5]  ; RXBUFF
000a2c  0902              LSRS     r2,r0,#4
000a2e  ea421000          ORR      r0,r2,r0,LSL #4
000a32  7148              STRB     r0,[r1,#5]
;;;593    }	
000a34  4770              BX       lr
;;;594    
                          ENDP

                  can_in_an2 PROC
;;;595    //-----------------------------------------------
;;;596    void can_in_an2(void)
000a36  e92d4ff0          PUSH     {r4-r11,lr}
;;;597    {
;;;598    if(!bIN) goto CAN_IN_AN_end; 
000a3a  4880              LDR      r0,|L1.3132|
000a3c  b089              SUB      sp,sp,#0x24           ;597
000a3e  f04f0b00          MOV      r11,#0
000a42  79c0              LDRB     r0,[r0,#7]  ; bIN
000a44  2800              CMP      r0,#0
000a46  d07e              BEQ      |L1.2886|
;;;599    //can_debug_plazma[0][1]++;
;;;600    can2_plazma++;
000a48  497e              LDR      r1,|L1.3140|
000a4a  7808              LDRB     r0,[r1,#0]  ; can2_plazma
000a4c  1c40              ADDS     r0,r0,#1
000a4e  7008              STRB     r0,[r1,#0]
;;;601    
;;;602    if(RXBUFF[0]==45)
000a50  4879              LDR      r0,|L1.3128|
000a52  3084              ADDS     r0,r0,#0x84
000a54  7803              LDRB     r3,[r0,#0]  ; RXBUFF
000a56  2b2d              CMP      r3,#0x2d
000a58  d076              BEQ      |L1.2888|
;;;603    	{
;;;604    	tumbler_stat=(enum_tumbler_stat)RXBUFF[1];
;;;605    	if((tumbler_stat!=tumbler_stat_old))
;;;606    		{
;;;607    		if(tumbler_stat==tsU)
;;;608    			{
;;;609    			lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;610    			}
;;;611    		else lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;612    		
;;;613    		if(main_cnt>3)
;;;614    			{
;;;615    			work_stat=wsOFF;
;;;616    			restart_off();
;;;617    			}
;;;618    		}
;;;619    	tumbler_stat_old=tumbler_stat;
;;;620    	}
;;;621    
;;;622    else if(RXBUFF[0]==61)
;;;623    	{
;;;624    	if(I_ug<1000)I_ug++;
000a5a  f8dfc1f8          LDR      r12,|L1.3156|
;;;625    	else I_ug=((I_ug/10)+1)*10;
000a5e  240a              MOVS     r4,#0xa
;;;626    	gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
000a60  4a79              LDR      r2,|L1.3144|
000a62  f9bc0000          LDRSH    r0,[r12,#0]           ;624
000a66  4979              LDR      r1,|L1.3148|
000a68  fb90f7f4          SDIV     r7,r0,r4              ;625
000a6c  1c7d              ADDS     r5,r7,#1              ;625
000a6e  eb050585          ADD      r5,r5,r5,LSL #2       ;625
000a72  006d              LSLS     r5,r5,#1              ;625
;;;627    	I_ug_block_cnt=10;
000a74  f8df91d8          LDR      r9,|L1.3152|
000a78  f9b22000          LDRSH    r2,[r2,#0]            ;626
000a7c  f9b11000          LDRSH    r1,[r1,#0]            ;626
000a80  f44f7a7a          MOV      r10,#0x3e8            ;624
000a84  fa0ff885          SXTH     r8,r5                 ;625
000a88  2b3d              CMP      r3,#0x3d              ;622
000a8a  d071              BEQ      |L1.2928|
000a8c  4666              MOV      r6,r12                ;624
000a8e  250a              MOVS     r5,#0xa               ;625
000a90  f9b66000          LDRSH    r6,[r6,#0]            ;624
000a94  fb96f5f5          SDIV     r5,r6,r5              ;625
;;;628    	//lc640_write_int(EE_I_UG,I_ug);
;;;629    	}
;;;630    
;;;631    else if(RXBUFF[0]==62)
;;;632    	{
;;;633    	if(I_ug<1000)I_ug--;
;;;634    	else I_ug=((I_ug/10)-1)*10;
000a98  1e6d              SUBS     r5,r5,#1
000a9a  eb050585          ADD      r5,r5,r5,LSL #2
000a9e  006d              LSLS     r5,r5,#1
000aa0  b22d              SXTH     r5,r5
000aa2  2b3e              CMP      r3,#0x3e              ;631
000aa4  d07e              BEQ      |L1.2980|
;;;635    	gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;636    	I_ug_block_cnt=10;
;;;637    	//lc640_write_int(EE_I_UG,I_ug);
;;;638    	}
;;;639    else if(RXBUFF[0]==63)
000aa6  2b3f              CMP      r3,#0x3f
000aa8  d07d              BEQ      |L1.2982|
;;;640    	{
;;;641    	if(I_ug<1000)I_ug=((I_ug/10)+1)*10;
;;;642    	else I_ug=((I_ug/10)+5)*10;
;;;643    	gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;644    	I_ug_block_cnt=10;
;;;645    	//lc640_write_int(EE_I_UG,I_ug);
;;;646    	}
;;;647    
;;;648    else if(RXBUFF[0]==64)
000aaa  2b40              CMP      r3,#0x40
000aac  d07c              BEQ      |L1.2984|
;;;649    	{
;;;650    	if(I_ug<1000)I_ug=((I_ug/10)-1)*10;
;;;651    	else I_ug=((I_ug/10)-5)*10;
;;;652    	gran(&I_ug,I_MIN_IPS,I_MAX_IPS);
;;;653    	I_ug_block_cnt=10;
;;;654    	//lc640_write_int(EE_I_UG,I_ug);
;;;655    	}
;;;656    
;;;657    else if(RXBUFF[0]==71)
;;;658    	{
;;;659    	U_up++;
000aae  486a              LDR      r0,|L1.3160|
;;;660    	gran(&U_up,U_MIN,U_MAX);
000ab0  4a6a              LDR      r2,|L1.3164|
000ab2  496b              LDR      r1,|L1.3168|
;;;661    	U_up_block_cnt=10;
000ab4  4f6b              LDR      r7,|L1.3172|
000ab6  f9b05000          LDRSH    r5,[r0,#0]            ;659
000aba  f9b22000          LDRSH    r2,[r2,#0]            ;660
000abe  f9b11000          LDRSH    r1,[r1,#0]            ;660
000ac2  2b47              CMP      r3,#0x47              ;657
000ac4  d071              BEQ      |L1.2986|
;;;662    	}
;;;663    
;;;664    else if(RXBUFF[0]==72)
000ac6  2b48              CMP      r3,#0x48
000ac8  d070              BEQ      |L1.2988|
000aca  4606              MOV      r6,r0                 ;659
000acc  250a              MOVS     r5,#0xa               ;625
000ace  f9b66000          LDRSH    r6,[r6,#0]            ;659
;;;665    	{
;;;666    	U_up--;
;;;667    	gran(&U_up,U_MIN,U_MAX);
;;;668    	U_up_block_cnt=10;
;;;669    
;;;670    	}
;;;671    else if(RXBUFF[0]==73)
000ad2  2b49              CMP      r3,#0x49
;;;672    	{
;;;673    	U_up=((U_up/10)+1)*10;
000ad4  fb96f5f5          SDIV     r5,r6,r5
000ad8  d069              BEQ      |L1.2990|
;;;674    	gran(&U_up,U_MIN,U_MAX);
;;;675    	U_up_block_cnt=10;
;;;676    	}
;;;677    
;;;678    else if(RXBUFF[0]==74)
000ada  2b4a              CMP      r3,#0x4a
000adc  d068              BEQ      |L1.2992|
000ade  4863              LDR      r0,|L1.3180|
;;;679    	{
;;;680    	U_up=((U_up/10)-1)*10;
;;;681    	gran(&U_up,U_MIN,U_MAX);
;;;682    	U_up_block_cnt=10;
;;;683    	}
;;;684    
;;;685    
;;;686    else if(RXBUFF[0]==51)	//+
;;;687    	{
;;;688    	if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;689    		{
;;;690    		if(TIME_VISION_PULT)
000ae0  4961              LDR      r1,|L1.3176|
;;;691    			{
;;;692    			T_PROC_GS=(((T_PROC_GS/60L)+1L)*60L);
000ae2  f8dfe190          LDR      lr,|L1.3188|
000ae6  7805              LDRB     r5,[r0,#0]            ;615
000ae8  4861              LDR      r0,|L1.3184|
000aea  9500              STR      r5,[sp,#0]            ;688
000aec  223c              MOVS     r2,#0x3c
000aee  7800              LDRB     r0,[r0,#0]            ;688
000af0  9002              STR      r0,[sp,#8]            ;688
000af2  4328              ORRS     r0,r0,r5              ;688
000af4  9001              STR      r0,[sp,#4]            ;690
000af6  f9b10000          LDRSH    r0,[r1,#0]            ;690
;;;693    			T_PROC_GS_block_cnt=10;
;;;694    			}
;;;695    		else
;;;696    			{
;;;697    			T_PROC_GS++;
;;;698    			T_PROC_GS_block_cnt=10;
;;;699    			}
;;;700    
;;;701    		if(T_PROC_GS>T_PROC_MAX)								 	//   
;;;702    			{												//     
;;;703    			T_PROC_GS=T_PROC_MAX+1;								//  
;;;704    			if(T_PROC_GS_MODE!=1)								//(  )  
;;;705    				{											//   
;;;706    				T_PROC_GS_MODE=1;								//(T_PROC_GS_MODE=1),  
;;;707    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//     - 
;;;708    				}											//    
;;;709    			}												//(T_PROC_GS_MODE=0)
;;;710    	
;;;711    		else if(T_PROC_GS<30)
;;;712    			{
;;;713    			T_PROC_GS=29;
;;;714    			if(T_PROC_GS_MODE!=1)
;;;715    				{
;;;716    				T_PROC_GS_MODE=1;
;;;717    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;718    				}
;;;719    			}
;;;720    		else 
;;;721    			{
;;;722    			if(T_PROC_GS_MODE!=0)
;;;723    				{
;;;724    				T_PROC_GS_MODE=0;
;;;725    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;726    				}
;;;727    			}			
;;;728    		}
;;;729    	else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;730    		{
;;;731    		if(TIME_VISION_PULT)
;;;732    			{
;;;733    			T_PROC_PS=(((T_PROC_PS/60L)+1L)*60L);
000afa  f8dfa184          LDR      r10,|L1.3200|
000afe  4680              MOV      r8,r0                 ;690
000b00  f8de0000          LDR      r0,[lr,#0]            ;692
000b04  9003              STR      r0,[sp,#0xc]          ;692
000b06  fb90f0f2          SDIV     r0,r0,r2              ;692
000b0a  9004              STR      r0,[sp,#0x10]         ;701
000b0c  f8da5000          LDR      r5,[r10,#0]
000b10  4859              LDR      r0,|L1.3192|
000b12  fb95f2f2          SDIV     r2,r5,r2
000b16  4959              LDR      r1,|L1.3196|
000b18  f8b0c000          LDRH     r12,[r0,#0]           ;701
000b1c  f04f0901          MOV      r9,#1                 ;604
000b20  f9b11000          LDRSH    r1,[r1,#0]            ;704
000b24  e9cd2505          STRD     r2,r5,[sp,#0x14]
;;;734    			T_PROC_PS_block_cnt=10;
;;;735    			}
;;;736    		else
;;;737    			{
;;;738    			T_PROC_PS++;
;;;739    			T_PROC_PS_block_cnt=10;
;;;740    			}
;;;741    
;;;742    		if(T_PROC_PS>T_PROC_MAX)								 	//   
;;;743    			{												//     
;;;744    			T_PROC_PS=T_PROC_MAX+1;								//  
;;;745    			if(T_PROC_PS_MODE!=1)								//(  )  
000b28  4a56              LDR      r2,|L1.3204|
000b2a  f10c0001          ADD      r0,r12,#1             ;703
000b2e  2b33              CMP      r3,#0x33              ;686
000b30  f9b22000          LDRSH    r2,[r2,#0]
000b34  d073              BEQ      |L1.3102|
000b36  4675              MOV      r5,lr                 ;692
;;;746    				{											//   
;;;747    				T_PROC_PS_MODE=1;								//(T_PROC_PS_MODE=1),  
;;;748    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//     - 
;;;749    				}											//    
;;;750    			}												//(T_PROC_PS_MODE=0)
;;;751    	
;;;752    		else if(T_PROC_PS<30)
;;;753    			{
;;;754    			T_PROC_PS=29;
;;;755    			if(T_PROC_PS_MODE!=1)
;;;756    				{
;;;757    				T_PROC_PS_MODE=1;
;;;758    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;759    				}
;;;760    			}
;;;761    		else 
;;;762    			{
;;;763    			if(T_PROC_PS_MODE!=0)
;;;764    				{
;;;765    				T_PROC_PS_MODE=0;
;;;766    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;767    				}
;;;768    			}			
;;;769    		}
;;;770    	}
;;;771    else if(RXBUFF[0]==53)	//++
;;;772    	{
;;;773    	if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;774    		{
;;;775    		if(TIME_VISION_PULT)
;;;776    			{
;;;777    			T_PROC_GS=(((T_PROC_GS/600L)+1L)*600L);
000b38  f44f7616          MOV      r6,#0x258
000b3c  682d              LDR      r5,[r5,#0]            ;692
000b3e  fb95f7f6          SDIV     r7,r5,r6
000b42  9707              STR      r7,[sp,#0x1c]         ;625
000b44  e001              B        |L1.2890|
                  |L1.2886|
000b46  e0dc              B        |L1.3330|
                  |L1.2888|
000b48  e013              B        |L1.2930|
                  |L1.2890|
000b4a  270a              MOVS     r7,#0xa               ;625
;;;778    			T_PROC_GS_block_cnt=10;
;;;779    			}
;;;780    		else
;;;781    			{
;;;782    			T_PROC_GS=(((T_PROC_GS/10L)+1L)*10L);
000b4c  fb95f5f7          SDIV     r5,r5,r7
000b50  9508              STR      r5,[sp,#0x20]         ;733
000b52  4655              MOV      r5,r10                ;733
000b54  2b35              CMP      r3,#0x35              ;771
000b56  682d              LDR      r5,[r5,#0]            ;733
;;;783    			T_PROC_GS_block_cnt=10;
;;;784    			}
;;;785    
;;;786    		if(T_PROC_GS>T_PROC_MAX)								 	//   
;;;787    			{												//     
;;;788    			T_PROC_GS=T_PROC_MAX+1;								//  
;;;789    			if(T_PROC_GS_MODE!=1)								//(  )  
;;;790    				{											//   
;;;791    				T_PROC_GS_MODE=1;								//(T_PROC_GS_MODE=1),  
;;;792    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//     - 
;;;793    				}											//    
;;;794    			}												//(T_PROC_GS_MODE=0)
;;;795    	
;;;796    		else if(T_PROC_GS<30)
;;;797    			{
;;;798    			T_PROC_GS=29;
;;;799    			if(T_PROC_GS_MODE!=1)
;;;800    				{
;;;801    				T_PROC_GS_MODE=1;
;;;802    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;803    				}
;;;804    			}
;;;805    		else 
;;;806    			{
;;;807    			if(T_PROC_GS_MODE!=0)
;;;808    				{
;;;809    				T_PROC_GS_MODE=0;
;;;810    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;811    				}
;;;812    			}			
;;;813    		}
;;;814    	else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;815    		{
;;;816    		if(TIME_VISION_PULT)
;;;817    			{
;;;818    			T_PROC_PS=(((T_PROC_PS/600L)+1L)*600L);
000b58  fb95f6f6          SDIV     r6,r5,r6
;;;819    			T_PROC_PS_block_cnt=10;
;;;820    			}
;;;821    		else
;;;822    			{
;;;823    			T_PROC_PS=(((T_PROC_PS/10L)+1L)*10L);
000b5c  fb95f5f7          SDIV     r5,r5,r7
000b60  d063              BEQ      |L1.3114|
;;;824    			T_PROC_PS_block_cnt=10;
;;;825    			}
;;;826    
;;;827    		if(T_PROC_PS>T_PROC_MAX)								 	//   
;;;828    			{												//     
;;;829    			T_PROC_PS=T_PROC_MAX+1;								//  
;;;830    			if(T_PROC_PS_MODE!=1)								//(  )  
;;;831    				{											//   
;;;832    				T_PROC_PS_MODE=1;								//(T_PROC_PS_MODE=1),  
;;;833    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//     - 
;;;834    				}											//    
;;;835    			}												//(T_PROC_PS_MODE=0)
;;;836    	
;;;837    		else if(T_PROC_PS<30)
;;;838    			{
;;;839    			T_PROC_PS=29;
;;;840    			if(T_PROC_PS_MODE!=1)
;;;841    				{
;;;842    				T_PROC_PS_MODE=1;
;;;843    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;844    				}
;;;845    			}
;;;846    		else 
;;;847    			{
;;;848    			if(T_PROC_PS_MODE!=0)
;;;849    				{
;;;850    				T_PROC_PS_MODE=0;
;;;851    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;852    				}
;;;853    			}				
;;;854    		}
;;;855    	}
;;;856    
;;;857    else if(RXBUFF[0]==52)	//-
000b62  2b34              CMP      r3,#0x34
000b64  d062              BEQ      |L1.3116|
;;;858    	{
;;;859    	if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;860    		{
;;;861    		if(TIME_VISION_PULT)
;;;862    			{
;;;863    			T_PROC_GS=(((T_PROC_GS/60L)-1L)*60L);
;;;864    			T_PROC_GS_block_cnt=10;
;;;865    			}
;;;866    		else
;;;867    			{
;;;868    			T_PROC_GS--;
;;;869    			T_PROC_GS_block_cnt=10;
;;;870    			}
;;;871    
;;;872    			
;;;873    		if(T_PROC_GS>T_PROC_MAX)								 	//   
;;;874    			{												//     
;;;875    			T_PROC_GS=T_PROC_MAX+1;								//  
;;;876    			if(T_PROC_GS_MODE!=1)								//(  )  
;;;877    				{											//   
;;;878    				T_PROC_GS_MODE=1;								//(T_PROC_GS_MODE=1),  
;;;879    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//     - 
;;;880    				}											//    
;;;881    			}												//(T_PROC_GS_MODE=0)
;;;882    	
;;;883    		else if(T_PROC_GS<30)
;;;884    			{
;;;885    			T_PROC_GS=29;
;;;886    			if(T_PROC_GS_MODE!=1)
;;;887    				{
;;;888    				T_PROC_GS_MODE=1;
;;;889    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;890    				}
;;;891    			}
;;;892    		else 
;;;893    			{
;;;894    			if(T_PROC_GS_MODE!=0)
;;;895    				{
;;;896    				T_PROC_GS_MODE=0;
;;;897    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;898    				}
;;;899    			}
;;;900    			
;;;901    		}
;;;902    	else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;903    		{
;;;904    		if(TIME_VISION_PULT)
;;;905    			{
;;;906    			T_PROC_PS=(((T_PROC_PS/60L)-1L)*60L);
;;;907    			T_PROC_PS_block_cnt=10;
;;;908    			}
;;;909    		else
;;;910    			{
;;;911    			T_PROC_PS--;
;;;912    			T_PROC_PS_block_cnt=10;
;;;913    			}
;;;914    
;;;915    		if(T_PROC_PS>T_PROC_MAX)								 	//   
;;;916    			{												//     
;;;917    			T_PROC_PS=T_PROC_MAX+1;								//  
;;;918    			if(T_PROC_PS_MODE!=1)								//(  )  
;;;919    				{											//   
;;;920    				T_PROC_PS_MODE=1;								//(T_PROC_PS_MODE=1),  
;;;921    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//     - 
;;;922    				}											//    
;;;923    			}												//(T_PROC_PS_MODE=0)
;;;924    	
;;;925    		else if(T_PROC_PS<30)
;;;926    			{
;;;927    			T_PROC_PS=29;
;;;928    			if(T_PROC_PS_MODE!=1)
;;;929    				{
;;;930    				T_PROC_PS_MODE=1;
;;;931    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;932    				}
;;;933    			}
;;;934    		else 
;;;935    			{
;;;936    			if(T_PROC_PS_MODE!=0)
;;;937    				{
;;;938    				T_PROC_PS_MODE=0;
;;;939    				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;940    				}
;;;941    			}			
;;;942    		}
;;;943    	}
;;;944    else if(RXBUFF[0]==54)	//--
000b66  2b36              CMP      r3,#0x36
000b68  d061              BEQ      |L1.3118|
;;;945    	{
;;;946    	if((main_menu_mode==mmmIT)&&(work_stat==wsOFF))
;;;947    		{
;;;948    		if(TIME_VISION_PULT)
;;;949    			{
;;;950    			T_PROC_GS=(((T_PROC_GS/600L)-1L)*600L);
;;;951    			T_PROC_GS_block_cnt=10;
;;;952    			}
;;;953    		else
;;;954    			{
;;;955    			T_PROC_GS=(((T_PROC_GS/10L)-1L)*10L);
;;;956    			T_PROC_GS_block_cnt=10;
;;;957    			}
;;;958    
;;;959    		if(T_PROC_GS>T_PROC_MAX)								 	//   
;;;960    			{												//     
;;;961    			T_PROC_GS=T_PROC_MAX+1;								//  
;;;962    			if(T_PROC_GS_MODE!=1)								//(  )  
;;;963    				{											//   
;;;964    				T_PROC_GS_MODE=1;								//(T_PROC_GS_MODE=1),  
;;;965    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);	//     - 
;;;966    				}											//    
;;;967    			}												//(T_PROC_GS_MODE=0)
;;;968    	
;;;969    		else if(T_PROC_GS<30)
;;;970    			{
;;;971    			T_PROC_GS=29;
;;;972    			if(T_PROC_GS_MODE!=1)
;;;973    				{
;;;974    				T_PROC_GS_MODE=1;
;;;975    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;976    				}
;;;977    			}
;;;978    		else 
;;;979    			{
;;;980    			if(T_PROC_GS_MODE!=0)
;;;981    				{
;;;982    				T_PROC_GS_MODE=0;
;;;983    				lc640_write_int(EE_T_PROC_GS_MODE,T_PROC_GS_MODE);
;;;984    				}
;;;985    			}
;;;986    						
;;;987    		}
;;;988    	else if((main_menu_mode==mmmIN)&&(work_stat==wsOFF))
;;;989    		{
;;;990    		if(TIME_VISION_PULT)
;;;991    			{
;;;992    			T_PROC_PS=(((T_PROC_PS/600L)-1L)*600L);
;;;993    			T_PROC_PS_block_cnt=10;
;;;994    			}
;;;995    		else
;;;996    			{
;;;997    			T_PROC_PS=(((T_PROC_PS/10L)-1L)*10L);
;;;998    			T_PROC_PS_block_cnt=10;
;;;999    			}
;;;1000   
;;;1001   		if(T_PROC_PS>T_PROC_MAX)								 	//   
;;;1002   			{												//     
;;;1003   			T_PROC_PS=T_PROC_MAX+1;								//  
;;;1004   			if(T_PROC_PS_MODE!=1)								//(  )  
;;;1005   				{											//   
;;;1006   				T_PROC_PS_MODE=1;								//(T_PROC_PS_MODE=1),  
;;;1007   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);	//     - 
;;;1008   				}											//    
;;;1009   			}												//(T_PROC_PS_MODE=0)
;;;1010   	
;;;1011   		else if(T_PROC_PS<30)
;;;1012   			{
;;;1013   			T_PROC_PS=29;
;;;1014   			if(T_PROC_PS_MODE!=1)
;;;1015   				{
;;;1016   				T_PROC_PS_MODE=1;
;;;1017   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1018   				}
;;;1019   			}
;;;1020   		else 
;;;1021   			{
;;;1022   			if(T_PROC_PS_MODE!=0)
;;;1023   				{
;;;1024   				T_PROC_PS_MODE=0;
;;;1025   				lc640_write_int(EE_T_PROC_PS_MODE,T_PROC_PS_MODE);
;;;1026   				}
;;;1027   			}	
;;;1028   		}
;;;1029   	}
;;;1030   
;;;1031   
;;;1032   else if(RXBUFF[0]==90)
000b6a  2b5a              CMP      r3,#0x5a
000b6c  d060              BEQ      |L1.3120|
000b6e  e18c              B        |L1.3722|
                  |L1.2928|
000b70  e023              B        |L1.3002|
                  |L1.2930|
000b72  4c45              LDR      r4,|L1.3208|
000b74  4d45              LDR      r5,|L1.3212|
000b76  7840              LDRB     r0,[r0,#1]            ;604  ; RXBUFF
000b78  7020              STRB     r0,[r4,#0]            ;604
000b7a  7829              LDRB     r1,[r5,#0]            ;605  ; tumbler_stat_old
000b7c  4288              CMP      r0,r1                 ;605
000b7e  d00f              BEQ      |L1.2976|
000b80  2801              CMP      r0,#1                 ;607
000b82  d018              BEQ      |L1.2998|
000b84  2100              MOVS     r1,#0                 ;611
                  |L1.2950|
000b86  20ea              MOVS     r0,#0xea              ;611
000b88  f7fffffe          BL       lc640_write_int
000b8c  4840              LDR      r0,|L1.3216|
000b8e  f9b00000          LDRSH    r0,[r0,#0]            ;613  ; main_cnt
000b92  2803              CMP      r0,#3                 ;613
000b94  dd04              BLE      |L1.2976|
000b96  4935              LDR      r1,|L1.3180|
000b98  f881b000          STRB     r11,[r1,#0]           ;615
000b9c  f7fffffe          BL       restart_off
                  |L1.2976|
000ba0  7820              LDRB     r0,[r4,#0]            ;619  ; tumbler_stat
000ba2  e006              B        |L1.2994|
                  |L1.2980|
000ba4  e010              B        |L1.3016|
                  |L1.2982|
000ba6  e01d              B        |L1.3044|
                  |L1.2984|
000ba8  e020              B        |L1.3052|
                  |L1.2986|
000baa  e026              B        |L1.3066|
                  |L1.2988|
000bac  e027              B        |L1.3070|
                  |L1.2990|
000bae  e029              B        |L1.3076|
                  |L1.2992|
000bb0  e02a              B        |L1.3080|
                  |L1.2994|
000bb2  7028              STRB     r0,[r5,#0]            ;619
000bb4  e169              B        |L1.3722|
                  |L1.2998|
000bb6  2101              MOVS     r1,#1                 ;609
000bb8  e7e5              B        |L1.2950|
                  |L1.3002|
000bba  4550              CMP      r0,r10                ;624
000bbc  da01              BGE      |L1.3010|
000bbe  1c40              ADDS     r0,r0,#1              ;624
000bc0  e005              B        |L1.3022|
                  |L1.3010|
000bc2  f8ac8000          STRH     r8,[r12,#0]           ;625
000bc6  e007              B        |L1.3032|
                  |L1.3016|
000bc8  4550              CMP      r0,r10                ;633
000bca  da03              BGE      |L1.3028|
000bcc  1e40              SUBS     r0,r0,#1              ;633
                  |L1.3022|
000bce  f8ac0000          STRH     r0,[r12,#0]           ;624
000bd2  e001              B        |L1.3032|
                  |L1.3028|
000bd4  f8ac5000          STRH     r5,[r12,#0]           ;634
                  |L1.3032|
000bd8  481e              LDR      r0,|L1.3156|
000bda  f7fffffe          BL       gran
000bde  f8a94000          STRH     r4,[r9,#0]            ;653
000be2  e152              B        |L1.3722|
                  |L1.3044|
000be4  4550              CMP      r0,r10                ;641
000be6  dbec              BLT      |L1.3010|
000be8  1d7f              ADDS     r7,r7,#5              ;642
000bea  e002              B        |L1.3058|
                  |L1.3052|
000bec  4550              CMP      r0,r10                ;650
000bee  dbf1              BLT      |L1.3028|
000bf0  1f7f              SUBS     r7,r7,#5              ;651
                  |L1.3058|
000bf2  eb070087          ADD      r0,r7,r7,LSL #2       ;651
000bf6  0040              LSLS     r0,r0,#1              ;651
000bf8  e7e9              B        |L1.3022|
                  |L1.3066|
000bfa  1c6d              ADDS     r5,r5,#1              ;659
000bfc  e000              B        |L1.3072|
                  |L1.3070|
000bfe  1e6d              SUBS     r5,r5,#1              ;666
                  |L1.3072|
000c00  8005              STRH     r5,[r0,#0]            ;659
000c02  e006              B        |L1.3090|
                  |L1.3076|
000c04  1c6d              ADDS     r5,r5,#1              ;673
000c06  e000              B        |L1.3082|
                  |L1.3080|
000c08  1e6d              SUBS     r5,r5,#1              ;680
                  |L1.3082|
000c0a  eb050385          ADD      r3,r5,r5,LSL #2       ;680
000c0e  005b              LSLS     r3,r3,#1              ;680
000c10  8003              STRH     r3,[r0,#0]            ;680
                  |L1.3090|
000c12  4811              LDR      r0,|L1.3160|
000c14  f7fffffe          BL       gran
000c18  803c              STRH     r4,[r7,#0]            ;682
000c1a  e136              B        |L1.3722|
000c1c  e7ff              B        |L1.3102|
                  |L1.3102|
000c1e  9b01              LDR      r3,[sp,#4]            ;688
000c20  b13b              CBZ      r3,|L1.3122|
000c22  9902              LDR      r1,[sp,#8]            ;729
000c24  2901              CMP      r1,#1                 ;729
000c26  d04f              BEQ      |L1.3272|
000c28  e12f              B        |L1.3722|
                  |L1.3114|
000c2a  e06b              B        |L1.3332|
                  |L1.3116|
000c2c  e085              B        |L1.3386|
                  |L1.3118|
000c2e  e0a4              B        |L1.3450|
                  |L1.3120|
000c30  e0dd              B        |L1.3566|
                  |L1.3122|
000c32  e02f              B        |L1.3220|
                  |L1.3124|
                          DCD      0x40048000
                  |L1.3128|
                          DCD      ||.bss||+0xa0
                  |L1.3132|
                          DCD      ||.data||
                  |L1.3136|
                          DCD      0x40044000
                  |L1.3140|
                          DCD      can2_plazma
                  |L1.3144|
                          DCD      I_MAX_IPS
                  |L1.3148|
                          DCD      I_MIN_IPS
                  |L1.3152|
                          DCD      I_ug_block_cnt
                  |L1.3156|
                          DCD      I_ug
                  |L1.3160|
                          DCD      U_up
                  |L1.3164|
                          DCD      U_MAX
                  |L1.3168|
                          DCD      U_MIN
                  |L1.3172|
                          DCD      U_up_block_cnt
                  |L1.3176|
                          DCD      TIME_VISION_PULT
                  |L1.3180|
                          DCD      work_stat
                  |L1.3184|
                          DCD      main_menu_mode
                  |L1.3188|
                          DCD      T_PROC_GS
                  |L1.3192|
                          DCD      T_PROC_MAX
                  |L1.3196|
                          DCD      T_PROC_GS_MODE
                  |L1.3200|
                          DCD      T_PROC_PS
                  |L1.3204|
                          DCD      T_PROC_PS_MODE
                  |L1.3208|
                          DCD      tumbler_stat
                  |L1.3212|
                          DCD      tumbler_stat_old
                  |L1.3216|
                          DCD      main_cnt
                  |L1.3220|
000c94  f1b80f00          CMP      r8,#0                 ;690
000c98  d002              BEQ      |L1.3232|
000c9a  9b04              LDR      r3,[sp,#0x10]         ;692
000c9c  1c5b              ADDS     r3,r3,#1              ;692
000c9e  e057              B        |L1.3408|
                  |L1.3232|
000ca0  9b03              LDR      r3,[sp,#0xc]          ;697
000ca2  1c5b              ADDS     r3,r3,#1              ;697
                  |L1.3236|
000ca4  f8ce3000          STR      r3,[lr,#0]            ;697  ; T_PROC_GS
000ca8  e077              B        |L1.3482|
000caa  bf00              NOP                            ;704
                  |L1.3244|
000cac  f8ce0000          STR      r0,[lr,#0]            ;704  ; T_PROC_GS
000cb0  48ff              LDR      r0,|L1.4272|
000cb2  2901              CMP      r1,#1                 ;704
000cb4  d025              BEQ      |L1.3330|
000cb6  4649              MOV      r1,r9                 ;964
000cb8  e003              B        |L1.3266|
                  |L1.3258|
000cba  48fd              LDR      r0,|L1.4272|
000cbc  2900              CMP      r1,#0                 ;722
000cbe  d020              BEQ      |L1.3330|
000cc0  4659              MOV      r1,r11                ;982
                  |L1.3266|
000cc2  8001              STRH     r1,[r0,#0]            ;706
000cc4  20ee              MOVS     r0,#0xee              ;707
000cc6  e01a              B        |L1.3326|
                  |L1.3272|
000cc8  9900              LDR      r1,[sp,#0]            ;729
000cca  2900              CMP      r1,#0                 ;729
000ccc  d119              BNE      |L1.3330|
000cce  f1b80f00          CMP      r8,#0                 ;731
000cd2  d002              BEQ      |L1.3290|
000cd4  9b05              LDR      r3,[sp,#0x14]         ;733
000cd6  1c5b              ADDS     r3,r3,#1              ;733
000cd8  e048              B        |L1.3436|
                  |L1.3290|
000cda  1c69              ADDS     r1,r5,#1              ;738
000cdc  f8ca1000          STR      r1,[r10,#0]           ;739  ; T_PROC_PS
000ce0  e076              B        |L1.3536|
000ce2  bf00              NOP                            ;745
                  |L1.3300|
000ce4  f8ca0000          STR      r0,[r10,#0]           ;745  ; T_PROC_PS
000ce8  48f2              LDR      r0,|L1.4276|
000cea  2a01              CMP      r2,#1                 ;745
000cec  d009              BEQ      |L1.3330|
000cee  4649              MOV      r1,r9                 ;1006
000cf0  e003              B        |L1.3322|
                  |L1.3314|
000cf2  48f0              LDR      r0,|L1.4276|
000cf4  2a00              CMP      r2,#0                 ;763
000cf6  d004              BEQ      |L1.3330|
000cf8  4659              MOV      r1,r11                ;1024
                  |L1.3322|
000cfa  8001              STRH     r1,[r0,#0]            ;765
000cfc  20f0              MOVS     r0,#0xf0              ;766
                  |L1.3326|
000cfe  f7fffffe          BL       lc640_write_int
                  |L1.3330|
000d02  e0c2              B        |L1.3722|
                  |L1.3332|
000d04  9b01              LDR      r3,[sp,#4]            ;773
000d06  b11b              CBZ      r3,|L1.3344|
000d08  9902              LDR      r1,[sp,#8]            ;814
000d0a  2901              CMP      r1,#1                 ;814
000d0c  d009              BEQ      |L1.3362|
000d0e  e0bc              B        |L1.3722|
                  |L1.3344|
000d10  f1b80f00          CMP      r8,#0                 ;775
000d14  d002              BEQ      |L1.3356|
000d16  9a07              LDR      r2,[sp,#0x1c]         ;777
000d18  1c52              ADDS     r2,r2,#1              ;777
000d1a  e039              B        |L1.3472|
                  |L1.3356|
000d1c  9b08              LDR      r3,[sp,#0x20]         ;782
000d1e  1c5b              ADDS     r3,r3,#1              ;782
000d20  e047              B        |L1.3506|
                  |L1.3362|
000d22  9900              LDR      r1,[sp,#0]            ;814
000d24  bb71              CBNZ     r1,|L1.3460|
000d26  f1b80f00          CMP      r8,#0                 ;816
000d2a  d001              BEQ      |L1.3376|
000d2c  1c76              ADDS     r6,r6,#1              ;818
000d2e  e04a              B        |L1.3526|
                  |L1.3376|
000d30  1c6d              ADDS     r5,r5,#1              ;823
000d32  e058              B        |L1.3558|
                  |L1.3380|
000d34  f8ca3000          STR      r3,[r10,#0]           ;733  ; T_PROC_PS
000d38  e04a              B        |L1.3536|
                  |L1.3386|
000d3a  9b01              LDR      r3,[sp,#4]            ;859
000d3c  b11b              CBZ      r3,|L1.3398|
000d3e  9902              LDR      r1,[sp,#8]            ;902
000d40  2901              CMP      r1,#1                 ;902
000d42  d00c              BEQ      |L1.3422|
000d44  e0a1              B        |L1.3722|
                  |L1.3398|
000d46  f1b80f00          CMP      r8,#0                 ;861
000d4a  d005              BEQ      |L1.3416|
000d4c  9b04              LDR      r3,[sp,#0x10]         ;863
000d4e  1e5b              SUBS     r3,r3,#1              ;863
                  |L1.3408|
000d50  ebc31303          RSB      r3,r3,r3,LSL #4       ;863
000d54  009b              LSLS     r3,r3,#2              ;863
000d56  e7a5              B        |L1.3236|
                  |L1.3416|
000d58  9b03              LDR      r3,[sp,#0xc]          ;868
000d5a  1e5b              SUBS     r3,r3,#1              ;868
000d5c  e7a2              B        |L1.3236|
                  |L1.3422|
000d5e  9900              LDR      r1,[sp,#0]            ;902
000d60  b981              CBNZ     r1,|L1.3460|
000d62  f1b80f00          CMP      r8,#0                 ;904
000d66  d005              BEQ      |L1.3444|
000d68  9b05              LDR      r3,[sp,#0x14]         ;906
000d6a  1e5b              SUBS     r3,r3,#1              ;906
                  |L1.3436|
000d6c  ebc31303          RSB      r3,r3,r3,LSL #4       ;906
000d70  009b              LSLS     r3,r3,#2              ;906
000d72  e7df              B        |L1.3380|
                  |L1.3444|
000d74  9b06              LDR      r3,[sp,#0x18]         ;911
000d76  1e5b              SUBS     r3,r3,#1              ;911
000d78  e7dc              B        |L1.3380|
                  |L1.3450|
000d7a  9b01              LDR      r3,[sp,#4]            ;946
000d7c  b11b              CBZ      r3,|L1.3462|
000d7e  9902              LDR      r1,[sp,#8]            ;988
000d80  2901              CMP      r1,#1                 ;988
000d82  d01a              BEQ      |L1.3514|
                  |L1.3460|
000d84  e081              B        |L1.3722|
                  |L1.3462|
000d86  f1b80f00          CMP      r8,#0                 ;948
000d8a  d010              BEQ      |L1.3502|
000d8c  9a07              LDR      r2,[sp,#0x1c]         ;950
000d8e  1e52              SUBS     r2,r2,#1              ;950
                  |L1.3472|
000d90  f44f7516          MOV      r5,#0x258             ;777
000d94  436a              MULS     r2,r5,r2              ;777
000d96  f8ce2000          STR      r2,[lr,#0]            ;777  ; T_PROC_GS
                  |L1.3482|
000d9a  4ac7              LDR      r2,|L1.4280|
000d9c  8014              STRH     r4,[r2,#0]            ;956
000d9e  f8de3000          LDR      r3,[lr,#0]            ;701  ; T_PROC_GS
000da2  4563              CMP      r3,r12                ;701
000da4  dc82              BGT      |L1.3244|
000da6  2b1e              CMP      r3,#0x1e              ;969
000da8  da87              BGE      |L1.3258|
000daa  201d              MOVS     r0,#0x1d              ;971
000dac  e77e              B        |L1.3244|
                  |L1.3502|
000dae  9b08              LDR      r3,[sp,#0x20]         ;955
000db0  1e5b              SUBS     r3,r3,#1              ;955
                  |L1.3506|
000db2  eb030383          ADD      r3,r3,r3,LSL #2       ;955
000db6  005b              LSLS     r3,r3,#1              ;955
000db8  e774              B        |L1.3236|
                  |L1.3514|
000dba  9900              LDR      r1,[sp,#0]            ;988
000dbc  bb79              CBNZ     r1,|L1.3614|
000dbe  f1b80f00          CMP      r8,#0                 ;990
000dc2  d00f              BEQ      |L1.3556|
000dc4  1e76              SUBS     r6,r6,#1              ;992
                  |L1.3526|
000dc6  f44f7316          MOV      r3,#0x258             ;818
000dca  435e              MULS     r6,r3,r6              ;818
000dcc  f8ca6000          STR      r6,[r10,#0]           ;818  ; T_PROC_PS
                  |L1.3536|
000dd0  49ba              LDR      r1,|L1.4284|
000dd2  800c              STRH     r4,[r1,#0]            ;998
000dd4  f8da3000          LDR      r3,[r10,#0]           ;742  ; T_PROC_PS
000dd8  4563              CMP      r3,r12                ;742
000dda  dc83              BGT      |L1.3300|
000ddc  2b1e              CMP      r3,#0x1e              ;1011
000dde  da88              BGE      |L1.3314|
000de0  201d              MOVS     r0,#0x1d              ;1013
000de2  e77f              B        |L1.3300|
                  |L1.3556|
000de4  1e6d              SUBS     r5,r5,#1              ;997
                  |L1.3558|
000de6  eb050385          ADD      r3,r5,r5,LSL #2       ;997
000dea  005b              LSLS     r3,r3,#1              ;997
000dec  e7a2              B        |L1.3380|
                  |L1.3566|
;;;1033   	{
;;;1034   	if(tumbler_stat==tsI)
000dee  4cb4              LDR      r4,|L1.4288|
;;;1035   		{
;;;1036   		if(work_stat!=wsGS)
;;;1037   			{
;;;1038   			if(SK_START==2)
;;;1039   				{
;;;1040   				if(SK_START_LEV)
000df0  4db4              LDR      r5,|L1.4292|
;;;1041   					{
;;;1042   					if(sk_in_drv_stat==1)
000df2  f8df82d4          LDR      r8,|L1.4296|
000df6  7820              LDRB     r0,[r4,#0]            ;1034  ; tumbler_stat
;;;1043   						{
;;;1044   						return;
;;;1045   						}
;;;1046   					}
;;;1047   				if(!SK_START_LEV)
;;;1048   					{
;;;1049   					if(sk_in_drv_stat==-1)
;;;1050   						{
;;;1051   						return;
;;;1052   						}
;;;1053   					}
;;;1054   				}
;;;1055   			work_stat=wsGS;
;;;1056   			time_proc=0;
000df8  4eb4              LDR      r6,|L1.4300|
;;;1057   			time_proc_remain=T_PROC_GS;
000dfa  4fb5              LDR      r7,|L1.4304|
000dfc  bb10              CBNZ     r0,|L1.3652|
000dfe  9800              LDR      r0,[sp,#0]            ;1036
000e00  49b4              LDR      r1,|L1.4308|
000e02  2801              CMP      r0,#1                 ;1036
000e04  d01a              BEQ      |L1.3644|
000e06  48b4              LDR      r0,|L1.4312|
000e08  8800              LDRH     r0,[r0,#0]            ;1038  ; SK_START
000e0a  2802              CMP      r0,#2                 ;1038
000e0c  d10a              BNE      |L1.3620|
000e0e  4640              MOV      r0,r8                 ;1042
000e10  882a              LDRH     r2,[r5,#0]            ;1040  ; SK_START_LEV
000e12  f9b00000          LDRSH    r0,[r0,#0]            ;1042
000e16  b11a              CBZ      r2,|L1.3616|
000e18  2801              CMP      r0,#1                 ;1042
000e1a  d039              BEQ      |L1.3728|
000e1c  e002              B        |L1.3620|
                  |L1.3614|
000e1e  e02f              B        |L1.3712|
                  |L1.3616|
000e20  1c40              ADDS     r0,r0,#1              ;1049
000e22  d035              BEQ      |L1.3728|
                  |L1.3620|
000e24  f8819000          STRB     r9,[r1,#0]            ;1055
000e28  f8c6b000          STR      r11,[r6,#0]           ;1056  ; time_proc
000e2c  9903              LDR      r1,[sp,#0xc]
;;;1058   			index_set=0;
000e2e  6039              STR      r1,[r7,#0]  ; time_proc_remain
000e30  49aa              LDR      r1,|L1.4316|
000e32  f881b004          STRB     r11,[r1,#4]
;;;1059   			restart_on_GS();
000e36  f7fffffe          BL       restart_on_GS
000e3a  e003              B        |L1.3652|
                  |L1.3644|
;;;1060   			}			
;;;1061   		else 
;;;1062   			{
;;;1063   			work_stat=wsOFF;
000e3c  f881b000          STRB     r11,[r1,#0]
;;;1064   			restart_off();
000e40  f7fffffe          BL       restart_off
                  |L1.3652|
;;;1065   			}
;;;1066   		}
;;;1067   
;;;1068   	if(tumbler_stat==tsU)
000e44  7820              LDRB     r0,[r4,#0]  ; tumbler_stat
000e46  2801              CMP      r0,#1
000e48  d11f              BNE      |L1.3722|
;;;1069   		{
;;;1070   		if(work_stat!=wsPS)
000e4a  48a2              LDR      r0,|L1.4308|
000e4c  7801              LDRB     r1,[r0,#0]  ; work_stat
000e4e  2902              CMP      r1,#2
000e50  d017              BEQ      |L1.3714|
;;;1071   			{
;;;1072   				{
;;;1073   				if(SK_START_LEV)
000e52  8829              LDRH     r1,[r5,#0]  ; SK_START_LEV
000e54  b121              CBZ      r1,|L1.3680|
;;;1074   					{
;;;1075   					if(sk_in_drv_stat==1)
000e56  f8b81000          LDRH     r1,[r8,#0]  ; sk_in_drv_stat
000e5a  2901              CMP      r1,#1
000e5c  d018              BEQ      |L1.3728|
000e5e  e003              B        |L1.3688|
                  |L1.3680|
;;;1076   						{
;;;1077   						return;
;;;1078   						}
;;;1079   					}
;;;1080   				if(!SK_START_LEV)
;;;1081   					{
;;;1082   					if(sk_in_drv_stat==-1)
000e60  f9b81000          LDRSH    r1,[r8,#0]  ; sk_in_drv_stat
000e64  1c49              ADDS     r1,r1,#1
000e66  d013              BEQ      |L1.3728|
                  |L1.3688|
;;;1083   						{
;;;1084   						return;
;;;1085   						}
;;;1086   					}
;;;1087   				}
;;;1088   			work_stat=wsPS;
000e68  2102              MOVS     r1,#2
000e6a  7001              STRB     r1,[r0,#0]
;;;1089   			time_proc=0;
;;;1090   			time_proc_remain=T_PROC_PS;
000e6c  f8c6b000          STR      r11,[r6,#0]  ; time_proc
000e70  f8da1000          LDR      r1,[r10,#0]  ; T_PROC_PS
;;;1091   			index_set=0;
000e74  6039              STR      r1,[r7,#0]  ; time_proc_remain
000e76  4999              LDR      r1,|L1.4316|
000e78  f881b004          STRB     r11,[r1,#4]
;;;1092   			restart_on_PS();
000e7c  f7fffffe          BL       restart_on_PS
                  |L1.3712|
000e80  e003              B        |L1.3722|
                  |L1.3714|
;;;1093   			}			
;;;1094   		else
;;;1095   			{
;;;1096   			work_stat=wsOFF;
000e82  f880b000          STRB     r11,[r0,#0]
;;;1097   			restart_off();
000e86  f7fffffe          BL       restart_off
                  |L1.3722|
;;;1098   			}
;;;1099   		}
;;;1100   	}
;;;1101   
;;;1102   CAN_IN_AN_end:
;;;1103   bIN=0;
000e8a  4995              LDR      r1,|L1.4320|
000e8c  f881b007          STRB     r11,[r1,#7]
                  |L1.3728|
;;;1104   }
000e90  b009              ADD      sp,sp,#0x24
000e92  e4f3              B        |L1.2172|
;;;1105   //-----------------------------------------------
                          ENDP

                  can_in_an1 PROC
;;;1106   void can_in_an1(void)
000e94  e92d5ff0          PUSH     {r4-r12,lr}
;;;1107   {
;;;1108   //char i;
;;;1109   //signed short temp_SS;
;;;1110   char slave_num;
;;;1111   
;;;1112   //if(!bIN2) goto CAN_IN_AN1_end; 
;;;1113   
;;;1114   //can_debug_plazma[1][2]++;
;;;1115   can_rotor[1]++;
000e98  4992              LDR      r1,|L1.4324|
;;;1116   
;;;1117   if((RXBUFF[0]==sub_ind1)&&(RXBUFF[1]==PUTID)&&(RXBUFF[2]==0xdd)&&(RXBUFF[3]==0xdd)&&(sub_ind==6))
;;;1118   	{
;;;1119   	mess_send(MESS2IND_HNDL,PARAM_U_AVT_GOOD,0,10);
000e9a  2500              MOVS     r5,#0
000e9c  f1a10450          SUB      r4,r1,#0x50           ;1117
000ea0  7848              LDRB     r0,[r1,#1]            ;1115  ; can_rotor
;;;1120   	can_reset_cnt=0;
000ea2  4f8f              LDR      r7,|L1.4320|
000ea4  1c40              ADDS     r0,r0,#1              ;1115
000ea6  7048              STRB     r0,[r1,#1]            ;1115
000ea8  488c              LDR      r0,|L1.4316|
000eaa  7821              LDRB     r1,[r4,#0]            ;1117  ; RXBUFF
000eac  f9902002          LDRSB    r2,[r0,#2]            ;1117  ; a_ind
000eb0  4291              CMP      r1,r2                 ;1117
000eb2  d112              BNE      |L1.3802|
000eb4  7861              LDRB     r1,[r4,#1]            ;1117  ; RXBUFF
000eb6  2991              CMP      r1,#0x91              ;1117
000eb8  d10f              BNE      |L1.3802|
000eba  78a1              LDRB     r1,[r4,#2]            ;1117  ; RXBUFF
000ebc  29dd              CMP      r1,#0xdd              ;1117
000ebe  d14d              BNE      |L1.3932|
000ec0  78e1              LDRB     r1,[r4,#3]            ;1117  ; RXBUFF
000ec2  29dd              CMP      r1,#0xdd              ;1117
000ec4  d14a              BNE      |L1.3932|
000ec6  7840              LDRB     r0,[r0,#1]            ;1117  ; a_ind
000ec8  2806              CMP      r0,#6                 ;1117
000eca  d147              BNE      |L1.3932|
000ecc  230a              MOVS     r3,#0xa               ;1119
000ece  2200              MOVS     r2,#0                 ;1119
000ed0  21d9              MOVS     r1,#0xd9              ;1119
000ed2  20d7              MOVS     r0,#0xd7              ;1119
000ed4  f7fffffe          BL       mess_send
000ed8  82bd              STRH     r5,[r7,#0x14]
                  |L1.3802|
;;;1121   	}
;;;1122   
;;;1123   
;;;1124   if((RXBUFF[1]==PUTTM1)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<32))
000eda  7860              LDRB     r0,[r4,#1]  ; RXBUFF
;;;1125        {
;;;1126   	can_debug_plazma[1][2]++;
;;;1127        slave_num=RXBUFF[0]&0x1f;
;;;1128        
;;;1129        if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
000edc  4e82              LDR      r6,|L1.4328|
000ede  f04f0803          MOV      r8,#3
;;;1130        else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
000ee2  f04f0902          MOV      r9,#2
000ee6  f04f0a05          MOV      r10,#5
000eea  f04f0b0a          MOV      r11,#0xa              ;1119
000eee  28da              CMP      r0,#0xda              ;1124
000ef0  d12d              BNE      |L1.3918|
000ef2  497c              LDR      r1,|L1.4324|
000ef4  310a              ADDS     r1,r1,#0xa            ;1126
000ef6  7b08              LDRB     r0,[r1,#0xc]          ;1126  ; can_debug_plazma
000ef8  1c40              ADDS     r0,r0,#1              ;1126
000efa  7308              STRB     r0,[r1,#0xc]          ;1126
000efc  7821              LDRB     r1,[r4,#0]            ;1127  ; RXBUFF
000efe  f001001f          AND      r0,r1,#0x1f           ;1127
000f02  094a              LSRS     r2,r1,#5              ;1129
000f04  d02b              BEQ      |L1.3934|
000f06  ebb91f51          CMP      r9,r1,LSR #5
000f0a  d105              BNE      |L1.3864|
000f0c  eb000240          ADD      r2,r0,r0,LSL #1
000f10  eb061242          ADD      r2,r6,r2,LSL #5
000f14  f882a000          STRB     r10,[r2,#0]
                  |L1.3864|
;;;1131        	
;;;1132   	bps[slave_num]._buff[0]=RXBUFF[2]; 
000f18  eb000140          ADD      r1,r0,r0,LSL #1
000f1c  eb061141          ADD      r1,r6,r1,LSL #5
000f20  78a2              LDRB     r2,[r4,#2]  ; RXBUFF
000f22  718a              STRB     r2,[r1,#6]
;;;1133   	bps[slave_num]._buff[1]=RXBUFF[3];
000f24  78e2              LDRB     r2,[r4,#3]  ; RXBUFF
000f26  71ca              STRB     r2,[r1,#7]
;;;1134   	bps[slave_num]._buff[2]=RXBUFF[4];
000f28  7922              LDRB     r2,[r4,#4]  ; RXBUFF
000f2a  720a              STRB     r2,[r1,#8]
;;;1135   	bps[slave_num]._buff[3]=RXBUFF[5];
000f2c  7962              LDRB     r2,[r4,#5]  ; RXBUFF
000f2e  724a              STRB     r2,[r1,#9]
;;;1136   	bps[slave_num]._buff[4]=RXBUFF[6];
000f30  79a2              LDRB     r2,[r4,#6]  ; RXBUFF
000f32  728a              STRB     r2,[r1,#0xa]
;;;1137   	bps[slave_num]._buff[5]=RXBUFF[7];
000f34  79e2              LDRB     r2,[r4,#7]  ; RXBUFF
000f36  72ca              STRB     r2,[r1,#0xb]
;;;1138   	
;;;1139   	bps[slave_num]._cnt=0;
000f38  70cd              STRB     r5,[r1,#3]
;;;1140   	bps[slave_num]._is_on_cnt=10;
000f3a  f881b034          STRB     r11,[r1,#0x34]
;;;1141   	
;;;1142    	if((bps[slave_num]._cnt==0)&&(bps[slave_num]._av&(1<<3))) avar_bps_hndl(slave_num,3,0);
000f3e  7849              LDRB     r1,[r1,#1]
000f40  0709              LSLS     r1,r1,#28
000f42  d503              BPL      |L1.3916|
000f44  2200              MOVS     r2,#0
000f46  2103              MOVS     r1,#3
000f48  f7fffffe          BL       avar_bps_hndl
                  |L1.3916|
;;;1143   
;;;1144   	can_reset_cnt=0;
000f4c  82bd              STRH     r5,[r7,#0x14]
                  |L1.3918|
;;;1145        }
;;;1146   
;;;1147   if((RXBUFF[1]==PUTTM2)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<32))
000f4e  7860              LDRB     r0,[r4,#1]  ; RXBUFF
000f50  28db              CMP      r0,#0xdb
000f52  d00b              BEQ      |L1.3948|
;;;1148        {
;;;1149        slave_num=RXBUFF[0]&0x1f;  
;;;1150   
;;;1151        if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
;;;1152        else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
;;;1153        
;;;1154   	bps[slave_num]._buff[6]=RXBUFF[2]; 
;;;1155   	bps[slave_num]._buff[7]=RXBUFF[3];
;;;1156   	bps[slave_num]._buff[8]=RXBUFF[4];
;;;1157   	bps[slave_num]._buff[9]=RXBUFF[5];
;;;1158   	bps[slave_num]._buff[10]=RXBUFF[6];
;;;1159   	bps[slave_num]._buff[11]=RXBUFF[7];
;;;1160   	
;;;1161   	bps[slave_num]._cnt=0;
;;;1162   	bps[slave_num]._is_on_cnt=10; 
;;;1163   
;;;1164      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1165   	can_reset_cnt=0;
;;;1166        }
;;;1167   
;;;1168   
;;;1169   if((RXBUFF[1]==PUTTM31)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<32))
000f54  28dd              CMP      r0,#0xdd
000f56  d032              BEQ      |L1.4030|
;;;1170    	{
;;;1171        slave_num=RXBUFF[0]&0x1f;  
;;;1172   
;;;1173   	//plazma_PUTTM31++;
;;;1174   
;;;1175       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
;;;1176       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
;;;1177        
;;;1178   	bps[slave_num]._hardvare_version=RXBUFF[3]+(RXBUFF[2]*256); 
;;;1179   	bps[slave_num]._soft_version=RXBUFF[5]+(RXBUFF[4]*256); 
;;;1180   	bps[slave_num]._build=RXBUFF[7]+(RXBUFF[6]*256); 
;;;1181   
;;;1182   	bps[slave_num]._cnt=0;
;;;1183   	bps[slave_num]._is_on_cnt=10; 
;;;1184   
;;;1185      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1186   	can_reset_cnt=0;
;;;1187      	}
;;;1188   
;;;1189   if((RXBUFF[1]==PUTTM32)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<32))
000f58  28d5              CMP      r0,#0xd5
000f5a  d064              BEQ      |L1.4134|
                  |L1.3932|
000f5c  e056              B        |L1.4108|
                  |L1.3934|
000f5e  eb000240          ADD      r2,r0,r0,LSL #1       ;1129
000f62  eb061242          ADD      r2,r6,r2,LSL #5       ;1129
000f66  f8828000          STRB     r8,[r2,#0]            ;1129
000f6a  e7d5              B        |L1.3864|
                  |L1.3948|
000f6c  7821              LDRB     r1,[r4,#0]            ;1149  ; RXBUFF
000f6e  f001001f          AND      r0,r1,#0x1f           ;1149
000f72  094a              LSRS     r2,r1,#5              ;1151
000f74  d01c              BEQ      |L1.4016|
000f76  ebb91f51          CMP      r9,r1,LSR #5          ;1152
000f7a  d105              BNE      |L1.3976|
000f7c  eb000240          ADD      r2,r0,r0,LSL #1       ;1152
000f80  eb061242          ADD      r2,r6,r2,LSL #5       ;1152
000f84  f882a000          STRB     r10,[r2,#0]           ;1152
                  |L1.3976|
000f88  eb000040          ADD      r0,r0,r0,LSL #1       ;1154
000f8c  eb061040          ADD      r0,r6,r0,LSL #5       ;1154
000f90  78a1              LDRB     r1,[r4,#2]            ;1154  ; RXBUFF
000f92  7301              STRB     r1,[r0,#0xc]          ;1154
000f94  78e1              LDRB     r1,[r4,#3]            ;1155  ; RXBUFF
000f96  7341              STRB     r1,[r0,#0xd]          ;1155
000f98  7921              LDRB     r1,[r4,#4]            ;1156  ; RXBUFF
000f9a  7381              STRB     r1,[r0,#0xe]          ;1156
000f9c  7961              LDRB     r1,[r4,#5]            ;1157  ; RXBUFF
000f9e  73c1              STRB     r1,[r0,#0xf]          ;1157
000fa0  79a1              LDRB     r1,[r4,#6]            ;1158  ; RXBUFF
000fa2  7401              STRB     r1,[r0,#0x10]         ;1158
000fa4  79e1              LDRB     r1,[r4,#7]            ;1159  ; RXBUFF
000fa6  7441              STRB     r1,[r0,#0x11]         ;1159
000fa8  70c5              STRB     r5,[r0,#3]            ;1161
000faa  f880b034          STRB     r11,[r0,#0x34]        ;1162
000fae  e02c              B        |L1.4106|
                  |L1.4016|
000fb0  eb000240          ADD      r2,r0,r0,LSL #1       ;1151
000fb4  eb061242          ADD      r2,r6,r2,LSL #5       ;1151
000fb8  f8828000          STRB     r8,[r2,#0]            ;1151
000fbc  e7e4              B        |L1.3976|
                  |L1.4030|
000fbe  7821              LDRB     r1,[r4,#0]            ;1171  ; RXBUFF
000fc0  f001001f          AND      r0,r1,#0x1f           ;1171
000fc4  094a              LSRS     r2,r1,#5              ;1175
000fc6  d027              BEQ      |L1.4120|
000fc8  ebb91f51          CMP      r9,r1,LSR #5          ;1176
000fcc  d105              BNE      |L1.4058|
000fce  eb000240          ADD      r2,r0,r0,LSL #1       ;1176
000fd2  eb061242          ADD      r2,r6,r2,LSL #5       ;1176
000fd6  f882a000          STRB     r10,[r2,#0]           ;1176
                  |L1.4058|
000fda  78e1              LDRB     r1,[r4,#3]            ;1178  ; RXBUFF
000fdc  78a2              LDRB     r2,[r4,#2]            ;1178  ; RXBUFF
000fde  eb000040          ADD      r0,r0,r0,LSL #1       ;1178
000fe2  eb061040          ADD      r0,r6,r0,LSL #5       ;1178
000fe6  eb012102          ADD      r1,r1,r2,LSL #8       ;1178
000fea  f8201f5a          STRH     r1,[r0,#0x5a]!        ;1178
000fee  7961              LDRB     r1,[r4,#5]            ;1179  ; RXBUFF
000ff0  7922              LDRB     r2,[r4,#4]            ;1179  ; RXBUFF
000ff2  eb012102          ADD      r1,r1,r2,LSL #8       ;1179
000ff6  8041              STRH     r1,[r0,#2]            ;1179
000ff8  79e1              LDRB     r1,[r4,#7]            ;1180  ; RXBUFF
000ffa  79a2              LDRB     r2,[r4,#6]            ;1180  ; RXBUFF
000ffc  eb012102          ADD      r1,r1,r2,LSL #8       ;1180
001000  8081              STRH     r1,[r0,#4]            ;1180
001002  f8005c57          STRB     r5,[r0,#-0x57]        ;1182
001006  f800bc26          STRB     r11,[r0,#-0x26]       ;1183
                  |L1.4106|
00100a  82bd              STRH     r5,[r7,#0x14]         ;1165
                  |L1.4108|
;;;1190    	{
;;;1191        slave_num=RXBUFF[0]&0x1f;
;;;1192   	 
;;;1193   	//plazma_PUTTM32++;  
;;;1194   
;;;1195       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
;;;1196       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
;;;1197        
;;;1198   	bps[slave_num]._build_year=RXBUFF[3]+(RXBUFF[2]*256); 
;;;1199   	bps[slave_num]._build_month=RXBUFF[5]+(RXBUFF[4]*256); 
;;;1200   	bps[slave_num]._build_day=RXBUFF[7]+(RXBUFF[6]*256); 
;;;1201   
;;;1202   	bps[slave_num]._cnt=0;
;;;1203   	bps[slave_num]._is_on_cnt=10; 
;;;1204   
;;;1205      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1206   	can_reset_cnt=0;
;;;1207      	}
;;;1208   
;;;1209   
;;;1210   if( ((RXBUFF[0]&0x1f)==8)&&((RXBUFF[1])==PUTTM) )
00100c  7820              LDRB     r0,[r4,#0]  ; RXBUFF
00100e  f000021f          AND      r2,r0,#0x1f
001012  2a08              CMP      r2,#8
001014  d035              BEQ      |L1.4226|
001016  e043              B        |L1.4256|
                  |L1.4120|
001018  eb000240          ADD      r2,r0,r0,LSL #1       ;1175
00101c  eb061242          ADD      r2,r6,r2,LSL #5       ;1175
001020  f8828000          STRB     r8,[r2,#0]            ;1175
001024  e7d9              B        |L1.4058|
                  |L1.4134|
001026  7821              LDRB     r1,[r4,#0]            ;1191  ; RXBUFF
001028  f001001f          AND      r0,r1,#0x1f           ;1191
00102c  094a              LSRS     r2,r1,#5              ;1195
00102e  d021              BEQ      |L1.4212|
001030  ebb91f51          CMP      r9,r1,LSR #5          ;1196
001034  d105              BNE      |L1.4162|
001036  eb000240          ADD      r2,r0,r0,LSL #1       ;1196
00103a  eb061242          ADD      r2,r6,r2,LSL #5       ;1196
00103e  f882a000          STRB     r10,[r2,#0]           ;1196
                  |L1.4162|
001042  78e1              LDRB     r1,[r4,#3]            ;1198  ; RXBUFF
001044  78a2              LDRB     r2,[r4,#2]            ;1198  ; RXBUFF
001046  eb000040          ADD      r0,r0,r0,LSL #1       ;1198
00104a  eb061040          ADD      r0,r6,r0,LSL #5       ;1198
00104e  eb012102          ADD      r1,r1,r2,LSL #8       ;1198
001052  f8201f54          STRH     r1,[r0,#0x54]!        ;1198
001056  7961              LDRB     r1,[r4,#5]            ;1199  ; RXBUFF
001058  7922              LDRB     r2,[r4,#4]            ;1199  ; RXBUFF
00105a  eb012102          ADD      r1,r1,r2,LSL #8       ;1199
00105e  8041              STRH     r1,[r0,#2]            ;1199
001060  79e1              LDRB     r1,[r4,#7]            ;1200  ; RXBUFF
001062  79a2              LDRB     r2,[r4,#6]            ;1200  ; RXBUFF
001064  eb012102          ADD      r1,r1,r2,LSL #8       ;1200
001068  8081              STRH     r1,[r0,#4]            ;1200
00106a  f8005c51          STRB     r5,[r0,#-0x51]        ;1202
00106e  f800bc20          STRB     r11,[r0,#-0x20]       ;1203
001072  e7ca              B        |L1.4106|
                  |L1.4212|
001074  eb000240          ADD      r2,r0,r0,LSL #1       ;1195
001078  eb061242          ADD      r2,r6,r2,LSL #5       ;1195
00107c  f8828000          STRB     r8,[r2,#0]            ;1195
001080  e7df              B        |L1.4162|
                  |L1.4226|
001082  7860              LDRB     r0,[r4,#1]  ; RXBUFF
001084  28de              CMP      r0,#0xde
001086  d10b              BNE      |L1.4256|
;;;1211        {
;;;1212        adc_buff_ext_[0]=*((short*)&RXBUFF[2]);
001088  4818              LDR      r0,|L1.4332|
00108a  8861              LDRH     r1,[r4,#2]  ; RXBUFF
00108c  8001              STRH     r1,[r0,#0]
;;;1213        adc_buff_ext_[1]=*((short*)&RXBUFF[4]);
00108e  88a1              LDRH     r1,[r4,#4]  ; RXBUFF
001090  8041              STRH     r1,[r0,#2]
;;;1214        adc_buff_ext_[2]=*((short*)&RXBUFF[6]);
001092  88e1              LDRH     r1,[r4,#6]  ; RXBUFF
001094  8081              STRH     r1,[r0,#4]
;;;1215   //	if((adc_buff_ext_[2]>=-50) && (adc_buff_ext_[2]<=100))
;;;1216   		{
;;;1217   		t_ext_can=adc_buff_ext_[2];
001096  4816              LDR      r0,|L1.4336|
001098  8001              STRH     r1,[r0,#0]
;;;1218   		t_ext_can_nd=0;
00109a  4816              LDR      r0,|L1.4340|
00109c  7005              STRB     r5,[r0,#0]
;;;1219   		}
;;;1220   		t_ext_can=adc_buff_ext_[2];
;;;1221   	//ext_can_cnt++;
;;;1222   	can_reset_cnt=0;
00109e  82bd              STRH     r5,[r7,#0x14]
                  |L1.4256|
;;;1223        }
;;;1224   
;;;1225   if( ((RXBUFF[0]&0x1f)==9)&&((RXBUFF[1])==PUTTM) )
0010a0  2a09              CMP      r2,#9
0010a2  d134              BNE      |L1.4366|
0010a4  7860              LDRB     r0,[r4,#1]  ; RXBUFF
0010a6  28de              CMP      r0,#0xde
0010a8  d131              BNE      |L1.4366|
;;;1226        {
;;;1227        vvod_pos=RXBUFF[2];
0010aa  78a0              LDRB     r0,[r4,#2]  ; RXBUFF
0010ac  4912              LDR      r1,|L1.4344|
0010ae  e025              B        |L1.4348|
                  |L1.4272|
                          DCD      T_PROC_GS_MODE
                  |L1.4276|
                          DCD      T_PROC_PS_MODE
                  |L1.4280|
                          DCD      T_PROC_GS_block_cnt
                  |L1.4284|
                          DCD      T_PROC_PS_block_cnt
                  |L1.4288|
                          DCD      tumbler_stat
                  |L1.4292|
                          DCD      SK_START_LEV
                  |L1.4296|
                          DCD      sk_in_drv_stat
                  |L1.4300|
                          DCD      time_proc
                  |L1.4304|
                          DCD      time_proc_remain
                  |L1.4308|
                          DCD      work_stat
                  |L1.4312|
                          DCD      SK_START
                  |L1.4316|
                          DCD      a_ind
                  |L1.4320|
                          DCD      ||.data||
                  |L1.4324|
                          DCD      ||.bss||+0x174
                  |L1.4328|
                          DCD      bps
                  |L1.4332|
                          DCD      adc_buff_ext_
                  |L1.4336|
                          DCD      t_ext_can
                  |L1.4340|
                          DCD      t_ext_can_nd
                  |L1.4344|
                          DCD      vvod_pos
                  |L1.4348|
0010fc  8008              STRH     r0,[r1,#0]
;;;1228   	ext_can_cnt=RXBUFF[3];
0010fe  78e0              LDRB     r0,[r4,#3]  ; RXBUFF
001100  49ff              LDR      r1,|L1.5376|
;;;1229   	if(ext_can_cnt<10)bRESET_EXT=0;
001102  280a              CMP      r0,#0xa
001104  7008              STRB     r0,[r1,#0]            ;1228
001106  d201              BCS      |L1.4364|
001108  48fe              LDR      r0,|L1.5380|
00110a  7005              STRB     r5,[r0,#0]
                  |L1.4364|
;;;1230   	can_reset_cnt=0;
00110c  82bd              STRH     r5,[r7,#0x14]
                  |L1.4366|
;;;1231        }
;;;1232   
;;;1233   if( ((RXBUFF[0]&0x1f)==10)&&((RXBUFF[1])==PUTTM) )
;;;1234        {
;;;1235        power_current=*((signed short*)&RXBUFF[2]);
00110e  4bfe              LDR      r3,|L1.5384|
;;;1236        power_summary=*((signed long*)&RXBUFF[4]);
001110  4efe              LDR      r6,|L1.5388|
001112  2a0a              CMP      r2,#0xa               ;1233
001114  d107              BNE      |L1.4390|
001116  7860              LDRB     r0,[r4,#1]            ;1233  ; RXBUFF
001118  28de              CMP      r0,#0xde              ;1233
00111a  d104              BNE      |L1.4390|
00111c  8860              LDRH     r0,[r4,#2]            ;1235  ; RXBUFF
00111e  8018              STRH     r0,[r3,#0]            ;1235
001120  6860              LDR      r0,[r4,#4]  ; RXBUFF
;;;1237   	//ext_can_cnt++;
;;;1238   	can_reset_cnt=0;
001122  6030              STR      r0,[r6,#0]  ; power_summary
001124  82bd              STRH     r5,[r7,#0x14]
                  |L1.4390|
;;;1239        }
;;;1240   
;;;1241   
;;;1242   if( ((RXBUFF[0]&0x1f)==20)&&((RXBUFF[1])==PUTTM) )
;;;1243        {
;;;1244        eb2_data[0]=RXBUFF[2];
001126  48fa              LDR      r0,|L1.5392|
001128  2a14              CMP      r2,#0x14              ;1242
00112a  d113              BNE      |L1.4436|
00112c  7861              LDRB     r1,[r4,#1]            ;1242  ; RXBUFF
00112e  29de              CMP      r1,#0xde              ;1242
001130  d110              BNE      |L1.4436|
001132  78a1              LDRB     r1,[r4,#2]  ; RXBUFF
001134  7001              STRB     r1,[r0,#0]
;;;1245   	eb2_data[1]=RXBUFF[3];
001136  78e1              LDRB     r1,[r4,#3]  ; RXBUFF
001138  7041              STRB     r1,[r0,#1]
;;;1246        eb2_data[2]=RXBUFF[4];
00113a  7921              LDRB     r1,[r4,#4]  ; RXBUFF
00113c  7081              STRB     r1,[r0,#2]
;;;1247   	eb2_data[3]=RXBUFF[5];
00113e  7961              LDRB     r1,[r4,#5]  ; RXBUFF
001140  70c1              STRB     r1,[r0,#3]
;;;1248   	eb2_data[4]=RXBUFF[6];
001142  79a1              LDRB     r1,[r4,#6]  ; RXBUFF
001144  7101              STRB     r1,[r0,#4]
;;;1249   	eb2_data[5]=RXBUFF[7];
001146  79e1              LDRB     r1,[r4,#7]  ; RXBUFF
001148  7141              STRB     r1,[r0,#5]
;;;1250        power_current=*((signed short*)&RXBUFF[2]);
00114a  8861              LDRH     r1,[r4,#2]  ; RXBUFF
00114c  8019              STRH     r1,[r3,#0]
;;;1251        power_summary=*((signed long*)&RXBUFF[4]);
00114e  6861              LDR      r1,[r4,#4]  ; RXBUFF
;;;1252   
;;;1253   	 can_reset_cnt=0;
001150  6031              STR      r1,[r6,#0]  ; power_summary
001152  82bd              STRH     r5,[r7,#0x14]
                  |L1.4436|
;;;1254        }
;;;1255   
;;;1256   if( ((RXBUFF[0]&0x1f)==21)&&((RXBUFF[1])==PUTTM) )
;;;1257        {
;;;1258        eb2_data[6]=RXBUFF[2];
;;;1259   	eb2_data[7]=RXBUFF[3];
;;;1260        eb2_data[8]=RXBUFF[4];
;;;1261   	eb2_data[9]=RXBUFF[5];
;;;1262   	eb2_data[10]=RXBUFF[6];
;;;1263   	eb2_data[11]=RXBUFF[7];
;;;1264   	eb2_data_short[6]=*((short*)&eb2_data[6]);
001154  49ef              LDR      r1,|L1.5396|
001156  2a15              CMP      r2,#0x15              ;1256
001158  d111              BNE      |L1.4478|
00115a  7863              LDRB     r3,[r4,#1]            ;1256  ; RXBUFF
00115c  2bde              CMP      r3,#0xde              ;1256
00115e  d10e              BNE      |L1.4478|
001160  78a3              LDRB     r3,[r4,#2]            ;1258  ; RXBUFF
001162  7183              STRB     r3,[r0,#6]            ;1258
001164  78e3              LDRB     r3,[r4,#3]            ;1259  ; RXBUFF
001166  71c3              STRB     r3,[r0,#7]            ;1259
001168  7923              LDRB     r3,[r4,#4]            ;1260  ; RXBUFF
00116a  7203              STRB     r3,[r0,#8]            ;1260
00116c  7963              LDRB     r3,[r4,#5]            ;1261  ; RXBUFF
00116e  7243              STRB     r3,[r0,#9]            ;1261
001170  79a3              LDRB     r3,[r4,#6]            ;1262  ; RXBUFF
001172  7283              STRB     r3,[r0,#0xa]          ;1262
001174  79e3              LDRB     r3,[r4,#7]            ;1263  ; RXBUFF
001176  72c3              STRB     r3,[r0,#0xb]          ;1263
001178  88c3              LDRH     r3,[r0,#6]  ; eb2_data
00117a  818b              STRH     r3,[r1,#0xc]
;;;1265   
;;;1266   	can_reset_cnt=0;
00117c  82bd              STRH     r5,[r7,#0x14]
                  |L1.4478|
;;;1267        }
;;;1268   
;;;1269   if( ((RXBUFF[0]&0x1f)==22)&&((RXBUFF[1])==PUTTM) )
00117e  2a16              CMP      r2,#0x16
001180  d115              BNE      |L1.4526|
001182  7863              LDRB     r3,[r4,#1]  ; RXBUFF
001184  2bde              CMP      r3,#0xde
001186  d112              BNE      |L1.4526|
;;;1270        {
;;;1271        eb2_data[12]=RXBUFF[2];
001188  78a3              LDRB     r3,[r4,#2]  ; RXBUFF
00118a  7303              STRB     r3,[r0,#0xc]
;;;1272   	eb2_data[13]=RXBUFF[3];
00118c  78e3              LDRB     r3,[r4,#3]  ; RXBUFF
00118e  7343              STRB     r3,[r0,#0xd]
;;;1273        eb2_data[14]=RXBUFF[4];
001190  7923              LDRB     r3,[r4,#4]  ; RXBUFF
001192  7383              STRB     r3,[r0,#0xe]
;;;1274   	eb2_data[15]=RXBUFF[5];
001194  7963              LDRB     r3,[r4,#5]  ; RXBUFF
001196  73c3              STRB     r3,[r0,#0xf]
;;;1275   	eb2_data[16]=RXBUFF[6];
001198  79a3              LDRB     r3,[r4,#6]  ; RXBUFF
00119a  7403              STRB     r3,[r0,#0x10]
;;;1276   	eb2_data[17]=RXBUFF[7];
00119c  79e3              LDRB     r3,[r4,#7]  ; RXBUFF
00119e  7443              STRB     r3,[r0,#0x11]
;;;1277   	eb2_data_short[0]=*((short*)&eb2_data[12]);
0011a0  8983              LDRH     r3,[r0,#0xc]  ; eb2_data
0011a2  800b              STRH     r3,[r1,#0]
;;;1278   	eb2_data_short[1]=*((short*)&eb2_data[14]);
0011a4  89c3              LDRH     r3,[r0,#0xe]  ; eb2_data
0011a6  804b              STRH     r3,[r1,#2]
;;;1279   	eb2_data_short[2]=*((short*)&eb2_data[16]);
0011a8  8a03              LDRH     r3,[r0,#0x10]  ; eb2_data
0011aa  808b              STRH     r3,[r1,#4]
;;;1280   
;;;1281   	can_reset_cnt=0;
0011ac  82bd              STRH     r5,[r7,#0x14]
                  |L1.4526|
;;;1282        }
;;;1283   
;;;1284   if( ((RXBUFF[0]&0x1f)==23)&&((RXBUFF[1])==PUTTM) )
0011ae  2a17              CMP      r2,#0x17
0011b0  d115              BNE      |L1.4574|
0011b2  7862              LDRB     r2,[r4,#1]  ; RXBUFF
0011b4  2ade              CMP      r2,#0xde
0011b6  d112              BNE      |L1.4574|
;;;1285        {
;;;1286        eb2_data[18]=RXBUFF[2];
0011b8  78a2              LDRB     r2,[r4,#2]  ; RXBUFF
0011ba  7482              STRB     r2,[r0,#0x12]
;;;1287   	eb2_data[19]=RXBUFF[3];
0011bc  78e2              LDRB     r2,[r4,#3]  ; RXBUFF
0011be  74c2              STRB     r2,[r0,#0x13]
;;;1288        eb2_data[20]=RXBUFF[4];
0011c0  7922              LDRB     r2,[r4,#4]  ; RXBUFF
0011c2  7502              STRB     r2,[r0,#0x14]
;;;1289   	eb2_data[21]=RXBUFF[5];
0011c4  7962              LDRB     r2,[r4,#5]  ; RXBUFF
0011c6  7542              STRB     r2,[r0,#0x15]
;;;1290   	eb2_data[22]=RXBUFF[6];
0011c8  79a2              LDRB     r2,[r4,#6]  ; RXBUFF
0011ca  7582              STRB     r2,[r0,#0x16]
;;;1291   	eb2_data[23]=RXBUFF[7];
0011cc  79e2              LDRB     r2,[r4,#7]  ; RXBUFF
0011ce  75c2              STRB     r2,[r0,#0x17]
;;;1292   	eb2_data_short[3]=*((short*)&eb2_data[18]);
0011d0  8a42              LDRH     r2,[r0,#0x12]  ; eb2_data
0011d2  80ca              STRH     r2,[r1,#6]
;;;1293   	eb2_data_short[4]=*((short*)&eb2_data[20]);
0011d4  8a82              LDRH     r2,[r0,#0x14]  ; eb2_data
0011d6  810a              STRH     r2,[r1,#8]
;;;1294   	eb2_data_short[5]=*((short*)&eb2_data[22]);
0011d8  8ac0              LDRH     r0,[r0,#0x16]  ; eb2_data
0011da  8148              STRH     r0,[r1,#0xa]
;;;1295   
;;;1296   	can_reset_cnt=0;
0011dc  82bd              STRH     r5,[r7,#0x14]
                  |L1.4574|
;;;1297        }
;;;1298   
;;;1299   //CAN_IN_AN1_end:
;;;1300   bIN2=0;
0011de  723d              STRB     r5,[r7,#8]
;;;1301   }
0011e0  e8bd9ff0          POP      {r4-r12,pc}
;;;1302   
                          ENDP

                  CAN_ISR_Rx1 PROC
;;;1313   ***************************************************************************/ 
;;;1314   void CAN_ISR_Rx1( void )
0011e4  b570              PUSH     {r4-r6,lr}
;;;1315   {
;;;1316   unsigned int buf;
;;;1317   unsigned int *pDest;
;;;1318   char temp;
;;;1319   char *ptr,j;
;;;1320   //can_cnt++;
;;;1321   
;;;1322   rotor_can[0]++;
0011e6  48cc              LDR      r0,|L1.5400|
;;;1323   
;;;1324     if (!(LPC_CAN1->RFS & 0xC0000400L))
0011e8  4ccc              LDR      r4,|L1.5404|
0011ea  8801              LDRH     r1,[r0,#0]            ;1322  ; rotor_can
0011ec  1c49              ADDS     r1,r1,#1              ;1322
0011ee  8001              STRH     r1,[r0,#0]            ;1322
0011f0  6a21              LDR      r1,[r4,#0x20]
0011f2  4acb              LDR      r2,|L1.5408|
0011f4  4211              TST      r1,r2
0011f6  d136              BNE      |L1.4710|
;;;1325     { // 11-bit ID, no RTR, matched a filter
;;;1326   
;;;1327   rotor_can[1]++;
0011f8  8841              LDRH     r1,[r0,#2]  ; rotor_can
0011fa  1c49              ADDS     r1,r1,#1
0011fc  8041              STRH     r1,[r0,#2]
;;;1328       // initialize destination pointer
;;;1329       // filter number is in lower 10 bits of C1RFS
;;;1330       pDest = (unsigned int *) &(gFullCANList[(LPC_CAN1->RFS & 0x000003FFL)].Dat1);
0011fe  6a20              LDR      r0,[r4,#0x20]
;;;1331       
;;;1332       // calculate contents for first entry into FullCAN list
;;;1333       buf = LPC_CAN1->RFS & 0xC00F0000L; // mask FF, RTR and DLC
001200  6a22              LDR      r2,[r4,#0x20]
001202  f3c00009          UBFX     r0,r0,#0,#10          ;1330
001206  eb000140          ADD      r1,r0,r0,LSL #1       ;1330
00120a  48c3              LDR      r0,|L1.5400|
00120c  300c              ADDS     r0,r0,#0xc            ;1330
00120e  eb000181          ADD      r1,r0,r1,LSL #2       ;1330
001212  4bc4              LDR      r3,|L1.5412|
001214  401a              ANDS     r2,r2,r3
;;;1334       buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
001216  4bc4              LDR      r3,|L1.5416|
001218  431a              ORRS     r2,r2,r3
;;;1335       buf |= LPC_CAN1->RID & 0x000007FFL; // get CAN message ID
00121a  6a63              LDR      r3,[r4,#0x24]
00121c  f3c3030a          UBFX     r3,r3,#0,#11
001220  4313              ORRS     r3,r3,r2
;;;1336   
;;;1337       // now copy entire message to FullCAN list
;;;1338       *pDest = buf; 
;;;1339       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1340       *pDest = LPC_CAN1->RDA; 
001222  6aa2              LDR      r2,[r4,#0x28]
;;;1341       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1342       *pDest = LPC_CAN1->RDB; 
001224  604a              STR      r2,[r1,#4]
001226  6ae2              LDR      r2,[r4,#0x2c]
;;;1343   
;;;1344       // now set the sempahore to complete
;;;1345       buf |= 0x03000000L; // set semaphore to 11b
001228  608a              STR      r2,[r1,#8]
00122a  f0437240          ORR      r2,r3,#0x3000000
;;;1346       pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1347       *pDest = buf; 
;;;1348       
;;;1349   	temp=(char)gFullCANList[0].DatA;
00122e  600a              STR      r2,[r1,#0]
001230  6841              LDR      r1,[r0,#4]  ; gFullCANList
001232  b2ca              UXTB     r2,r1
;;;1350   	if(temp==0x30) bR=0;
001234  49bd              LDR      r1,|L1.5420|
001236  2a30              CMP      r2,#0x30
001238  d009              BEQ      |L1.4686|
;;;1351   	else bR++;
00123a  798a              LDRB     r2,[r1,#6]  ; bR
00123c  1c52              ADDS     r2,r2,#1
                  |L1.4670|
00123e  718a              STRB     r2,[r1,#6]
;;;1352   	
;;;1353   	temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
001240  c802              LDM      r0!,{r1}  ; gFullCANList
;;;1354        
;;;1355        ptr=(char*)(&gFullCANList[0].DatA);
;;;1356   	
;;;1357   	for(j=0;j<temp;j++)
;;;1358   		{
;;;1359   		RXBUFF[j]=*ptr;
001242  4bb5              LDR      r3,|L1.5400|
001244  f3c14203          UBFX     r2,r1,#16,#4          ;1353
001248  2100              MOVS     r1,#0                 ;1357
00124a  3324              ADDS     r3,r3,#0x24
00124c  e007              B        |L1.4702|
                  |L1.4686|
00124e  2200              MOVS     r2,#0                 ;1350
001250  e7f5              B        |L1.4670|
001252  bf00              NOP      
                  |L1.4692|
001254  f8105b01          LDRB     r5,[r0],#1
001258  545d              STRB     r5,[r3,r1]
00125a  1c49              ADDS     r1,r1,#1              ;1357
00125c  b2c9              UXTB     r1,r1                 ;1357
                  |L1.4702|
00125e  4291              CMP      r1,r2                 ;1357
001260  d3f8              BCC      |L1.4692|
;;;1360   		ptr++;
;;;1361   		}
;;;1362   	can_in_an1();
001262  f7fffffe          BL       can_in_an1
                  |L1.4710|
;;;1363   	    
;;;1364       
;;;1365     }
;;;1366   
;;;1367     LPC_CAN1->CMR = 0x04; // release receive buffer
001266  2004              MOVS     r0,#4
001268  6060              STR      r0,[r4,#4]
;;;1368   }
00126a  bd70              POP      {r4-r6,pc}
;;;1369   
                          ENDP

                  CAN_ISR_Rx2 PROC
;;;1375   ***************************************************************************/ 
;;;1376   void CAN_ISR_Rx2( void ) 
00126c  b510              PUSH     {r4,lr}
;;;1377   {
;;;1378   unsigned int buf;
;;;1379   unsigned int *pDest;
;;;1380   char temp;
;;;1381   //char /**ptr,*/j;
;;;1382   //can_cnt++;
;;;1383   
;;;1384   //rotor_can[0]++;
;;;1385   //can_debug_plazma[0][0]++;
;;;1386   //if(C1ICR & 0x00000001L)
;;;1387   //	{
;;;1388   //	can_debug_plazma[0][0]++;
;;;1389   
;;;1390   
;;;1391   
;;;1392   	if (!(LPC_CAN2->RFS & 0xC0000400L))
00126e  4cb0              LDR      r4,|L1.5424|
001270  6a20              LDR      r0,[r4,#0x20]
001272  49ab              LDR      r1,|L1.5408|
001274  4208              TST      r0,r1
001276  d13c              BNE      |L1.4850|
;;;1393       		{ // 11-bit ID, no RTR, matched a filter
;;;1394   			
;;;1395       		//rotor_can[1]++;
;;;1396       		// initialize destination pointer
;;;1397       		// filter number is in lower 10 bits of C1RFS
;;;1398   			//plazma_can4=(char)((LPC_CAN2->RFS>>16) & 0x000000FFL);
;;;1399       		pDest = (unsigned int *) &(gFullCANList[(LPC_CAN2->RFS & 0x000003FFL)].Dat1);
001278  6a20              LDR      r0,[r4,#0x20]
00127a  49a7              LDR      r1,|L1.5400|
00127c  f3c00009          UBFX     r0,r0,#0,#10
001280  eb000040          ADD      r0,r0,r0,LSL #1
001284  310c              ADDS     r1,r1,#0xc
001286  eb010080          ADD      r0,r1,r0,LSL #2
;;;1400       
;;;1401   /*			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDA);
;;;1402   			plazma_can_pal_index++;
;;;1403   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>8);
;;;1404   			plazma_can_pal_index++;
;;;1405   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>16);
;;;1406   			plazma_can_pal_index++;
;;;1407   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>24);
;;;1408   			plazma_can_pal_index++;
;;;1409   			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDB);
;;;1410   			plazma_can_pal_index++;
;;;1411   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>8);
;;;1412   			plazma_can_pal_index++;
;;;1413   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>16);
;;;1414   			plazma_can_pal_index++;
;;;1415   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>24);
;;;1416   			plazma_can_pal_index++; */
;;;1417   
;;;1418       		// calculate contents for first entry into FullCAN list
;;;1419       		buf = LPC_CAN2->RFS & 0xC00F0000L; // mask FF, RTR and DLC
00128a  6a21              LDR      r1,[r4,#0x20]
00128c  4aa5              LDR      r2,|L1.5412|
00128e  4011              ANDS     r1,r1,r2
;;;1420       		buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
001290  4aa5              LDR      r2,|L1.5416|
001292  4311              ORRS     r1,r1,r2
;;;1421       		buf |= LPC_CAN2->RID & 0x000007FFL; // get CAN message ID
001294  6a62              LDR      r2,[r4,#0x24]
001296  f3c2020a          UBFX     r2,r2,#0,#11
00129a  430a              ORRS     r2,r2,r1
;;;1422   
;;;1423       		// now copy entire message to FullCAN list
;;;1424       		*pDest = buf; 
;;;1425       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1426       		*pDest = LPC_CAN2->RDA;
00129c  6aa1              LDR      r1,[r4,#0x28]
;;;1427   			//plazma_can4=(char)LPC_CAN2->RDA; 
;;;1428       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1429       		*pDest = LPC_CAN2->RDB; 
00129e  6041              STR      r1,[r0,#4]
0012a0  6ae1              LDR      r1,[r4,#0x2c]
;;;1430   
;;;1431       		// now set the sempahore to complete
;;;1432       		buf |= 0x03000000L; // set semaphore to 11b
0012a2  6081              STR      r1,[r0,#8]
0012a4  f0427140          ORR      r1,r2,#0x3000000
;;;1433       		pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1434       		*pDest = buf; 
;;;1435       
;;;1436   		//temp=(char)gFullCANList[0].DatA;
;;;1437   		temp=(char)(LPC_CAN2->RDA);
0012a8  6001              STR      r1,[r0,#0]
0012aa  6aa0              LDR      r0,[r4,#0x28]
;;;1438   		if(temp==0x30)
;;;1439   			{
;;;1440   			 bR=0;
0012ac  499f              LDR      r1,|L1.5420|
0012ae  b2c0              UXTB     r0,r0                 ;1437
0012b0  2830              CMP      r0,#0x30              ;1438
0012b2  d021              BEQ      |L1.4856|
;;;1441   			 }
;;;1442   		else bR++;
0012b4  7988              LDRB     r0,[r1,#6]  ; bR
0012b6  1c40              ADDS     r0,r0,#1
                  |L1.4792|
0012b8  7188              STRB     r0,[r1,#6]
;;;1443   	
;;;1444   		//temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
;;;1445        
;;;1446        	//ptr=(char*)(&gFullCANList[0].DatA);
;;;1447   	
;;;1448   
;;;1449   			RXBUFF[0]=(char)(LPC_CAN2->RDA);
0012ba  6aa2              LDR      r2,[r4,#0x28]
0012bc  4896              LDR      r0,|L1.5400|
0012be  3024              ADDS     r0,r0,#0x24
0012c0  7002              STRB     r2,[r0,#0]
;;;1450   			RXBUFF[1]=(char)((LPC_CAN2->RDA)>>8);
0012c2  6aa2              LDR      r2,[r4,#0x28]
0012c4  0a12              LSRS     r2,r2,#8
0012c6  7042              STRB     r2,[r0,#1]
;;;1451   			RXBUFF[2]=(char)((LPC_CAN2->RDA)>>16);
0012c8  6aa2              LDR      r2,[r4,#0x28]
0012ca  0c12              LSRS     r2,r2,#16
0012cc  7082              STRB     r2,[r0,#2]
;;;1452   			RXBUFF[3]=(char)((LPC_CAN2->RDA)>>24);
0012ce  6aa2              LDR      r2,[r4,#0x28]
0012d0  0e12              LSRS     r2,r2,#24
0012d2  70c2              STRB     r2,[r0,#3]
;;;1453   			RXBUFF[4]=(char)(LPC_CAN2->RDB);
0012d4  6ae2              LDR      r2,[r4,#0x2c]
0012d6  7102              STRB     r2,[r0,#4]
;;;1454   			RXBUFF[5]=(char)((LPC_CAN2->RDB)>>8);
0012d8  6ae2              LDR      r2,[r4,#0x2c]
0012da  0a12              LSRS     r2,r2,#8
0012dc  7142              STRB     r2,[r0,#5]
;;;1455   			RXBUFF[6]=(char)((LPC_CAN2->RDB)>>16);
0012de  6ae2              LDR      r2,[r4,#0x2c]
0012e0  0c12              LSRS     r2,r2,#16
0012e2  7182              STRB     r2,[r0,#6]
;;;1456   			RXBUFF[7]=(char)((LPC_CAN2->RDB)>>24);
0012e4  6ae2              LDR      r2,[r4,#0x2c]
0012e6  0e12              LSRS     r2,r2,#24
0012e8  71c2              STRB     r2,[r0,#7]
;;;1457   	
;;;1458   	
;;;1459   	
;;;1460   			bIN=1;
0012ea  2001              MOVS     r0,#1
0012ec  71c8              STRB     r0,[r1,#7]
;;;1461     			//rotor_can[3]++;
;;;1462     			can_in_an2();
0012ee  f7fffffe          BL       can_in_an2
                  |L1.4850|
;;;1463   			
;;;1464       
;;;1465     		}
;;;1466   
;;;1467   LPC_CAN2->CMR = 0x04; // release receive buffer
0012f2  2004              MOVS     r0,#4
0012f4  6060              STR      r0,[r4,#4]
;;;1468   }
0012f6  bd10              POP      {r4,pc}
                  |L1.4856|
0012f8  2000              MOVS     r0,#0                 ;1440
0012fa  e7dd              B        |L1.4792|
;;;1469   /**************************************************************************
                          ENDP

                  can_isr_tx1 PROC
;;;1475   
;;;1476   void can_isr_tx1 (void) 
0012fc  4a8b              LDR      r2,|L1.5420|
;;;1477   {
;;;1478   //unsigned int buf;
;;;1479   //unsigned int *pDest;
;;;1480   char temp;
;;;1481   //char *ptr,j;
;;;1482   //plazma_can2++;
;;;1483   
;;;1484   can_tx_cnt++;
0012fe  7a50              LDRB     r0,[r2,#9]  ; can_tx_cnt
001300  1c40              ADDS     r0,r0,#1
001302  7250              STRB     r0,[r2,#9]
;;;1485   
;;;1486   rotor_can[5]++;
001304  4884              LDR      r0,|L1.5400|
001306  8941              LDRH     r1,[r0,#0xa]  ; rotor_can
001308  1c49              ADDS     r1,r1,#1
00130a  8141              STRH     r1,[r0,#0xa]
;;;1487   
;;;1488   if(ptr_can1_tx_wr!=ptr_can1_tx_rd)
00130c  7893              LDRB     r3,[r2,#2]  ; ptr_can1_tx_wr
00130e  78d0              LDRB     r0,[r2,#3]  ; ptr_can1_tx_rd
;;;1489   	{
;;;1490   	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
001310  4982              LDR      r1,|L1.5404|
001312  4283              CMP      r3,r0                 ;1488
001314  d01c              BEQ      |L1.4944|
001316  4b87              LDR      r3,|L1.5428|
001318  f8533020          LDR      r3,[r3,r0,LSL #2]
00131c  630b              STR      r3,[r1,#0x30]
;;;1491        LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
00131e  4b85              LDR      r3,|L1.5428|
001320  3320              ADDS     r3,r3,#0x20
001322  f8533020          LDR      r3,[r3,r0,LSL #2]
001326  634b              STR      r3,[r1,#0x34]
;;;1492        LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
001328  4b82              LDR      r3,|L1.5428|
00132a  3340              ADDS     r3,r3,#0x40
00132c  f8533020          LDR      r3,[r3,r0,LSL #2]
001330  638b              STR      r3,[r1,#0x38]
;;;1493        LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
001332  4b80              LDR      r3,|L1.5428|
001334  3360              ADDS     r3,r3,#0x60
001336  f8533020          LDR      r3,[r3,r0,LSL #2]
00133a  63cb              STR      r3,[r1,#0x3c]
;;;1494        LPC_CAN1->CMR=0x00000021;
00133c  2321              MOVS     r3,#0x21
00133e  604b              STR      r3,[r1,#4]
;;;1495        ptr_can1_tx_rd++;
001340  1c40              ADDS     r0,r0,#1
001342  b2c0              UXTB     r0,r0
001344  70d0              STRB     r0,[r2,#3]
;;;1496        if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
001346  2808              CMP      r0,#8
001348  d304              BCC      |L1.4948|
00134a  2000              MOVS     r0,#0
00134c  70d0              STRB     r0,[r2,#3]
00134e  e001              B        |L1.4948|
                  |L1.4944|
;;;1497   	}
;;;1498   else bOUT_FREE=1;
001350  2001              MOVS     r0,#1
001352  7010              STRB     r0,[r2,#0]
                  |L1.4948|
;;;1499   temp=LPC_CAN1->ICR;
001354  68c8              LDR      r0,[r1,#0xc]
;;;1500   if(temp)temp=0;
;;;1501   }
001356  4770              BX       lr
;;;1502   
                          ENDP

                  can_isr_tx2 PROC
;;;1503   /***************************************************************************/
;;;1504   void can_isr_tx2 (void) 
001358  4a74              LDR      r2,|L1.5420|
;;;1505   {
;;;1506   char temp;
;;;1507   can2_tx_cnt++;
;;;1508   
;;;1509   //=ptr_can2_tx_wr;
;;;1510   
;;;1511   if(ptr_can2_tx_wr!=ptr_can2_tx_rd)
;;;1512   	{
;;;1513   	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
00135a  4975              LDR      r1,|L1.5424|
00135c  8ad0              LDRH     r0,[r2,#0x16]         ;1507  ; can2_tx_cnt
00135e  1c40              ADDS     r0,r0,#1              ;1507
001360  82d0              STRH     r0,[r2,#0x16]         ;1507
001362  7913              LDRB     r3,[r2,#4]            ;1511  ; ptr_can2_tx_wr
001364  7950              LDRB     r0,[r2,#5]            ;1511  ; ptr_can2_tx_rd
001366  4283              CMP      r3,r0                 ;1511
001368  d01d              BEQ      |L1.5030|
00136a  4b6b              LDR      r3,|L1.5400|
00136c  3b80              SUBS     r3,r3,#0x80
00136e  f8533020          LDR      r3,[r3,r0,LSL #2]
001372  630b              STR      r3,[r1,#0x30]
;;;1514        LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
001374  4b68              LDR      r3,|L1.5400|
001376  3b60              SUBS     r3,r3,#0x60
001378  f8533020          LDR      r3,[r3,r0,LSL #2]
00137c  634b              STR      r3,[r1,#0x34]
;;;1515        LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
00137e  4b66              LDR      r3,|L1.5400|
001380  3b40              SUBS     r3,r3,#0x40
001382  f8533020          LDR      r3,[r3,r0,LSL #2]
001386  638b              STR      r3,[r1,#0x38]
;;;1516        LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
001388  4b63              LDR      r3,|L1.5400|
00138a  3b20              SUBS     r3,r3,#0x20
00138c  f8533020          LDR      r3,[r3,r0,LSL #2]
001390  63cb              STR      r3,[r1,#0x3c]
;;;1517        LPC_CAN2->CMR=0x00000021;
001392  2321              MOVS     r3,#0x21
001394  604b              STR      r3,[r1,#4]
;;;1518        ptr_can2_tx_rd++;
001396  1c40              ADDS     r0,r0,#1
001398  b2c0              UXTB     r0,r0
00139a  7150              STRB     r0,[r2,#5]
;;;1519        if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
00139c  2808              CMP      r0,#8
00139e  d304              BCC      |L1.5034|
0013a0  2000              MOVS     r0,#0
0013a2  7150              STRB     r0,[r2,#5]
0013a4  e001              B        |L1.5034|
                  |L1.5030|
;;;1520   	}
;;;1521   else bOUT_FREE2=1;
0013a6  2001              MOVS     r0,#1
0013a8  7050              STRB     r0,[r2,#1]
                  |L1.5034|
;;;1522   temp=LPC_CAN2->ICR;
0013aa  68c8              LDR      r0,[r1,#0xc]
;;;1523   if(temp)temp=0;
;;;1524   }
0013ac  4770              BX       lr
;;;1525   
                          ENDP

                  can1_init PROC
;;;1529   ***************************************************************************/ 
;;;1530   short can1_init (unsigned int can_btr)
0013ae  4962              LDR      r1,|L1.5432|
;;;1531   {
0013b0  b510              PUSH     {r4,lr}
;;;1532   LPC_SC->PCONP |= (1<<13);  /* Enable CAN1 and CAN2 clock */
0013b2  680a              LDR      r2,[r1,#0]
0013b4  f4425200          ORR      r2,r2,#0x2000
0013b8  600a              STR      r2,[r1,#0]
;;;1533   
;;;1534   LPC_PINCON->PINSEL0 &= ~0x0000000F;  /* CAN1 is p0.0 and p0.1	*/
0013ba  4960              LDR      r1,|L1.5436|
0013bc  680a              LDR      r2,[r1,#0]
0013be  f022020f          BIC      r2,r2,#0xf
0013c2  600a              STR      r2,[r1,#0]
;;;1535   LPC_PINCON->PINSEL0 |= 0x00000005;
0013c4  680a              LDR      r2,[r1,#0]
0013c6  f0420205          ORR      r2,r2,#5
0013ca  600a              STR      r2,[r1,#0]
;;;1536   
;;;1537   gCANFilter = 0; // Reset and disable all message filters
0013cc  4a57              LDR      r2,|L1.5420|
0013ce  f04f0100          MOV      r1,#0
0013d2  8251              STRH     r1,[r2,#0x12]
;;;1538   
;;;1539   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
0013d4  4b5a              LDR      r3,|L1.5440|
0013d6  f04f0201          MOV      r2,#1
0013da  601a              STR      r2,[r3,#0]
;;;1540   
;;;1541   LPC_CAN1->MOD = 1; // Go into Reset mode
0013dc  4c4f              LDR      r4,|L1.5404|
0013de  6022              STR      r2,[r4,#0]
;;;1542   
;;;1543   LPC_CAN1->IER = 0;// Disable All Interrupts
0013e0  6121              STR      r1,[r4,#0x10]
;;;1544   
;;;1545   LPC_CAN1->GSR = 0; // Clear Status register
0013e2  60a1              STR      r1,[r4,#8]
;;;1546   
;;;1547   LPC_CAN1->BTR = can_btr; // Set bit timing
0013e4  6160              STR      r0,[r4,#0x14]
;;;1548   
;;;1549   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;1550   
;;;1551   LPC_CAN1->MOD = 0; // Enter Normal Operating Mode
0013e6  6021              STR      r1,[r4,#0]
;;;1552   
;;;1553   LPC_CAN1->EWL = 110; // Enter Normal Operating Mode
0013e8  f04f006e          MOV      r0,#0x6e
0013ec  61a0              STR      r0,[r4,#0x18]
;;;1554   
;;;1555   NVIC_EnableIRQ(CAN_IRQn);
0013ee  f04f0019          MOV      r0,#0x19
0013f2  f7fffffe          BL       NVIC_EnableIRQ
;;;1556   LPC_CAN1->IER =0x0007;
0013f6  2007              MOVS     r0,#7
0013f8  6120              STR      r0,[r4,#0x10]
;;;1557   return 1;
0013fa  2001              MOVS     r0,#1
;;;1558   }
0013fc  bd10              POP      {r4,pc}
;;;1559   
                          ENDP

                  can2_init PROC
;;;1563   ***************************************************************************/ 
;;;1564   short can2_init (unsigned int can_btr)
0013fe  494e              LDR      r1,|L1.5432|
;;;1565   {
001400  b510              PUSH     {r4,lr}
;;;1566   LPC_SC->PCONP |= (1<<14);  /* Enable CAN1 and CAN2 clock */
001402  680a              LDR      r2,[r1,#0]
001404  f4424280          ORR      r2,r2,#0x4000
001408  600a              STR      r2,[r1,#0]
;;;1567   
;;;1568   LPC_PINCON->PINSEL2 &= ~0x0003c000;  /* CAN1 is p0.0 and p0.1	*/
00140a  494c              LDR      r1,|L1.5436|
00140c  688a              LDR      r2,[r1,#8]
00140e  f4223270          BIC      r2,r2,#0x3c000
001412  608a              STR      r2,[r1,#8]
;;;1569   LPC_PINCON->PINSEL4 |= 0x00014000;
001414  690a              LDR      r2,[r1,#0x10]
001416  f44232a0          ORR      r2,r2,#0x14000
00141a  610a              STR      r2,[r1,#0x10]
;;;1570   
;;;1571   gCANFilter = 0; // Reset and disable all message filters
00141c  4a43              LDR      r2,|L1.5420|
00141e  f04f0100          MOV      r1,#0
001422  8251              STRH     r1,[r2,#0x12]
;;;1572   
;;;1573   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
001424  4b46              LDR      r3,|L1.5440|
001426  f04f0201          MOV      r2,#1
00142a  601a              STR      r2,[r3,#0]
;;;1574   
;;;1575   LPC_CAN2->MOD = 1; // Go into Reset mode
00142c  4c40              LDR      r4,|L1.5424|
00142e  6022              STR      r2,[r4,#0]
;;;1576   
;;;1577   LPC_CAN2->IER = 0;// Disable All Interrupts
001430  6121              STR      r1,[r4,#0x10]
;;;1578   
;;;1579   LPC_CAN2->GSR = 0; // Clear Status register
001432  60a1              STR      r1,[r4,#8]
;;;1580   
;;;1581   LPC_CAN2->BTR = can_btr; // Set bit timing
001434  6160              STR      r0,[r4,#0x14]
;;;1582   
;;;1583   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;1584   
;;;1585   LPC_CAN2->MOD = 0; // Enter Normal Operating Mode
001436  6021              STR      r1,[r4,#0]
;;;1586   
;;;1587   
;;;1588   
;;;1589   NVIC_EnableIRQ(CAN_IRQn);
001438  f04f0019          MOV      r0,#0x19
00143c  f7fffffe          BL       NVIC_EnableIRQ
;;;1590   LPC_CAN2->IER =0x0003;
001440  2003              MOVS     r0,#3
001442  6120              STR      r0,[r4,#0x10]
;;;1591   return 1;
001444  2001              MOVS     r0,#1
;;;1592   }
001446  bd10              POP      {r4,pc}
;;;1593   
                          ENDP

                  FullCAN_SetFilter PROC
;;;1597   ***************************************************************************/ 
;;;1598   short FullCAN_SetFilter  (
001448  b5f0              PUSH     {r4-r7,lr}
;;;1599                            unsigned short can_port, // CAN interface number
;;;1600                            unsigned int CANID // 11-bit CAN ID
;;;1601                            )
;;;1602   {
;;;1603   unsigned int p, n;
;;;1604   unsigned int buf0, buf1;
;;;1605   unsigned int ID_lower, ID_upper;
;;;1606   unsigned int candata;
;;;1607   unsigned int *pAddr;
;;;1608   
;;;1609    
;;;1610   
;;;1611   // Acceptance Filter Mode Register = off !
;;;1612   LPC_CANAF->AFMR = 0x00000001L;
00144a  4c3d              LDR      r4,|L1.5440|
00144c  2201              MOVS     r2,#1
00144e  6022              STR      r2,[r4,#0]
;;;1613   
;;;1614   if (gCANFilter == 0)
001450  4b36              LDR      r3,|L1.5420|
001452  8a5d              LDRH     r5,[r3,#0x12]  ; gCANFilter
;;;1615        {    
;;;1616        // First call, init entry zero
;;;1617        gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
001454  4a30              LDR      r2,|L1.5400|
001456  320c              ADDS     r2,r2,#0xc
001458  b915              CBNZ     r5,|L1.5216|
00145a  f24375ff          MOV      r5,#0x37ff
00145e  6015              STR      r5,[r2,#0]  ; gFullCANList
                  |L1.5216|
;;;1618        }
;;;1619   if (gCANFilter >= MAX_FILTERS)
001460  f9b35012          LDRSH    r5,[r3,#0x12]  ; gCANFilter
001464  2d02              CMP      r5,#2
001466  db01              BLT      |L1.5228|
;;;1620        {
;;;1621        return 0;
001468  2000              MOVS     r0,#0
;;;1622        }
;;;1623   
;;;1624   CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;1625   CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;1626   
;;;1627   // Filters must be sorted by interface, then by priority
;;;1628   // new filter is sorted into array
;;;1629   p = 0;
;;;1630   while (p < gCANFilter) // loop through all existing filters 
;;;1631        {
;;;1632        if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;1633             {
;;;1634             break;
;;;1635             }
;;;1636        p++;
;;;1637        }
;;;1638   
;;;1639   // insert new filter here
;;;1640   buf0 = gFullCANList[p].Dat1; // save current entry
;;;1641   gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;1642   
;;;1643   // move all remaining entries one row up
;;;1644   gCANFilter++;
;;;1645   while (p < gCANFilter)
;;;1646        {
;;;1647        p++;
;;;1648        buf1 = gFullCANList[p].Dat1;
;;;1649        gFullCANList[p].Dat1 = buf0;
;;;1650        buf0 = buf1;
;;;1651        }
;;;1652   
;;;1653   // Now work on Acceptance Filter Configuration     
;;;1654   // Set CAN filter for 11-bit standard identifiers
;;;1655   p = 0;
;;;1656   
;;;1657   // Set pointer for Standard Frame Individual
;;;1658   // Standard Frame Explicit
;;;1659   LPC_CANAF->SFF_sa = p;
;;;1660   
;;;1661   pAddr = (unsigned int *) LPC_CANAF_RAM_BASE;
;;;1662   for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;1663        {
;;;1664        ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;1665        ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;1666        candata = (ID_lower << 16) + ID_upper;
;;;1667        *pAddr = candata;
;;;1668        p += 4;
;;;1669        pAddr++;
;;;1670        }
;;;1671   
;;;1672   // p is still pointing to ENDofTable;
;;;1673     
;;;1674   // Set pointer for Standard Frame Groups
;;;1675   // Standard Frame Group Start Address Register
;;;1676   LPC_CANAF->SFF_GRP_sa = p;
;;;1677   
;;;1678   // Set pointer for Extended Frame Individual
;;;1679   // Extended Frame Start Address Register
;;;1680   LPC_CANAF->EFF_sa = p;
;;;1681   
;;;1682   // Set pointer for Extended Frame Groups
;;;1683   // Extended Frame Group Start Address Register
;;;1684   LPC_CANAF->EFF_GRP_sa = p;
;;;1685   
;;;1686   // Set ENDofTable 
;;;1687   // End of AF Tables Register
;;;1688   LPC_CANAF->ENDofTable = p;
;;;1689   
;;;1690   // Acceptance Filter Mode Register, start using filter
;;;1691   LPC_CANAF->AFMR = 0;
;;;1692     
;;;1693   return 1;
;;;1694   
;;;1695   /*
;;;1696     // Acceptance Filter Mode Register = off !
;;;1697   LPC_CANAF->AFMR = 0x00000001L;
;;;1698   
;;;1699     if (gCANFilter == 0)
;;;1700     { // First call, init entry zero
;;;1701       gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
;;;1702     }
;;;1703     if (gCANFilter >= MAX_FILTERS)
;;;1704     {
;;;1705       return 0;
;;;1706     }
;;;1707   
;;;1708     CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;1709     CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;1710   
;;;1711     // Filters must be sorted by interface, then by priority
;;;1712     // new filter is sorted into array
;;;1713     p = 0;
;;;1714     while (p < gCANFilter) // loop through all existing filters 
;;;1715     {
;;;1716       if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;1717       {
;;;1718         break;
;;;1719       }
;;;1720       p++;
;;;1721     }
;;;1722   
;;;1723     // insert new filter here
;;;1724     buf0 = gFullCANList[p].Dat1; // save current entry
;;;1725     gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;1726   
;;;1727     // move all remaining entries one row up
;;;1728     gCANFilter++;
;;;1729     while (p < gCANFilter)
;;;1730     {
;;;1731       p++;
;;;1732       buf1 = gFullCANList[p].Dat1;
;;;1733       gFullCANList[p].Dat1 = buf0;
;;;1734       buf0 = buf1;
;;;1735     }
;;;1736   
;;;1737     // Now work on Acceptance Filter Configuration     
;;;1738     // Set CAN filter for 11-bit standard identifiers
;;;1739     p = 0;
;;;1740   
;;;1741     // Set pointer for Standard Frame Individual
;;;1742     // Standard Frame Explicit
;;;1743   LPC_CANAF->SFF_sa = p;
;;;1744   
;;;1745     pAddr = (unsigned int *) ACCEPTANCE_FILTER_RAM_BASE;
;;;1746     for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;1747     {
;;;1748       ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;1749       ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;1750       candata = (ID_lower << 16) + ID_upper;
;;;1751       *pAddr = candata;
;;;1752       p += 4;
;;;1753       pAddr++;
;;;1754     }
;;;1755   
;;;1756     // p is still pointing to ENDofTable;
;;;1757     
;;;1758     // Set pointer for Standard Frame Groups
;;;1759     // Standard Frame Group Start Address Register
;;;1760   LPC_CANAF->SFF_GRP_sa = p;
;;;1761   
;;;1762     // Set pointer for Extended Frame Individual
;;;1763     // Extended Frame Start Address Register
;;;1764   LPC_CANAF->EFF_sa = p;
;;;1765   
;;;1766     // Set pointer for Extended Frame Groups
;;;1767     // Extended Frame Group Start Address Register
;;;1768   LPC_CANAF->EFF_GRP_sa = p;
;;;1769   
;;;1770     // Set ENDofTable 
;;;1771     // End of AF Tables Register
;;;1772   LPC_CANAF->ENDofTable = p;
;;;1773   
;;;1774     // Acceptance Filter Mode Register, start using filter
;;;1775   LPC_CANAF->AFMR = 0;
;;;1776     
;;;1777     return 1;	 */
;;;1778   }
00146a  bdf0              POP      {r4-r7,pc}
                  |L1.5228|
00146c  f3c1010a          UBFX     r1,r1,#0,#11          ;1624
001470  ea413540          ORR      r5,r1,r0,LSL #13      ;1625
001474  2000              MOVS     r0,#0                 ;1629
001476  e007              B        |L1.5256|
                  |L1.5240|
001478  eb000140          ADD      r1,r0,r0,LSL #1       ;1632
00147c  f8521021          LDR      r1,[r2,r1,LSL #2]     ;1632
001480  b289              UXTH     r1,r1                 ;1632
001482  42a9              CMP      r1,r5                 ;1632
001484  d804              BHI      |L1.5264|
001486  1c40              ADDS     r0,r0,#1              ;1636
                  |L1.5256|
001488  f9b31012          LDRSH    r1,[r3,#0x12]         ;1630  ; gCANFilter
00148c  4288              CMP      r0,r1                 ;1630
00148e  d3f3              BCC      |L1.5240|
                  |L1.5264|
001490  eb000640          ADD      r6,r0,r0,LSL #1       ;1640
001494  f8521026          LDR      r1,[r2,r6,LSL #2]     ;1640
001498  f8425026          STR      r5,[r2,r6,LSL #2]     ;1641
00149c  8a5d              LDRH     r5,[r3,#0x12]         ;1644  ; gCANFilter
00149e  1c6d              ADDS     r5,r5,#1              ;1644
0014a0  825d              STRH     r5,[r3,#0x12]         ;1644
0014a2  e007              B        |L1.5300|
                  |L1.5284|
0014a4  1c40              ADDS     r0,r0,#1              ;1647
0014a6  eb000640          ADD      r6,r0,r0,LSL #1       ;1648
0014aa  f8525026          LDR      r5,[r2,r6,LSL #2]     ;1648
0014ae  f8421026          STR      r1,[r2,r6,LSL #2]     ;1649
0014b2  4629              MOV      r1,r5                 ;1650
                  |L1.5300|
0014b4  f9b35012          LDRSH    r5,[r3,#0x12]         ;1645  ; gCANFilter
0014b8  42a8              CMP      r0,r5                 ;1645
0014ba  d3f3              BCC      |L1.5284|
0014bc  2000              MOVS     r0,#0                 ;1655
0014be  6060              STR      r0,[r4,#4]            ;1659
0014c0  4d20              LDR      r5,|L1.5444|
0014c2  4601              MOV      r1,r0                 ;1662
0014c4  e00d              B        |L1.5346|
0014c6  bf00              NOP                            ;1664
                  |L1.5320|
0014c8  eb010741          ADD      r7,r1,r1,LSL #1       ;1664
0014cc  f8526037          LDR      r6,[r2,r7,LSL #3]     ;1664
0014d0  eb0207c7          ADD      r7,r2,r7,LSL #3       ;1665
0014d4  68ff              LDR      r7,[r7,#0xc]          ;1665
0014d6  1d00              ADDS     r0,r0,#4              ;1668
0014d8  b2bf              UXTH     r7,r7                 ;1665
0014da  eb074606          ADD      r6,r7,r6,LSL #16      ;1666
0014de  c540              STM      r5!,{r6}              ;1667
0014e0  1c49              ADDS     r1,r1,#1              ;1662
                  |L1.5346|
0014e2  f9b36012          LDRSH    r6,[r3,#0x12]         ;1662  ; gCANFilter
0014e6  1c76              ADDS     r6,r6,#1              ;1662
0014e8  eb0676d6          ADD      r6,r6,r6,LSR #31      ;1662
0014ec  ebb10f66          CMP      r1,r6,ASR #1          ;1662
0014f0  d3ea              BCC      |L1.5320|
0014f2  60a0              STR      r0,[r4,#8]            ;1676
0014f4  60e0              STR      r0,[r4,#0xc]          ;1680
0014f6  6120              STR      r0,[r4,#0x10]         ;1684
0014f8  6160              STR      r0,[r4,#0x14]         ;1688
0014fa  2000              MOVS     r0,#0                 ;1691
0014fc  6020              STR      r0,[r4,#0]            ;1691
0014fe  e023              B        |L1.5448|
                  |L1.5376|
                          DCD      ext_can_cnt
                  |L1.5380|
                          DCD      bRESET_EXT
                  |L1.5384|
                          DCD      power_current
                  |L1.5388|
                          DCD      power_summary
                  |L1.5392|
                          DCD      eb2_data
                  |L1.5396|
                          DCD      eb2_data_short
                  |L1.5400|
                          DCD      ||.bss||+0x100
                  |L1.5404|
                          DCD      0x40044000
                  |L1.5408|
                          DCD      0xc0000400
                  |L1.5412|
                          DCD      0xc00f0000
                  |L1.5416|
                          DCD      0x01002000
                  |L1.5420|
                          DCD      ||.data||
                  |L1.5424|
                          DCD      0x40048000
                  |L1.5428|
                          DCD      ||.bss||
                  |L1.5432|
                          DCD      0x400fc0c4
                  |L1.5436|
                          DCD      0x4002c000
                  |L1.5440|
                          DCD      0x4003c000
                  |L1.5444|
                          DCD      0x40038000
                  |L1.5448|
001548  2001              MOVS     r0,#1                 ;1693
00154a  bdf0              POP      {r4-r7,pc}
;;;1779   
                          ENDP

                  CAN_IRQHandler PROC
;;;1780   //-----------------------------------------------
;;;1781   void CAN_IRQHandler(void)  
00154c  4826              LDR      r0,|L1.5608|
;;;1782   {
00154e  b510              PUSH     {r4,lr}
;;;1783   //can_rotor[0]++;
;;;1784   CANStatus = LPC_CAN1->ICR;
001550  68c0              LDR      r0,[r0,#0xc]
001552  4c26              LDR      r4,|L1.5612|
001554  61e0              STR      r0,[r4,#0x1c]  ; CANStatus
;;;1785   //new_rotor[3]=CANStatus;
;;;1786   //new_rotor[4]=CANStatus>>16;
;;;1787   //
;;;1788   //rotor_rotor_rotor[0]++;
;;;1789   		
;;;1790   if ( CANStatus & (1 << 0) )
001556  69e0              LDR      r0,[r4,#0x1c]  ; CANStatus
001558  07c0              LSLS     r0,r0,#31
00155a  d005              BEQ      |L1.5480|
;;;1791        {
;;;1792   	CAN_ISR_Rx1();
00155c  f7fffffe          BL       CAN_ISR_Rx1
;;;1793   	plazma_can1++;
001560  7b20              LDRB     r0,[r4,#0xc]  ; plazma_can1
001562  f1000001          ADD      r0,r0,#1
001566  7320              STRB     r0,[r4,#0xc]
                  |L1.5480|
;;;1794        }
;;;1795   
;;;1796   if ( CANStatus & (1 << 1) )
001568  69e0              LDR      r0,[r4,#0x1c]  ; CANStatus
00156a  0780              LSLS     r0,r0,#30
00156c  d505              BPL      |L1.5498|
;;;1797        {
;;;1798   	can_isr_tx1();
00156e  f7fffffe          BL       can_isr_tx1
;;;1799   	plazma_can2++;
001572  7b60              LDRB     r0,[r4,#0xd]  ; plazma_can2
001574  f1000001          ADD      r0,r0,#1
001578  7360              STRB     r0,[r4,#0xd]
                  |L1.5498|
;;;1800   	
;;;1801        }
;;;1802   
;;;1803   if ( CANStatus & (1 << 2) )
00157a  69e0              LDR      r0,[r4,#0x1c]  ; CANStatus
00157c  0740              LSLS     r0,r0,#29
00157e  d501              BPL      |L1.5508|
;;;1804        {
;;;1805   	//can_isr_tx1();
;;;1806   	//plazma_can2++;
;;;1807   	bCAN1_INIT=1;
001580  2001              MOVS     r0,#1
001582  7420              STRB     r0,[r4,#0x10]
                  |L1.5508|
;;;1808        }
;;;1809   
;;;1810   CANStatus = LPC_CAN2->ICR;
001584  481a              LDR      r0,|L1.5616|
001586  68c0              LDR      r0,[r0,#0xc]
001588  61e0              STR      r0,[r4,#0x1c]  ; CANStatus
;;;1811   //new_rotor[3]=CANStatus;
;;;1812   //new_rotor[4]=CANStatus>>16;
;;;1813   //
;;;1814   //rotor_rotor_rotor[0]++;
;;;1815   plazma_can++;		
00158a  7ae0              LDRB     r0,[r4,#0xb]  ; plazma_can
00158c  1c40              ADDS     r0,r0,#1
00158e  72e0              STRB     r0,[r4,#0xb]
;;;1816   if ( CANStatus & (1 << 0) )
001590  69e0              LDR      r0,[r4,#0x1c]  ; CANStatus
001592  07c0              LSLS     r0,r0,#31
001594  d008              BEQ      |L1.5544|
;;;1817        {
;;;1818   	CAN_ISR_Rx2();
001596  f7fffffe          BL       CAN_ISR_Rx2
;;;1819   	plazma_can3++;
00159a  7ba0              LDRB     r0,[r4,#0xe]  ; plazma_can3
00159c  f1000001          ADD      r0,r0,#1
0015a0  73a0              STRB     r0,[r4,#0xe]
;;;1820   	cnt_can_pal=0;
0015a2  f04f0000          MOV      r0,#0
0015a6  72a0              STRB     r0,[r4,#0xa]
                  |L1.5544|
;;;1821   
;;;1822        }
;;;1823   
;;;1824   if ( CANStatus & (1 << 1) )
0015a8  69e0              LDR      r0,[r4,#0x1c]  ; CANStatus
0015aa  0780              LSLS     r0,r0,#30
0015ac  d504              BPL      |L1.5560|
;;;1825        {
;;;1826   	can_isr_tx2();
0015ae  f7fffffe          BL       can_isr_tx2
;;;1827   	 plazma_can4++;
0015b2  7be0              LDRB     r0,[r4,#0xf]  ; plazma_can4
0015b4  1c40              ADDS     r0,r0,#1
0015b6  73e0              STRB     r0,[r4,#0xf]
                  |L1.5560|
;;;1828   	
;;;1829        }
;;;1830   
;;;1831   return;
;;;1832   }
0015b8  bd10              POP      {r4,pc}
;;;1833   //-----------------------------------------------
                          ENDP

                  debug_drv PROC
;;;1834   void debug_drv(void)
0015ba  480c              LDR      r0,|L1.5612|
;;;1835   {
;;;1836   debug_cnt++;
0015bc  8b01              LDRH     r1,[r0,#0x18]  ; debug_cnt
0015be  1c49              ADDS     r1,r1,#1
0015c0  b209              SXTH     r1,r1
0015c2  8301              STRH     r1,[r0,#0x18]
;;;1837   if(debug_cnt>=5) debug_cnt=0;
0015c4  2905              CMP      r1,#5
0015c6  db01              BLT      |L1.5580|
0015c8  2100              MOVS     r1,#0
0015ca  8301              STRH     r1,[r0,#0x18]
                  |L1.5580|
;;;1838   }
0015cc  4770              BX       lr
;;;1839   
                          ENDP

                  NVIC_EnableIRQ PROC
;;;927     */
;;;928    static __INLINE void NVIC_EnableIRQ(IRQn_Type IRQn)
0015ce  f000021f          AND      r2,r0,#0x1f
;;;929    {
;;;930      NVIC->ISER[((uint32_t)(IRQn) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F)); /* enable interrupt */
0015d2  2101              MOVS     r1,#1
0015d4  4091              LSLS     r1,r1,r2
0015d6  0940              LSRS     r0,r0,#5
0015d8  f04f22e0          MOV      r2,#0xe000e000
0015dc  eb020080          ADD      r0,r2,r0,LSL #2
0015e0  f8c01100          STR      r1,[r0,#0x100]
;;;931    }
0015e4  4770              BX       lr
;;;932    
                          ENDP

0015e6  0000              DCW      0x0000
                  |L1.5608|
                          DCD      0x40044000
                  |L1.5612|
                          DCD      ||.data||
                  |L1.5616|
                          DCD      0x40048000

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  can1_info
                          %        32
                  can1_id
                          %        32
                  can1_data
                          %        32
                  can1_datb
                          %        32
                  can2_info
                          %        32
                  can2_id
                          %        32
                  can2_data
                          %        32
                  can2_datb
                          %        32
                  rotor_can
                          %        12
                  gFullCANList
                          %        24
                  RXBUFF
                          %        40
                  TXBUFF
                          %        40
                  can_rotor
                          %        10
                  can_debug_plazma
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  bd_dumm
                          %        25

                          AREA ||area_number.5||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.5||, ||.bss||
                  ||bd||
                          %        25

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  RXBUFF2
                          %        40

                          AREA ||area_number.7||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.7||, ||.bss||
                  TXBUFF2
                          %        40

                          AREA ||area_number.8||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.8||, ||.bss||
                  plazma_can_pal
                          %        20

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  Table87
000000  000e1c12          DCB      0x00,0x0e,0x1c,0x12
000004  3836242a          DCB      0x38,0x36,0x24,0x2a
000008  707e6c62          DCB      0x70,0x7e,0x6c,0x62
00000c  4846545a          DCB      0x48,0x46,0x54,0x5a
000010  e0eefcf2          DCB      0xe0,0xee,0xfc,0xf2
000014  d8d6c4ca          DCB      0xd8,0xd6,0xc4,0xca
000018  909e8c82          DCB      0x90,0x9e,0x8c,0x82
00001c  a8a6b4ba          DCB      0xa8,0xa6,0xb4,0xba
000020  cec0d2dc          DCB      0xce,0xc0,0xd2,0xdc
000024  f6f8eae4          DCB      0xf6,0xf8,0xea,0xe4
000028  beb0a2ac          DCB      0xbe,0xb0,0xa2,0xac
00002c  86889a94          DCB      0x86,0x88,0x9a,0x94
000030  2e20323c          DCB      0x2e,0x20,0x32,0x3c
000034  16180a04          DCB      0x16,0x18,0x0a,0x04
000038  5e50424c          DCB      0x5e,0x50,0x42,0x4c
00003c  66687a74          DCB      0x66,0x68,0x7a,0x74
000040  929c8e80          DCB      0x92,0x9c,0x8e,0x80
000044  aaa4b6b8          DCB      0xaa,0xa4,0xb6,0xb8
000048  e2ecfef0          DCB      0xe2,0xec,0xfe,0xf0
00004c  dad4c6c8          DCB      0xda,0xd4,0xc6,0xc8
000050  727c6e60          DCB      0x72,0x7c,0x6e,0x60
000054  4a445658          DCB      0x4a,0x44,0x56,0x58
000058  020c1e10          DCB      0x02,0x0c,0x1e,0x10
00005c  3a342628          DCB      0x3a,0x34,0x26,0x28
000060  5c52404e          DCB      0x5c,0x52,0x40,0x4e
000064  646a7876          DCB      0x64,0x6a,0x78,0x76
000068  2c22303e          DCB      0x2c,0x22,0x30,0x3e
00006c  141a0806          DCB      0x14,0x1a,0x08,0x06
000070  bcb2a0ae          DCB      0xbc,0xb2,0xa0,0xae
000074  848a9896          DCB      0x84,0x8a,0x98,0x96
000078  ccc2d0de          DCB      0xcc,0xc2,0xd0,0xde
00007c  f4fae8e6          DCB      0xf4,0xfa,0xe8,0xe6
000080  2a243638          DCB      0x2a,0x24,0x36,0x38
000084  121c0e00          DCB      0x12,0x1c,0x0e,0x00
000088  5a544648          DCB      0x5a,0x54,0x46,0x48
00008c  626c7e70          DCB      0x62,0x6c,0x7e,0x70
000090  cac4d6d8          DCB      0xca,0xc4,0xd6,0xd8
000094  f2fceee0          DCB      0xf2,0xfc,0xee,0xe0
000098  bab4a6a8          DCB      0xba,0xb4,0xa6,0xa8
00009c  828c9e90          DCB      0x82,0x8c,0x9e,0x90
0000a0  e4eaf8f6          DCB      0xe4,0xea,0xf8,0xf6
0000a4  dcd2c0ce          DCB      0xdc,0xd2,0xc0,0xce
0000a8  949a8886          DCB      0x94,0x9a,0x88,0x86
0000ac  aca2b0be          DCB      0xac,0xa2,0xb0,0xbe
0000b0  040a1816          DCB      0x04,0x0a,0x18,0x16
0000b4  3c32202e          DCB      0x3c,0x32,0x20,0x2e
0000b8  747a6866          DCB      0x74,0x7a,0x68,0x66
0000bc  4c42505e          DCB      0x4c,0x42,0x50,0x5e
0000c0  b8b6a4aa          DCB      0xb8,0xb6,0xa4,0xaa
0000c4  808e9c92          DCB      0x80,0x8e,0x9c,0x92
0000c8  c8c6d4da          DCB      0xc8,0xc6,0xd4,0xda
0000cc  f0feece2          DCB      0xf0,0xfe,0xec,0xe2
0000d0  5856444a          DCB      0x58,0x56,0x44,0x4a
0000d4  606e7c72          DCB      0x60,0x6e,0x7c,0x72
0000d8  2826343a          DCB      0x28,0x26,0x34,0x3a
0000dc  101e0c02          DCB      0x10,0x1e,0x0c,0x02
0000e0  76786a64          DCB      0x76,0x78,0x6a,0x64
0000e4  4e40525c          DCB      0x4e,0x40,0x52,0x5c
0000e8  06081a14          DCB      0x06,0x08,0x1a,0x14
0000ec  3e30222c          DCB      0x3e,0x30,0x22,0x2c
0000f0  96988a84          DCB      0x96,0x98,0x8a,0x84
0000f4  aea0b2bc          DCB      0xae,0xa0,0xb2,0xbc
0000f8  e6e8faf4          DCB      0xe6,0xe8,0xfa,0xf4
0000fc  ded0c2cc          DCB      0xde,0xd0,0xc2,0xcc
                  Table95
000100  002a547e          DCB      0x00,0x2a,0x54,0x7e
000104  a882fcd6          DCB      0xa8,0x82,0xfc,0xd6
000108  7a502e04          DCB      0x7a,0x50,0x2e,0x04
00010c  d2f886ac          DCB      0xd2,0xf8,0x86,0xac
000110  f4dea08a          DCB      0xf4,0xde,0xa0,0x8a
000114  5c760822          DCB      0x5c,0x76,0x08,0x22
000118  8ea4daf0          DCB      0x8e,0xa4,0xda,0xf0
00011c  260c7258          DCB      0x26,0x0c,0x72,0x58
000120  c2e896bc          DCB      0xc2,0xe8,0x96,0xbc
000124  6a403e14          DCB      0x6a,0x40,0x3e,0x14
000128  b892ecc6          DCB      0xb8,0x92,0xec,0xc6
00012c  103a446e          DCB      0x10,0x3a,0x44,0x6e
000130  361c6248          DCB      0x36,0x1c,0x62,0x48
000134  9eb4cae0          DCB      0x9e,0xb4,0xca,0xe0
000138  4c661832          DCB      0x4c,0x66,0x18,0x32
00013c  e4ceb09a          DCB      0xe4,0xce,0xb0,0x9a
000140  ae84fad0          DCB      0xae,0x84,0xfa,0xd0
000144  062c5278          DCB      0x06,0x2c,0x52,0x78
000148  d4fe80aa          DCB      0xd4,0xfe,0x80,0xaa
00014c  7c562802          DCB      0x7c,0x56,0x28,0x02
000150  5a700e24          DCB      0x5a,0x70,0x0e,0x24
000154  f2d8a68c          DCB      0xf2,0xd8,0xa6,0x8c
000158  200a745e          DCB      0x20,0x0a,0x74,0x5e
00015c  88a2dcf6          DCB      0x88,0xa2,0xdc,0xf6
000160  6c463812          DCB      0x6c,0x46,0x38,0x12
000164  c4ee90ba          DCB      0xc4,0xee,0x90,0xba
000168  163c4268          DCB      0x16,0x3c,0x42,0x68
00016c  be94eac0          DCB      0xbe,0x94,0xea,0xc0
000170  98b2cce6          DCB      0x98,0xb2,0xcc,0xe6
000174  301a644e          DCB      0x30,0x1a,0x64,0x4e
000178  e2c8b69c          DCB      0xe2,0xc8,0xb6,0x9c
00017c  4a601e34          DCB      0x4a,0x60,0x1e,0x34
000180  765c2208          DCB      0x76,0x5c,0x22,0x08
000184  def48aa0          DCB      0xde,0xf4,0x8a,0xa0
000188  0c265872          DCB      0x0c,0x26,0x58,0x72
00018c  a48ef0da          DCB      0xa4,0x8e,0xf0,0xda
000190  82a8d6fc          DCB      0x82,0xa8,0xd6,0xfc
000194  2a007e54          DCB      0x2a,0x00,0x7e,0x54
000198  f8d2ac86          DCB      0xf8,0xd2,0xac,0x86
00019c  507a042e          DCB      0x50,0x7a,0x04,0x2e
0001a0  b49ee0ca          DCB      0xb4,0x9e,0xe0,0xca
0001a4  1c364862          DCB      0x1c,0x36,0x48,0x62
0001a8  cee49ab0          DCB      0xce,0xe4,0x9a,0xb0
0001ac  664c3218          DCB      0x66,0x4c,0x32,0x18
0001b0  406a143e          DCB      0x40,0x6a,0x14,0x3e
0001b4  e8c2bc96          DCB      0xe8,0xc2,0xbc,0x96
0001b8  3a106e44          DCB      0x3a,0x10,0x6e,0x44
0001bc  92b8c6ec          DCB      0x92,0xb8,0xc6,0xec
0001c0  d8f28ca6          DCB      0xd8,0xf2,0x8c,0xa6
0001c4  705a240e          DCB      0x70,0x5a,0x24,0x0e
0001c8  a288f6dc          DCB      0xa2,0x88,0xf6,0xdc
0001cc  0a205e74          DCB      0x0a,0x20,0x5e,0x74
0001d0  2c067852          DCB      0x2c,0x06,0x78,0x52
0001d4  84aed0fa          DCB      0x84,0xae,0xd0,0xfa
0001d8  567c0228          DCB      0x56,0x7c,0x02,0x28
0001dc  fed4aa80          DCB      0xfe,0xd4,0xaa,0x80
0001e0  1a304e64          DCB      0x1a,0x30,0x4e,0x64
0001e4  b298e6cc          DCB      0xb2,0x98,0xe6,0xcc
0001e8  604a341e          DCB      0x60,0x4a,0x34,0x1e
0001ec  c8e29cb6          DCB      0xc8,0xe2,0x9c,0xb6
0001f0  eec4ba90          DCB      0xee,0xc4,0xba,0x90
0001f4  466c1238          DCB      0x46,0x6c,0x12,0x38
0001f8  94bec0ea          DCB      0x94,0xbe,0xc0,0xea
0001fc  3c166842          DCB      0x3c,0x16,0x68,0x42

                          AREA ||.data||, DATA, ALIGN=2

                  bOUT_FREE
000000  01                DCB      0x01
                  bOUT_FREE2
000001  01                DCB      0x01
                  ptr_can1_tx_wr
000002  00                DCB      0x00
                  ptr_can1_tx_rd
000003  00                DCB      0x00
                  ptr_can2_tx_wr
000004  00                DCB      0x00
                  ptr_can2_tx_rd
000005  00                DCB      0x00
                  ||bR||
000006  00                DCB      0x00
                  bIN
000007  00                DCB      0x00
                  bIN2
000008  00                DCB      0x00
                  can_tx_cnt
000009  00                DCB      0x00
                  cnt_can_pal
00000a  00                DCB      0x00
                  plazma_can
00000b  00                DCB      0x00
                  plazma_can1
00000c  00                DCB      0x00
                  plazma_can2
00000d  00                DCB      0x00
                  plazma_can3
00000e  00                DCB      0x00
                  plazma_can4
00000f  00                DCB      0x00
                  bCAN1_INIT
000010  0000              DCB      0x00,0x00
                  gCANFilter
000012  0000              DCW      0x0000
                  can_reset_cnt
000014  0000              DCW      0x0000
                  can2_tx_cnt
000016  0000              DCB      0x00,0x00
                  debug_cnt
000018  00000000          DCB      0x00,0x00,0x00,0x00
                  CANStatus
                          DCD      0x00000000

                          AREA ||area_number.12||, DATA, ALIGN=0

                          EXPORTAS ||area_number.12||, ||.data||
                  TX_len
000000  00                DCB      0x00

                          AREA ||area_number.13||, DATA, ALIGN=0

                          EXPORTAS ||area_number.13||, ||.data||
                  rotor_rotor_rotor
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.14||, DATA, ALIGN=0

                          EXPORTAS ||area_number.14||, ||.data||
                  plazma_can_pal_index
000000  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "full_can.c"
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___10_full_can_c_0f077f62____REV16|
#line 112 "C:\\Keil\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___10_full_can_c_0f077f62____REV16| PROC
#line 113

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.emb_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___10_full_can_c_0f077f62____REVSH|
#line 130
|__asm___10_full_can_c_0f077f62____REVSH| PROC
#line 131

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
